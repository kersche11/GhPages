(self.webpackChunkgame=self.webpackChunkgame||[]).push([[792],{580:(ka,ja,zr)=>{"use strict";function wn(t,e,n,r,g,E,D){try{var P=t[E](D),O=P.value}catch(U){return void n(U)}P.done?e(O):Promise.resolve(O).then(r,g)}function Yl(t){return function(){var e=this,n=arguments;return new Promise(function(r,g){var E=t.apply(e,n);function D(O){wn(E,r,g,D,P,"next",O)}function P(O){wn(E,r,g,D,P,"throw",O)}D(void 0)})}}let A=null,m=1;const x=Symbol("SIGNAL");function h(t){const e=A;return A=t,e}function c(t){if((!R(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==m)){if(!t.producerMustRecompute(t)&&!b(t))return t.dirty=!1,void(t.lastCleanEpoch=m);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=m}}function b(t){I(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(c(n),r!==n.version))return!0}return!1}function w(t,e){if(function L(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),I(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)w(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],g=t.liveConsumerNode[e];I(g),g.producerIndexOfThis[r]=e}}function R(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function I(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let $=null;function ht(t){return"function"==typeof t}function ut(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const mt=ut(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,g)=>`${g+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Mt(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Et{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const E of n)E.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ht(r))try{r()}catch(E){e=E instanceof mt?E.errors:[E]}const{_finalizers:g}=this;if(g){this._finalizers=null;for(const E of g)try{St(E)}catch(D){e=e??[],D instanceof mt?e=[...e,...D.errors]:e.push(D)}}if(e)throw new mt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)St(e);else{if(e instanceof Et){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mt(n,e)}remove(e){const{_finalizers:n}=this;n&&Mt(n,e),e instanceof Et&&e._removeParent(this)}}Et.EMPTY=(()=>{const t=new Et;return t.closed=!0,t})();const At=Et.EMPTY;function vt(t){return t instanceof Et||t&&"closed"in t&&ht(t.remove)&&ht(t.add)&&ht(t.unsubscribe)}function St(t){ht(t)?t():t.unsubscribe()}const xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zt={setTimeout(t,e,...n){const{delegate:r}=zt;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ht(t){zt.setTimeout(()=>{const{onUnhandledError:e}=xt;if(!e)throw t;e(t)})}function fe(){}const me=Me("C",void 0,void 0);function Me(t,e,n){return{kind:t,value:e,error:n}}let te=null;function Re(t){if(xt.useDeprecatedSynchronousErrorHandling){const e=!te;if(e&&(te={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=te;if(te=null,n)throw r}}else t()}class si extends Et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vt(e)&&e.add(this)):this.destination=uD}static create(e,n,r){return new Bi(e,n,r)}next(e){this.isStopped?$c(function jt(t){return Me("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$c(function _t(t){return Me("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$c(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qn=Function.prototype.bind;function un(t,e){return Qn.call(t,e)}class Jn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qi(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qi(r)}else qi(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qi(n)}}}class Bi extends si{constructor(e,n,r){let g;if(super(),ht(e)||!e)g={next:e??void 0,error:n??void 0,complete:r??void 0};else{let E;this&&xt.useDeprecatedNextContext?(E=Object.create(e),E.unsubscribe=()=>this.unsubscribe(),g={next:e.next&&un(e.next,E),error:e.error&&un(e.error,E),complete:e.complete&&un(e.complete,E)}):g=e}this.destination=new Jn(g)}}function qi(t){xt.useDeprecatedSynchronousErrorHandling?function je(t){xt.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=t)}(t):Ht(t)}function $c(t,e){const{onStoppedNotification:n}=xt;n&&zt.setTimeout(()=>n(t,e))}const uD={closed:!0,next:fe,error:function lD(t){throw t},complete:fe},Kc="function"==typeof Symbol&&Symbol.observable||"@@observable";function mr(t){return t}function Eg(t){return 0===t.length?mr:1===t.length?t[0]:function(n){return t.reduce((r,g)=>g(r),n)}}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,g){const E=function fD(t){return t&&t instanceof si||function cD(t){return t&&ht(t.next)&&ht(t.error)&&ht(t.complete)}(t)&&vt(t)}(n)?n:new Bi(n,r,g);return Re(()=>{const{operator:D,source:P}=this;E.add(D?D.call(E,P):P?this._subscribe(E):this._trySubscribe(E))}),E}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Sg(r))((g,E)=>{const D=new Bi({next:P=>{try{n(P)}catch(O){E(O),D.unsubscribe()}},error:E,complete:g});this.subscribe(D)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Kc](){return this}pipe(...n){return Eg(n)(this)}toPromise(n){return new(n=Sg(n))((r,g)=>{let E;this.subscribe(D=>E=D,D=>g(D),()=>r(E))})}}return t.create=e=>new t(e),t})();function Sg(t){var e;return null!==(e=t??xt.Promise)&&void 0!==e?e:Promise}const dD=ut(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ke=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Cg(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dD}next(n){Re(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Re(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Re(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:g,observers:E}=this;return r||g?At:(this.currentObservers=null,E.push(n),new Et(()=>{this.currentObservers=null,Mt(E,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:g,isStopped:E}=this;r?n.error(g):E&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new Cg(e,n),t})();class Cg extends Ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:At}}class Gi extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function bg(t){return ht(t?.lift)}function We(t){return e=>{if(bg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(t,e,n,r,g){return new pD(t,e,n,r,g)}class pD extends si{constructor(e,n,r,g,E,D){super(e),this.onFinalize=E,this.shouldUnsubscribe=D,this._next=n?function(P){try{n(P)}catch(O){e.error(O)}}:super._next,this._error=g?function(P){try{g(P)}catch(O){e.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(P){e.error(P)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Kt(t,e){return We((n,r)=>{let g=0;n.subscribe(Le(r,E=>{r.next(t.call(e,E,g++))}))})}const Mg="https://g.co/ng/security#xss";class dt extends Error{constructor(e,n){super(function Cs(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function qn(t){return{toString:t}.toString()}const Ms="__parameters__";function Ds(t,e,n){return qn(()=>{const r=function Zc(t){return function(...n){if(t){const r=t(...n);for(const g in r)this[g]=r[g]}}}(e);function g(...E){if(this instanceof g)return r.apply(this,E),this;const D=new g(...E);return P.annotation=D,P;function P(O,U,j){const Z=O.hasOwnProperty(Ms)?O[Ms]:Object.defineProperty(O,Ms,{value:[]})[Ms];for(;Z.length<=j;)Z.push(null);return(Z[j]=Z[j]||[]).push(D),O}}return n&&(g.prototype=Object.create(n.prototype)),g.prototype.ngMetadataName=t,g.annotationCls=g,g})}const ce=globalThis;function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function vD(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ze(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Qc(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const mD=de({__forward_ref__:de});function Jc(t){return t.__forward_ref__=Jc,t.toString=function(){return Ze(this())},t}function Nt(t){return jl(t)?t():t}function jl(t){return"function"==typeof t&&t.hasOwnProperty(mD)&&t.__forward_ref__===Jc}function Dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ii(t){return{providers:t.providers||[],imports:t.imports||[]}}function $l(t){return Rg(t,Zl)||Rg(t,Pg)}function Rg(t,e){return t.hasOwnProperty(e)?t[e]:null}function Kl(t){return t&&(t.hasOwnProperty(qc)||t.hasOwnProperty(SD))?t[qc]:null}const Zl=de({\u0275prov:de}),qc=de({\u0275inj:de}),Pg=de({ngInjectableDef:de}),SD=de({ngInjectorDef:de});class Tt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Dt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rf(t){return t&&!!t.\u0275providers}const $a=de({\u0275cmp:de}),sf=de({\u0275dir:de}),af=de({\u0275pipe:de}),Fg=de({\u0275mod:de}),_n=de({\u0275fac:de}),Ka=de({__NG_ELEMENT_ID__:de}),Og=de({__NG_ENV_ID__:de});function Wt(t){return"string"==typeof t?t:null==t?"":String(t)}function lf(t,e){throw new dt(-201,!1)}var Jt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Jt||{});let uf;function Lg(){return uf}function wi(t){const e=uf;return uf=t,e}function Ng(t,e,n){const r=$l(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Jt.Optional?null:void 0!==e?e:void lf()}const Za={},hf="__NG_DI_FLAG__",Ql="ngTempTokenPath",AD=/\n/gm,Bg="__source";let As;function yr(t){const e=As;return As=t,e}function ID(t,e=Jt.Default){if(void 0===As)throw new dt(-203,!1);return null===As?Ng(t,void 0,e):As.get(t,e&Jt.Optional?null:void 0,e)}function Ct(t,e=Jt.Default){return(Lg()||ID)(Nt(t),e)}function gt(t,e=Jt.Default){return Ct(t,Jl(e))}function Jl(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cf(t){const e=[];for(let n=0;n<t.length;n++){const r=Nt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new dt(900,!1);let g,E=Jt.Default;for(let D=0;D<r.length;D++){const P=r[D],O=FD(P);"number"==typeof O?-1===O?g=P.token:E|=O:g=P}e.push(Ct(g,E))}else e.push(Ct(r))}return e}function Qa(t,e){return t[hf]=e,t.prototype[hf]=e,t}function FD(t){return t[hf]}const Hr=Qa(Ds("Optional"),8),Ja=Qa(Ds("SkipSelf"),4);function Wr(t,e){return t.hasOwnProperty(_n)?t[_n]:null}function Rs(t,e){t.forEach(n=>Array.isArray(n)?Rs(n,e):e(n))}function Ug(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ql(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zi(t,e,n){let r=Ps(t,e);return r>=0?t[1|r]=n:(r=~r,function Vg(t,e,n,r){let g=t.length;if(g==e)t.push(n,r);else if(1===g)t.push(r,t[0]),t[0]=n;else{for(g--,t.push(t[g-1],t[g]);g>e;)t[g]=t[g-2],g--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function df(t,e){const n=Ps(t,e);if(n>=0)return t[1|n]}function Ps(t,e){return function zg(t,e,n){let r=0,g=t.length>>n;for(;g!==r;){const E=r+(g-r>>1),D=t[E<<n];if(e===D)return E<<n;D>e?g=E:r=E+1}return~(g<<n)}(t,e,1)}const Dn={},se=[],Xr=new Tt(""),Hg=new Tt("",-1),pf=new Tt("");class tu{get(e,n=Za){if(n===Za){const r=new Error(`NullInjectorError: No provider for ${Ze(e)}!`);throw r.name="NullInjectorError",r}return n}}var eu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(eu||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{}),ni=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ni||{});function VD(t,e,n){let r=t.length;for(;;){const g=t.indexOf(e,n);if(-1===g)return g;if(0===g||t.charCodeAt(g-1)<=32){const E=e.length;if(g+E===r||t.charCodeAt(g+E)<=32)return g}n=g+1}}function vf(t,e,n){let r=0;for(;r<n.length;){const g=n[r];if("number"==typeof g){if(0!==g)break;r++;const E=n[r++],D=n[r++],P=n[r++];t.setAttribute(e,D,P,E)}else{const E=g,D=n[++r];Xg(E)?t.setProperty(e,E,D):t.setAttribute(e,E,D),r++}}return r}function Wg(t){return 3===t||4===t||6===t}function Xg(t){return 64===t.charCodeAt(0)}function qa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const g=e[r];"number"==typeof g?n=g:0===n||Yg(t,n,g,null,-1===n||2===n?e[++r]:null)}}return t}function Yg(t,e,n,r,g){let E=0,D=t.length;if(-1===e)D=-1;else for(;E<t.length;){const P=t[E++];if("number"==typeof P){if(P===e){D=-1;break}if(P>e){D=E-1;break}}}for(;E<t.length;){const P=t[E];if("number"==typeof P)break;if(P===n){if(null===r)return void(null!==g&&(t[E+1]=g));if(r===t[E+1])return void(t[E+2]=g)}E++,null!==r&&E++,null!==g&&E++}-1!==D&&(t.splice(D,0,e),E=D+1),t.splice(E++,0,n),null!==r&&t.splice(E++,0,r),null!==g&&t.splice(E++,0,g)}const kg="ng-template";function zD(t,e,n,r){let g=0;if(r){for(;g<e.length&&"string"==typeof e[g];g+=2)if("class"===e[g]&&-1!==VD(e[g+1].toLowerCase(),n,0))return!0}else if(mf(t))return!1;if(g=e.indexOf(1,g),g>-1){let E;for(;++g<e.length&&"string"==typeof(E=e[g]);)if(E.toLowerCase()===n)return!0}return!1}function mf(t){return 4===t.type&&t.value!==kg}function HD(t,e,n){return e===(4!==t.type||n?t.value:kg)}function WD(t,e,n){let r=4;const g=t.attrs,E=null!==g?function kD(t){for(let e=0;e<t.length;e++)if(Wg(t[e]))return e;return t.length}(g):0;let D=!1;for(let P=0;P<e.length;P++){const O=e[P];if("number"!=typeof O){if(!D)if(4&r){if(r=2|1&r,""!==O&&!HD(t,O,n)||""===O&&1===e.length){if(cn(r))return!1;D=!0}}else if(8&r){if(null===g||!zD(t,g,O,n)){if(cn(r))return!1;D=!0}}else{const U=e[++P],j=XD(O,g,mf(t),n);if(-1===j){if(cn(r))return!1;D=!0;continue}if(""!==U){let Z;if(Z=j>E?"":g[j+1].toLowerCase(),2&r&&U!==Z){if(cn(r))return!1;D=!0}}}}else{if(!D&&!cn(r)&&!cn(O))return!1;if(D&&cn(O))continue;D=!1,r=O|1&r}}return cn(r)||D}function cn(t){return!(1&t)}function XD(t,e,n,r){if(null===e)return-1;let g=0;if(r||!n){let E=!1;for(;g<e.length;){const D=e[g];if(D===t)return g;if(3===D||6===D)E=!0;else{if(1===D||2===D){let P=e[++g];for(;"string"==typeof P;)P=e[++g];continue}if(4===D)break;if(0===D){g+=4;continue}}g+=E?1:2}return-1}return function jD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jg(t,e,n=!1){for(let r=0;r<e.length;r++)if(WD(t,e[r],n))return!0;return!1}function $D(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let g=0;g<t.length;g++)if(t[g]!==r[g])continue t;return!0}}return!1}function $g(t,e){return t?":not("+e.trim()+")":e}function KD(t){let e=t[0],n=1,r=2,g="",E=!1;for(;n<t.length;){let D=t[n];if("string"==typeof D)if(2&r){const P=t[++n];g+="["+D+(P.length>0?'="'+P+'"':"")+"]"}else 8&r?g+="."+D:4&r&&(g+=" "+D);else""!==g&&!cn(D)&&(e+=$g(E,g),g=""),r=D,E=E||!cn(r);n++}return""!==g&&(e+=$g(E,g)),e}function Ai(t){return qn(()=>{const e=Zg(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===eu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||se,_:null,schemas:t.schemas||null,tView:null,id:""};Qg(n);const r=t.dependencies;return n.directiveDefs=iu(r,!1),n.pipeDefs=iu(r,!0),n.id=function tA(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const g of n)e=Math.imul(31,e)+g.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function JD(t){return Zt(t)||Qe(t)}function qD(t){return null!==t}function ai(t){return qn(()=>({type:t.type,bootstrap:t.bootstrap||se,declarations:t.declarations||se,imports:t.imports||se,exports:t.exports||se,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kg(t,e){if(null==t)return Dn;const n={};for(const r in t)if(t.hasOwnProperty(r)){const g=t[r];let E,D,P=ni.None;Array.isArray(g)?(P=g[0],E=g[1],D=g[2]??E):(E=g,D=g),e?(n[E]=P!==ni.None?[r,P]:r,e[E]=D):n[E]=r}return n}function pe(t){return qn(()=>{const e=Zg(t);return Qg(e),e})}function Zt(t){return t[$a]||null}function Qe(t){return t[sf]||null}function oi(t){return t[af]||null}function hi(t,e){const n=t[Fg]||null;if(!n&&!0===e)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return n}function Zg(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Dn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||se,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kg(t.inputs,e),outputs:Kg(t.outputs),debugInfo:null}}function Qg(t){t.features?.forEach(e=>e(t))}function iu(t,e){if(!t)return null;const n=e?oi:JD;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(qD)}function eA(...t){return{\u0275providers:gf(0,t),\u0275fromNgModule:!0}}function gf(t,...e){const n=[],r=new Set;let g;const E=D=>{n.push(D)};return Rs(e,D=>{const P=D;ru(P,E,[],r)&&(g||=[],g.push(P))}),void 0!==g&&Jg(g,E),n}function Jg(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:g}=t[n];yf(g,E=>{e(E,r)})}}function ru(t,e,n,r){if(!(t=Nt(t)))return!1;let g=null,E=Kl(t);const D=!E&&Zt(t);if(E||D){if(D&&!D.standalone)return!1;g=t}else{const O=t.ngModule;if(E=Kl(O),!E)return!1;g=O}const P=r.has(g);if(D){if(P)return!1;if(r.add(g),D.dependencies){const O="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const U of O)ru(U,e,n,r)}}else{if(!E)return!1;{if(null!=E.imports&&!P){let U;r.add(g);try{Rs(E.imports,j=>{ru(j,e,n,r)&&(U||=[],U.push(j))})}finally{}void 0!==U&&Jg(U,e)}if(!P){const U=Wr(g)||(()=>new g);e({provide:g,useFactory:U,deps:se},g),e({provide:pf,useValue:g,multi:!0},g),e({provide:Xr,useValue:()=>Ct(g),multi:!0},g)}const O=E.providers;if(null!=O&&!P){const U=t;yf(O,j=>{e(j,U)})}}}return g!==t&&void 0!==t.providers}function yf(t,e){for(let n of t)rf(n)&&(n=n.\u0275providers),Array.isArray(n)?yf(n,e):e(n)}const iA=de({provide:String,useValue:de});function xf(t){return null!==t&&"object"==typeof t&&iA in t}function Yr(t){return"function"==typeof t}const Tf=new Tt(""),su={},rA={};let Ef;function au(){return void 0===Ef&&(Ef=new tu),Ef}class Pi{}class Is extends Pi{get destroyed(){return this._destroyed}constructor(e,n,r,g){super(),this.parent=n,this.source=r,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cf(e,D=>this.processProvider(D)),this.records.set(Hg,Fs(void 0,this)),g.has("environment")&&this.records.set(Pi,Fs(void 0,this));const E=this.records.get(Tf);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(pf,se,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=h(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),h(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=yr(this),r=wi(void 0);try{return e()}finally{yr(n),wi(r)}}get(e,n=Za,r=Jt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Og))return e[Og](this);r=Jl(r);const E=yr(this),D=wi(void 0);try{if(!(r&Jt.SkipSelf)){let O=this.records.get(e);if(void 0===O){const U=function uA(t){return"function"==typeof t||"object"==typeof t&&t instanceof Tt}(e)&&$l(e);O=U&&this.injectableDefInScope(U)?Fs(Sf(e),su):null,this.records.set(e,O)}if(null!=O)return this.hydrate(e,O)}return(r&Jt.Self?au():this.parent).get(e,n=r&Jt.Optional&&n===Za?null:n)}catch(P){if("NullInjectorError"===P.name){if((P[Ql]=P[Ql]||[]).unshift(Ze(e)),E)throw P;return function OD(t,e,n,r){const g=t[Ql];throw e[Bg]&&g.unshift(e[Bg]),t.message=function LD(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let g=Ze(e);if(Array.isArray(e))g=e.map(Ze).join(" -> ");else if("object"==typeof e){let E=[];for(let D in e)if(e.hasOwnProperty(D)){let P=e[D];E.push(D+":"+("string"==typeof P?JSON.stringify(P):Ze(P)))}g=`{${E.join(", ")}}`}return`${n}${r?"("+r+")":""}[${g}]: ${t.replace(AD,"\n  ")}`}("\n"+t.message,g,n,r),t.ngTokenPath=g,t[Ql]=null,t}(P,e,"R3InjectorError",this.source)}throw P}finally{wi(D),yr(E)}}resolveInjectorInitializers(){const e=h(null),n=yr(this),r=wi(void 0);try{const E=this.get(Xr,se,Jt.Self);for(const D of E)D()}finally{yr(n),wi(r),h(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(e){let n=Yr(e=Nt(e))?e:Nt(e&&e.provide);const r=function aA(t){return xf(t)?Fs(void 0,t.useValue):Fs(function t0(t,e,n){let r;if(Yr(t)){const g=Nt(t);return Wr(g)||Sf(g)}if(xf(t))r=()=>Nt(t.useValue);else if(function _g(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...cf(t.deps||[]));else if(function qg(t){return!(!t||!t.useExisting)}(t))r=()=>Ct(Nt(t.useExisting));else{const g=Nt(t&&(t.useClass||t.provide));if(!function oA(t){return!!t.deps}(t))return Wr(g)||Sf(g);r=()=>new g(...cf(t.deps))}return r}(t),su)}(e);if(!Yr(e)&&!0===e.multi){let g=this.records.get(n);g||(g=Fs(void 0,su,!0),g.factory=()=>cf(g.multi),this.records.set(n,g)),n=e,g.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=h(null);try{return n.value===su&&(n.value=rA,n.value=n.factory()),"object"==typeof n.value&&n.value&&function lA(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{h(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Nt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sf(t){const e=$l(t),n=null!==e?e.factory:Wr(t);if(null!==n)return n;if(t instanceof Tt)throw new dt(204,!1);if(t instanceof Function)return function sA(t){if(t.length>0)throw new dt(204,!1);const n=function ED(t){return t&&(t[Zl]||t[Pg])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new dt(204,!1)}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cf(t,e){for(const n of t)Array.isArray(n)?Cf(n,e):n&&rf(n)?Cf(n.\u0275providers,e):e(n)}function tr(t,e){t instanceof Is&&t.assertNotDestroyed();const r=yr(t),g=wi(void 0);try{return e()}finally{yr(r),wi(g)}}function e0(){return void 0!==Lg()||null!=function PD(){return As}()}const De=0,yt=1,It=2,Ne=3,fn=4,ci=5,Hi=6,Ls=7,Te=8,Xe=9,dn=10,Gt=11,to=12,r0=13,Ns=14,Pe=15,eo=16,Bs=17,er=18,io=19,s0=20,Tr=21,uu=22,kr=23,Xt=25,Mf=1,An=7,Gs=9,Be=10;var wf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wf||{});function fi(t){return Array.isArray(t)&&"object"==typeof t[Mf]}function di(t){return Array.isArray(t)&&!0===t[Mf]}function Df(t){return!!(4&t.flags)}function jr(t){return t.componentOffset>-1}function cu(t){return!(1&~t.flags)}function pn(t){return!!t.template}function Af(t){return!!(512&t[It])}class SA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function u0(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function $r(){return h0}function h0(t){return t.type.prototype.ngOnChanges&&(t.setInput=bA),CA}function CA(){const t=f0(this),e=t?.current;if(e){const n=t.previous;if(n===Dn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bA(t,e,n,r,g){const E=this.declaredInputs[r],D=f0(t)||function MA(t,e){return t[c0]=e}(t,{previous:Dn,current:null}),P=D.current||(D.current={}),O=D.previous,U=O[E];P[E]=new SA(U&&U.currentValue,n,O===Dn),u0(t,e,g,n)}$r.ngInherit=!0;const c0="__ngSimpleChanges__";function f0(t){return t[c0]||null}const Rn=function(t,e,n){};let v0=!1;function ge(t){for(;Array.isArray(t);)t=t[De];return t}function ro(t,e){return ge(e[t])}function xi(t,e){return ge(e[t.index])}function so(t,e){return t.data[e]}function Wi(t,e){const n=e[t];return fi(n)?n:n[De]}function Of(t){return!(128&~t[It])}function Pn(t,e){return null==e?null:t[e]}function m0(t){t[Bs]=0}function IA(t){1024&t[It]||(t[It]|=1024,Of(t)&&ao(t))}function Lf(t){return!!(9216&t[It]||t[kr]?.dirty)}function Nf(t){t[dn].changeDetectionScheduler?.notify(1),Lf(t)?ao(t):64&t[It]&&(function DA(){return v0}()?(t[It]|=1024,ao(t)):t[dn].changeDetectionScheduler?.notify())}function ao(t){t[dn].changeDetectionScheduler?.notify();let e=Kr(t);for(;null!==e&&!(8192&e[It])&&(e[It]|=8192,Of(e));)e=Kr(e)}function fu(t,e){if(!(256&~t[It]))throw new dt(911,!1);null===t[Tr]&&(t[Tr]=[]),t[Tr].push(e)}function Kr(t){const e=t[Ne];return di(e)?e[Ne]:e}const Ut={lFrame:w0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function x0(){return Ut.bindingsEnabled}function Vs(){return null!==Ut.skipHydrationRootTNode}function pt(){return Ut.lFrame.lView}function qt(){return Ut.lFrame.tView}function Gf(t){return Ut.lFrame.contextLView=t,t[Te]}function Uf(t){return Ut.lFrame.contextLView=null,t}function ve(){let t=T0();for(;null!==t&&64===t.type;)t=t.parent;return t}function T0(){return Ut.lFrame.currentTNode}function In(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Vf(){return Ut.lFrame.isParent}function zf(){Ut.lFrame.isParent=!1}function vn(){return Ut.lFrame.bindingIndex++}function WA(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hf(e)}function Hf(t){Ut.lFrame.currentDirectiveIndex=t}function Xf(){return Ut.lFrame.currentQueryIndex}function du(t){Ut.lFrame.currentQueryIndex=t}function YA(t){const e=t[yt];return 2===e.type?e.declTNode:1===e.type?t[ci]:null}function b0(t,e,n){if(n&Jt.SkipSelf){let g=e,E=t;for(;!(g=g.parent,null!==g||n&Jt.Host||(g=YA(E),null===g||(E=E[Ns],10&g.type))););if(null===g)return!1;e=g,t=E}const r=Ut.lFrame=M0();return r.currentTNode=e,r.lView=t,!0}function Yf(t){const e=M0(),n=t[yt];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function M0(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?w0(t):e}function w0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function D0(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const A0=D0;function kf(){const t=D0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pi(){return Ut.lFrame.selectedIndex}function Zr(t){Ut.lFrame.selectedIndex=t}function Ee(){const t=Ut.lFrame;return so(t.tView,t.selectedIndex)}let P0=!0;function lo(){return P0}function Fn(t){P0=t}function pu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const E=t.data[n].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:P,ngAfterViewInit:O,ngAfterViewChecked:U,ngOnDestroy:j}=E;D&&(t.contentHooks??=[]).push(-n,D),P&&((t.contentHooks??=[]).push(n,P),(t.contentCheckHooks??=[]).push(n,P)),O&&(t.viewHooks??=[]).push(-n,O),U&&((t.viewHooks??=[]).push(n,U),(t.viewCheckHooks??=[]).push(n,U)),null!=j&&(t.destroyHooks??=[]).push(n,j)}}function vu(t,e,n){I0(t,e,3,n)}function mu(t,e,n,r){(3&t[It])===n&&I0(t,e,n,r)}function jf(t,e){let n=t[It];(3&n)===e&&(n&=16383,n+=1,t[It]=n)}function I0(t,e,n,r){const E=r??-1,D=e.length-1;let P=0;for(let O=void 0!==r?65535&t[Bs]:0;O<D;O++)if("number"==typeof e[O+1]){if(P=e[O],null!=r&&P>=r)break}else e[O]<0&&(t[Bs]+=65536),(P<E||-1==E)&&(JA(t,n,e,O),t[Bs]=(4294901760&t[Bs])+O+2),O++}function F0(t,e){Rn(4,t,e);const n=h(null);try{e.call(t)}finally{h(n),Rn(5,t,e)}}function JA(t,e,n,r){const g=n[r]<0,E=n[r+1],P=t[g?-n[r]:n[r]];g?t[It]>>14<t[Bs]>>16&&(3&t[It])===e&&(t[It]+=16384,F0(P,E)):F0(P,E)}const zs=-1;class uo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Kf(t){return t!==zs}function ho(t){return 32767&t}function co(t,e){let n=function iR(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ns],n--;return r}let Zf=!0;function gu(t){const e=Zf;return Zf=t,e}const O0=255,L0=5;let nR=0;const On={};function yu(t,e){const n=N0(t,e);if(-1!==n)return n;const r=e[yt];r.firstCreatePass&&(t.injectorIndex=e.length,Qf(r.data,t),Qf(e,null),Qf(r.blueprint,null));const g=xu(t,e),E=t.injectorIndex;if(Kf(g)){const D=ho(g),P=co(g,e),O=P[yt].data;for(let U=0;U<8;U++)e[E+U]=P[D+U]|O[D+U]}return e[E+8]=g,E}function Qf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function N0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,g=e;for(;null!==g;){if(r=W0(g),null===r)return zs;if(n++,g=g[Ns],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return zs}function Jf(t,e,n){!function rR(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ka)&&(r=n[Ka]),null==r&&(r=n[Ka]=nR++);const g=r&O0;e.data[t+(g>>L0)]|=1<<g}(t,e,n)}function B0(t,e,n){if(n&Jt.Optional||void 0!==t)return t;lf()}function G0(t,e,n,r){if(n&Jt.Optional&&void 0===r&&(r=null),!(n&(Jt.Self|Jt.Host))){const g=t[Xe],E=wi(void 0);try{return g?g.get(e,r,n&Jt.Optional):Ng(e,r,n&Jt.Optional)}finally{wi(E)}}return B0(r,0,n)}function U0(t,e,n,r=Jt.Default,g){if(null!==t){if(2048&e[It]&&!(r&Jt.Self)){const D=function uR(t,e,n,r,g){let E=t,D=e;for(;null!==E&&null!==D&&2048&D[It]&&!(512&D[It]);){const P=V0(E,D,n,r|Jt.Self,On);if(P!==On)return P;let O=E.parent;if(!O){const U=D[s0];if(U){const j=U.get(n,On,r);if(j!==On)return j}O=W0(D),D=D[Ns]}E=O}return g}(t,e,n,r,On);if(D!==On)return D}const E=V0(t,e,n,r,On);if(E!==On)return E}return G0(e,n,r,g)}function V0(t,e,n,r,g){const E=function oR(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ka)?t[Ka]:void 0;return"number"==typeof e?e>=0?e&O0:lR:e}(n);if("function"==typeof E){if(!b0(e,t,r))return r&Jt.Host?B0(g,0,r):G0(e,n,r,g);try{let D;if(D=E(r),null!=D||r&Jt.Optional)return D;lf()}finally{A0()}}else if("number"==typeof E){let D=null,P=N0(t,e),O=zs,U=r&Jt.Host?e[Pe][ci]:null;for((-1===P||r&Jt.SkipSelf)&&(O=-1===P?xu(t,e):e[P+8],O!==zs&&H0(r,!1)?(D=e[yt],P=ho(O),e=co(O,e)):P=-1);-1!==P;){const j=e[yt];if(z0(E,P,j.data)){const Z=aR(P,e,n,D,r,U);if(Z!==On)return Z}O=e[P+8],O!==zs&&H0(r,e[yt].data[P+8]===U)&&z0(E,P,e)?(D=j,P=ho(O),e=co(O,e)):P=-1}}return g}function aR(t,e,n,r,g,E){const D=e[yt],P=D.data[t+8],j=Tu(P,D,n,null==r?jr(P)&&Zf:r!=D&&!!(3&P.type),g&Jt.Host&&E===P);return null!==j?Qr(e,D,j,P):On}function Tu(t,e,n,r,g){const E=t.providerIndexes,D=e.data,P=1048575&E,O=t.directiveStart,j=E>>20,tt=g?P+j:t.directiveEnd;for(let et=r?P:P+j;et<tt;et++){const it=D[et];if(et<O&&n===it||et>=O&&it.type===n)return et}if(g){const et=D[O];if(et&&pn(et)&&et.type===n)return O}return null}function Qr(t,e,n,r){let g=t[n];const E=e.data;if(function qA(t){return t instanceof uo}(g)){const D=g;D.resolving&&function MD(t,e){throw e&&e.join(" > "),new dt(-200,t)}(function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Wt(t)}(E[n]));const P=gu(D.canSeeViewProviders);D.resolving=!0;const U=D.injectImpl?wi(D.injectImpl):null;b0(t,r,Jt.Default);try{g=t[n]=D.factory(void 0,E,t,r),e.firstCreatePass&&n>=r.directiveStart&&function QA(t,e,n){const{ngOnChanges:r,ngOnInit:g,ngDoCheck:E}=e.type.prototype;if(r){const D=h0(e);(n.preOrderHooks??=[]).push(t,D),(n.preOrderCheckHooks??=[]).push(t,D)}g&&(n.preOrderHooks??=[]).push(0-t,g),E&&((n.preOrderHooks??=[]).push(t,E),(n.preOrderCheckHooks??=[]).push(t,E))}(n,E[n],e)}finally{null!==U&&wi(U),gu(P),D.resolving=!1,A0()}}return g}function z0(t,e,n){return!!(n[e+(t>>L0)]&1<<t)}function H0(t,e){return!(t&Jt.Self||t&Jt.Host&&e)}class qe{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return U0(this._tNode,this._lView,e,Jl(r),n)}}function lR(){return new qe(ve(),pt())}function qf(t){return qn(()=>{const e=t.prototype.constructor,n=e[_n]||_f(e),r=Object.prototype;let g=Object.getPrototypeOf(t.prototype).constructor;for(;g&&g!==r;){const E=g[_n]||_f(g);if(E&&E!==n)return E;g=Object.getPrototypeOf(g)}return E=>new E})}function _f(t){return jl(t)?()=>{const e=_f(Nt(t));return e&&e()}:Wr(t)}function W0(t){const e=t[yt],n=e.type;return 2===n?e.declTNode:1===n?t[ci]:null}function Xs(t){return function sR(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let g=0;for(;g<r;){const E=n[g];if(Wg(E))break;if(0===E)g+=2;else if("number"==typeof E)for(g++;g<r&&"string"==typeof n[g];)g++;else{if(E===e)return n[g+1];g+=2}}}return null}(ve(),t)}function $0(t,e=null,n=null,r){const g=K0(t,e,n,r);return g.resolveInjectorInitializers(),g}function K0(t,e=null,n=null,r,g=new Set){const E=[n||se,eA(t)];return r=r||("object"==typeof t?void 0:Ze(t)),new Is(E,e||au(),r||null,g)}let Ii=(()=>{class t{static#t=this.THROW_IF_NOT_FOUND=Za;static#e=this.NULL=new tu;static create(n,r){if(Array.isArray(n))return $0({name:""},r,n,"");{const g=n.name??"";return $0({name:g},n.parent,n.providers,g)}}static#i=this.\u0275prov=Dt({token:t,providedIn:"any",factory:()=>Ct(Hg)});static#n=this.__NG_ELEMENT_ID__=-1}return t})();function ed(t){return t.ngOriginalError}class Xi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ed(e);for(;n&&ed(n);)n=ed(n);return n||null}}const Q0=new Tt("",{providedIn:"root",factory:()=>gt(Xi).handleError.bind(void 0)});let Ys=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=yR;static#e=this.__NG_ENV_ID__=n=>n}return t})();class gR extends Ys{constructor(e){super(),this._lView=e}onDestroy(e){return fu(this._lView,e),()=>function Bf(t,e){if(null===t[Tr])return;const n=t[Tr].indexOf(e);-1!==n&&t[Tr].splice(n,1)}(this._lView,e)}}function yR(){return new gR(pt())}function xR(){return ks(ve(),pt())}function ks(t,e){return new Ei(xi(t,e))}let Ei=(()=>{class t{constructor(n){this.nativeElement=n}static#t=this.__NG_ELEMENT_ID__=xR}return t})();function q0(t){return t instanceof Ei?t.nativeElement:t}function id(t){return e=>{setTimeout(t,void 0,e)}}const Si=class TR extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,e0()&&(this.destroyRef=gt(Ys,{optional:!0})??void 0)}emit(e){const n=h(null);try{super.next(e)}finally{h(n)}}subscribe(e,n,r){let g=e,E=n||(()=>null),D=r;if(e&&"object"==typeof e){const O=e;g=O.next?.bind(O),E=O.error?.bind(O),D=O.complete?.bind(O)}this.__isAsync&&(E=id(E),g&&(g=id(g)),D&&(D=id(D)));const P=super.subscribe({next:g,error:E,complete:D});return e instanceof Et&&e.add(P),P}};function ER(){return this._results[Symbol.iterator]()}class fo{static#t=Symbol.iterator;get changes(){return this._changes??=new Si}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=fo.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=ER)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Di(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function UD(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let g=t[r],E=e[r];if(n&&(g=n(g),E=n(E)),E!==g)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Su(t){return!(128&~t.flags)}const nd=new Map;let CR=0;const sd="__ngContext__";function vi(t,e){fi(e)?(t[sd]=e[io],function MR(t){nd.set(t[io],t)}(e)):t[sd]=e}function ly(t){return hy(t[to])}function uy(t){return hy(t[fn])}function hy(t){for(;null!==t&&!di(t);)t=t[fn];return t}let ad;const Mu=new Tt("",{providedIn:"root",factory:()=>XR}),XR="ng",yy=new Tt(""),Sr=new Tt("",{providedIn:"platform",factory:()=>"unknown"}),mo=new Tt(""),od=new Tt("",{providedIn:"root",factory:()=>function Er(){if(void 0!==ad)return ad;if(typeof document<"u")return document;throw new dt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xy=()=>null;function vd(t,e,n=!1){return xy(t,e,n)}const by=new Tt("",{providedIn:"root",factory:()=>!1});let Fu,Ou;function Ks(t){return function xd(){if(void 0===Fu&&(Fu=null,ce.trustedTypes))try{Fu=ce.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fu}()?.createHTML(t)||t}function Ay(t){return function Td(){if(void 0===Ou&&(Ou=null,ce.trustedTypes))try{Ou=ce.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ou}()?.createScriptURL(t)||t}class Jr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mg})`}}class nP extends Jr{getTypeName(){return"HTML"}}class rP extends Jr{getTypeName(){return"Style"}}class sP extends Jr{getTypeName(){return"Script"}}class aP extends Jr{getTypeName(){return"URL"}}class oP extends Jr{getTypeName(){return"ResourceURL"}}function Yi(t){return t instanceof Jr?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=function lP(t){return t instanceof Jr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Mg})`)}return n===e}class pP{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Ks(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class vP{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Ks(e),n}}const gP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lu(t){return(t=String(t)).match(gP)?t:"unsafe:"+t}function rr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Eo(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const Py=rr("area,br,col,hr,img,wbr"),Iy=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fy=rr("rp,rt"),Ed=Eo(Py,Eo(Iy,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eo(Fy,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eo(Fy,Iy)),Sd=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oy=Eo(Sd,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yP=rr("script,style,template");class xP{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,g=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)g.push(n),n=SP(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let E=EP(n);if(E){n=E;break}n=g.pop()}return this.buf.join("")}startElement(e){const n=Ly(e).toLowerCase();if(!Ed.hasOwnProperty(n))return this.sanitizedSomething=!0,!yP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let g=0;g<r.length;g++){const E=r.item(g),D=E.name,P=D.toLowerCase();if(!Oy.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let O=E.value;Sd[P]&&(O=Lu(O)),this.buf.push(" ",D,'="',By(O),'"')}return this.buf.push(">"),!0}endElement(e){const n=Ly(e).toLowerCase();Ed.hasOwnProperty(n)&&!Py.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(By(e))}}function EP(t){const e=t.nextSibling;if(e&&t!==e.previousSibling)throw Ny(e);return e}function SP(t){const e=t.firstChild;if(e&&function TP(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,e))throw Ny(e);return e}function Ly(t){const e=t.nodeName;return"string"==typeof e?e:"FORM"}function Ny(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const CP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bP=/([^\#-~ |!])/g;function By(t){return t.replace(/&/g,"&amp;").replace(CP,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(bP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nu;function Gy(t,e){let n=null;try{Nu=Nu||function Ry(t){const e=new vP(t);return function mP(){try{return!!(new window.DOMParser).parseFromString(Ks(""),"text/html")}catch{return!1}}()?new pP(e):e}(t);let r=e?String(e):"";n=Nu.getInertBodyElement(r);let g=5,E=r;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,r=E,E=n.innerHTML,n=Nu.getInertBodyElement(r)}while(r!==E);return Ks((new xP).sanitizeChildren(Cd(n)||n))}finally{if(n){const r=Cd(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Cd(t){return"content"in t&&function MP(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var li=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(li||{});function bd(t){const e=So();return e?e.sanitize(li.URL,t)||"":Ln(t,"URL")?Yi(t):Lu(Wt(t))}function Uy(t){const e=So();if(e)return Ay(e.sanitize(li.RESOURCE_URL,t)||"");if(Ln(t,"ResourceURL"))return Ay(Yi(t));throw new dt(904,!1)}function So(){const t=pt();return t&&t[dn].sanitizer}function ki(t){return t instanceof Function?t():t}var Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cr||{});let Ad;function Rd(t,e){return Ad(t,e)}function Qs(t,e,n,r,g){if(null!=r){let E,D=!1;di(r)?E=r:fi(r)&&(D=!0,r=r[De]);const P=ge(r);0===t&&null!==n?null==g?Jy(e,n,P):qr(e,n,P,g||null,!0):1===t&&null!==n?qr(e,n,P,g||null,!0):2===t?function Mo(t,e,n){const r=zu(t,e);r&&function _P(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,P,D):3===t&&e.destroyNode(P),null!=E&&function iI(t,e,n,r,g){const E=n[An];E!==ge(n)&&Qs(e,t,r,E,g);for(let P=Be;P<n.length;P++){const O=n[P];Wu(O[yt],O,t,e,r,E)}}(e,t,E,n,g)}}function Uu(t,e,n){return t.createElement(e,n)}function Ky(t,e){e[dn].changeDetectionScheduler?.notify(1),Wu(t,e,e[Gt],2,null,null)}function Zy(t,e){const n=t[Gs],r=n.indexOf(e);n.splice(r,1)}function Co(t,e){if(t.length<=Be)return;const n=Be+e,r=t[n];if(r){const g=r[eo];null!==g&&g!==t&&Zy(g,r),e>0&&(t[n-1][fn]=r[fn]);const E=ql(t,Be+e);!function jP(t,e){Ky(t,e),e[De]=null,e[ci]=null}(r[yt],r);const D=E[er];null!==D&&D.detachView(E[yt]),r[Ne]=null,r[fn]=null,r[It]&=-129}return r}function Vu(t,e){if(!(256&e[It])){const n=e[Gt];n.destroyNode&&Wu(t,e,n,3,null,null),function KP(t){let e=t[to];if(!e)return Fd(t[yt],t);for(;e;){let n=null;if(fi(e))n=e[to];else{const r=e[Be];r&&(n=r)}if(!n){for(;e&&!e[fn]&&e!==t;)fi(e)&&Fd(e[yt],e),e=e[Ne];null===e&&(e=t),fi(e)&&Fd(e[yt],e),n=e&&e[fn]}e=n}}(e)}}function Fd(t,e){if(256&e[It])return;const n=h(null);try{e[It]&=-129,e[It]|=256,e[kr]&&function C(t){if(I(t),R(t))for(let e=0;e<t.producerNode.length;e++)w(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[kr]),function qP(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const g=e[n[r]];if(!(g instanceof uo)){const E=n[r+1];if(Array.isArray(E))for(let D=0;D<E.length;D+=2){const P=g[E[D]],O=E[D+1];Rn(4,P,O);try{O.call(P)}finally{Rn(5,P,O)}}else{Rn(4,g,E);try{E.call(g)}finally{Rn(5,g,E)}}}}}(t,e),function JP(t,e){const n=t.cleanup,r=e[Ls];if(null!==n)for(let E=0;E<n.length-1;E+=2)if("string"==typeof n[E]){const D=n[E+3];D>=0?r[D]():r[-D].unsubscribe(),E+=2}else n[E].call(r[n[E+1]]);null!==r&&(e[Ls]=null);const g=e[Tr];if(null!==g){e[Tr]=null;for(let E=0;E<g.length;E++)(0,g[E])()}}(t,e),1===e[yt].type&&e[Gt].destroy();const r=e[eo];if(null!==r&&di(e[Ne])){r!==e[Ne]&&Zy(r,e);const g=e[er];null!==g&&g.detachView(t)}!function wR(t){nd.delete(t[io])}(e)}finally{h(n)}}function Od(t,e,n){return function Qy(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[De];{const{componentOffset:g}=r;if(g>-1){const{encapsulation:E}=t.data[r.directiveStart+g];if(E===hn.None||E===hn.Emulated)return null}return xi(r,n)}}(t,e.parent,n)}function qr(t,e,n,r,g){t.insertBefore(e,n,r,g)}function Jy(t,e,n){t.appendChild(e,n)}function qy(t,e,n,r,g){null!==r?qr(t,e,n,r,g):Jy(t,e,n)}function zu(t,e){return t.parentNode(e)}function _y(t,e,n){return ex(t,e,n)}let Ld,ex=function tx(t,e,n){return 40&t.type?xi(t,n):null};function Hu(t,e,n,r){const g=Od(t,r,e),E=e[Gt],P=_y(r.parent||e[ci],r,e);if(null!=g)if(Array.isArray(n))for(let O=0;O<n.length;O++)qy(E,g,n[O],P,!1);else qy(E,g,n,P,!1);void 0!==Ld&&Ld(E,r,e,n,g)}function bo(t,e){if(null!==e){const n=e.type;if(3&n)return xi(e,t);if(4&n)return Nd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return bo(t,r);{const g=t[e.index];return di(g)?Nd(-1,g):ge(g)}}if(32&n)return Rd(e,t)()||ge(t[e.index]);{const r=nx(t,e);return null!==r?Array.isArray(r)?r[0]:bo(Kr(t[Pe]),r):bo(t,e.next)}}return null}function nx(t,e){return null!==e?t[Pe][ci].projection[e.projection]:null}function Nd(t,e){const n=Be+t+1;if(n<e.length){const r=e[n],g=r[yt].firstChild;if(null!==g)return bo(r,g)}return e[An]}function Bd(t,e,n,r,g,E,D){for(;null!=n;){const P=r[n.index],O=n.type;if(D&&0===e&&(P&&vi(ge(P),r),n.flags|=2),32&~n.flags)if(8&O)Bd(t,e,n.child,r,g,E,!1),Qs(e,t,g,P,E);else if(32&O){const U=Rd(n,r);let j;for(;j=U();)Qs(e,t,g,j,E);Qs(e,t,g,P,E)}else 16&O?sx(t,e,r,n,g,E):Qs(e,t,g,P,E);n=D?n.projectionNext:n.next}}function Wu(t,e,n,r,g,E){Bd(n,r,t.firstChild,e,g,E,!1)}function sx(t,e,n,r,g,E){const D=n[Pe],O=D[ci].projection[r.projection];if(Array.isArray(O))for(let U=0;U<O.length;U++)Qs(e,t,g,O[U],E);else{let U=O;const j=D[Ne];Su(r)&&(U.flags|=128),Bd(t,e,U,j,g,E,!0)}}function ax(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ox(t,e,n){const{mergedAttrs:r,classes:g,styles:E}=n;null!==r&&vf(t,e,r),null!==g&&ax(t,e,g),null!==E&&function rI(t,e,n){t.setAttribute(e,"style",n)}(t,e,E)}const Yt={};function wo(t=1){lx(qt(),pt(),pi()+t,!1)}function lx(t,e,n,r){if(!r)if(3&~e[It]){const E=t.preOrderHooks;null!==E&&mu(e,E,0,n)}else{const E=t.preOrderCheckHooks;null!==E&&vu(e,E,n)}Zr(n)}function wt(t,e=Jt.Default){const n=pt();return null===n?Ct(t,e):U0(ve(),n,Nt(t),e)}function Gd(){throw new Error("invalid")}function ux(t,e,n,r,g,E){const D=h(null);try{let P=null;g&ni.SignalBased&&(P=e[r][x]),null!==P&&void 0!==P.transformFn&&(E=P.transformFn(E)),g&ni.HasDecoratorInputTransform&&(E=t.inputTransforms[r].call(e,E)),null!==t.setInput?t.setInput(e,P,E,n,r):u0(e,P,r,E)}finally{h(D)}}function Xu(t,e,n,r,g,E,D,P,O,U,j){const Z=e.blueprint.slice();return Z[De]=g,Z[It]=204|r,(null!==U||t&&2048&t[It])&&(Z[It]|=2048),m0(Z),Z[Ne]=Z[Ns]=t,Z[Te]=n,Z[dn]=D||t&&t[dn],Z[Gt]=P||t&&t[Gt],Z[Xe]=O||t&&t[Xe]||null,Z[ci]=E,Z[io]=function bR(){return CR++}(),Z[Hi]=j,Z[s0]=U,Z[Pe]=2==e.type?t[Pe]:Z,Z}function Js(t,e,n,r,g){let E=t.data[e];if(null===E)E=function Ud(t,e,n,r,g){const E=T0(),D=Vf(),O=t.data[e]=function fI(t,e,n,r,g,E){let D=e?e.injectorIndex:-1,P=0;return Vs()&&(P|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:D,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:P,providerIndexes:0,value:g,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?E:E&&E.parent,n,e,r,g);return null===t.firstChild&&(t.firstChild=O),null!==E&&(D?null==E.child&&null!==O.parent&&(E.child=O):null===E.next&&(E.next=O,O.prev=E)),O}(t,e,n,r,g),function HA(){return Ut.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=n,E.value=r,E.attrs=g;const D=function oo(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();E.injectorIndex=null===D?-1:D.injectorIndex}return In(E,!0),E}function Do(t,e,n,r){if(0===n)return-1;const g=e.length;for(let E=0;E<n;E++)e.push(r),t.blueprint.push(r),t.data.push(null);return g}function hx(t,e,n,r,g){const E=pi(),D=2&r;try{Zr(-1),D&&e.length>Xt&&lx(t,e,Xt,!1),Rn(D?2:0,g),n(r,g)}finally{Zr(E),Rn(D?3:1,g)}}function Vd(t,e,n){if(Df(e)){const r=h(null);try{const E=e.directiveEnd;for(let D=e.directiveStart;D<E;D++){const P=t.data[D];P.contentQueries&&P.contentQueries(1,n[D],D)}}finally{h(r)}}}function zd(t,e,n){x0()&&(function xI(t,e,n,r){const g=n.directiveStart,E=n.directiveEnd;jr(n)&&function wI(t,e,n){const r=xi(e,t),g=cx(n);let D=16;n.signals?D=4096:n.onPush&&(D=64);const P=Yu(t,Xu(t,g,null,D,r,e,null,t[dn].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=P}(e,n,t.data[g+n.componentOffset]),t.firstCreatePass||yu(n,e),vi(r,e);const D=n.initialInputs;for(let P=g;P<E;P++){const O=t.data[P],U=Qr(e,t,P,n);vi(U,e),null!==D&&DI(0,P-g,U,O,0,D),pn(O)&&(Wi(n.index,e)[Te]=Qr(e,t,P,n))}}(t,e,n,xi(n,e)),!(64&~n.flags)&&mx(t,e,n))}function Hd(t,e,n=xi){const r=e.localNames;if(null!==r){let g=e.index+1;for(let E=0;E<r.length;E+=2){const D=r[E+1],P=-1===D?n(e,t):t[D];t[g++]=P}}}function cx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wd(t,e,n,r,g,E,D,P,O,U,j){const Z=Xt+r,tt=Z+g,et=function aI(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yt);return n}(Z,tt),it="function"==typeof U?U():U;return et[yt]={type:t,blueprint:et,template:n,queries:null,viewQuery:P,declTNode:e,data:et.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:O,consts:it,incompleteFirstPass:!1,ssrId:j}}let fx=()=>null;function dx(t,e,n,r,g){for(let E in e){if(!e.hasOwnProperty(E))continue;const D=e[E];if(void 0===D)continue;r??={};let P,O=ni.None;Array.isArray(D)?(P=D[0],O=D[1]):P=D;let U=E;if(null!==g){if(!g.hasOwnProperty(E))continue;U=g[E]}0===t?px(r,n,U,P,O):px(r,n,U,P)}return r}function px(t,e,n,r,g){let E;t.hasOwnProperty(n)?(E=t[n]).push(e,r):E=t[n]=[e,r],void 0!==g&&E.push(g)}function Xd(t,e,n,r){if(x0()){const g=null===r?null:{"":-1},E=function EI(t,e){const n=t.directiveRegistry;let r=null,g=null;if(n)for(let E=0;E<n.length;E++){const D=n[E];if(jg(e,D.selectors,!1))if(r||(r=[]),pn(D))if(null!==D.findHostDirectiveDefs){const P=[];g=g||new Map,D.findHostDirectiveDefs(D,P,g),r.unshift(...P,D),Yd(t,e,P.length)}else r.unshift(D),Yd(t,e,0);else g=g||new Map,D.findHostDirectiveDefs?.(D,r,g),r.push(D)}return null===r?null:[r,g]}(t,n);let D,P;null===E?D=P=null:[D,P]=E,null!==D&&vx(t,e,n,D,g,P),g&&function SI(t,e,n){if(e){const r=t.localNames=[];for(let g=0;g<e.length;g+=2){const E=n[e[g+1]];if(null==E)throw new dt(-301,!1);r.push(e[g],E)}}}(n,r,g)}n.mergedAttrs=qa(n.mergedAttrs,n.attrs)}function vx(t,e,n,r,g,E){for(let U=0;U<r.length;U++)Jf(yu(n,e),t,r[U].type);!function bI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let U=0;U<r.length;U++){const j=r[U];j.providersResolver&&j.providersResolver(j)}let D=!1,P=!1,O=Do(t,e,r.length,null);for(let U=0;U<r.length;U++){const j=r[U];n.mergedAttrs=qa(n.mergedAttrs,j.hostAttrs),MI(t,n,e,O,j),CI(O,j,g),null!==j.contentQueries&&(n.flags|=4),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(n.flags|=64);const Z=j.type.prototype;!D&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),D=!0),!P&&(Z.ngOnChanges||Z.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),P=!0),O++}!function dI(t,e,n){const g=e.directiveEnd,E=t.data,D=e.attrs,P=[];let O=null,U=null;for(let j=e.directiveStart;j<g;j++){const Z=E[j],tt=n?n.get(Z):null,it=tt?tt.outputs:null;O=dx(0,Z.inputs,j,O,tt?tt.inputs:null),U=dx(1,Z.outputs,j,U,it);const rt=null===O||null===D||mf(e)?null:AI(O,j,D);P.push(rt)}null!==O&&(O.hasOwnProperty("class")&&(e.flags|=8),O.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=P,e.inputs=O,e.outputs=U}(t,n,E)}function mx(t,e,n){const r=n.directiveStart,g=n.directiveEnd,E=n.index,D=function XA(){return Ut.lFrame.currentDirectiveIndex}();try{Zr(E);for(let P=r;P<g;P++){const O=t.data[P],U=e[P];Hf(P),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&TI(O,U)}}finally{Zr(-1),Hf(D)}}function TI(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function CI(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pn(e)&&(n[""]=t)}}function MI(t,e,n,r,g){t.data[r]=g;const E=g.factory||(g.factory=Wr(g.type)),D=new uo(E,pn(g),wt);t.blueprint[r]=D,n[r]=D,function gI(t,e,n,r,g){const E=g.hostBindings;if(E){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const P=~e.index;(function yI(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(D)!=P&&D.push(P),D.push(n,r,E)}}(t,e,r,Do(t,n,g.hostVars,Yt),g)}function Nn(t,e,n,r,g,E){const D=xi(t,e);!function kd(t,e,n,r,g,E,D){if(null==E)t.removeAttribute(e,g,n);else{const P=null==D?Wt(E):D(E,r||"",g);t.setAttribute(e,g,P,n)}}(e[Gt],D,E,t.value,n,r,g)}function DI(t,e,n,r,g,E){const D=E[e];if(null!==D)for(let P=0;P<D.length;)ux(r,n,D[P++],D[P++],D[P++],D[P++])}function AI(t,e,n){let r=null,g=0;for(;g<n.length;){const E=n[g];if(0!==E)if(5!==E){if("number"==typeof E)break;if(t.hasOwnProperty(E)){null===r&&(r=[]);const D=t[E];for(let P=0;P<D.length;P+=3)if(D[P]===e){r.push(E,D[P+1],D[P+2],n[g+1]);break}}g+=2}else g+=2;else g+=4}return r}function gx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yx(t,e){const n=t.contentQueries;if(null!==n){const r=h(null);try{for(let g=0;g<n.length;g+=2){const D=n[g+1];if(-1!==D){const P=t.data[D];du(n[g]),P.contentQueries(2,e[D],D)}}}finally{h(r)}}}function Yu(t,e){return t[to]?t[r0][fn]=e:t[to]=e,t[r0]=e,e}function jd(t,e,n){du(0);const r=h(null);try{e(t,n)}finally{h(r)}}function xx(t){return t[Ls]||(t[Ls]=[])}function Tx(t){return t.cleanup||(t.cleanup=[])}function ku(t,e){const n=t[Xe],r=n?n.get(Xi,null):null;r&&r.handleError(e)}function $d(t,e,n,r,g){for(let E=0;E<n.length;){const D=n[E++],P=n[E++],O=n[E++];ux(t.data[D],e[D],r,P,O,g)}}function RI(t,e){const n=Wi(e,t),r=n[yt];!function PI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const g=n[De];null!==g&&null===n[Hi]&&(n[Hi]=vd(g,n[Xe])),Kd(r,n,n[Te])}function Kd(t,e,n){Yf(e);try{const r=t.viewQuery;null!==r&&jd(1,r,n);const g=t.template;null!==g&&hx(t,e,g,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[er]?.finishViewCreation(t),t.staticContentQueries&&yx(t,e),t.staticViewQueries&&jd(2,t.viewQuery,n);const E=t.components;null!==E&&function II(t,e){for(let n=0;n<e.length;n++)RI(t,e[n])}(e,E)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[It]&=-5,kf()}}function qs(t,e){return!e||null===e.firstChild||Su(t)}function Ro(t,e,n,r=!0){const g=e[yt];if(function ZP(t,e,n,r){const g=Be+r,E=n.length;r>0&&(n[g-1][fn]=e),r<E-Be?(e[fn]=n[g],Ug(n,Be+r,e)):(n.push(e),e[fn]=null),e[Ne]=n;const D=e[eo];null!==D&&n!==D&&function QP(t,e){const n=t[Gs];e[Pe]!==e[Ne][Ne][Pe]&&(t[It]|=wf.HasTransplantedViews),null===n?t[Gs]=[e]:n.push(e)}(D,e);const P=e[er];null!==P&&P.insertView(t),Nf(e),e[It]|=128}(g,e,t,n),r){const D=Nd(n,t),P=e[Gt],O=zu(P,t[An]);null!==O&&function $P(t,e,n,r,g,E){r[De]=g,r[ci]=e,Wu(t,r,n,1,g,E)}(g,t[ci],P,e,O,D)}const E=e[Hi];null!==E&&null!==E.firstChild&&(E.firstChild=null)}function Po(t,e,n,r,g=!1){for(;null!==n;){const E=e[n.index];null!==E&&r.push(ge(E)),di(E)&&Cx(E,r);const D=n.type;if(8&D)Po(t,e,n.child,r);else if(32&D){const P=Rd(n,e);let O;for(;O=P();)r.push(O)}else if(16&D){const P=nx(e,n);if(Array.isArray(P))r.push(...P);else{const O=Kr(e[Pe]);Po(O[yt],O,P,r,!0)}}n=g?n.projectionNext:n.next}return r}function Cx(t,e){for(let n=Be;n<t.length;n++){const r=t[n],g=r[yt].firstChild;null!==g&&Po(r[yt],r,g,e)}t[An]!==t[De]&&e.push(t[An])}let bx=[];const NI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ao(t.lView)},consumerOnSignalRead(){this.lView[kr]=this}},Mx=100;function ju(t,e=!0,n=0){const r=t[dn],g=r.rendererFactory;g.begin?.();try{!function BI(t,e){Qd(t,e);let n=0;for(;Lf(t);){if(n===Mx)throw new dt(103,!1);n++,Qd(t,1)}}(t,n)}catch(D){throw e&&ku(t,D),D}finally{g.end?.(),r.inlineEffectRunner?.flush()}}function GI(t,e,n,r){const g=e[It];if(!(256&~g))return;e[dn].inlineEffectRunner?.flush(),Yf(e);let D=null,P=null;(function UI(t){return 2!==t.type})(t)&&(P=function FI(t){return t[kr]??function OI(t){const e=bx.pop()??Object.create(NI);return e.lView=t,e}(t)}(e),D=function y(t){return t&&(t.nextProducerIndex=0),h(t)}(P));try{m0(e),function S0(t){return Ut.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&hx(t,e,n,2,r);const O=!(3&~g);if(O){const Z=t.preOrderCheckHooks;null!==Z&&vu(e,Z,null)}else{const Z=t.preOrderHooks;null!==Z&&mu(e,Z,0,null),jf(e,0)}if(function VI(t){for(let e=ly(t);null!==e;e=uy(e)){if(!(e[It]&wf.HasTransplantedViews))continue;const n=e[Gs];for(let r=0;r<n.length;r++){IA(n[r])}}}(e),wx(e,0),null!==t.contentQueries&&yx(t,e),O){const Z=t.contentCheckHooks;null!==Z&&vu(e,Z)}else{const Z=t.contentHooks;null!==Z&&mu(e,Z,1),jf(e,1)}!function sI(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const g=n[r];if(g<0)Zr(~g);else{const E=g,D=n[++r],P=n[++r];WA(D,E),P(2,e[E])}}}finally{Zr(-1)}}(t,e);const U=t.components;null!==U&&Ax(e,U,0);const j=t.viewQuery;if(null!==j&&jd(2,j,r),O){const Z=t.viewCheckHooks;null!==Z&&vu(e,Z)}else{const Z=t.viewHooks;null!==Z&&mu(e,Z,2),jf(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[uu]){for(const Z of e[uu])Z();e[uu]=null}e[It]&=-73}catch(O){throw ao(e),O}finally{null!==P&&(function S(t,e){if(h(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(R(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)w(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(P,D),function LI(t){t.lView[kr]!==t&&(t.lView=null,bx.push(t))}(P)),kf()}}function wx(t,e){for(let n=ly(t);null!==n;n=uy(n))for(let r=Be;r<n.length;r++)Dx(n[r],e)}function zI(t,e,n){Dx(Wi(e,t),n)}function Dx(t,e){Of(t)&&Qd(t,e)}function Qd(t,e){const r=t[yt],g=t[It],E=t[kr];let D=!!(0===e&&16&g);if(D||=!!(64&g&&0===e),D||=!!(1024&g),D||=!(!E?.dirty||!b(E)),E&&(E.dirty=!1),t[It]&=-9217,D)GI(r,t,r.template,t[Te]);else if(8192&g){wx(t,1);const P=r.components;null!==P&&Ax(t,P,1)}}function Ax(t,e,n){for(let r=0;r<e.length;r++)zI(t,e[r],n)}function Io(t){for(t[dn].changeDetectionScheduler?.notify();t;){t[It]|=64;const e=Kr(t);if(Af(t)&&!e)return t;t=e}return null}class Fo{get rootNodes(){const e=this._lView,n=e[yt];return Po(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Te]}set context(e){this._lView[Te]=e}get destroyed(){return!(256&~this._lView[It])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ne];if(di(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Co(e,r),ql(n,r))}this._attachedToViewContainer=!1}Vu(this._lView[yt],this._lView)}onDestroy(e){fu(this._lView,e)}markForCheck(){Io(this._cdRefInjectingView||this._lView)}detach(){this._lView[It]&=-129}reattach(){Nf(this._lView),this._lView[It]|=128}detectChanges(){this._lView[It]|=1024,ju(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ky(this._lView[yt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=e,Nf(this._lView)}}let ar=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=XI}return t})();const HI=ar,WI=class extends HI{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const g=function Ao(t,e,n,r){const g=h(null);try{const E=e.tView,O=Xu(t,E,n,4096&t[It]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);O[eo]=t[e.index];const j=t[er];return null!==j&&(O[er]=j.createEmbeddedView(E)),Kd(E,O,n),O}finally{h(g)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Fo(g)}};function XI(){return $u(ve(),pt())}function $u(t,e){return 4&t.type?new WI(e,t,ks(t,e)):null}class qu{}class dF{}class Nx{}class vF{resolveComponentFactory(e){throw function pF(t){const e=Error(`No component factory found for ${Ze(t)}.`);return e.ngComponent=t,e}(e)}}let _u=(()=>{class t{static#t=this.NULL=new vF}return t})();class ip{}let th=(()=>{class t{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function mF(){const t=pt(),n=Wi(ve().index,t);return(fi(n)?n:t)[Gt]}()}return t})(),gF=(()=>{class t{static#t=this.\u0275prov=Dt({token:t,providedIn:"root",factory:()=>null})}return t})();const np={},Gx=new Set;function Bn(t){Gx.has(t)||(Gx.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ux(...t){}class ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Si(!1),this.onMicrotaskEmpty=new Si(!1),this.onStable=new Si(!1),this.onError=new Si(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!r&&n,g.shouldCoalesceRunChangeDetection=r,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function yF(){const t="function"==typeof ce.requestAnimationFrame;let e=ce[t?"requestAnimationFrame":"setTimeout"],n=ce[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const g=n[Zone.__symbol__("OriginalDelegate")];g&&(n=g)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function EF(t){const e=()=>{!function TF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ce,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sp(t),t.isCheckStableRunning=!0,rp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,g,E,D,P)=>{if(function SF(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(P))return n.invokeTask(g,E,D,P);try{return Vx(t),n.invokeTask(g,E,D,P)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||t.shouldCoalesceRunChangeDetection)&&e(),zx(t)}},onInvoke:(n,r,g,E,D,P,O)=>{try{return Vx(t),n.invoke(g,E,D,P,O)}finally{t.shouldCoalesceRunChangeDetection&&e(),zx(t)}},onHasTask:(n,r,g,E)=>{n.hasTask(g,E),r===g&&("microTask"==E.change?(t._hasPendingMicrotasks=E.microTask,sp(t),rp(t)):"macroTask"==E.change&&(t.hasPendingMacrotasks=E.macroTask))},onHandleError:(n,r,g,E)=>(n.handleError(g,E),t.runOutsideAngular(()=>t.onError.emit(E)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ee.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(ee.isInAngularZone())throw new dt(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,g){const E=this._inner,D=E.scheduleEventTask("NgZoneEvent: "+g,e,xF,Ux,Ux);try{return E.runTask(D,n,r)}finally{E.cancelTask(D)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const xF={};function rp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Vx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zx(t){t._nesting--,rp(t)}class Hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Si,this.onMicrotaskEmpty=new Si,this.onStable=new Si,this.onError=new Si}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,g){return e.apply(n,r)}}var _r=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(_r||{});const Wx={destroy(){}};function op(t,e){!e&&function ou(t){if(!e0())throw new dt(-203,!1)}();const n=e?.injector??gt(Ii);if(!function mn(t){return"browser"===(t??gt(Ii)).get(Sr)}(n))return Wx;Bn("NgAfterNextRender");const r=n.get(Go),g=r.handler??=new Yx,E=e?.phase??_r.MixedReadWrite,D=()=>{g.unregister(O),P()},P=n.get(Ys).onDestroy(D),O=tr(n,()=>new Xx(E,()=>{D(),t()}));return g.register(O),{destroy:D}}class Xx{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=gt(ee),this.errorHandler=gt(Xi,{optional:!0}),gt(qu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class Yx{constructor(){this.executingCallbacks=!1,this.buckets={[_r.EarlyRead]:new Set,[_r.Write]:new Set,[_r.MixedReadWrite]:new Set,[_r.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Go=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#t=this.\u0275prov=Dt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ih(t,e,n){let r=n?t.styles:null,g=n?t.classes:null,E=0;if(null!==e)for(let D=0;D<e.length;D++){const P=e[D];"number"==typeof P?E=P:1==E?g=Qc(g,P):2==E&&(r=Qc(r,P+": "+e[++D]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=g:t.classesWithoutHost=g}class $x extends _u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Zt(e);return new zo(n,this.ngModule)}}function Kx(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class nh{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Jl(r);const g=this.injector.get(e,np,r);return g!==np||n===np?g:this.parentInjector.get(e,n,r)}}class zo extends Nx{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Kx(e.inputs);if(null!==n)for(const g of r)n.hasOwnProperty(g.propName)&&(g.transform=n[g.propName]);return r}get outputs(){return Kx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function ZD(t){return t.map(KD).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,g){const E=h(null);try{let D=(g=g||this.ngModule)instanceof Pi?g:g?.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const P=D?new nh(e,D):e,O=P.get(ip,null);if(null===O)throw new dt(407,!1);const U=P.get(gF,null),tt={rendererFactory:O,sanitizer:U,inlineEffectRunner:null,afterRenderEventManager:P.get(Go,null),changeDetectionScheduler:P.get(qu,null)},et=O.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",rt=r?function oI(t,e,n,r){const E=r.get(by,!1)||n===hn.ShadowDom,D=t.selectRootElement(e,E);return function lI(t){fx(t)}(D),D}(et,r,this.componentDef.encapsulation,P):Uu(et,it,function DF(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(it));let ot=512;this.componentDef.signals?ot|=4096:this.componentDef.onPush||(ot|=16);let ft=null;null!==rt&&(ft=vd(rt,P,!0));const ct=Wd(0,null,null,1,0,null,null,null,null,null,null),bt=Xu(null,ct,null,ot,null,null,tt,et,P,null,ft);let Rt,kt;Yf(bt);try{const Qt=this.componentDef;let he,Oe=null;Qt.findHostDirectiveDefs?(he=[],Oe=new Map,Qt.findHostDirectiveDefs(Qt,he,Oe),he.push(Qt)):he=[Qt];const Kn=function RF(t,e){const n=t[yt],r=Xt;return t[r]=e,Js(n,r,2,"#host",null)}(bt,rt),Ur=function PF(t,e,n,r,g,E,D){const P=g[yt];!function IF(t,e,n,r){for(const g of t)e.mergedAttrs=qa(e.mergedAttrs,g.hostAttrs);null!==e.mergedAttrs&&(ih(e,e.mergedAttrs,!0),null!==n&&ox(r,n,e))}(r,t,e,D);let O=null;null!==e&&(O=vd(e,g[Xe]));const U=E.rendererFactory.createRenderer(e,n);let j=16;n.signals?j=4096:n.onPush&&(j=64);const Z=Xu(g,cx(n),null,j,g[t.index],t,E,U,null,null,O);return P.firstCreatePass&&Yd(P,t,r.length-1),Yu(g,Z),g[t.index]=Z}(Kn,rt,Qt,he,bt,tt,et);kt=so(ct,Xt),rt&&function OF(t,e,n,r){if(r)vf(t,n,["ng-version","17.3.8"]);else{const{attrs:g,classes:E}=function QD(t){const e=[],n=[];let r=1,g=2;for(;r<t.length;){let E=t[r];if("string"==typeof E)2===g?""!==E&&e.push(E,t[++r]):8===g&&n.push(E);else{if(!cn(g))break;g=E}r++}return{attrs:e,classes:n}}(e.selectors[0]);g&&vf(t,n,g),E&&E.length>0&&ax(t,n,E.join(" "))}}(et,Qt,rt,r),void 0!==n&&function LF(t,e,n){const r=t.projection=[];for(let g=0;g<e.length;g++){const E=n[g];r.push(null!=E?Array.from(E):null)}}(kt,this.ngContentSelectors,n),Rt=function FF(t,e,n,r,g,E){const D=ve(),P=g[yt],O=xi(D,g);vx(P,g,D,n,null,r);for(let j=0;j<n.length;j++)vi(Qr(g,P,D.directiveStart+j,D),g);mx(P,g,D),O&&vi(O,g);const U=Qr(g,P,D.directiveStart+D.componentOffset,D);if(t[Te]=g[Te]=U,null!==E)for(const j of E)j(U,e);return Vd(P,D,g),U}(Ur,Qt,he,Oe,bt,[NF]),Kd(ct,bt,null)}finally{kf()}return new AF(this.componentType,Rt,ks(kt,bt),bt,kt)}finally{h(E)}}}class AF extends dF{constructor(e,n,r,g,E){super(),this.location=r,this._rootLView=g,this._tNode=E,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fo(g,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let g;if(null!==r&&(g=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const E=this._rootLView;$d(E[yt],E,g,e,n),this.previousInputValues.set(e,n),Io(Wi(this._tNode.index,E))}}get injector(){return new qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function NF(){const t=ve();pu(pt()[yt],t)}let gn=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=BF}return t})();function BF(){return Jx(ve(),pt())}const GF=gn,Zx=class extends GF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ks(this._hostTNode,this._hostLView)}get injector(){return new qe(this._hostTNode,this._hostLView)}get parentInjector(){const e=xu(this._hostTNode,this._hostLView);if(Kf(e)){const n=co(e,this._hostLView),r=ho(e);return new qe(n[yt].data[r+8],n)}return new qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Qx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,n,r){let g,E;"number"==typeof r?g=r:null!=r&&(g=r.index,E=r.injector);const P=e.createEmbeddedViewImpl(n||{},E,null);return this.insertImpl(P,g,qs(this._hostTNode,null)),P}createComponent(e,n,r,g,E){const D=e&&!function _a(t){return"function"==typeof t}(e);let P;if(D)P=n;else{const it=n||{};P=it.index,r=it.injector,g=it.projectableNodes,E=it.environmentInjector||it.ngModuleRef}const O=D?e:new zo(Zt(e)),U=r||this.parentInjector;if(!E&&null==O.ngModule){const rt=(D?U:this.parentInjector).get(Pi,null);rt&&(E=rt)}Zt(O.componentType??{});const et=O.create(U,g,null,E);return this.insertImpl(et.hostView,P,qs(this._hostTNode,null)),et}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const g=e._lView;if(function PA(t){return di(t[Ne])}(g)){const P=this.indexOf(e);if(-1!==P)this.detach(P);else{const O=g[Ne],U=new Zx(O,O[ci],O[Ne]);U.detach(U.indexOf(e))}}const E=this._adjustIndex(n),D=this._lContainer;return Ro(D,g,E,r),e.attachToViewContainerRef(),Ug(hp(D),E,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Qx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Co(this._lContainer,n);r&&(ql(hp(this._lContainer),n),Vu(r[yt],r))}detach(e){const n=this._adjustIndex(e,-1),r=Co(this._lContainer,n);return r&&null!=ql(hp(this._lContainer),n)?new Fo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Qx(t){return t[8]}function hp(t){return t[8]||(t[8]=[])}function Jx(t,e){let n;const r=e[t.index];return di(r)?n=r:(n=gx(r,e,null,t),e[t.index]=n,Yu(e,n)),qx(n,e,t,r),new Zx(n,t,e)}let qx=function tT(t,e,n,r){if(t[An])return;let g;g=8&n.type?ge(r):function UF(t,e){const n=t[Gt],r=n.createComment(""),g=xi(e,t);return qr(n,zu(n,g),r,function tI(t,e){return t.nextSibling(e)}(n,g),!1),r}(e,n),t[An]=g},cp=()=>!1;class fp{constructor(e){this.queryList=e,this.matches=null}clone(){return new fp(this.queryList)}setDirty(){this.queryList.setDirty()}}class dp{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,g=[];for(let E=0;E<r;E++){const D=n.getByIndex(E);g.push(this.queries[D.indexInDeclarationView].clone())}return new dp(g)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==yp(e,n).matches&&this.queries[n].setDirty()}}class eT{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function jF(t){return t.split(",").map(e=>e.trim())}(e):e}}class pp{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const g=null!==n?n.length:0,E=this.getByIndex(r).embeddedTView(e,g);E&&(E.indexInDeclarationView=r,null!==n?n.push(E):n=[E])}return null!==n?new pp(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vp{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new vp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let g=0;g<r.length;g++){const E=r[g];this.matchTNodeWithReadOption(e,n,WF(n,E)),this.matchTNodeWithReadOption(e,n,Tu(n,e,E,!1,!1))}else r===ar?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Tu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const g=this.metadata.read;if(null!==g)if(g===Ei||g===gn||g===ar&&4&n.type)this.addMatch(n.index,-2);else{const E=Tu(n,e,g,!1,!1);null!==E&&this.addMatch(n.index,E)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function WF(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function YF(t,e,n,r){return-1===n?function XF(t,e){return 11&t.type?ks(t,e):4&t.type?$u(t,e):null}(e,t):-2===n?function kF(t,e,n){return n===Ei?ks(e,t):n===ar?$u(e,t):n===gn?Jx(e,t):void 0}(t,e,r):Qr(t,t[yt],n,e)}function iT(t,e,n,r){const g=e[er].queries[r];if(null===g.matches){const E=t.data,D=n.matches,P=[];for(let O=0;null!==D&&O<D.length;O+=2){const U=D[O];P.push(U<0?null:YF(e,E[U],D[O+1],n.metadata.read))}g.matches=P}return g.matches}function mp(t,e,n,r){const g=t.queries.getByIndex(n),E=g.matches;if(null!==E){const D=iT(t,e,g,n);for(let P=0;P<E.length;P+=2){const O=E[P];if(O>0)r.push(D[P/2]);else{const U=E[P+1],j=e[-O];for(let Z=Be;Z<j.length;Z++){const tt=j[Z];tt[eo]===tt[Ne]&&mp(tt[yt],tt,U,r)}if(null!==j[Gs]){const Z=j[Gs];for(let tt=0;tt<Z.length;tt++){const et=Z[tt];mp(et[yt],et,U,r)}}}}}return r}function sT(t,e,n,r){const g=qt();if(g.firstCreatePass){const E=ve();(function aT(t,e,n){null===t.queries&&(t.queries=new pp),t.queries.track(new vp(e,n))})(g,new eT(e,n,r),E.index),function $F(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(g,t),!(2&~n)&&(g.staticContentQueries=!0)}return function nT(t,e,n){const r=new fo(!(4&~n));return function cI(t,e,n,r){const g=xx(e);g.push(n),t.firstCreatePass&&Tx(t).push(r,g.length-1)}(t,e,r,r.destroy),(e[er]??=new dp).queries.push(new fp(r))-1}(g,pt(),n)}function yp(t,e){return t.queries.getByIndex(e)}function oT(t,e){const n=t[yt],r=yp(n,e);return r.crossesNgTemplate?mp(n,t,e,[]):iT(n,t,r,e)}function ea(t){let e=function ET(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let g;if(pn(t))g=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new dt(903,!1);g=e.\u0275dir}if(g){if(n){r.push(g);const D=t;D.inputs=sh(t.inputs),D.inputTransforms=sh(t.inputTransforms),D.declaredInputs=sh(t.declaredInputs),D.outputs=sh(t.outputs);const P=g.hostBindings;P&&lO(t,P);const O=g.viewQuery,U=g.contentQueries;if(O&&aO(t,O),U&&oO(t,U),rO(t,g),vD(t.outputs,g.outputs),pn(g)&&g.data.animation){const j=t.data;j.animation=(j.animation||[]).concat(g.data.animation)}}const E=g.features;if(E)for(let D=0;D<E.length;D++){const P=E[D];P&&P.ngInherit&&P(t),P===ea&&(n=!1)}}e=Object.getPrototypeOf(e)}!function sO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const g=t[r];g.hostVars=e+=g.hostVars,g.hostAttrs=qa(g.hostAttrs,n=qa(n,g.hostAttrs))}}(r)}function rO(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const g=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(g))continue;t.inputTransforms??={},t.inputTransforms[g]=e.inputTransforms[g]}}}function sh(t){return t===Dn?{}:t===se?[]:t}function aO(t,e){const n=t.viewQuery;t.viewQuery=n?(r,g)=>{e(r,g),n(r,g)}:e}function oO(t,e){const n=t.contentQueries;t.contentQueries=n?(r,g,E)=>{e(r,g,E),n(r,g,E)}:e}function lO(t,e){const n=t.hostBindings;t.hostBindings=n?(r,g)=>{e(r,g),n(r,g)}:e}function MT(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const g=e[r];Array.isArray(g)&&g[3]&&(n[r]=g[3])}t.inputTransforms=n}class ts{}class wT{}class Tp extends ts{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $x(this);const g=hi(e);this._bootstrapComponents=ki(g.bootstrap),this._r3Injector=K0(e,n,[{provide:ts,useValue:this},{provide:_u,useValue:this.componentFactoryResolver},...r],Ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ep extends wT{constructor(e){super(),this.moduleType=e}create(e){return new Tp(this.moduleType,e,[])}}class DT extends ts{constructor(e){super(),this.componentFactoryResolver=new $x(this),this.instance=null;const n=new Is([...e.providers,{provide:ts,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],e.parent||au(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ah(t,e,n=null){return new DT({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let ia=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lh(t){return!!function Sp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ge(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function na(t,e,n,r,g,E,D,P){const O=pt(),U=qt(),j=t+Xt,Z=U.firstCreatePass?function EO(t,e,n,r,g,E,D,P,O){const U=e.consts,j=Js(e,t,4,D||null,Pn(U,P));Xd(e,n,j,Pn(U,O)),pu(e,j);const Z=j.tView=Wd(2,j,r,g,E,e.directiveRegistry,e.pipeRegistry,null,e.schemas,U,null);return null!==e.queries&&(e.queries.template(e,j),Z.queries=e.queries.embeddedTView(j)),j}(j,U,O,e,n,r,g,E,D):U.data[j];In(Z,!1);const tt=AT(U,O,Z,t);lo()&&Hu(U,O,tt,Z),vi(tt,O);const et=gx(tt,O,tt,Z);return O[j]=et,Yu(O,et),function _x(t,e,n){return cp(t,e,n)}(et,Z,O),cu(Z)&&zd(U,O,Z),null!=D&&Hd(O,Z,P),na}let AT=function RT(t,e,n,r){return Fn(!0),e[Gt].createComment("")};function $o(t,e,n,r){const g=pt();return Ge(g,vn(),e)&&(qt(),Nn(Ee(),g,t,e,n,r)),$o}function vh(t,e){return t<<17|e<<2}function Dr(t){return t>>17&32767}function Fp(t){return 2|t}function ns(t){return(131068&t)>>2}function Op(t,e){return-131069&t|e<<2}function Lp(t){return 1|t}function aE(t,e,n,r){const g=t[n+1],E=null===e;let D=r?Dr(g):ns(g),P=!1;for(;0!==D&&(!1===P||E);){const U=t[D+1];oL(t[D],e)&&(P=!0,t[D+1]=r?Lp(U):Fp(U)),D=r?Dr(U):ns(U)}P&&(t[n+1]=r?Fp(g):Lp(g))}function oL(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ps(t,e)>=0}function mh(t,e,n){const r=pt();return Ge(r,vn(),e)&&function Oi(t,e,n,r,g,E,D,P){const O=xi(e,n);let j,U=e.inputs;!P&&null!=U&&(j=U[r])?($d(t,n,j,r,g),jr(e)&&function vI(t,e){const n=Wi(e,t);16&n[It]||(n[It]|=64)}(n,e.index)):3&e.type&&(r=function pI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),g=null!=D?D(g,e.value||"",r):g,E.setProperty(O,r,g))}(qt(),Ee(),r,t,e,r[Gt],n,!1),mh}function Np(t,e,n,r,g){const D=g?"class":"style";$d(t,n,e.inputs[D],D,r)}function Ar(t,e){return function yn(t,e,n,r){const g=pt(),E=qt(),D=function nr(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);E.firstUpdatePass&&function vE(t,e,n,r){const g=t.data;if(null===g[n+1]){const E=g[pi()],D=function pE(t,e){return e>=t.expandoStartIndex}(t,n);(function xE(t,e){return!!(t.flags&(e?8:16))})(E,r)&&null===e&&!D&&(e=!1),e=function mL(t,e,n,r){const g=function Wf(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let E=r?e.residualClasses:e.residualStyles;if(null===g)0===(r?e.classBindings:e.styleBindings)&&(n=Ko(n=Bp(null,t,e,n,r),e.attrs,r),E=null);else{const D=e.directiveStylingLast;if(-1===D||t[D]!==g)if(n=Bp(g,t,e,n,r),null===E){let O=function gL(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ns(r))return t[Dr(r)]}(t,e,r);void 0!==O&&Array.isArray(O)&&(O=Bp(null,t,e,O[1],r),O=Ko(O,e.attrs,r),function yL(t,e,n,r){t[Dr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,O))}else E=function xL(t,e,n){let r;const g=e.directiveEnd;for(let E=1+e.directiveStylingLast;E<g;E++)r=Ko(r,t[E].hostAttrs,n);return Ko(r,e.attrs,n)}(t,e,r)}return void 0!==E&&(r?e.residualClasses=E:e.residualStyles=E),n}(g,E,e,r),function sL(t,e,n,r,g,E){let D=E?e.classBindings:e.styleBindings,P=Dr(D),O=ns(D);t[r]=n;let j,U=!1;if(Array.isArray(n)?(j=n[1],(null===j||Ps(n,j)>0)&&(U=!0)):j=n,g)if(0!==O){const tt=Dr(t[P+1]);t[r+1]=vh(tt,P),0!==tt&&(t[tt+1]=Op(t[tt+1],r)),t[P+1]=function nL(t,e){return 131071&t|e<<17}(t[P+1],r)}else t[r+1]=vh(P,0),0!==P&&(t[P+1]=Op(t[P+1],r)),P=r;else t[r+1]=vh(O,0),0===P?P=r:t[O+1]=Op(t[O+1],r),O=r;U&&(t[r+1]=Fp(t[r+1])),aE(t,j,r,!0),aE(t,j,r,!1),function aL(t,e,n,r,g){const E=g?t.residualClasses:t.residualStyles;null!=E&&"string"==typeof e&&Ps(E,e)>=0&&(n[r+1]=Lp(n[r+1]))}(e,j,t,r,E),D=vh(P,O),E?e.classBindings=D:e.styleBindings=D}(g,E,e,n,D,r)}}(E,t,D,r),e!==Yt&&Ge(g,D,e)&&function gE(t,e,n,r,g,E,D,P){if(!(3&e.type))return;const O=t.data,U=O[P+1],j=function rL(t){return!(1&~t)}(U)?yE(O,e,n,g,ns(U),D):void 0;gh(j)||(gh(E)||function iL(t){return!(2&~t)}(U)&&(E=yE(O,null,n,g,P,D)),function nI(t,e,n,r,g){if(e)g?t.addClass(n,r):t.removeClass(n,r);else{let E=-1===r.indexOf("-")?void 0:Cr.DashCase;null==g?t.removeStyle(n,r,E):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),E|=Cr.Important),t.setStyle(n,r,g,E))}}(r,D,ro(pi(),n),g,E))}(E,E.data[pi()],g,g[Gt],t,g[D+1]=function CL(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ze(Yi(t)))),t}(e,n),r,D)}(t,e,null,!0),Ar}function Bp(t,e,n,r,g){let E=null;const D=n.directiveEnd;let P=n.directiveStylingLast;for(-1===P?P=n.directiveStart:P++;P<D&&(E=e[P],r=Ko(r,E.hostAttrs,g),E!==t);)P++;return null!==t&&(n.directiveStylingLast=P),r}function Ko(t,e,n){const r=n?1:2;let g=-1;if(null!==e)for(let E=0;E<e.length;E++){const D=e[E];"number"==typeof D?g=D:g===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zi(t,D,!!n||e[++E]))}return void 0===t?null:t}function yE(t,e,n,r,g,E){const D=null===e;let P;for(;g>0;){const O=t[g],U=Array.isArray(O),j=U?O[1]:O,Z=null===j;let tt=n[g+1];tt===Yt&&(tt=Z?se:void 0);let et=Z?df(tt,r):j===r?tt:void 0;if(U&&!gh(et)&&(et=df(O,r)),gh(et)&&(P=et,D))return P;const it=t[g+1];g=D?Dr(it):ns(it)}if(null!==e){let O=E?e.residualClasses:e.residualStyles;null!=O&&(P=df(O,r))}return P}function gh(t){return void 0!==t}function ie(t,e,n,r){const g=pt(),E=qt(),D=Xt+t,P=g[Gt],O=E.firstCreatePass?function jL(t,e,n,r,g,E){const D=e.consts,O=Js(e,t,2,r,Pn(D,g));return Xd(e,n,O,Pn(D,E)),null!==O.attrs&&ih(O,O.attrs,!1),null!==O.mergedAttrs&&ih(O,O.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,O),O}(D,E,g,e,n,r):E.data[D],U=CE(E,g,O,P,e,t);g[D]=U;const j=cu(O);return In(O,!0),ox(P,U,O),!function Xo(t){return!(32&~t.flags)}(O)&&lo()&&Hu(E,g,U,O),0===function FA(){return Ut.lFrame.elementDepthCount}()&&vi(U,g),function OA(){Ut.lFrame.elementDepthCount++}(),j&&(zd(E,g,O),Vd(E,O,g)),null!==r&&Hd(g,O),ie}function re(){let t=ve();Vf()?zf():(t=t.parent,In(t,!1));const e=t;(function NA(t){return Ut.skipHydrationRootTNode===t})(e)&&function VA(){Ut.skipHydrationRootTNode=null}(),function LA(){Ut.lFrame.elementDepthCount--}();const n=qt();return n.firstCreatePass&&(pu(n,t),Df(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function tR(t){return!!(8&t.flags)}(e)&&Np(n,e,pt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function eR(t){return!!(16&t.flags)}(e)&&Np(n,e,pt(),e.stylesWithoutHost,!1),re}function ze(t,e,n,r){return ie(t,e,n,r),re(),ze}let CE=(t,e,n,r,g,E)=>(Fn(!0),Uu(r,g,function R0(){return Ut.lFrame.currentNamespace}()));const Ea="en-US";let IE=Ea;function ss(t,e,n,r){const g=pt(),E=qt(),D=ve();return function kp(t,e,n,r,g,E,D){const P=cu(r),U=t.firstCreatePass&&Tx(t),j=e[Te],Z=xx(e);let tt=!0;if(3&r.type||D){const rt=xi(r,e),ot=D?D(rt):rt,ft=Z.length,ct=D?Rt=>D(ge(Rt[r.index])):r.index;let bt=null;if(!D&&P&&(bt=function Q2(t,e,n,r){const g=t.cleanup;if(null!=g)for(let E=0;E<g.length-1;E+=2){const D=g[E];if(D===n&&g[E+1]===r){const P=e[Ls],O=g[E+2];return P.length>O?P[O]:null}"string"==typeof D&&(E+=2)}return null}(t,e,g,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=E,bt.__ngLastListenerFn__=E,tt=!1;else{E=sS(r,e,j,E,!1);const Rt=n.listen(ot,g,E);Z.push(E,Rt),U&&U.push(g,ct,ft,ft+1)}}else E=sS(r,e,j,E,!1);const et=r.outputs;let it;if(tt&&null!==et&&(it=et[g])){const rt=it.length;if(rt)for(let ot=0;ot<rt;ot+=2){const kt=e[it[ot]][it[ot+1]].subscribe(E),Qt=Z.length;Z.push(E,kt),U&&U.push(g,r.index,Qt,-(Qt+1))}}}(E,g,g[Gt],D,t,e,r),ss}function rS(t,e,n,r){const g=h(null);try{return Rn(6,e,n),!1!==n(r)}catch(E){return ku(t,E),!1}finally{Rn(7,e,n),h(g)}}function sS(t,e,n,r,g){return function E(D){if(D===Function)return r;Io(t.componentOffset>-1?Wi(t.index,e):e);let O=rS(e,n,r,D),U=E.__ngNextListenerFn__;for(;U;)O=rS(e,n,U,D)&&O,U=U.__ngNextListenerFn__;return g&&!1===O&&D.preventDefault(),O}}function Sh(t=1){return function kA(t){return(Ut.lFrame.contextLView=function g0(t,e){for(;t>0;)e=e[Ns],t--;return e}(t,Ut.lFrame.contextLView))[Te]}(t)}function J2(t,e){let n=null;const r=function YD(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let g=0;g<e.length;g++){const E=e[g];if("*"!==E){if(null===r?jg(t,E,!0):$D(r,E))return g}else n=g}return n}function as(t){const e=pt()[Pe][ci];if(!e.projection){const r=e.projection=function _l(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),g=r.slice();let E=e.child;for(;null!==E;){const D=t?J2(E,t):0;null!==D&&(g[D]?g[D].projectionNext=E:r[D]=E,g[D]=E),E=E.next}}}function tn(t,e=0,n){const r=pt(),g=qt(),E=Js(g,Xt+t,16,null,n||null);null===E.projection&&(E.projection=e),zf(),(!r[Hi]||Vs())&&32&~E.flags&&function eI(t,e,n){sx(e[Gt],0,e,n,Od(t,n,e),_y(n.parent||e[ci],n,e))}(g,r,E)}function Zp(){return function gp(t,e){return t[er].queries[e].queryList}(pt(),Xf())}function Ie(t,e=""){const n=pt(),r=qt(),g=t+Xt,E=r.firstCreatePass?Js(r,g,1,e,null):r.data[g],D=bS(r,n,E,e,t);n[g]=D,lo()&&Hu(r,n,D,E),In(E,!1)}let bS=(t,e,n,r,g)=>(Fn(!0),function Pd(t,e){return t.createText(e)}(e[Gt],r));function Ch(t){return Qp("",t,""),Ch}function Qp(t,e,n){const r=pt(),g=function ca(t,e,n,r){return Ge(t,vn(),n)?e+Wt(n)+r:Yt}(r,t,e,n);return g!==Yt&&function sr(t,e,n){const r=ro(e,t);!function $y(t,e,n){t.setValue(e,n)}(t[Gt],r,n)}(r,pi(),g),Qp}let EN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=gf(0,n.type),g=r.length>0?ah([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,g)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=Dt({token:t,providedIn:"environment",factory:()=>new t(Ct(Pi))})}return t})();function BS(t){Bn("NgStandalone"),t.getStandaloneInjector=e=>e.get(EN).getOrCreateStandaloneInjector(t)}let rC=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const uC=new Tt(""),Dh=new Tt("");let lv,av=(()=>{class t{constructor(n,r,g){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lv||(function LB(t){lv=t}(g),g.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,g){let E=-1;r&&r>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==E),n()},r)),this._callbacks.push({doneCb:n,timeoutId:E,updateCb:g})}whenStable(n,r,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,g){return[]}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(ee),Ct(ov),Ct(Dh))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})(),ov=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return lv?.findTestabilityInTree(this,n,r)??null}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ah(t){return!!t&&"function"==typeof t.then}function hC(t){return!!t&&"function"==typeof t.subscribe}const uv=new Tt("");let hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=gt(uv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const g of this.appInits){const E=g();if(Ah(E))n.push(E);else if(hC(E)){const D=new Promise((P,O)=>{E.subscribe({complete:P,error:O})});n.push(D)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(g=>{this.reject(g)}),0===n.length&&r(),this.initialized=!0}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cv=new Tt("");function dC(t,e){return Array.isArray(e)?e.reduce(dC,t):{...t,...e}}let Rr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(Q0),this.afterRenderEffectManager=gt(Go),this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=gt(ia).hasPendingTasks.pipe(Kt(n=>!n)),this._injector=gt(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const g=n instanceof Nx;if(!this._injector.get(hv).done)throw!g&&function xr(t){const e=Zt(t)||Qe(t)||oi(t);return null!==e&&e.standalone}(n),new dt(405,!1);let D;D=g?n:this._injector.get(_u).resolveComponentFactory(n),this.componentTypes.push(D.componentType);const P=function NB(t){return t.isBoundToModule}(D)?void 0:this._injector.get(ts),U=D.create(Ii.NULL,[],r||D.selector,P),j=U.location.nativeElement,Z=U.injector.get(uC,null);return Z?.registerApplication(j),U.onDestroy(()=>{this.detachView(U.hostView),Rh(this.components,U),Z?.unregisterApplication(j)}),this._loadComponent(U),U}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new dt(101,!1);const r=h(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(g){this.internalErrorHandler(g)}finally{this.afterTick.next(),this._runningTick=!1,h(r)}}detectChangesInAttachedViews(n){let r=0;const g=this.afterRenderEffectManager;for(;;){if(r===Mx)throw new dt(103,!1);if(n){const E=0===r;this.beforeRender.next(E);for(let{_lView:D,notifyErrorHandler:P}of this._views)GB(D,E,P)}if(r++,g.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:E})=>fv(E))&&(g.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:E})=>fv(E))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Rh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(cv,[]);[...this._bootstrapListeners,...r].forEach(g=>g(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new dt(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function GB(t,e,n){!e&&!fv(t)||function UB(t,e,n){let r;n?(r=0,t[It]|=1024):r=64&t[It]?0:1,ju(t,e,r)}(t,n,e)}function fv(t){return Lf(t)}class VB{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let pC=(()=>{class t{compileModuleSync(n){return new Ep(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),E=ki(hi(n).declarations).reduce((D,P)=>{const O=Zt(P);return O&&D.push(new zo(O)),D},[]);return new VB(r,E)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WB=(()=>{class t{constructor(){this.zone=gt(ee),this.applicationRef=gt(Rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XB(){const t=gt(ee),e=gt(Xi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let kB=(()=>{class t{constructor(){this.subscription=new Et,this.initialized=!1,this.zone=gt(ee),this.pendingTasks=gt(ia)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zn=new Tt("",{providedIn:"root",factory:()=>gt(zn,Jt.Optional|Jt.SkipSelf)||function jB(){return typeof $localize<"u"&&$localize.locale||Ea}()}),dv=new Tt("");let yC=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const g=function CF(t="zone.js",e){return"noop"===t?new Hx:"zone.js"===t?new ee(e):t}(r?.ngZone,function gC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return g.run(()=>{const E=function vO(t,e,n){return new Tp(t,e,n)}(n.moduleType,this.injector,function mC(t){return[{provide:ee,useFactory:t},{provide:Xr,multi:!0,useFactory:()=>{const e=gt(WB,{optional:!0});return()=>e.initialize()}},{provide:Xr,multi:!0,useFactory:()=>{const e=gt(kB);return()=>{e.initialize()}}},{provide:Q0,useFactory:XB}]}(()=>g)),D=E.injector.get(Xi,null);return g.runOutsideAngular(()=>{const P=g.onError.subscribe({next:O=>{D.handleError(O)}});E.onDestroy(()=>{Rh(this._modules,E),P.unsubscribe()})}),function fC(t,e,n){try{const r=n();return Ah(r)?r.catch(g=>{throw e.runOutsideAngular(()=>t.handleError(g)),g}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(D,g,()=>{const P=E.injector.get(hv);return P.runInitializers(),P.donePromise.then(()=>(function FE(t){"string"==typeof t&&(IE=t.toLowerCase().replace(/_/g,"-"))}(E.injector.get(zn,Ea)||Ea),this._moduleDoBootstrap(E),E))})})}bootstrapModule(n,r=[]){const g=dC({},r);return function HB(t,e,n){const r=new Ep(n);return Promise.resolve(r)}(0,0,n).then(E=>this.bootstrapModuleFactory(E,g))}_moduleDoBootstrap(n){const r=n.injector.get(Rr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(g=>r.bootstrap(g));else{if(!n.instance.ngDoBootstrap)throw new dt(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(dv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ii))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Pr=null;const xC=new Tt("");function TC(t,e,n=[]){const r=`Platform: ${e}`,g=new Tt(r);return(E=[])=>{let D=pv();if(!D||D.injector.get(xC,!1)){const P=[...n,...E,{provide:g,useValue:!0}];t?t(P):function ZB(t){if(Pr&&!Pr.get(xC,!1))throw new dt(400,!1);(function cC(){!function W(t){$=t}(()=>{throw new dt(600,!1)})})(),Pr=t;const e=t.get(yC);(function SC(t){t.get(yy,null)?.forEach(n=>n())})(t)}(function EC(t=[],e){return Ii.create({name:e,providers:[{provide:Tf,useValue:"platform"},{provide:dv,useValue:new Set([()=>Pr=null])},...t]})}(P,r))}return function QB(t){const e=pv();if(!e)throw new dt(401,!1);return e}()}}function pv(){return Pr?.get(yC)??null}let Ih=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=qB}return t})();function qB(t){return function _B(t,e,n){if(jr(t)&&!n){const r=Wi(t.index,e);return new Fo(r,r)}return 47&t.type?new Fo(e[Pe],e):null}(ve(),pt(),!(16&~t))}class DC{constructor(){}supports(e){return lh(e)}create(e){return new s3(e)}}const r3=(t,e)=>e;class s3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||r3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,g=0,E=null;for(;n||r;){const D=!r||n&&n.currentIndex<RC(r,g,E)?n:r,P=RC(D,g,E),O=D.currentIndex;if(D===r)g--,r=r._nextRemoved;else if(n=n._next,null==D.previousIndex)g++;else{E||(E=[]);const U=P-g,j=O-g;if(U!=j){for(let tt=0;tt<U;tt++){const et=tt<E.length?E[tt]:E[tt]=0,it=et+tt;j<=it&&it<U&&(E[tt]=et+1)}E[D.previousIndex]=j-U}}P!==O&&e(D,P,O)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!lh(e))throw new dt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let g,E,D,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let P=0;P<this.length;P++)E=e[P],D=this._trackByFn(P,E),null!==n&&Object.is(n.trackById,D)?(r&&(n=this._verifyReinsertion(n,E,D,P)),Object.is(n.item,E)||this._addIdentityChange(n,E)):(n=this._mismatch(n,E,D,P),r=!0),n=n._next}else g=0,function xO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,P=>{D=this._trackByFn(g,P),null!==n&&Object.is(n.trackById,D)?(r&&(n=this._verifyReinsertion(n,P,D,g)),Object.is(n.item,P)||this._addIdentityChange(n,P)):(n=this._mismatch(n,P,D,g),r=!0),n=n._next,g++}),this.length=g;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,g){let E;return null===e?E=this._itTail:(E=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,E,g)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,g))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,E,g)):e=this._addAfter(new a3(n,r),E,g),e}_verifyReinsertion(e,n,r,g){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==E?e=this._reinsertAfter(E,e._prev,g):e.currentIndex!=g&&(e.currentIndex=g,this._addToMoves(e,g)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const g=e._prevRemoved,E=e._nextRemoved;return null===g?this._removalsHead=E:g._nextRemoved=E,null===E?this._removalsTail=g:E._prevRemoved=g,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const g=null===n?this._itHead:n._next;return e._next=g,e._prev=n,null===g?this._itTail=e:g._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new AC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class a3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class o3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class AC{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new o3,this.map.set(n,r)),r.add(e)}get(e,n){const g=this.map.get(e);return g?g.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RC(t,e,n){const r=t.previousIndex;if(null===r)return r;let g=0;return n&&r<n.length&&(g=n[r]),r+e+g}function IC(){return new xv([new DC])}let xv=(()=>{class t{static#t=this.\u0275prov=Dt({token:t,providedIn:"root",factory:IC});constructor(n){this.factories=n}static create(n,r){if(null!=r){const g=r.factories.slice();n=n.concat(g)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IC()),deps:[[t,new Ja,new Hr]]}}find(n){const r=this.factories.find(g=>g.supports(n));if(null!=r)return r;throw new dt(901,!1)}}return t})();const f3=TC(null,"core",[]);let d3=(()=>{class t{constructor(n){}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Rr))};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({})}return t})();function Sv(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let e1=null;function wa(){return e1}class Q3{}const Ae=new Tt("");let Cv=(()=>{class t{historyGo(n){throw new Error("")}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>gt(q3),providedIn:"platform"})}return t})();const J3=new Tt("");let q3=(()=>{class t extends Cv{constructor(){super(),this._doc=gt(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wa().getBaseHref(this._doc)}onPopState(n){const r=wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,g){this._history.pushState(n,r,g)}replaceState(n,r,g){this._history.replaceState(n,r,g)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function bv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function n1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function or(t){return t&&"?"!==t[0]?"?"+t:t}let ls=(()=>{class t{historyGo(n){throw new Error("")}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>gt(s1),providedIn:"root"})}return t})();const r1=new Tt("");let s1=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??gt(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return bv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+or(this._platformLocation.search),g=this._platformLocation.hash;return g&&n?`${r}${g}`:r}pushState(n,r,g,E){const D=this.prepareExternalUrl(g+or(E));this._platformLocation.pushState(n,r,D)}replaceState(n,r,g,E){const D=this.prepareExternalUrl(g+or(E));this._platformLocation.replaceState(n,r,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Cv),Ct(r1,8))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_3=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=bv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,g,E){let D=this.prepareExternalUrl(g+or(E));0==D.length&&(D=this._platformLocation.pathname),this._platformLocation.pushState(n,r,D)}replaceState(n,r,g,E){let D=this.prepareExternalUrl(g+or(E));0==D.length&&(D=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,D)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Cv),Ct(r1,8))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})(),ol=(()=>{class t{constructor(n){this._subject=new Si,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function iG(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(n1(a1(r))),this._locationStrategy.onPopState(g=>{this._subject.emit({url:this.path(!0),pop:!0,state:g.state,type:g.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+or(r))}normalize(n){return t.stripTrailingSlash(function eG(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,a1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",g=null){this._locationStrategy.pushState(g,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),g)}replaceState(n,r="",g=null){this._locationStrategy.replaceState(g,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),g)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(g=>g(n,r))}subscribe(n,r,g){return this._subject.subscribe({next:n,error:r,complete:g})}static#t=this.normalizeQueryParams=or;static#e=this.joinWithSlash=bv;static#i=this.stripTrailingSlash=n1;static#n=this.\u0275fac=function(r){return new(r||t)(Ct(ls))};static#r=this.\u0275prov=Dt({token:t,factory:()=>function tG(){return new ol(Ct(ls))}(),providedIn:"root"})}return t})();function a1(t){return t.replace(/\/index.html$/,"")}class XG{constructor(e,n,r,g){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=g}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let g1=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,g){this._viewContainer=n,this._template=r,this._differs=g,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((g,E,D)=>{if(null==g.previousIndex)r.createEmbeddedView(this._template,new XG(g.item,this._ngForOf,-1,-1),null===D?void 0:D);else if(null==D)r.remove(null===E?void 0:E);else if(null!==E){const P=r.get(E);r.move(P,D),y1(P,g)}});for(let g=0,E=r.length;g<E;g++){const P=r.get(g).context;P.index=g,P.count=E,P.ngForOf=this._ngForOf}n.forEachIdentityChange(g=>{y1(r.get(g.currentIndex),g)})}static ngTemplateContextGuard(n,r){return!0}static#t=this.\u0275fac=function(r){return new(r||t)(wt(gn),wt(ar),wt(xv))};static#e=this.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function y1(t,e){t.context.$implicit=e.item}let S1=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({})}return t})();const C1="browser";function b1(t){return t===C1}function M1(t){return"server"===t}let TU=(()=>{class t{static#t=this.\u0275prov=Dt({token:t,providedIn:"root",factory:()=>b1(gt(Sr))?new EU(gt(Ae),window):new CU})}return t})();class EU{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function SU(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let g=r.currentNode;for(;g;){const E=g.shadowRoot;if(E){const D=E.getElementById(e)||E.querySelector(`[name="${e}"]`);if(D)return D}g=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,g=n.top+this.window.pageYOffset,E=this.offset();this.window.scrollTo(r-E[0],g-E[1])}}class CU{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class qU extends Q3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zv extends qU{static makeCurrent(){!function Z3(t){e1??=t}(new zv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function _U(){return cl=cl||document.querySelector("base"),cl?cl.getAttribute("href"):null}();return null==n?null:function tV(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){cl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zG(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[g,E]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(g.trim()===e)return decodeURIComponent(E)}return null}(document.cookie,e)}}let cl=null,iV=(()=>{class t{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();const Hv=new Tt("");let L1=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(g=>{g.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,g){return this._findPluginFor(r).addEventListener(n,r,g)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(E=>E.supports(n)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Hv),Ct(ee))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();class N1{constructor(e){this._doc=e}}const Wv="ng-app-id";let B1=(()=>{class t{constructor(n,r,g,E={}){this.doc=n,this.appId=r,this.nonce=g,this.platformId=E,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=M1(E),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(g=>g.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Wv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(g=>{null!=g.textContent&&r.set(g.textContent,g)}),r}return null}changeUsageCount(n,r){const g=this.styleRef;if(g.has(n)){const E=g.get(n);return E.usage+=r,E.usage}return g.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const g=this.styleNodesInDOM,E=g?.get(r);if(E?.parentNode===n)return g.delete(r),E.removeAttribute(Wv),E;{const D=this.doc.createElement("style");return this.nonce&&D.setAttribute("nonce",this.nonce),D.textContent=r,this.platformIsServer&&D.setAttribute(Wv,this.appId),n.appendChild(D),D}}addStyleToHost(n,r){const g=this.getStyleElement(n,r),E=this.styleRef,D=E.get(r)?.elements;D?D.push(g):E.set(r,{elements:[g],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ae),Ct(Mu),Ct(od,8),Ct(Sr))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();const Xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yv=/%COMP%/g,aV=new Tt("",{providedIn:"root",factory:()=>!0});function U1(t,e){return e.map(n=>n.replace(Yv,t))}let kv=(()=>{class t{constructor(n,r,g,E,D,P,O,U=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=g,this.removeStylesOnCompDestroy=E,this.doc=D,this.platformId=P,this.ngZone=O,this.nonce=U,this.rendererByCompId=new Map,this.platformIsServer=M1(P),this.defaultRenderer=new jv(n,D,O,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hn.ShadowDom&&(r={...r,encapsulation:hn.Emulated});const g=this.getOrCreateRenderer(n,r);return g instanceof z1?g.applyToHost(n):g instanceof $v&&g.applyStyles(),g}getOrCreateRenderer(n,r){const g=this.rendererByCompId;let E=g.get(r.id);if(!E){const D=this.doc,P=this.ngZone,O=this.eventManager,U=this.sharedStylesHost,j=this.removeStylesOnCompDestroy,Z=this.platformIsServer;switch(r.encapsulation){case hn.Emulated:E=new z1(O,U,r,this.appId,j,D,P,Z);break;case hn.ShadowDom:return new hV(O,U,n,r,D,P,this.nonce,Z);default:E=new $v(O,U,r,j,D,P,Z)}g.set(r.id,E)}return E}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(L1),Ct(B1),Ct(Mu),Ct(aV),Ct(Ae),Ct(Sr),Ct(ee),Ct(od))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();class jv{constructor(e,n,r,g){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=g,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Xv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(V1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(V1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new dt(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,g){if(g){n=g+":"+n;const E=Xv[g];E?e.setAttributeNS(E,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const g=Xv[r];g?e.removeAttributeNS(g,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,g){g&(Cr.DashCase|Cr.Important)?e.style.setProperty(n,r,g&Cr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=wa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function V1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hV extends jv{constructor(e,n,r,g,E,D,P,O){super(e,E,D,O),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const U=U1(g.id,g.styles);for(const j of U){const Z=document.createElement("style");P&&Z.setAttribute("nonce",P),Z.textContent=j,this.shadowRoot.appendChild(Z)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $v extends jv{constructor(e,n,r,g,E,D,P,O){super(e,E,D,P),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=g,this.styles=O?U1(O,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class z1 extends $v{constructor(e,n,r,g,E,D,P,O){const U=g+"-"+r.id;super(e,n,r,E,D,P,O,U),this.contentAttr=function oV(t){return"_ngcontent-%COMP%".replace(Yv,t)}(U),this.hostAttr=function lV(t){return"_nghost-%COMP%".replace(Yv,t)}(U)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let cV=(()=>{class t extends N1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,g){return n.addEventListener(r,g,!1),()=>this.removeEventListener(n,r,g)}removeEventListener(n,r,g){return n.removeEventListener(r,g)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ae))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();const H1=["alt","control","meta","shift"],fV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pV=(()=>{class t extends N1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,g){const E=t.parseEventName(r),D=t.eventCallback(E.fullKey,g,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wa().onAndCancel(n,E.domEventName,D))}static parseEventName(n){const r=n.toLowerCase().split("."),g=r.shift();if(0===r.length||"keydown"!==g&&"keyup"!==g)return null;const E=t._normalizeKey(r.pop());let D="",P=r.indexOf("code");if(P>-1&&(r.splice(P,1),D="code."),H1.forEach(U=>{const j=r.indexOf(U);j>-1&&(r.splice(j,1),D+=U+".")}),D+=E,0!=r.length||0===E.length)return null;const O={};return O.domEventName=g,O.fullKey=D,O}static matchEventFullKeyCode(n,r){let g=fV[n.key]||n.key,E="";return r.indexOf("code.")>-1&&(g=n.code,E="code."),!(null==g||!g)&&(g=g.toLowerCase()," "===g?g="space":"."===g&&(g="dot"),H1.forEach(D=>{D!==g&&(0,dV[D])(n)&&(E+=D+".")}),E+=g,E===r)}static eventCallback(n,r,g){return E=>{t.matchEventFullKeyCode(E,n)&&g.runGuarded(()=>r(E))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ae))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();const yV=TC(f3,"browser",[{provide:Sr,useValue:C1},{provide:yy,useValue:function vV(){zv.makeCurrent()},multi:!0},{provide:Ae,useFactory:function gV(){return function WR(t){ad=t}(document),document},deps:[]}]),xV=new Tt(""),Y1=[{provide:Dh,useClass:class eV{addToWindow(e){ce.getAngularTestability=(r,g=!0)=>{const E=e.findTestabilityInTree(r,g);if(null==E)throw new dt(5103,!1);return E},ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),ce.getAllAngularRootElements=()=>e.getAllRootElements(),ce.frameworkStabilizers||(ce.frameworkStabilizers=[]),ce.frameworkStabilizers.push(r=>{const g=ce.getAllAngularTestabilities();let E=g.length;const D=function(){E--,0==E&&r()};g.forEach(P=>{P.whenStable(D)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?wa().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:uC,useClass:av,deps:[ee,ov,Dh]},{provide:av,useClass:av,deps:[ee,ov,Dh]}],k1=[{provide:Tf,useValue:"root"},{provide:Xi,useFactory:function mV(){return new Xi},deps:[]},{provide:Hv,useClass:cV,multi:!0,deps:[Ae,ee,Sr]},{provide:Hv,useClass:pV,multi:!0,deps:[Ae]},kv,B1,L1,{provide:ip,useExisting:kv},{provide:class bU{},useClass:iV,deps:[]},[]];let j1=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Mu,useValue:n.appId}]}}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(xV,12))};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({providers:[...k1,...Y1],imports:[S1,d3]})}return t})(),TV=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ae))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kv=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:function(r){let g=null;return g=r?new(r||t):Ct(bV),g},providedIn:"root"})}return t})(),bV=(()=>{class t extends Kv{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case li.NONE:return r;case li.HTML:return Ln(r,"HTML")?Yi(r):Gy(this._doc,String(r)).toString();case li.STYLE:return Ln(r,"Style")?Yi(r):r;case li.SCRIPT:if(Ln(r,"Script"))return Yi(r);throw new dt(5200,!1);case li.URL:return Ln(r,"URL")?Yi(r):Lu(String(r));case li.RESOURCE_URL:if(Ln(r,"ResourceURL"))return Yi(r);throw new dt(5201,!1);default:throw new dt(5202,!1)}}bypassSecurityTrustHtml(n){return function uP(t){return new nP(t)}(n)}bypassSecurityTrustStyle(n){return function hP(t){return new rP(t)}(n)}bypassSecurityTrustScript(n){return function cP(t){return new sP(t)}(n)}bypassSecurityTrustUrl(n){return function fP(t){return new aP(t)}(n)}bypassSecurityTrustResourceUrl(n){return function dP(t){return new oP(t)}(n)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ae))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ir(t){return this instanceof Ir?(this.v=t,this):new Ir(t)}function _1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function qv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(E){n[E]=t[E]&&function(D){return new Promise(function(P,O){!function g(E,D,P,O){Promise.resolve(O).then(function(U){E({value:U,done:P})},D)}(P,O,(D=t[E](D)).done,D.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const tb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function eb(t){return ht(t?.then)}function ib(t){return ht(t[Kc])}function nb(t){return Symbol.asyncIterator&&ht(t?.[Symbol.asyncIterator])}function rb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sb=function $V(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ab(t){return ht(t?.[sb])}function ob(t){return function q1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,r=n.apply(t,e||[]),E=[];return g={},D("next"),D("throw"),D("return"),g[Symbol.asyncIterator]=function(){return this},g;function D(tt){r[tt]&&(g[tt]=function(et){return new Promise(function(it,rt){E.push([tt,et,it,rt])>1||P(tt,et)})})}function P(tt,et){try{!function O(tt){tt.value instanceof Ir?Promise.resolve(tt.value.v).then(U,j):Z(E[0][2],tt)}(r[tt](et))}catch(it){Z(E[0][3],it)}}function U(tt){P("next",tt)}function j(tt){P("throw",tt)}function Z(tt,et){tt(et),E.shift(),E.length&&P(E[0][0],E[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:g}=yield Ir(n.read());if(g)return yield Ir(void 0);yield yield Ir(r)}}finally{n.releaseLock()}})}function lb(t){return ht(t?.getReader)}function rn(t){if(t instanceof $e)return t;if(null!=t){if(ib(t))return function KV(t){return new $e(e=>{const n=t[Kc]();if(ht(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tb(t))return function ZV(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(eb(t))return function QV(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ht)})}(t);if(nb(t))return ub(t);if(ab(t))return function JV(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(lb(t))return function qV(t){return ub(ob(t))}(t)}throw rb(t)}function ub(t){return new $e(e=>{(function _V(t,e){var n,r,g,E;return function Q1(t,e,n,r){return new(n||(n=Promise))(function(E,D){function P(j){try{U(r.next(j))}catch(Z){D(Z)}}function O(j){try{U(r.throw(j))}catch(Z){D(Z)}}function U(j){j.done?E(j.value):function g(E){return E instanceof n?E:new n(function(D){D(E)})}(j.value).then(P,O)}U((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_1(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(D){g={error:D}}finally{try{r&&!r.done&&(E=n.return)&&(yield E.call(n))}finally{if(g)throw g.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function hr(t,e,n,r=0,g=!1){const E=e.schedule(function(){n(),g?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(E),!g)return E}function hb(t,e=0){return We((n,r)=>{n.subscribe(Le(r,g=>hr(r,t,()=>r.next(g),e),()=>hr(r,t,()=>r.complete(),e),g=>hr(r,t,()=>r.error(g),e)))})}function cb(t,e=0){return We((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fb(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{hr(n,e,()=>{const r=t[Symbol.asyncIterator]();hr(n,e,()=>{r.next().then(g=>{g.done?n.complete():n.next(g.value)})},0,!0)})})}function ui(t,e){return e?function s4(t,e){if(null!=t){if(ib(t))return function t4(t,e){return rn(t).pipe(cb(e),hb(e))}(t,e);if(tb(t))return function i4(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(eb(t))return function e4(t,e){return rn(t).pipe(cb(e),hb(e))}(t,e);if(nb(t))return fb(t,e);if(ab(t))return function n4(t,e){return new $e(n=>{let r;return hr(n,e,()=>{r=t[sb](),hr(n,e,()=>{let g,E;try{({value:g,done:E}=r.next())}catch(D){return void n.error(D)}E?n.complete():n.next(g)},0,!0)}),()=>ht(r?.return)&&r.return()})}(t,e);if(lb(t))return function r4(t,e){return fb(ob(t),e)}(t,e)}throw rb(t)}(t,e):rn(t)}function _v(t){return t[t.length-1]}function db(t){return ht(_v(t))?t.pop():void 0}function tc(t){return function a4(t){return t&&ht(t.schedule)}(_v(t))?t.pop():void 0}function Ft(...t){return ui(t,tc(t))}const{isArray:o4}=Array,{getPrototypeOf:l4,prototype:u4,keys:h4}=Object;function pb(t){if(1===t.length){const e=t[0];if(o4(e))return{args:e,keys:null};if(function c4(t){return t&&"object"==typeof t&&l4(t)===u4}(e)){const n=h4(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:f4}=Array;function vb(t){return Kt(e=>function d4(t,e){return f4(e)?t(...e):t(e)}(t,e))}function mb(t,e){return t.reduce((n,r,g)=>(n[r]=e[g],n),{})}function ec(...t){const e=tc(t),n=db(t),{args:r,keys:g}=pb(t);if(0===r.length)return ui([],e);const E=new $e(function p4(t,e,n=mr){return r=>{gb(e,()=>{const{length:g}=t,E=new Array(g);let D=g,P=g;for(let O=0;O<g;O++)gb(e,()=>{const U=ui(t[O],e);let j=!1;U.subscribe(Le(r,Z=>{E[O]=Z,j||(j=!0,P--),P||r.next(n(E.slice()))},()=>{--D||r.complete()}))},r)},r)}}(r,e,g?D=>mb(g,D):mr));return n?E.pipe(vb(n)):E}function gb(t,e,n){t?hr(n,t,e):e()}const ic=ut(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function mi(t,e,n=1/0){return ht(e)?mi((r,g)=>Kt((E,D)=>e(r,E,g,D))(rn(t(r,g))),n):("number"==typeof e&&(n=e),We((r,g)=>function v4(t,e,n,r,g,E,D,P){const O=[];let U=0,j=0,Z=!1;const tt=()=>{Z&&!O.length&&!U&&e.complete()},et=rt=>U<r?it(rt):O.push(rt),it=rt=>{E&&e.next(rt),U++;let ot=!1;rn(n(rt,j++)).subscribe(Le(e,ft=>{g?.(ft),E?et(ft):e.next(ft)},()=>{ot=!0},void 0,()=>{if(ot)try{for(U--;O.length&&U<r;){const ft=O.shift();D?hr(e,D,()=>it(ft)):it(ft)}tt()}catch(ft){e.error(ft)}}))};return t.subscribe(Le(e,et,()=>{Z=!0,tt()})),()=>{P?.()}}(r,g,t,n)))}function dl(t=1/0){return mi(mr,t)}function nc(...t){return function m4(){return dl(1)}()(ui(t,tc(t)))}function yb(t){return new $e(e=>{rn(t()).subscribe(e)})}function pl(t,e){const n=ht(t)?t:()=>t,r=g=>g.error(n());return new $e(e?g=>e.schedule(r,0,g):r)}const Hn=new $e(t=>t.complete());function tm(){return We((t,e)=>{let n=null;t._refCount++;const r=Le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const g=t._connection,E=n;n=null,g&&(!E||g===E)&&g.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class xb extends $e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Et;const n=this.getSubject();e.add(this.source.subscribe(Le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Et.EMPTY)}return e}refCount(){return tm()(this)}}function Wn(t,e){return We((n,r)=>{let g=null,E=0,D=!1;const P=()=>D&&!g&&r.complete();n.subscribe(Le(r,O=>{g?.unsubscribe();let U=0;const j=E++;rn(t(O,j)).subscribe(g=Le(r,Z=>r.next(e?e(O,Z,j,U++):Z),()=>{g=null,P()}))},()=>{D=!0,P()}))})}function cr(t){return t<=0?()=>Hn:We((e,n)=>{let r=0;e.subscribe(Le(n,g=>{++r<=t&&(n.next(g),t<=r&&n.complete())}))})}function Tb(...t){const e=tc(t);return We((n,r)=>{(e?nc(t,n,e):nc(t,n)).subscribe(r)})}function Sn(t,e){return We((n,r)=>{let g=0;n.subscribe(Le(r,E=>t.call(e,E,g++)&&r.next(E)))})}function rc(t){return We((e,n)=>{let r=!1;e.subscribe(Le(n,g=>{r=!0,n.next(g)},()=>{r||n.next(t),n.complete()}))})}function Eb(t=y4){return We((e,n)=>{let r=!1;e.subscribe(Le(n,g=>{r=!0,n.next(g)},()=>r?n.complete():n.error(t())))})}function y4(){return new ic}function us(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sn((g,E)=>t(g,E,r)):mr,cr(1),n?rc(e):Eb(()=>new ic))}function Aa(t,e){return ht(e)?mi(t,e,1):mi(t,1)}function ei(t,e,n){const r=ht(t)||e||n?{next:t,error:e,complete:n}:t;return r?We((g,E)=>{var D;null===(D=r.subscribe)||void 0===D||D.call(r);let P=!0;g.subscribe(Le(E,O=>{var U;null===(U=r.next)||void 0===U||U.call(r,O),E.next(O)},()=>{var O;P=!1,null===(O=r.complete)||void 0===O||O.call(r),E.complete()},O=>{var U;P=!1,null===(U=r.error)||void 0===U||U.call(r,O),E.error(O)},()=>{var O,U;P&&(null===(O=r.unsubscribe)||void 0===O||O.call(r)),null===(U=r.finalize)||void 0===U||U.call(r)}))}):mr}function hs(t){return We((e,n)=>{let E,r=null,g=!1;r=e.subscribe(Le(n,void 0,void 0,D=>{E=rn(t(D,hs(t)(e))),r?(r.unsubscribe(),r=null,E.subscribe(n)):g=!0})),g&&(r.unsubscribe(),r=null,E.subscribe(n))})}function em(t){return t<=0?()=>Hn:We((e,n)=>{let r=[];e.subscribe(Le(n,g=>{r.push(g),t<r.length&&r.shift()},()=>{for(const g of r)n.next(g);n.complete()},void 0,()=>{r=null}))})}function sc(t){return We((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function im(t){return We((e,n)=>{rn(t).subscribe(Le(n,()=>n.complete(),fe)),!n.closed&&e.subscribe(n)})}const $t="primary",vl=Symbol("RouteTitle");class C4{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ra(t){return new C4(t)}function b4(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const g={};for(let E=0;E<r.length;E++){const D=r[E],P=t[E];if(D.startsWith(":"))g[D.substring(1)]=P;else if(D!==P.path)return null}return{consumed:t.slice(0,r.length),posParams:g}}function Xn(t,e){const n=t?nm(t):void 0,r=e?nm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let g;for(let E=0;E<n.length;E++)if(g=n[E],!Sb(t[g],e[g]))return!1;return!0}function nm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Sb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((g,E)=>r[E]===g)}return t===e}function Cb(t){return t.length>0?t[t.length-1]:null}function Fr(t){return function MV(t){return!!t&&(t instanceof $e||ht(t.lift)&&ht(t.subscribe))}(t)?t:Ah(t)?ui(Promise.resolve(t)):Ft(t)}const w4={exact:function wb(t,e,n){if(!cs(t.segments,e.segments)||!ac(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!wb(t.children[r],e.children[r],n))return!1;return!0},subset:Db},bb={exact:function D4(t,e){return Xn(t,e)},subset:function A4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Sb(t[n],e[n]))},ignored:()=>!0};function Mb(t,e,n){return w4[n.paths](t.root,e.root,n.matrixParams)&&bb[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Db(t,e,n){return Ab(t,e,e.segments,n)}function Ab(t,e,n,r){if(t.segments.length>n.length){const g=t.segments.slice(0,n.length);return!(!cs(g,n)||e.hasChildren()||!ac(g,n,r))}if(t.segments.length===n.length){if(!cs(t.segments,n)||!ac(t.segments,n,r))return!1;for(const g in e.children)if(!t.children[g]||!Db(t.children[g],e.children[g],r))return!1;return!0}{const g=n.slice(0,t.segments.length),E=n.slice(t.segments.length);return!!(cs(t.segments,g)&&ac(t.segments,g,r)&&t.children[$t])&&Ab(t.children[$t],e,E,r)}}function ac(t,e,n){return e.every((r,g)=>bb[n](t[g].parameters,r.parameters))}class Pa{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){return I4.serialize(this)}}class ye{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oc(this)}}class ml{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ra(this.parameters),this._parameterMap}toString(){return Ib(this)}}function cs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Ia=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>new rm,providedIn:"root"})}return t})();class rm{parse(e){const n=new W4(e);return new Pa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${gl(e.root,!0)}`,r=function L4(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(g=>`${lc(n)}=${lc(g)}`).join("&"):`${lc(n)}=${lc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function F4(t){return encodeURI(t)}(e.fragment)}`:""}`}}const I4=new rm;function oc(t){return t.segments.map(e=>Ib(e)).join("/")}function gl(t,e){if(!t.hasChildren())return oc(t);if(e){const n=t.children[$t]?gl(t.children[$t],!1):"",r=[];return Object.entries(t.children).forEach(([g,E])=>{g!==$t&&r.push(`${g}:${gl(E,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function P4(t,e){let n=[];return Object.entries(t.children).forEach(([r,g])=>{r===$t&&(n=n.concat(e(g,r)))}),Object.entries(t.children).forEach(([r,g])=>{r!==$t&&(n=n.concat(e(g,r)))}),n}(t,(r,g)=>g===$t?[gl(t.children[$t],!1)]:[`${g}:${gl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[$t]?`${oc(t)}/${n[0]}`:`${oc(t)}/(${n.join("//")})`}}function Rb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lc(t){return Rb(t).replace(/%3B/gi,";")}function sm(t){return Rb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uc(t){return decodeURIComponent(t)}function Pb(t){return uc(t.replace(/\+/g,"%20"))}function Ib(t){return`${sm(t.path)}${function O4(t){return Object.entries(t).map(([e,n])=>`;${sm(e)}=${sm(n)}`).join("")}(t.parameters)}`}const N4=/^[^\/()?;#]+/;function am(t){const e=t.match(N4);return e?e[0]:""}const B4=/^[^\/()?;=#]+/,U4=/^[^=?&#]+/,z4=/^[^&#]+/;class W4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[$t]=new ye(e,n)),r}parseSegment(){const e=am(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(e),new ml(uc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function G4(t){const e=t.match(B4);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const g=am(this.remaining);g&&(r=g,this.capture(r))}e[uc(n)]=uc(r)}parseQueryParam(e){const n=function V4(t){const e=t.match(U4);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const D=function H4(t){const e=t.match(z4);return e?e[0]:""}(this.remaining);D&&(r=D,this.capture(r))}const g=Pb(n),E=Pb(r);if(e.hasOwnProperty(g)){let D=e[g];Array.isArray(D)||(D=[D],e[g]=D),D.push(E)}else e[g]=E}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=am(this.remaining),g=this.remaining[r.length];if("/"!==g&&")"!==g&&";"!==g)throw new dt(4010,!1);let E;r.indexOf(":")>-1?(E=r.slice(0,r.indexOf(":")),this.capture(E),this.capture(":")):e&&(E=$t);const D=this.parseChildren();n[E]=1===Object.keys(D).length?D[$t]:new ye([],D),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new dt(4011,!1)}}function Fb(t){return t.segments.length>0?new ye([],{[$t]:t}):t}function Ob(t){const e={};for(const[r,g]of Object.entries(t.children)){const E=Ob(g);if(r===$t&&0===E.segments.length&&E.hasChildren())for(const[D,P]of Object.entries(E.children))e[D]=P;else(E.segments.length>0||E.hasChildren())&&(e[r]=E)}return function X4(t){if(1===t.numberOfChildren&&t.children[$t]){const e=t.children[$t];return new ye(t.segments.concat(e.segments),e.children)}return t}(new ye(t.segments,e))}function Fa(t){return t instanceof Pa}function Lb(t){let e;const g=Fb(function n(E){const D={};for(const O of E.children){const U=n(O);D[O.outlet]=U}const P=new ye(E.url,D);return E===t&&(e=P),P}(t.root));return e??g}function Nb(t,e,n,r){let g=t;for(;g.parent;)g=g.parent;if(0===e.length)return om(g,g,g,n,r);const E=function k4(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Gb(!0,0,t);let e=0,n=!1;const r=t.reduce((g,E,D)=>{if("object"==typeof E&&null!=E){if(E.outlets){const P={};return Object.entries(E.outlets).forEach(([O,U])=>{P[O]="string"==typeof U?U.split("/"):U}),[...g,{outlets:P}]}if(E.segmentPath)return[...g,E.segmentPath]}return"string"!=typeof E?[...g,E]:0===D?(E.split("/").forEach((P,O)=>{0==O&&"."===P||(0==O&&""===P?n=!0:".."===P?e++:""!=P&&g.push(P))}),g):[...g,E]},[]);return new Gb(n,e,r)}(e);if(E.toRoot())return om(g,g,new ye([],{}),n,r);const D=function j4(t,e,n){if(t.isAbsolute)return new cc(e,!0,0);if(!n)return new cc(e,!1,NaN);if(null===n.parent)return new cc(n,!0,0);const r=hc(t.commands[0])?0:1;return function $4(t,e,n){let r=t,g=e,E=n;for(;E>g;){if(E-=g,r=r.parent,!r)throw new dt(4005,!1);g=r.segments.length}return new cc(r,!1,g-E)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(E,g,t),P=D.processChildren?xl(D.segmentGroup,D.index,E.commands):Ub(D.segmentGroup,D.index,E.commands);return om(g,D.segmentGroup,P,n,r)}function hc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yl(t){return"object"==typeof t&&null!=t&&t.outlets}function om(t,e,n,r,g){let D,E={};r&&Object.entries(r).forEach(([O,U])=>{E[O]=Array.isArray(U)?U.map(j=>`${j}`):`${U}`}),D=t===e?n:Bb(t,e,n);const P=Fb(Ob(D));return new Pa(P,E,g)}function Bb(t,e,n){const r={};return Object.entries(t.children).forEach(([g,E])=>{r[g]=E===e?n:Bb(E,e,n)}),new ye(t.segments,r)}class Gb{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hc(r[0]))throw new dt(4003,!1);const g=r.find(yl);if(g&&g!==Cb(r))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cc{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Ub(t,e,n){if(t??=new ye([],{}),0===t.segments.length&&t.hasChildren())return xl(t,e,n);const r=function Z4(t,e,n){let r=0,g=e;const E={match:!1,pathIndex:0,commandIndex:0};for(;g<t.segments.length;){if(r>=n.length)return E;const D=t.segments[g],P=n[r];if(yl(P))break;const O=`${P}`,U=r<n.length-1?n[r+1]:null;if(g>0&&void 0===O)break;if(O&&U&&"object"==typeof U&&void 0===U.outlets){if(!zb(O,U,D))return E;r+=2}else{if(!zb(O,{},D))return E;r++}g++}return{match:!0,pathIndex:g,commandIndex:r}}(t,e,n),g=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const E=new ye(t.segments.slice(0,r.pathIndex),{});return E.children[$t]=new ye(t.segments.slice(r.pathIndex),t.children),xl(E,0,g)}return r.match&&0===g.length?new ye(t.segments,{}):r.match&&!t.hasChildren()?lm(t,e,n):r.match?xl(t,0,g):lm(t,e,n)}function xl(t,e,n){if(0===n.length)return new ye(t.segments,{});{const r=function K4(t){return yl(t[0])?t[0].outlets:{[$t]:t}}(n),g={};if(Object.keys(r).some(E=>E!==$t)&&t.children[$t]&&1===t.numberOfChildren&&0===t.children[$t].segments.length){const E=xl(t.children[$t],e,n);return new ye(t.segments,E.children)}return Object.entries(r).forEach(([E,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(g[E]=Ub(t.children[E],e,D))}),Object.entries(t.children).forEach(([E,D])=>{void 0===r[E]&&(g[E]=D)}),new ye(t.segments,g)}}function lm(t,e,n){const r=t.segments.slice(0,e);let g=0;for(;g<n.length;){const E=n[g];if(yl(E)){const O=Q4(E.outlets);return new ye(r,O)}if(0===g&&hc(n[0])){r.push(new ml(t.segments[e].path,Vb(n[0]))),g++;continue}const D=yl(E)?E.outlets[$t]:`${E}`,P=g<n.length-1?n[g+1]:null;D&&P&&hc(P)?(r.push(new ml(D,Vb(P))),g+=2):(r.push(new ml(D,{})),g++)}return new ye(r,{})}function Q4(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=lm(new ye([],{}),0,r))}),e}function Vb(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zb(t,e,n){return t==n.path&&Xn(e,n.parameters)}const Tl="imperative";var ne=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ne||{});class Yn{constructor(e,n){this.id=e,this.url=n}}class fc extends Yn{constructor(e,n,r="imperative",g=null){super(e,n),this.type=ne.NavigationStart,this.navigationTrigger=r,this.restoredState=g}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fr extends Yn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ki=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ki||{}),dc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dc||{});class Oa extends Yn{constructor(e,n,r,g){super(e,n),this.reason=r,this.code=g,this.type=ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class La extends Yn{constructor(e,n,r,g){super(e,n),this.reason=r,this.code=g,this.type=ne.NavigationSkipped}}class pc extends Yn{constructor(e,n,r,g){super(e,n),this.error=r,this.target=g,this.type=ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hb extends Yn{constructor(e,n,r,g){super(e,n),this.urlAfterRedirects=r,this.state=g,this.type=ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J4 extends Yn{constructor(e,n,r,g){super(e,n),this.urlAfterRedirects=r,this.state=g,this.type=ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q4 extends Yn{constructor(e,n,r,g,E){super(e,n),this.urlAfterRedirects=r,this.state=g,this.shouldActivate=E,this.type=ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _4 extends Yn{constructor(e,n,r,g){super(e,n),this.urlAfterRedirects=r,this.state=g,this.type=ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tz extends Yn{constructor(e,n,r,g){super(e,n),this.urlAfterRedirects=r,this.state=g,this.type=ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ez{constructor(e){this.route=e,this.type=ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iz{constructor(e){this.route=e,this.type=ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nz{constructor(e){this.snapshot=e,this.type=ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rz{constructor(e){this.snapshot=e,this.type=ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sz{constructor(e){this.snapshot=e,this.type=ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class az{constructor(e){this.snapshot=e,this.type=ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wb{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ne.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class um{}class hm{constructor(e){this.url=e}}class oz{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new El,this.attachRef=null}}let El=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const g=this.getOrCreateContext(n);g.outlet=r,this.contexts.set(n,g)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new oz,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Xb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=cm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=cm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=fm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(g=>g.value).filter(g=>g!==e)}pathFromRoot(e){return fm(e,this._root).map(n=>n.value)}}function cm(t,e){if(t===e.value)return e;for(const n of e.children){const r=cm(t,n);if(r)return r}return null}function fm(t,e){if(t===e.value)return[e];for(const n of e.children){const r=fm(t,n);if(r.length)return r.unshift(e),r}return[]}class Cn{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Na(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Yb extends Xb{constructor(e,n){super(e),this.snapshot=n,vm(this,e)}toString(){return this.snapshot.toString()}}function kb(t){const e=function lz(t){const E=new pm([],{},{},"",{},$t,t,null,{});return new jb("",new Cn(E,[]))}(t),n=new Gi([new ml("",{})]),r=new Gi({}),g=new Gi({}),E=new Gi({}),D=new Gi(""),P=new fs(n,r,E,D,g,$t,t,e.root);return P.snapshot=e.root,new Yb(new Cn(P,[]),e)}class fs{constructor(e,n,r,g,E,D,P,O){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=g,this.dataSubject=E,this.outlet=D,this.component=P,this._futureSnapshot=O,this.title=this.dataSubject?.pipe(Kt(U=>U[vl]))??Ft(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=g,this.data=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Kt(e=>Ra(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Kt(e=>Ra(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dm(t,e,n="emptyOnly"){let r;const{routeConfig:g}=t;return r=null===e||"always"!==n&&""!==g?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...g?.data,...t._resolvedData}},g&&Kb(g)&&(r.resolve[vl]=g.title),r}class pm{get title(){return this.data?.[vl]}constructor(e,n,r,g,E,D,P,O,U){this.url=e,this.params=n,this.queryParams=r,this.fragment=g,this.data=E,this.outlet=D,this.component=P,this.routeConfig=O,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ra(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jb extends Xb{constructor(e,n){super(n),this.url=e,vm(this,n)}toString(){return $b(this._root)}}function vm(t,e){e.value._routerState=t,e.children.forEach(n=>vm(t,n))}function $b(t){const e=t.children.length>0?` { ${t.children.map($b).join(", ")} } `:"";return`${t.value}${e}`}function mm(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xn(e.params,n.params)||t.paramsSubject.next(n.params),function M4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gm(t,e){const n=Xn(t.params,e.params)&&function R4(t,e){return cs(t,e)&&t.every((n,r)=>Xn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||gm(t.parent,e.parent))}function Kb(t){return"string"==typeof t.title||null===t.title}let ym=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new Si,this.deactivateEvents=new Si,this.attachEvents=new Si,this.detachEvents=new Si,this.parentContexts=gt(El),this.location=gt(gn),this.changeDetector=gt(Ih),this.environmentInjector=gt(Pi),this.inputBinder=gt(vc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:g}=n.name;if(r)return;this.isTrackedInParentContexts(g)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(g)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=n;const g=this.location,D=n.snapshot.component,P=this.parentContexts.getOrCreateContext(this.name).children,O=new xm(n,P,g.injector);this.activated=g.createComponent(D,{index:g.length,injector:O,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$r]})}return t})();class xm{__ngOutletInjector(e){return new xm(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fs?this.route:e===El?this.childContexts:this.parent.get(e,n)}}const vc=new Tt("");let Zb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,g=ec([r.queryParams,r.params,r.data]).pipe(Wn(([E,D,P],O)=>(P={...E,...D,...P},0===O?Ft(P):Promise.resolve(P)))).subscribe(E=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const D=function K3(t){const e=Zt(t);if(!e)return null;const n=new zo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(D)for(const{templateName:P}of D.inputs)n.activatedComponentRef.setInput(P,E[P]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,g)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();function Sl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const g=function hz(t,e,n){return e.children.map(r=>{for(const g of n.children)if(t.shouldReuseRoute(r.value,g.value.snapshot))return Sl(t,r,g);return Sl(t,r)})}(t,e,n);return new Cn(r,g)}{if(t.shouldAttach(e.value)){const E=t.retrieve(e.value);if(null!==E){const D=E.route;return D.value._futureSnapshot=e.value,D.children=e.children.map(P=>Sl(t,P)),D}}const r=function cz(t){return new fs(new Gi(t.url),new Gi(t.params),new Gi(t.queryParams),new Gi(t.fragment),new Gi(t.data),t.outlet,t.component,t)}(e.value),g=e.children.map(E=>Sl(t,E));return new Cn(r,g)}}const Qb="ngNavigationCancelingError";function Jb(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,g=qb(!1,Ki.Redirect);return g.url=n,g.navigationBehaviorOptions=r,g}function qb(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[Qb]=!0,n.cancellationCode=e,n}function _b(t){return!!t&&t[Qb]}let tM=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=Ai({type:t,selectors:[["ng-component"]],standalone:!0,features:[BS],decls:1,vars:0,template:function(r,g){1&r&&ze(0,"router-outlet")},dependencies:[ym],encapsulation:2})}return t})();function Tm(t){const e=t.children&&t.children.map(Tm),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$t&&(n.component=tM),n}function kn(t){return t.outlet||$t}function Cl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class xz{constructor(e,n,r,g,E){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=g,this.inputBindingEnabled=E}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const g=Na(n);e.children.forEach(E=>{const D=E.value.outlet;this.deactivateRoutes(E,g[D],r),delete g[D]}),Object.values(g).forEach(E=>{this.deactivateRouteAndItsChildren(E,r)})}deactivateRoutes(e,n,r){const g=e.value,E=n?n.value:null;if(g===E)if(g.component){const D=r.getContext(g.outlet);D&&this.deactivateChildRoutes(e,n,D.children)}else this.deactivateChildRoutes(e,n,r);else E&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),g=r&&e.value.component?r.children:n,E=Na(e);for(const D of Object.values(E))this.deactivateRouteAndItsChildren(D,g);if(r&&r.outlet){const D=r.outlet.detach(),P=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:D,route:e,contexts:P})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),g=r&&e.value.component?r.children:n,E=Na(e);for(const D of Object.values(E))this.deactivateRouteAndItsChildren(D,g);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const g=Na(n);e.children.forEach(E=>{this.activateRoutes(E,g[E.value.outlet],r),this.forwardEvent(new az(E.value.snapshot))}),e.children.length&&this.forwardEvent(new rz(e.value.snapshot))}activateRoutes(e,n,r){const g=e.value,E=n?n.value:null;if(mm(g),g===E)if(g.component){const D=r.getOrCreateContext(g.outlet);this.activateChildRoutes(e,n,D.children)}else this.activateChildRoutes(e,n,r);else if(g.component){const D=r.getOrCreateContext(g.outlet);if(this.routeReuseStrategy.shouldAttach(g.snapshot)){const P=this.routeReuseStrategy.retrieve(g.snapshot);this.routeReuseStrategy.store(g.snapshot,null),D.children.onOutletReAttached(P.contexts),D.attachRef=P.componentRef,D.route=P.route.value,D.outlet&&D.outlet.attach(P.componentRef,P.route.value),mm(P.route.value),this.activateChildRoutes(e,null,D.children)}else{const P=Cl(g.snapshot);D.attachRef=null,D.route=g,D.injector=P,D.outlet&&D.outlet.activateWith(g,D.injector),this.activateChildRoutes(e,null,D.children)}}else this.activateChildRoutes(e,null,r)}}class eM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mc{constructor(e,n){this.component=e,this.route=n}}function Tz(t,e,n){const r=t._root;return bl(r,e?e._root:null,n,[r.value])}function Ba(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function TD(t){return null!==$l(t)}(t)?e.get(t):t:r}function bl(t,e,n,r,g={canDeactivateChecks:[],canActivateChecks:[]}){const E=Na(e);return t.children.forEach(D=>{(function Sz(t,e,n,r,g={canDeactivateChecks:[],canActivateChecks:[]}){const E=t.value,D=e?e.value:null,P=n?n.getContext(t.value.outlet):null;if(D&&E.routeConfig===D.routeConfig){const O=function Cz(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cs(t.url,e.url)||!Xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gm(t,e)||!Xn(t.queryParams,e.queryParams);default:return!gm(t,e)}}(D,E,E.routeConfig.runGuardsAndResolvers);O?g.canActivateChecks.push(new eM(r)):(E.data=D.data,E._resolvedData=D._resolvedData),bl(t,e,E.component?P?P.children:null:n,r,g),O&&P&&P.outlet&&P.outlet.isActivated&&g.canDeactivateChecks.push(new mc(P.outlet.component,D))}else D&&Ml(e,P,g),g.canActivateChecks.push(new eM(r)),bl(t,null,E.component?P?P.children:null:n,r,g)})(D,E[D.value.outlet],n,r.concat([D.value]),g),delete E[D.value.outlet]}),Object.entries(E).forEach(([D,P])=>Ml(P,n.getContext(D),g)),g}function Ml(t,e,n){const r=Na(t),g=t.value;Object.entries(r).forEach(([E,D])=>{Ml(D,g.component?e?e.children.getContext(E):null:e,n)}),n.canDeactivateChecks.push(new mc(g.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,g))}function wl(t){return"function"==typeof t}function iM(t){return t instanceof ic||"EmptyError"===t?.name}const gc=Symbol("INITIAL_VALUE");function Ga(){return Wn(t=>ec(t.map(e=>e.pipe(cr(1),Tb(gc)))).pipe(Kt(e=>{for(const n of e)if(!0!==n){if(n===gc)return gc;if(!1===n||n instanceof Pa)return n}return!0}),Sn(e=>e!==gc),cr(1)))}function nM(t){return function hD(...t){return Eg(t)}(ei(e=>{if(Fa(e))throw Jb(0,e)}),Kt(e=>!0===e))}class Em{constructor(e){this.segmentGroup=e||null}}class Sm extends Error{constructor(e){super(),this.urlTree=e}}function Ua(t){return pl(new Em(t))}class Wz{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],g=n.root;for(;;){if(r=r.concat(g.segments),0===g.numberOfChildren)return Ft(r);if(g.numberOfChildren>1||!g.children[$t])return pl(new dt(4e3,!1));g=g.children[$t]}}applyRedirectCommands(e,n,r){const g=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Sm(g);return g}applyRedirectCreateUrlTree(e,n,r,g){const E=this.createSegmentGroup(e,n.root,r,g);return new Pa(E,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([g,E])=>{if("string"==typeof E&&E.startsWith(":")){const P=E.substring(1);r[g]=n[P]}else r[g]=E}),r}createSegmentGroup(e,n,r,g){const E=this.createSegments(e,n.segments,r,g);let D={};return Object.entries(n.children).forEach(([P,O])=>{D[P]=this.createSegmentGroup(e,O,r,g)}),new ye(E,D)}createSegments(e,n,r,g){return n.map(E=>E.path.startsWith(":")?this.findPosParam(e,E,g):this.findOrReturn(E,r))}findPosParam(e,n,r){const g=r[n.path.substring(1)];if(!g)throw new dt(4001,!1);return g}findOrReturn(e,n){let r=0;for(const g of n){if(g.path===e.path)return n.splice(r),g;r++}return e}}const Cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xz(t,e,n,r,g){const E=bm(t,e,n);return E.matched?(r=function dz(t,e){return t.providers&&!t._injector&&(t._injector=ah(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Vz(t,e,n,r){const g=e.canMatch;return g&&0!==g.length?Ft(g.map(D=>{const P=Ba(D,t);return Fr(function Rz(t){return t&&wl(t.canMatch)}(P)?P.canMatch(e,n):tr(t,()=>P(e,n)))})).pipe(Ga(),nM()):Ft(!0)}(r,e,n).pipe(Kt(D=>!0===D?E:{...Cm}))):Ft(E)}function bm(t,e,n){if("**"===e.path)return function Yz(t){return{matched:!0,parameters:t.length>0?Cb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Cm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const g=(e.matcher||b4)(n,t,e);if(!g)return{...Cm};const E={};Object.entries(g.posParams??{}).forEach(([P,O])=>{E[P]=O.path});const D=g.consumed.length>0?{...E,...g.consumed[g.consumed.length-1].parameters}:E;return{matched:!0,consumedSegments:g.consumed,remainingSegments:n.slice(g.consumed.length),parameters:D,positionalParamSegments:g.posParams??{}}}function rM(t,e,n,r){return n.length>0&&function $z(t,e,n){return n.some(r=>yc(t,e,r)&&kn(r)!==$t)}(t,n,r)?{segmentGroup:new ye(e,jz(r,new ye(n,t.children))),slicedSegments:[]}:0===n.length&&function Kz(t,e,n){return n.some(r=>yc(t,e,r))}(t,n,r)?{segmentGroup:new ye(t.segments,kz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function kz(t,e,n,r){const g={};for(const E of n)if(yc(t,e,E)&&!r[kn(E)]){const D=new ye([],{});g[kn(E)]=D}return{...r,...g}}function jz(t,e){const n={};n[$t]=e;for(const r of t)if(""===r.path&&kn(r)!==$t){const g=new ye([],{});n[kn(r)]=g}return n}function yc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Jz{}class t5{constructor(e,n,r,g,E,D,P){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=g,this.urlTree=E,this.paramsInheritanceStrategy=D,this.urlSerializer=P,this.applyRedirects=new Wz(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new dt(4002,`'${e.segmentGroup}'`)}recognize(){const e=rM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Kt(n=>{const r=new pm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),g=new Cn(r,n),E=new jb("",g),D=function Y4(t,e,n=null,r=null){return Nb(Lb(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return D.queryParams=this.urlTree.queryParams,E.url=this.urlSerializer.serialize(D),this.inheritParamsAndData(E._root,null),{state:E,tree:D}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$t).pipe(hs(r=>{if(r instanceof Sm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Em?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,g=dm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(g.params),r.data=Object.freeze(g.data),e.children.forEach(E=>this.inheritParamsAndData(E,r))}processSegmentGroup(e,n,r,g){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,g,!0).pipe(Kt(E=>E instanceof Cn?[E]:[]))}processChildren(e,n,r){const g=[];for(const E of Object.keys(r.children))"primary"===E?g.unshift(E):g.push(E);return ui(g).pipe(Aa(E=>{const D=r.children[E],P=function gz(t,e){const n=t.filter(r=>kn(r)===e);return n.push(...t.filter(r=>kn(r)!==e)),n}(n,E);return this.processSegmentGroup(e,P,D,E)}),function T4(t,e){return We(function x4(t,e,n,r,g){return(E,D)=>{let P=n,O=e,U=0;E.subscribe(Le(D,j=>{const Z=U++;O=P?t(O,j,Z):(P=!0,j),r&&D.next(O)},g&&(()=>{P&&D.next(O),D.complete()})))}}(t,e,arguments.length>=2,!0))}((E,D)=>(E.push(...D),E)),rc(null),function E4(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sn((g,E)=>t(g,E,r)):mr,em(1),n?rc(e):Eb(()=>new ic))}(),mi(E=>{if(null===E)return Ua(r);const D=sM(E);return function e5(t){t.sort((e,n)=>e.value.outlet===$t?-1:n.value.outlet===$t?1:e.value.outlet.localeCompare(n.value.outlet))}(D),Ft(D)}))}processSegment(e,n,r,g,E,D){return ui(n).pipe(Aa(P=>this.processSegmentAgainstRoute(P._injector??e,n,P,r,g,E,D).pipe(hs(O=>{if(O instanceof Em)return Ft(null);throw O}))),us(P=>!!P),hs(P=>{if(iM(P))return function Qz(t,e,n){return 0===e.length&&!t.children[n]}(r,g,E)?Ft(new Jz):Ua(r);throw P}))}processSegmentAgainstRoute(e,n,r,g,E,D,P){return function Zz(t,e,n,r){return!!(kn(t)===r||r!==$t&&yc(e,n,t))&&bm(e,t,n).matched}(r,g,E,D)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,g,r,E,D):this.allowRedirects&&P?this.expandSegmentAgainstRouteUsingRedirect(e,g,n,r,E,D):Ua(g):Ua(g)}expandSegmentAgainstRouteUsingRedirect(e,n,r,g,E,D){const{matched:P,consumedSegments:O,positionalParamSegments:U,remainingSegments:j}=bm(n,g,E);if(!P)return Ua(n);g.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Z=this.applyRedirects.applyRedirectCommands(O,g.redirectTo,U);return this.applyRedirects.lineralizeSegments(g,Z).pipe(mi(tt=>this.processSegment(e,r,n,tt.concat(j),D,!1)))}matchSegmentAgainstRoute(e,n,r,g,E){const D=Xz(n,r,g,e);return"**"===r.path&&(n.children={}),D.pipe(Wn(P=>P.matched?this.getChildConfig(e=r._injector??e,r,g).pipe(Wn(({routes:O})=>{const U=r._loadedInjector??e,{consumedSegments:j,remainingSegments:Z,parameters:tt}=P,et=new pm(j,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function n5(t){return t.data||{}}(r),kn(r),r.component??r._loadedComponent??null,r,function r5(t){return t.resolve||{}}(r)),{segmentGroup:it,slicedSegments:rt}=rM(n,j,Z,O);if(0===rt.length&&it.hasChildren())return this.processChildren(U,O,it).pipe(Kt(ft=>null===ft?null:new Cn(et,ft)));if(0===O.length&&0===rt.length)return Ft(new Cn(et,[]));const ot=kn(r)===E;return this.processSegment(U,O,it,rt,ot?$t:E,!0).pipe(Kt(ft=>new Cn(et,ft instanceof Cn?[ft]:[])))})):Ua(n)))}getChildConfig(e,n,r){return n.children?Ft({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ft({routes:n._loadedRoutes,injector:n._loadedInjector}):function Uz(t,e,n,r){const g=e.canLoad;return void 0===g||0===g.length?Ft(!0):Ft(g.map(D=>{const P=Ba(D,t);return Fr(function Mz(t){return t&&wl(t.canLoad)}(P)?P.canLoad(e,n):tr(t,()=>P(e,n)))})).pipe(Ga(),nM())}(e,n,r).pipe(mi(g=>g?this.configLoader.loadChildren(e,n).pipe(ei(E=>{n._loadedRoutes=E.routes,n._loadedInjector=E.injector})):function Hz(t){return pl(qb(!1,Ki.GuardRejected))}())):Ft({routes:[],injector:e})}}function i5(t){const e=t.value.routeConfig;return e&&""===e.path}function sM(t){const e=[],n=new Set;for(const r of t){if(!i5(r)){e.push(r);continue}const g=e.find(E=>r.value.routeConfig===E.value.routeConfig);void 0!==g?(g.children.push(...r.children),n.add(g)):e.push(r)}for(const r of n){const g=sM(r.children);e.push(new Cn(r.value,g))}return e.filter(r=>!n.has(r))}function aM(t){const e=t.children.map(n=>aM(n)).flat();return[t,...e]}function Mm(t){return Wn(e=>{const n=t(e);return n?ui(n).pipe(Kt(()=>e)):Ft(e)})}let oM=(()=>{class t{buildTitle(n){let r,g=n.root;for(;void 0!==g;)r=this.getResolvedTitleForRoute(g)??r,g=g.children.find(E=>E.outlet===$t);return r}getResolvedTitleForRoute(n){return n.data[vl]}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>gt(h5),providedIn:"root"})}return t})(),h5=(()=>{class t extends oM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(TV))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Va=new Tt("",{providedIn:"root",factory:()=>({})}),za=new Tt("");let wm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=gt(pC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ft(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Fr(n.loadComponent()).pipe(Kt(lM),ei(E=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=E}),sc(()=>{this.componentLoaders.delete(n)})),g=new xb(r,()=>new Ke).pipe(tm());return this.componentLoaders.set(n,g),g}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const E=function c5(t,e,n,r){return Fr(t.loadChildren()).pipe(Kt(lM),mi(g=>g instanceof wT||Array.isArray(g)?Ft(g):ui(e.compileModuleAsync(g))),Kt(g=>{r&&r(t);let E,D,P=!1;return Array.isArray(g)?(D=g,!0):(E=g.create(n).injector,D=E.get(za,[],{optional:!0,self:!0}).flat()),{routes:D.map(Tm),injector:E}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(sc(()=>{this.childrenLoaders.delete(r)})),D=new xb(E,()=>new Ke).pipe(tm());return this.childrenLoaders.set(r,D),D}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lM(t){return function f5(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Dm=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>gt(d5),providedIn:"root"})}return t})(),d5=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const uM=new Tt(""),hM=new Tt("");function p5(t,e,n){const r=t.get(hM),g=t.get(Ae);return t.get(ee).runOutsideAngular(()=>{if(!g.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(U=>setTimeout(U));let E;const D=new Promise(U=>{E=U}),P=g.startViewTransition(()=>(E(),function v5(t){return new Promise(e=>{op(e,{injector:t})})}(t))),{onViewTransitionCreated:O}=r;return O&&tr(t,()=>O({transition:P,from:e,to:n})),D})}let xc=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=gt(wm),this.environmentInjector=gt(Pi),this.urlSerializer=gt(Ia),this.rootContexts=gt(El),this.location=gt(ol),this.inputBindingEnabled=null!==gt(vc,{optional:!0}),this.titleStrategy=gt(oM),this.options=gt(Va,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=gt(Dm),this.createViewTransition=gt(uM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=g=>this.events.next(new iz(g)),this.configLoader.onLoadStartListener=g=>this.events.next(new ez(g))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,g){return this.transitions=new Gi({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tl,restoredState:null,currentSnapshot:g.snapshot,targetSnapshot:null,currentRouterState:g,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sn(E=>0!==E.id),Kt(E=>({...E,extractedUrl:this.urlHandlingStrategy.extract(E.rawUrl)})),Wn(E=>{let D=!1,P=!1;return Ft(E).pipe(Wn(O=>{if(this.navigationId>E.id)return this.cancelNavigationTransition(E,"",Ki.SupersededByNewNavigation),Hn;this.currentTransition=E,this.currentNavigation={id:O.id,initialUrl:O.rawUrl,extractedUrl:O.extractedUrl,trigger:O.source,extras:O.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const U=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!U&&"reload"!==(O.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const Z="";return this.events.next(new La(O.id,this.urlSerializer.serialize(O.rawUrl),Z,dc.IgnoredSameUrlNavigation)),O.resolve(null),Hn}if(this.urlHandlingStrategy.shouldProcessUrl(O.rawUrl))return Ft(O).pipe(Wn(Z=>{const tt=this.transitions?.getValue();return this.events.next(new fc(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),tt!==this.transitions?.getValue()?Hn:Promise.resolve(Z)}),function s5(t,e,n,r,g,E){return mi(D=>function qz(t,e,n,r,g,E,D="emptyOnly"){return new t5(t,e,n,r,g,D,E).recognize()}(t,e,n,r,D.extractedUrl,g,E).pipe(Kt(({state:P,tree:O})=>({...D,targetSnapshot:P,urlAfterRedirects:O}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ei(Z=>{E.targetSnapshot=Z.targetSnapshot,E.urlAfterRedirects=Z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects};const tt=new Hb(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(tt)}));if(U&&this.urlHandlingStrategy.shouldProcessUrl(O.currentRawUrl)){const{id:Z,extractedUrl:tt,source:et,restoredState:it,extras:rt}=O,ot=new fc(Z,this.urlSerializer.serialize(tt),et,it);this.events.next(ot);const ft=kb(this.rootComponentType).snapshot;return this.currentTransition=E={...O,targetSnapshot:ft,urlAfterRedirects:tt,extras:{...rt,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=tt,Ft(E)}{const Z="";return this.events.next(new La(O.id,this.urlSerializer.serialize(O.extractedUrl),Z,dc.IgnoredByUrlHandlingStrategy)),O.resolve(null),Hn}}),ei(O=>{const U=new J4(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(U)}),Kt(O=>(this.currentTransition=E={...O,guards:Tz(O.targetSnapshot,O.currentSnapshot,this.rootContexts)},E)),function Pz(t,e){return mi(n=>{const{targetSnapshot:r,currentSnapshot:g,guards:{canActivateChecks:E,canDeactivateChecks:D}}=n;return 0===D.length&&0===E.length?Ft({...n,guardsResult:!0}):function Iz(t,e,n,r){return ui(t).pipe(mi(g=>function Gz(t,e,n,r,g){const E=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return E&&0!==E.length?Ft(E.map(P=>{const O=Cl(e)??g,U=Ba(P,O);return Fr(function Az(t){return t&&wl(t.canDeactivate)}(U)?U.canDeactivate(t,e,n,r):tr(O,()=>U(t,e,n,r))).pipe(us())})).pipe(Ga()):Ft(!0)}(g.component,g.route,n,e,r)),us(g=>!0!==g,!0))}(D,r,g,t).pipe(mi(P=>P&&function bz(t){return"boolean"==typeof t}(P)?function Fz(t,e,n,r){return ui(e).pipe(Aa(g=>nc(function Lz(t,e){return null!==t&&e&&e(new nz(t)),Ft(!0)}(g.route.parent,r),function Oz(t,e){return null!==t&&e&&e(new sz(t)),Ft(!0)}(g.route,r),function Bz(t,e,n){const r=e[e.length-1],E=e.slice(0,e.length-1).reverse().map(D=>function Ez(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(D)).filter(D=>null!==D).map(D=>yb(()=>Ft(D.guards.map(O=>{const U=Cl(D.node)??n,j=Ba(O,U);return Fr(function Dz(t){return t&&wl(t.canActivateChild)}(j)?j.canActivateChild(r,t):tr(U,()=>j(r,t))).pipe(us())})).pipe(Ga())));return Ft(E).pipe(Ga())}(t,g.path,n),function Nz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ft(!0);const g=r.map(E=>yb(()=>{const D=Cl(e)??n,P=Ba(E,D);return Fr(function wz(t){return t&&wl(t.canActivate)}(P)?P.canActivate(e,t):tr(D,()=>P(e,t))).pipe(us())}));return Ft(g).pipe(Ga())}(t,g.route,n))),us(g=>!0!==g,!0))}(r,E,t,e):Ft(P)),Kt(P=>({...n,guardsResult:P})))})}(this.environmentInjector,O=>this.events.next(O)),ei(O=>{if(E.guardsResult=O.guardsResult,Fa(O.guardsResult))throw Jb(0,O.guardsResult);const U=new q4(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot,!!O.guardsResult);this.events.next(U)}),Sn(O=>!!O.guardsResult||(this.cancelNavigationTransition(O,"",Ki.GuardRejected),!1)),Mm(O=>{if(O.guards.canActivateChecks.length)return Ft(O).pipe(ei(U=>{const j=new _4(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(j)}),Wn(U=>{let j=!1;return Ft(U).pipe(function a5(t,e){return mi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:g}}=n;if(!g.length)return Ft(n);const E=new Set(g.map(O=>O.route)),D=new Set;for(const O of E)if(!D.has(O))for(const U of aM(O))D.add(U);let P=0;return ui(D).pipe(Aa(O=>E.has(O)?function o5(t,e,n,r){const g=t.routeConfig,E=t._resolve;return void 0!==g?.title&&!Kb(g)&&(E[vl]=g.title),function l5(t,e,n,r){const g=nm(t);if(0===g.length)return Ft({});const E={};return ui(g).pipe(mi(D=>function u5(t,e,n,r){const g=Cl(e)??r,E=Ba(t,g);return Fr(E.resolve?E.resolve(e,n):tr(g,()=>E(e,n)))}(t[D],e,n,r).pipe(us(),ei(P=>{E[D]=P}))),em(1),function S4(t){return Kt(()=>t)}(E),hs(D=>iM(D)?Hn:pl(D)))}(E,t,e,r).pipe(Kt(D=>(t._resolvedData=D,t.data=dm(t,t.parent,n).resolve,null)))}(O,r,t,e):(O.data=dm(O,O.parent,t).resolve,Ft(void 0))),ei(()=>P++),em(1),mi(O=>P===D.size?Ft(n):Hn))})}(this.paramsInheritanceStrategy,this.environmentInjector),ei({next:()=>j=!0,complete:()=>{j||this.cancelNavigationTransition(U,"",Ki.NoDataFromResolver)}}))}),ei(U=>{const j=new tz(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(j)}))}),Mm(O=>{const U=j=>{const Z=[];j.routeConfig?.loadComponent&&!j.routeConfig._loadedComponent&&Z.push(this.configLoader.loadComponent(j.routeConfig).pipe(ei(tt=>{j.component=tt}),Kt(()=>{})));for(const tt of j.children)Z.push(...U(tt));return Z};return ec(U(O.targetSnapshot.root)).pipe(rc(null),cr(1))}),Mm(()=>this.afterPreactivation()),Wn(()=>{const{currentSnapshot:O,targetSnapshot:U}=E,j=this.createViewTransition?.(this.environmentInjector,O.root,U.root);return j?ui(j).pipe(Kt(()=>E)):Ft(E)}),Kt(O=>{const U=function uz(t,e,n){const r=Sl(t,e._root,n?n._root:void 0);return new Yb(r,e)}(n.routeReuseStrategy,O.targetSnapshot,O.currentRouterState);return this.currentTransition=E={...O,targetRouterState:U},this.currentNavigation.targetRouterState=U,E}),ei(()=>{this.events.next(new um)}),((t,e,n,r)=>Kt(g=>(new xz(e,g.targetRouterState,g.currentRouterState,n,r).activate(t),g)))(this.rootContexts,n.routeReuseStrategy,O=>this.events.next(O),this.inputBindingEnabled),cr(1),ei({next:O=>{D=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects))),this.titleStrategy?.updateTitle(O.targetRouterState.snapshot),O.resolve(!0)},complete:()=>{D=!0}}),im(this.transitionAbortSubject.pipe(ei(O=>{throw O}))),sc(()=>{!D&&!P&&this.cancelNavigationTransition(E,"",Ki.SupersededByNewNavigation),this.currentTransition?.id===E.id&&(this.currentNavigation=null,this.currentTransition=null)}),hs(O=>{if(P=!0,_b(O))this.events.next(new Oa(E.id,this.urlSerializer.serialize(E.extractedUrl),O.message,O.cancellationCode)),function fz(t){return _b(t)&&Fa(t.url)}(O)?this.events.next(new hm(O.url)):E.resolve(!1);else{this.events.next(new pc(E.id,this.urlSerializer.serialize(E.extractedUrl),O,E.targetSnapshot??void 0));try{E.resolve(n.errorHandler(O))}catch(U){this.options.resolveNavigationPromiseOnError?E.resolve(!1):E.reject(U)}}return Hn}))}))}cancelNavigationTransition(n,r,g){const E=new Oa(n.id,this.urlSerializer.serialize(n.extractedUrl),r,g);this.events.next(E),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function m5(t){return t!==Tl}let g5=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>gt(x5),providedIn:"root"})}return t})();class y5{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let x5=(()=>{class t extends y5{static#t=this.\u0275fac=(()=>{let n;return function(g){return(n||(n=qf(t)))(g||t)}})();static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cM=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:()=>gt(T5),providedIn:"root"})}return t})(),T5=(()=>{class t extends cM{constructor(){super(...arguments),this.location=gt(ol),this.urlSerializer=gt(Ia),this.options=gt(Va,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=gt(Dm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof fc)this.stateMemento=this.createStateMemento();else if(n instanceof La)this.rawUrlTree=r.initialUrl;else if(n instanceof Hb){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const g=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(g,r)}}else n instanceof um?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Oa&&(n.code===Ki.GuardRejected||n.code===Ki.NoDataFromResolver)?this.restoreHistory(r):n instanceof pc?this.restoreHistory(r,!0):n instanceof fr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const g=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(g)||r.extras.replaceUrl){const D={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(g,"",D)}else{const E={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(g,"",E)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const E=this.currentPageId-this.browserPageId;0!==E?this.location.historyGo(E):this.currentUrlTree===n.finalUrl&&0===E&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#t=this.\u0275fac=(()=>{let n;return function(g){return(n||(n=qf(t)))(g||t)}})();static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Dl||{});function fM(t,e){t.events.pipe(Sn(n=>n instanceof fr||n instanceof Oa||n instanceof pc||n instanceof La),Kt(n=>n instanceof fr||n instanceof La?Dl.COMPLETE:n instanceof Oa&&(n.code===Ki.Redirect||n.code===Ki.SupersededByNewNavigation)?Dl.REDIRECTING:Dl.FAILED),Sn(n=>n!==Dl.REDIRECTING),cr(1)).subscribe(()=>{e()})}function E5(t){throw t}const S5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=gt(rC),this.stateManager=gt(cM),this.options=gt(Va,{optional:!0})||{},this.pendingTasks=gt(ia),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=gt(xc),this.urlSerializer=gt(Ia),this.location=gt(ol),this.urlHandlingStrategy=gt(Dm),this._events=new Ke,this.errorHandler=this.options.errorHandler||E5,this.navigated=!1,this.routeReuseStrategy=gt(g5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=gt(za,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!gt(vc,{optional:!0}),this.eventsSubscription=new Et,this.isNgZoneEnabled=gt(ee)instanceof ee&&ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const g=this.navigationTransitions.currentTransition,E=this.navigationTransitions.currentNavigation;if(null!==g&&null!==E)if(this.stateManager.handleRouterEvent(r,E),r instanceof Oa&&r.code!==Ki.Redirect&&r.code!==Ki.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fr)this.navigated=!0;else if(r instanceof hm){const D=this.urlHandlingStrategy.merge(r.url,g.currentRawUrl),P={info:g.extras.info,skipLocationChange:g.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||m5(g.source)};this.scheduleNavigation(D,Tl,null,P,{resolve:g.resolve,reject:g.reject,promise:g.promise})}(function M5(t){return!(t instanceof um||t instanceof hm)})(r)&&this._events.next(r)}catch(g){this.navigationTransitions.transitionAbortSubject.next(g)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,g){const E={replaceUrl:!0},D=g?.navigationId?g:null;if(g){const O={...g};delete O.navigationId,delete O.\u0275routerPageId,0!==Object.keys(O).length&&(E.state=O)}const P=this.parseUrl(n);this.scheduleNavigation(P,r,D,E)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Tm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:g,queryParams:E,fragment:D,queryParamsHandling:P,preserveFragment:O}=r,U=O?this.currentUrlTree.fragment:D;let Z,j=null;switch(P){case"merge":j={...this.currentUrlTree.queryParams,...E};break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=E||null}null!==j&&(j=this.removeEmptyProps(j));try{Z=Lb(g?g.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),Z=this.currentUrlTree.root}return Nb(Z,n,j,U??null)}navigateByUrl(n,r={skipLocationChange:!1}){const g=Fa(n)?n:this.parseUrl(n),E=this.urlHandlingStrategy.merge(g,this.rawUrlTree);return this.scheduleNavigation(E,Tl,null,r)}navigate(n,r={skipLocationChange:!1}){return function b5(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new dt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let g;if(g=!0===r?{...S5}:!1===r?{...C5}:r,Fa(n))return Mb(this.currentUrlTree,n,g);const E=this.parseUrl(n);return Mb(this.currentUrlTree,E,g)}removeEmptyProps(n){return Object.entries(n).reduce((r,[g,E])=>(null!=E&&(r[g]=E),r),{})}scheduleNavigation(n,r,g,E,D){if(this.disposed)return Promise.resolve(!1);let P,O,U;D?(P=D.resolve,O=D.reject,U=D.promise):U=new Promise((Z,tt)=>{P=Z,O=tt});const j=this.pendingTasks.add();return fM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(j))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:g,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:E,resolve:P,reject:O,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(Z=>Promise.reject(Z))}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tc=(()=>{class t{constructor(n,r,g,E,D,P){this.router=n,this.route=r,this.tabIndexAttribute=g,this.renderer=E,this.el=D,this.locationStrategy=P,this.href=null,this.commands=null,this.onChanges=new Ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const O=D.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===O||"area"===O,this.isAnchorElement?this.subscription=n.events.subscribe(U=>{U instanceof fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,g,E,D){const P=this.urlTree;return!!(null===P||this.isAnchorElement&&(0!==n||r||g||E||D||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(P,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function Vy(t,e,n){return function IP(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Uy:bd}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const g=this.renderer,E=this.el.nativeElement;null!==r?g.setAttribute(E,n,r):g.removeAttribute(E,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#t=this.\u0275fac=function(r){return new(r||t)(wt(gi),wt(fs),Xs("tabindex"),wt(th),wt(Ei),wt(ls))};static#e=this.\u0275dir=pe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,g){1&r&&ss("click",function(D){return g.onClick(D.button,D.ctrlKey,D.shiftKey,D.altKey,D.metaKey)}),2&r&&$o("target",g.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ni.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Sv],skipLocationChange:[ni.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Sv],replaceUrl:[ni.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Sv],routerLink:"routerLink"},standalone:!0,features:[MT,$r]})}return t})();class dM{}let A5=(()=>{class t{constructor(n,r,g,E,D){this.router=n,this.injector=g,this.preloadingStrategy=E,this.loader=D}setUpPreloading(){this.subscription=this.router.events.pipe(Sn(n=>n instanceof fr),Aa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const g=[];for(const E of r){E.providers&&!E._injector&&(E._injector=ah(E.providers,n,`Route: ${E.path}`));const D=E._injector??n,P=E._loadedInjector??D;(E.loadChildren&&!E._loadedRoutes&&void 0===E.canLoad||E.loadComponent&&!E._loadedComponent)&&g.push(this.preloadConfig(D,E)),(E.children||E._loadedRoutes)&&g.push(this.processRoutes(P,E.children??E._loadedRoutes))}return ui(g).pipe(dl())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let g;g=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ft(null);const E=g.pipe(mi(D=>null===D?Ft(void 0):(r._loadedRoutes=D.routes,r._loadedInjector=D.injector,this.processRoutes(D.injector??n,D.routes))));return r.loadComponent&&!r._loadedComponent?ui([E,this.loader.loadComponent(r)]).pipe(dl()):E})}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(gi),Ct(pC),Ct(Pi),Ct(dM),Ct(wm))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Am=new Tt("");let pM=(()=>{class t{constructor(n,r,g,E,D={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=g,this.zone=E,this.options=D,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=gt(Pi),D.scrollPositionRestoration||="disabled",D.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof La&&n.code===dc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wb&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var g=this;this.zone.runOutsideAngular(Yl(function*(){yield new Promise(E=>{setTimeout(()=>{E()}),op(()=>{E()},{injector:g.environmentInjector})}),g.zone.run(()=>{g.transitions.events.next(new Wb(n,"popstate"===g.lastSource?g.store[g.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(r){Gd()};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();function jn(t,e){return{\u0275kind:t,\u0275providers:e}}function mM(){const t=gt(Ii);return e=>{const n=t.get(Rr);if(e!==n.components[0])return;const r=t.get(gi),g=t.get(gM);1===t.get(Rm)&&r.initialNavigation(),t.get(yM,null,Jt.Optional)?.setUpPreloading(),t.get(Am,null,Jt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),g.closed||(g.next(),g.complete(),g.unsubscribe())}}const gM=new Tt("",{factory:()=>new Ke}),Rm=new Tt("",{providedIn:"root",factory:()=>1}),yM=new Tt("");function F5(t){return jn(0,[{provide:yM,useExisting:A5},{provide:dM,useExisting:t}])}function L5(t){return jn(9,[{provide:uM,useValue:p5},{provide:hM,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const xM=new Tt("ROUTER_FORROOT_GUARD"),N5=[ol,{provide:Ia,useClass:rm},gi,El,{provide:fs,useFactory:function vM(t){return t.routerState.root},deps:[gi]},wm,[]];let TM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[N5,[],{provide:za,multi:!0,useValue:n},{provide:xM,useFactory:V5,deps:[[gi,new Hr,new Ja]]},{provide:Va,useValue:r||{}},r?.useHash?{provide:ls,useClass:_3}:{provide:ls,useClass:s1},{provide:Am,useFactory:()=>{const t=gt(TU),e=gt(ee),n=gt(Va),r=gt(xc),g=gt(Ia);return n.scrollOffset&&t.setOffset(n.scrollOffset),new pM(g,r,t,e,n)}},r?.preloadingStrategy?F5(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?z5(r):[],r?.bindToComponentInputs?jn(8,[Zb,{provide:vc,useExisting:Zb}]).\u0275providers:[],r?.enableViewTransitions?L5().\u0275providers:[],[{provide:EM,useFactory:mM},{provide:cv,multi:!0,useExisting:EM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:za,multi:!0,useValue:n}]}}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(xM,8))};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({})}return t})();function V5(t){return"guarded"}function z5(t){return["disabled"===t.initialNavigation?jn(3,[{provide:uv,multi:!0,useFactory:()=>{const e=gt(gi);return()=>{e.setUpLocationChangeListener()}}},{provide:Rm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?jn(2,[{provide:Rm,useValue:0},{provide:uv,multi:!0,deps:[Ii],useFactory:e=>{const n=e.get(J3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const g=e.get(gi),E=e.get(gM);fM(g,()=>{r(!0)}),e.get(xc).afterPreactivation=()=>(r(!0),E.closed?Ft(void 0):E),g.initialNavigation()}))}}]).\u0275providers:[]]}const EM=new Tt("");var W5=zr(945),He=zr.n(W5);class we{constructor(){this.audioFiles={}}static getInstance(){return we.instance||(we.instance=new we),we.instance}preloadAudio(e){[{key:"zahlenerkl",file:"assets/sounds/scene_1/zahlen_erkl.mp3"},{key:"zahlentext",file:"assets/sounds/scene_1/zahlen_text.mp3"},{key:"groesserals",file:"assets/sounds/groesserals.mp3"},{key:"kleinerals",file:"assets/sounds/kleinerals.mp3"},{key:"mengenerkl",file:"assets/sounds/scene_2/mengen_erkl.mp3"},{key:"mengentext",file:"assets/sounds/scene_2/mengen_text.mp3"},{key:"pluserkl",file:"assets/sounds/plus_erkl.mp3"},{key:"plus_scene3",file:"assets/sounds/plus_scene3.mp3"},{key:"plusoperation",file:"assets/sounds/plus.mp3"},{key:"nochmalspielen",file:"assets/sounds/nochmal_spielen.mp3"},{key:"rightanswer",file:"assets/sounds/rightanswer.mp3"},{key:"istgleich",file:"assets/sounds/istgleich.mp3"},{key:"0",file:"assets/sounds/zahlen/0.mp3"},{key:"1",file:"assets/sounds/zahlen/1.mp3"},{key:"2",file:"assets/sounds/zahlen/2.mp3"},{key:"3",file:"assets/sounds/zahlen/3.mp3"},{key:"4",file:"assets/sounds/zahlen/4.mp3"},{key:"5",file:"assets/sounds/zahlen/5.mp3"},{key:"6",file:"assets/sounds/zahlen/6.mp3"},{key:"7",file:"assets/sounds/zahlen/7.mp3"},{key:"8",file:"assets/sounds/zahlen/8.mp3"},{key:"9",file:"assets/sounds/zahlen/9.mp3"}].forEach(r=>{e.load.audio(r.key,r.file)})}playAudioByKey(e,n){let r=this.audioFiles[n];if(!r){if(r=e.sound.add(n),!r)return void console.error(`Fehler: Audio-Objekt konnte f\xfcr den Schl\xfcssel '${n}' nicht geladen werden.`);this.audioFiles[n]=r}r.play()}stopAllAudio(){for(const e in this.audioFiles)this.audioFiles[e].isPlaying&&this.audioFiles[e].stop()}destroyAllAudio(){for(const e in this.audioFiles)this.audioFiles[e].destroy(),delete this.audioFiles[e]}}class X5 extends He().GameObjects.Image{constructor(e,n,r,g){super(e,n,r,g),this.setScale(.2),this.setInteractive({draggable:!0}),this.originalX=n,this.originalY=r,this.isDragging=!1,this.isOverSquare=!1,this.scene1=e,this.on("dragstart",E=>{e.children.bringToTop(this),this.isDragging=!0}),this.on("drag",(E,D,P)=>{if(this.isDragging){this.x=D,this.y=P;const O=bn.instance.emptySquare;O&&He().Geom.Rectangle.Contains(O.getBounds(),this.x,this.y)?(this.x=O.x,this.y=O.y,this.isOverSquare=!0):this.isOverSquare=!1}}),this.on("dragend",()=>{if(this.isDragging=!1,this.isOverSquare){const E=bn.instance.itemsInScene;console.log(`Anzahl der Apfelbilder: ${E}`),E===parseInt(g)?(console.log("Die Antwort ist richtig!"),bn.instance.correctAnswersCount<5?(bn.instance.clearScene(),this.scene.add.image(this.scene.cameras.main.width/2,350,"gehirnsuper").setScale(1),setTimeout(()=>{bn.instance.generateEquationsIfNeeded()},1e3)):5==bn.instance.correctAnswersCount&&(bn.instance.end(),this.createPopup())):setTimeout(()=>{this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,ease:"Linear",duration:800})},1e3)}else this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,ease:"Linear",duration:800})})}createPopup(){var e=this.scene.add.container(this.scene.cameras.main.width/2,this.scene.cameras.main.height/2),n=this.scene.add.graphics();n.fillStyle(16777215,.7),n.fillRect(-200,-90,400,180),n.lineStyle(5,0),n.strokeRect(-200,-90,400,180),e.add(n);var D=this.scene.add.text(-180,-60,"M\xf6chtest du nochmal spielen?",{fontSize:"20px",font:"bold 25px Arial",color:"#000000"});e.add(D),D.setInteractive(),D.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"nochmalspielen")});var P=this.scene.add.image(-90,30,"daumenhoch").setScale(.13);P.setInteractive(),P.on("pointerdown",function(){console.log("Ja wurde geklickt"),e.destroy(),bn.instance.clearAllandStartNew()}),e.add(P);var O=this.scene.add.image(50,30,"daumenrunter").setScale(.15);O.setInteractive(),O.on("pointerdown",()=>{console.log("Nein wurde geklickt"),e.destroy(),this.scene1.navigateToSceneComponent()}),e.add(O)}}class Pm{constructor(e){this.scene=e}addStar(e,n){const P=this.scene.add.image(this.scene.cameras.main.width/2-550+100*e,70,"star").setScale(.1);this.scene.sound.add("rightanswer").play(),n.push(P)}}class bn{constructor(e){this.stars=[],this.itemImages=[],this.clickCount=0,bn.instance=this,this.scene=e,this.correctAnswersCount=1,this.itemsInScene=He().Math.Between(0,9),console.log("Items in der Szene: "+this.itemsInScene),this.currentItemKey=this.getRandomItemKey(),this.emptySquare=this.scene.add.image(-50,0,""),this.generateItemsInScene(),this.createQuestionButton(),this.starController=new Pm(e)}getRandomItemKey(){const e=["apfel","strawberry"];return e[He().Math.Between(0,e.length-1)]}generateItemsInScene(){const e=this.scene.cameras.main.width/2,n=this.scene.cameras.main.height/2;this.emptySquare=this.scene.add.image(e-200,n-100,"square").setScale(.6).setInteractive(),this.scene.add.image(e,n-100,"gleich").setScale(.1);const g=350;this.scene.add.graphics({fillStyle:{color:3381555}}).fillRect(e+250-175,n-100-175,g,g);const O=g/3,U=g/3,j=[];let Z=0;for(let tt=0;tt<3;tt++){for(let et=0;et<3&&!(Z>=this.itemsInScene);et++){const it=e+250-175+(et+.5)*O,rt=n-100-175+(tt+.5)*U;j.push(new(He().Math.Vector2)(it,rt)),Z++}if(Z>=this.itemsInScene)break}j.forEach((tt,et)=>{const it=this.scene.add.graphics({fillStyle:{color:3381555}});it.fillRect(tt.x-O/2,tt.y-U/2,O,U);const rt=this.scene.add.image(tt.x,tt.y,this.currentItemKey).setScale(.15);this.itemImages.push({image:rt,clicked:!1,cellGraphics:it}),rt.setInteractive(),rt.on("pointerdown",()=>{this.countItems(et)})});for(let tt=0;tt<=9;tt++){const et=new X5(this.scene,90*tt+110,550,`${tt}`);this.scene.add.existing(et),et.setInteractive(),et.on("pointerdown",()=>{this.speakNumber(`${tt}`)})}}speakNumber(e){we.getInstance().playAudioByKey(this.scene,`${e}`)}generateEquationsIfNeeded(){this.correctAnswersCount++,console.log(`Richtige Antwort! Fortschritt: ${this.correctAnswersCount}/5`),this.clearScene(),this.starController.addStar(this.correctAnswersCount,this.stars),this.itemsInScene=He().Math.Between(0,9),this.currentItemKey=this.getRandomItemKey(),this.generateItemsInScene(),this.createQuestionButton()}clearScene(){this.scene.children.removeAll(),this.scene.add.image(0,-10,"hintergrundwiese").setOrigin(0).setScale(.214),this.stars.forEach(e=>{this.scene.add.existing(e)}),this.itemImages=[],this.resetColorsandCountItems()}end(){this.correctAnswersCount++,console.log("Richtige Antwort! Fortschritt: "+this.correctAnswersCount+"/5"),this.clearScene(),this.starController.addStar(this.correctAnswersCount,this.stars),this.createQuestionButton()}createQuestionButton(){const e=this.scene.add.image(this.scene.cameras.main.width-40,10,"gehirnfragezeichen").setScale(.2);e.setOrigin(1,0),e.setInteractive(),e.on("pointerdown",()=>{const n=this.scene.add.video(this.scene.cameras.main.width/2,this.scene.cameras.main.height/2,"zahlener");n.play(),n.on("complete",()=>{n.destroy()})})}countItems(e){const n=this.itemImages[e];n.clicked?this.speakNumber("den hast du schon"):(this.speakNumber(`${this.clickCount+1}`),n.clicked=!0,n.cellGraphics.fillStyle(65280),n.cellGraphics.fillRect(n.image.x-n.image.displayWidth/2,n.image.y-n.image.displayHeight/2,n.image.displayWidth,n.image.displayHeight),this.clickCount++,this.clickCount>=this.itemsInScene&&(this.clickCount=0,this.itemImages.forEach(r=>{r.clicked=!1,r.cellGraphics.clear(),r.cellGraphics.fillStyle(3381555),r.cellGraphics.fillRect(r.image.x-r.image.displayWidth/2,r.image.y-r.image.displayHeight/2,r.image.displayWidth,r.image.displayHeight)})))}resetColorsandCountItems(){this.clickCount=0,this.itemImages.forEach(e=>{e.clicked&&(e.cellGraphics.clear(),e.cellGraphics.fillStyle(3381555),e.cellGraphics.fillRect(e.image.x-15,e.image.y-15,30,30))}),this.clickCount=0}clearAllandStartNew(){this.scene.children.removeAll(),this.scene.add.image(0,-10,"hintergrundwiese").setOrigin(0).setScale(.214),this.correctAnswersCount=1,this.stars=[],this.currentItemKey=this.getRandomItemKey(),this.generateItemsInScene(),this.createQuestionButton()}}let Y5=(()=>{class t{constructor(n){this.router=n}navigateToSceneSelector(){console.log("singelton.service"),this.router.navigate(["sceneSelector"])}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(gi))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ec=(()=>{class t{constructor(n,r){this.router=n,this.singletonService=r,this.title="game",t.singletonService=r}static#t=this.\u0275fac=function(r){return new(r||t)(wt(gi),wt(Y5))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,g){1&r&&ze(0,"router-outlet")},dependencies:[ym]})}return t})();class Or{constructor(){this.imageFiles={}}static getInstance(){return Or.instance||(Or.instance=new Or),Or.instance}preloadImage(e){for(let r=0;r<=9;r++)e.load.image(`${r}`,`assets/numbers/${r}.png`);[{key:"apfel",file:"assets/bilder/apfel.png"},{key:"blauessquare",file:"assets/bilder/blauessquare.png"},{key:"hintergrundwiese",file:"assets/hintergrund/wiese.jpg"},{key:"strawberry",file:"assets/bilder/strawberry.png"},{key:"kleinerals",file:"assets/operationen/kleinerals.png"},{key:"groesserals",file:"assets/operationen/groesserals.png"},{key:"hintergrundblume",file:"assets/hintergrund/blumen.jpg"},{key:"gehirnmengen",file:"assets/bilder/gehirnmengen.png"},{key:"plus",file:"assets/operationen/plus.png"},{key:"hintergrundwald",file:"assets/hintergrund/wald.jpg"},{key:"square",file:"assets/operationen/square.png"},{key:"gleich",file:"assets/operationen/gleich.png"},{key:"gehirn",file:"assets/animations/gehirn.png"},{key:"gehirnfragezeichen",file:"assets/animations/gehirnfragezeichen.png"},{key:"gehirnsuper",file:"assets/animations/gehirnsuper.png"},{key:"star",file:"assets/animations/star.png"},{key:"istgleich",file:"assets/operationen/istgleich.png"},{key:"daumenhoch",file:"assets/bilder/daumen_hoch.png"},{key:"daumenrunter",file:"assets/bilder/daumen_runter.png"}].forEach(r=>{e.load.image(r.key,r.file)})}showImageByKey(e,n,r,g,E=1){return e.textures.exists(n)?e.add.image(r,g,n).setScale(E):(console.error(`Bilddatei mit dem Schl\xfcssel "${n}" nicht gefunden.`),null)}}class k5 extends He().Scene{constructor(e){super({key:"1"}),this.router=e}preload(){we.getInstance().preloadAudio(this),Or.getInstance().preloadImage(this),this.load.video("zahlener","assets/videos/ZahlenErklaerung.mp4")}create(){this.add.image(0,-10,"hintergrundwiese").setOrigin(0).setScale(.214),this.time.delayedCall(2e3,()=>{this.gehirn=this.add.image(150,500,"gehirn").setScale(.5),this.createSpeechBubble({x:280,y:150,width:320,height:160,quote:"Z\xe4hle die Bilder ab und ziehe die richtige Zahl in das leere Quadrat, wenn du Hilfe brauchst klicke einfach auf das Gehirn mit den Fragezeichen oben in der Ecke. Viel Spa\xdf beim Zahlen lernen!"}),we.getInstance().playAudioByKey(this,"zahlenerkl")},[],this),this.time.delayedCall(15e3,()=>{this.removeGehirnAndBubble(),this.operationController=new bn(this)},[],this)}createSpeechBubble({x:e,y:n,quote:E}){this.bubble=this.add.graphics({x:e,y:n}),this.bubble.fillStyle(2236962,.5),this.bubble.fillRoundedRect(6,6,400,200,16),this.bubble.fillStyle(16777215,1),this.bubble.lineStyle(4,5658198,1),this.bubble.strokeRoundedRect(0,0,400,200,16),this.bubble.fillRoundedRect(0,0,400,200,16);const j=Math.floor(400/7),tt=Math.floor(400/7*2),it=Math.floor(400/7),rt=Math.floor(250);this.bubble.lineStyle(4,2236962,.5),this.bubble.lineBetween(tt-1,206,it+2,rt),this.bubble.fillTriangle(j,200,tt,200,it,rt),this.bubble.lineStyle(2,5658198,1),this.bubble.lineBetween(tt,200,it,rt),this.bubble.lineBetween(j,200,it,rt),this.bubbleText=this.add.text(0,0,E,{fontFamily:"Arial",fontSize:25,color:"#000000",align:"center",wordWrap:{width:380}});const ot=this.bubbleText.getBounds();this.bubbleText.setPosition(this.bubble.x+200-ot.width/2,this.bubble.y+100-ot.height/2)}removeGehirnAndBubble(){this.gehirn.destroy(),this.bubble.destroy(),this.bubbleText.destroy()}get singletonService(){return Ec.singletonService}navigateToSceneComponent(){we.getInstance().destroyAllAudio(),we.getInstance().stopAllAudio(),this.router.navigate(["sceneSelector"])}setRouter(e){this.router=e}}let Al=null;class Im extends He().GameObjects.Image{constructor(e,n,r,g){super(e,n,r,g),this.setScale(.2),this.setInteractive({draggable:!0}),this.originalX=n,this.originalY=r,this.isDragging=!1,this.isOverSquare=!1,this.scene2=e,this.on("dragstart",E=>{e.children.bringToTop(this),this.isDragging=!0}),this.on("drag",(E,D,P)=>{if(this.isDragging){this.x=D,this.y=P;const O=sn.instance.emptySquare;O&&He().Geom.Rectangle.Contains(O.getBounds(),this.x,this.y)?(Al=g,this.x=O.x,this.y=O.y,this.isOverSquare=!0):(this.isOverSquare=!1,Al=null)}}),this.on("dragend",()=>{this.isDragging=!1,this.isOverSquare&&null!==Al?(console.log(`Die gezogene Zahl ist: ${Al}`),this.checkOperation()?(console.log("Die Antwort ist richtig!"),sn.instance.correctAnswersCount<5?(sn.instance.clearScene(),this.scene.add.image(this.scene.cameras.main.width/2,400,"gehirnsuper").setScale(1),setTimeout(()=>{sn.instance.generateEquationsIfNeeded()},1500)):5==sn.instance.correctAnswersCount&&(sn.instance.end(),this.createPopup())):setTimeout(()=>{this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,ease:"Linear",duration:800})},1e3)):this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,ease:"Linear",duration:800})})}checkOperation(){const e=sn.instance.firstNumber,n=sn.instance.secondNumber;switch(Al){case"kleinerals":return parseInt(e)<parseInt(n);case"istgleich":return parseInt(e)==parseInt(n);case"groesserals":return parseInt(e)>parseInt(n);default:return!1}}createPopup(){var e=this.scene.add.container(this.scene.cameras.main.width/2,this.scene.cameras.main.height/2),n=this.scene.add.graphics();n.fillStyle(16777215,.7),n.fillRect(-200,-90,400,180),n.lineStyle(5,0),n.strokeRect(-200,-90,400,180),e.add(n);var D=this.scene.add.text(-180,-60,"M\xf6chtest du nochmal spielen?",{fontSize:"20px",font:"bold 25px Arial",color:"#000000"});e.add(D),D.setInteractive(),D.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"nochmalspielen")});var P=this.scene.add.image(-90,30,"daumenhoch").setScale(.13);P.setInteractive(),P.on("pointerdown",function(){console.log("Ja wurde geklickt"),e.destroy(),sn.instance.clearAllandStartNew()}),e.add(P);var O=this.scene.add.image(50,30,"daumenrunter").setScale(.15);O.setInteractive(),O.on("pointerdown",()=>{console.log("Nein wurde geklickt"),e.destroy(),this.scene2.navigateToSceneComponent()}),e.add(O)}}class sn{constructor(e){this.stars=[],sn.instance=this,this.scene=e,this.correctAnswersCount=1,this.firstNumber="",this.secondNumber="",this.emptySquare=this.scene.add.image(-50,0,""),this.generateNewEquation(),this.createQuestionButton(),this.star=this.scene.add.image(-50,0,""),this.starController=new Pm(e)}generateNewEquation(){this.firstNumber=He().Math.Between(0,9).toString(),this.secondNumber=He().Math.Between(0,9).toString(),console.log("First Number: "+this.firstNumber),console.log("Second Number: "+this.secondNumber);const e=this.scene.cameras.main.width/2,n=this.scene.cameras.main.height/2;this.emptySquare=this.scene.add.image(e,350,"square").setScale(.6).setInteractive();const r=this.scene.add.image(e-200,350,this.firstNumber).setScale(.2).setInteractive(),g=this.scene.add.image(e+200,350,this.secondNumber).setScale(.2).setInteractive();this.scene.add.existing(r),this.scene.add.existing(g),r.on("pointerdown",()=>{this.playNumberAudio(this.firstNumber)}),g.on("pointerdown",()=>{this.playNumberAudio(this.secondNumber)});const E=new Im(this.scene,e-270,n+200,"kleinerals"),D=new Im(this.scene,e,n+200,"istgleich"),P=new Im(this.scene,e+270,n+200,"groesserals");this.scene.add.image(e-330,n+200,"gehirnmengen").setScale(.05),this.scene.add.image(e-210,n+200,"gehirnmengen").setScale(.1),this.scene.add.image(e-70,n+200,"gehirnmengen").setScale(.1),this.scene.add.image(e+70,n+200,"gehirnmengen").setScale(.1),this.scene.add.image(e+330,n+200,"gehirnmengen").setScale(.05),this.scene.add.image(e+210,n+200,"gehirnmengen").setScale(.1),this.scene.add.existing(E),this.scene.add.existing(D),this.scene.add.existing(P),E.setInteractive(),D.setInteractive(),P.setInteractive(),E.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"kleinerals")}),P.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"groesserals")}),D.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"istgleich")}),this.mengentext()}generateEquationsIfNeeded(){this.correctAnswersCount++,console.log("Richtige Antwort! Fortschritt: "+this.correctAnswersCount+"/5"),this.clearScene(),this.starController.addStar(this.correctAnswersCount,this.stars),this.generateNewEquation(),this.createQuestionButton()}end(){this.correctAnswersCount++,console.log("Richtige Antwort! Fortschritt: "+this.correctAnswersCount+"/5"),this.clearScene(),this.starController.addStar(this.correctAnswersCount,this.stars),this.createQuestionButton()}clearScene(){this.scene.children.removeAll(),this.scene.add.image(0,0,"hintergrundblume").setOrigin(0).setScale(.9),this.stars.forEach(e=>{this.scene.add.existing(e)})}mengentext(){const e=this.scene.add.text(180,150,"Ziehe das richtige Symbol in das leere Quadrat!",{font:"bold 32px Arial",color:"0xffffff"});e.setInteractive(),e.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"mengentext")})}playNumberAudio(e){we.getInstance().playAudioByKey(this.scene,`${e}`)}createQuestionButton(){const e=this.scene.add.image(this.scene.cameras.main.width-40,40,"gehirnfragezeichen").setScale(.2);e.setOrigin(1,0),e.setInteractive(),e.on("pointerdown",()=>{const n=this.scene.add.video(this.scene.cameras.main.width/2,this.scene.cameras.main.height/2,"mengener");n.play(),n.on("complete",()=>{n.destroy()})})}clearAllandStartNew(){this.scene.children.removeAll(),this.scene.add.image(0,0,"hintergrundblume").setOrigin(0).setScale(.9),this.correctAnswersCount=1,this.stars=[],this.generateNewEquation(),this.createQuestionButton()}}class j5 extends He().Scene{constructor(e,n){super({key:"2"}),this.router=e}preload(){we.getInstance().preloadAudio(this),Or.getInstance().preloadImage(this),this.load.video("mengener","assets/videos/MengenErklaerung.mp4")}create(){this.add.image(0,-10,"hintergrundblume").setOrigin(0).setScale(.9),this.time.delayedCall(1e3,()=>{this.gehirn=this.add.image(150,500,"gehirn").setScale(.5),this.createSpeechBubble({x:280,y:150,width:320,height:160,quote:"Ziehe das richtige Symbol in das leere Quadrat. Wenn du Hilfe brauchst mit den Mengenzeichen, klicke  einfach auf das Gehirn mit den Fragezeichen oben in der Ecke. Viel Spa\xdf beim Mengen lernen!"}),we.getInstance().playAudioByKey(this,"mengenerkl")},[],this),this.time.delayedCall(15e3,()=>{this.removeGehirnAndBubble(),this.operationController=new sn(this)},[],this)}createSpeechBubble({x:e,y:n,quote:E}){this.bubble=this.add.graphics({x:e,y:n}),this.bubble.fillStyle(2236962,.5),this.bubble.fillRoundedRect(6,6,420,220,16),this.bubble.fillStyle(16777215,1),this.bubble.lineStyle(4,5658198,1),this.bubble.strokeRoundedRect(0,0,420,220,16),this.bubble.fillRoundedRect(0,0,420,220,16);const j=Math.floor(60),tt=Math.floor(120),it=Math.floor(60),rt=Math.floor(275);this.bubble.lineStyle(4,2236962,.5),this.bubble.lineBetween(tt-1,226,it+2,rt),this.bubble.fillTriangle(j,220,tt,220,it,rt),this.bubble.lineStyle(2,5658198,1),this.bubble.lineBetween(tt,220,it,rt),this.bubble.lineBetween(j,220,it,rt),this.bubbleText=this.add.text(0,0,E,{fontFamily:"Arial",fontSize:25,color:"#000000",align:"center",wordWrap:{width:400}});const ot=this.bubbleText.getBounds();this.bubbleText.setPosition(this.bubble.x+210-ot.width/2,this.bubble.y+110-ot.height/2)}removeGehirnAndBubble(){this.gehirn.destroy(),this.bubble.destroy(),this.bubbleText.destroy()}get singletonService(){return Ec.singletonService}navigateToSceneComponent(){console.log("SingletonService:",this.singletonService),this.singletonService?this.singletonService.navigateToSceneSelector():console.error("SingletonService is undefined.")}}let Fm,Rl=null;class $5 extends He().GameObjects.Image{constructor(e,n,r,g){super(e,n,r,g),this.setScale(.2),this.setInteractive({draggable:!0}),this.originalX=n,this.originalY=r,this.isDragging=!1,this.isOverSquare=!1,this.scene3=e,this.on("dragstart",E=>{e.children.bringToTop(this),this.isDragging=!0}),this.on("drag",(E,D,P)=>{if(this.isDragging){this.x=D,this.y=P;const O=an.instance.emptySquare;O&&He().Geom.Rectangle.Contains(O.getBounds(),this.x,this.y)?(Rl=g,this.x=O.x,this.y=O.y,this.isOverSquare=!0):(this.isOverSquare=!1,Rl=null)}}),this.on("dragend",()=>{this.isDragging=!1,this.isOverSquare&&null!==Rl?(console.log(`Die gezogene Zahl ist: ${Rl}`),parseInt(Rl)+parseInt(an.instance.secondNumber)===parseInt(an.instance.result)?(console.log("Die Antwort ist richtig!"),an.instance.correctAnswersCount<5?(an.instance.clearScene(),this.scene.add.image(this.scene.cameras.main.width/2,400,"gehirnsuper").setScale(1),setTimeout(()=>{an.instance.generateEquationsIfNeeded()},1500)):5==an.instance.correctAnswersCount&&(an.instance.end(),this.createPopup())):setTimeout(()=>{this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,ease:"Linear",duration:800})},1e3)):this.scene.tweens.add({targets:this,x:this.originalX,y:this.originalY,ease:"Linear",duration:800})})}createPopup(){var e=this.scene.add.container(this.scene.cameras.main.width/2,this.scene.cameras.main.height/2),n=this.scene.add.graphics();n.fillStyle(16777215,.7),n.fillRect(-200,-90,400,180),n.lineStyle(5,0),n.strokeRect(-200,-90,400,180),e.add(n);var D=this.scene.add.text(-180,-60,"M\xf6chtest du nochmal spielen?",{fontSize:"20px",font:"bold 25px Arial",color:"#000000"});e.add(D),D.setInteractive(),D.on("pointerdown",()=>{this.scene.sound.add("nochmalspielen").play()});var P=this.scene.add.image(-90,30,"daumenhoch").setScale(.13);P.setInteractive(),P.on("pointerdown",function(){console.log("Ja wurde geklickt"),e.destroy(),an.instance.clearAllandStartNew()}),e.add(P);var O=this.scene.add.image(50,30,"daumenrunter").setScale(.15);O.setInteractive(),O.on("pointerdown",()=>{console.log("Nein wurde geklickt"),e.destroy(),this.scene3.navigateToSceneComponent()}),e.add(O)}}class an{constructor(e){this.stars=[],an.instance=this,this.scene=e,this.correctAnswersCount=1,this.firstNumber="",this.secondNumber="",this.result="",this.plusSign=this.scene.add.image(-50,0,""),this.emptySquare=this.scene.add.image(-50,0,""),this.generateNewEquation(),this.createQuestionButton(),this.star=this.scene.add.image(-50,0,""),this.starController=new Pm(e)}generateNewEquation(){this.secondNumber=He().Math.Between(1,4).toString(),this.result=(parseInt(this.secondNumber)+He().Math.Between(1,5)).toString(),console.log("secondNumber: "+this.secondNumber),console.log("result: "+this.result);const e=this.scene.cameras.main.width/2;this.emptySquare=this.scene.add.image(e-200,300,"square").setScale(.6).setInteractive(),this.plusSign=this.scene.add.image(e,300,"plus").setScale(.05),this.scene.add.image(e+100,300,this.secondNumber).setScale(.2).setInteractive(),this.scene.add.image(e+200,300,"gleich").setScale(.1),this.scene.add.image(e+300,300,this.result).setScale(.2).setInteractive();for(let r=1;r<=9;r++){const g=new $5(this.scene,100*r,550,`${r}`);this.scene.add.existing(g),g.setInteractive(),g.on("pointerdown",()=>{this.speakNumber(`${r}`)})}this.emptySquare.on("pointerdown",()=>{this.playSoundRechnung()});var n=this.scene.add.text(100,150,"Ziehe eine Zahl in das leere Feld zum L\xf6sen der Rechnung!",{font:"bold 32px Arial",color:"0xffffff"});n.setInteractive(),n.on("pointerdown",()=>{we.getInstance().playAudioByKey(this.scene,"plus_scene3")})}generateEquationsIfNeeded(){this.correctAnswersCount++,console.log("Richtige Antwort! Fortschritt: "+this.correctAnswersCount+"/5"),this.clearScene(),this.starController.addStar(this.correctAnswersCount,this.stars),this.generateNewEquation(),this.createQuestionButton()}end(){this.correctAnswersCount++,console.log("Richtige Antwort! Fortschritt: "+this.correctAnswersCount+"/5"),this.clearScene(),this.starController.addStar(this.correctAnswersCount,this.stars),this.createQuestionButton()}clearAllandStartNew(){this.scene.children.removeAll(),this.scene.add.image(0,0,"hintergrundwald").setOrigin(0).setScale(.2),this.correctAnswersCount=1,this.stars=[],this.generateNewEquation(),this.createQuestionButton()}clearScene(){this.scene.children.removeAll(),this.scene.add.image(0,0,"hintergrundwald").setOrigin(0).setScale(.2),this.stars.forEach(e=>{this.scene.add.existing(e)})}speakNumber(e){we.getInstance().playAudioByKey(this.scene,`${e}`)}playSoundRechnung(){this.playEquationSound(["plusoperation",`${this.secondNumber}`,"istgleich",`${this.result}`],0)}playEquationSound(e,n){if(n<e.length){const g=this.scene.sound.add(e[n]);g.on("complete",()=>{this.playEquationSound(e,n+1)}),g.play()}}createQuestionButton(){const e=this.scene.add.image(this.scene.cameras.main.width-40,40,"gehirnfragezeichen").setScale(.2);e.setOrigin(1,0),e.setInteractive(),e.on("pointerdown",()=>{const n=this.scene.add.video(this.scene.cameras.main.width/2,this.scene.cameras.main.height/2,"pluser");n.play(),n.on("complete",()=>{n.destroy()})})}}class K5 extends He().Scene{constructor(e,n){super({key:"3"}),this.router=e}preload(){we.getInstance().preloadAudio(this),Or.getInstance().preloadImage(this),this.load.video("pluser","assets/videos/PlusrechnungErklaerung.mp4")}create(){this.add.image(0,0,"hintergrundwald").setOrigin(0).setScale(.2),this.time.delayedCall(1e3,()=>{this.gehirn=this.add.image(150,500,"gehirn").setScale(.5),this.createSpeechBubble({x:250,y:200,width:320,height:160,quote:"L\xf6se diese Plusrechnung, du musst eine Zahl in das leere Quadrat ziehen. Wenn du Hilfe brauchst klicke auf das Gehirn mit den Fragezeichen. Viel Spa\xdf beim L\xf6sen!"}),we.getInstance().playAudioByKey(this,"pluserkl")},[],this),this.time.delayedCall(13e3,()=>{this.removeGehirnAndBubble(),this.operationController=new an(this)},[],this)}createSpeechBubble({x:e,y:n,quote:E}){this.bubble=this.add.graphics({x:e,y:n}),this.bubble.fillStyle(2236962,.5),this.bubble.fillRoundedRect(6,6,400,200,16),this.bubble.fillStyle(16777215,1),this.bubble.lineStyle(4,5658198,1),this.bubble.strokeRoundedRect(0,0,400,200,16),this.bubble.fillRoundedRect(0,0,400,200,16);const j=Math.floor(400/7),tt=Math.floor(400/7*2),it=Math.floor(400/7),rt=Math.floor(250);this.bubble.lineStyle(4,2236962,.5),this.bubble.lineBetween(tt-1,206,it+2,rt),this.bubble.fillTriangle(j,200,tt,200,it,rt),this.bubble.lineStyle(2,5658198,1),this.bubble.lineBetween(tt,200,it,rt),this.bubble.lineBetween(j,200,it,rt),this.bubbleText=this.add.text(0,0,E,{fontFamily:"Arial",fontSize:25,color:"#000000",align:"center",wordWrap:{width:380}});const ot=this.bubbleText.getBounds();this.bubbleText.setPosition(this.bubble.x+200-ot.width/2,this.bubble.y+100-ot.height/2)}removeGehirnAndBubble(){this.gehirn.destroy(),this.bubble.destroy(),this.bubbleText.destroy()}get singletonService(){return Ec.singletonService}navigateToSceneComponent(){console.log("SingletonService:",this.singletonService),this.singletonService?this.singletonService.navigateToSceneSelector():console.error("SingletonService is undefined.")}}try{Fm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Fm=!1}let Pl,Om,Lr=(()=>{class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?b1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Sr))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sc(t){return function Z5(){if(null==Pl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pl=!0}))}finally{Pl=Pl||!1}return Pl}()?t:!!t.capture}function Wa(t){return t.composedPath?t.composedPath()[0]:t.target}class y9 extends Et{constructor(e,n){super()}schedule(e,n=0){return this}}const bc={setInterval(t,e,...n){const{delegate:r}=bc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=bc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},CM={now:()=>(CM.delegate||Date).now(),delegate:void 0};class Il{constructor(e,n=Il.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Il.now=CM.now;const E9=new class T9 extends Il{constructor(e,n=Il.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class x9 extends y9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const g=this.id,E=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(E,g,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(E,this.id,n),this}requestAsyncId(e,n,r=0){return bc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&bc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let g,r=!1;try{this.work(e)}catch(E){r=!0,g=E||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),g}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mt(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}});function MM(t){return Sn((e,n)=>t<=n)}function C9(t,e){return t===e}function Fl(t){return null!=t&&"false"!=`${t}`}function wM(t){return Array.isArray(t)?t:[t]}function Ol(t){return t instanceof Ei?t.nativeElement:t}const DM=new Set;let ps,M9=(()=>{class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D9}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function w9(t,e){if(!DM.has(t))try{ps||(ps=document.createElement("style"),e&&(ps.nonce=e),ps.setAttribute("type","text/css"),document.head.appendChild(ps)),ps.sheet&&(ps.sheet.insertRule(`@media ${t} {body{ }}`,0),DM.add(t))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Lr),Ct(od,8))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D9(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let A9=(()=>{class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return AM(wM(n)).some(g=>this._registerQuery(g).mql.matches)}observe(n){let E=ec(AM(wM(n)).map(D=>this._registerQuery(D).observable));return E=nc(E.pipe(cr(1)),E.pipe(MM(1),function bM(t,e=E9){return We((n,r)=>{let g=null,E=null,D=null;const P=()=>{if(g){g.unsubscribe(),g=null;const U=E;E=null,r.next(U)}};function O(){const U=D+t,j=e.now();if(j<U)return g=this.schedule(void 0,U-j),void r.add(g);P()}n.subscribe(Le(r,U=>{E=U,D=e.now(),g||(g=e.schedule(O,t),r.add(g))},()=>{P(),r.complete()},void 0,()=>{E=g=null}))})}(0))),E.pipe(Kt(D=>{const P={matches:!1,breakpoints:{}};return D.forEach(({matches:O,query:U})=>{P.matches=P.matches||O,P.breakpoints[U]=O}),P}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),E={observable:new $e(D=>{const P=O=>this._zone.run(()=>D.next(O));return r.addListener(P),()=>{r.removeListener(P)}}).pipe(Tb(r),Kt(({matches:D})=>({query:n,matches:D})),im(this._destroySubject)),mql:r};return this._queries.set(n,E),E}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(M9),Ct(ee))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AM(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function FM(t){return 0===t.buttons||0===t.detail}function OM(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const U9=new Tt("cdk-input-modality-detector-options"),V9={ignoreKeys:[18,17,224,91,16]},Xa=Sc({passive:!0,capture:!0});let z9=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(n,r,g,E){this._platform=n,this._mostRecentTarget=null,this._modality=new Gi(null),this._lastTouchMs=0,this._onKeydown=D=>{this._options?.ignoreKeys?.some(P=>P===D.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Wa(D))},this._onMousedown=D=>{Date.now()-this._lastTouchMs<650||(this._modality.next(FM(D)?"keyboard":"mouse"),this._mostRecentTarget=Wa(D))},this._onTouchstart=D=>{OM(D)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wa(D))},this._options={...V9,...E},this.modalityDetected=this._modality.pipe(MM(1)),this.modalityChanged=this.modalityDetected.pipe(function S9(t,e=mr){return t=t??C9,We((n,r)=>{let g,E=!0;n.subscribe(Le(r,D=>{const P=e(D);(E||!t(g,P))&&(E=!1,g=P,r.next(D))}))})}()),n.isBrowser&&r.runOutsideAngular(()=>{g.addEventListener("keydown",this._onKeydown,Xa),g.addEventListener("mousedown",this._onMousedown,Xa),g.addEventListener("touchstart",this._onTouchstart,Xa)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xa),document.removeEventListener("mousedown",this._onMousedown,Xa),document.removeEventListener("touchstart",this._onTouchstart,Xa))}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Lr),Ct(ee),Ct(Ae),Ct(U9,8))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const W9=new Tt("cdk-focus-monitor-default-options"),Mc=Sc({passive:!0,capture:!0});let X9=(()=>{class t{constructor(n,r,g,E,D){this._ngZone=n,this._platform=r,this._inputModalityDetector=g,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ke,this._rootNodeFocusAndBlurListener=P=>{for(let U=Wa(P);U;U=U.parentElement)"focus"===P.type?this._onFocus(P,U):this._onBlur(P,U)},this._document=E,this._detectionMode=D?.detectionMode||0}monitor(n,r=!1){const g=Ol(n);if(!this._platform.isBrowser||1!==g.nodeType)return Ft();const E=function J5(t){if(function Q5(){if(null==Om){const t=typeof document<"u"?document.head:null;Om=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Om}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(g)||this._getDocument(),D=this._elementInfo.get(g);if(D)return r&&(D.checkChildren=!0),D.subject;const P={checkChildren:r,subject:new Ke,rootNode:E};return this._elementInfo.set(g,P),this._registerGlobalListeners(P),P.subject}stopMonitoring(n){const r=Ol(n),g=this._elementInfo.get(r);g&&(g.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(g))}focusVia(n,r,g){const E=Ol(n);E===this._getDocument().activeElement?this._getClosestElementsInfo(E).forEach(([P,O])=>this._originChanged(P,r,O)):(this._setOrigin(r),"function"==typeof E.focus&&E.focus(g))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused","touch"===r),n.classList.toggle("cdk-keyboard-focused","keyboard"===r),n.classList.toggle("cdk-mouse-focused","mouse"===r),n.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,r){const g=this._elementInfo.get(r),E=Wa(n);!g||!g.checkChildren&&r!==E||this._originChanged(r,this._getFocusOrigin(E),g)}_onBlur(n,r){const g=this._elementInfo.get(r);!g||g.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(g,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const r=n.rootNode,g=this._rootNodeFocusListenerCount.get(r)||0;g||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mc),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mc)}),this._rootNodeFocusListenerCount.set(r,g+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(im(this._stopInputModalityDetector)).subscribe(E=>{this._setOrigin(E,!0)}))}_removeGlobalListeners(n){const r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const g=this._rootNodeFocusListenerCount.get(r);g>1?this._rootNodeFocusListenerCount.set(r,g-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mc),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mc),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,g){this._setClasses(n,r),this._emitOrigin(g,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){const r=[];return this._elementInfo.forEach((g,E)=>{(E===n||g.checkChildren&&E.contains(n))&&r.push([E,g])}),r}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:r,mostRecentModality:g}=this._inputModalityDetector;if("mouse"!==g||!r||r===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const E=n.labels;if(E)for(let D=0;D<E.length;D++)if(E[D].contains(r))return!0;return!1}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(ee),Ct(Lr),Ct(z9),Ct(Ae,8),Ct(W9,8))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const NM="cdk-high-contrast-black-on-white",BM="cdk-high-contrast-white-on-black",Lm="cdk-high-contrast-active";let Y9=(()=>{class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=gt(A9).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const r=this._document.defaultView||window,g=r&&r.getComputedStyle?r.getComputedStyle(n):null,E=(g&&g.backgroundColor||"").replace(/ /g,"");switch(n.remove(),E){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Lm,NM,BM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?n.add(Lm,NM):2===r&&n.add(Lm,BM)}}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Lr),Ct(Ae))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GM=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({})}return t})();const K9=new Tt("mat-sanity-checks",{providedIn:"root",factory:function $9(){return!0}});let Ni=(()=>{class t{constructor(n,r,g){this._sanityChecks=r,this._document=g,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!function q5(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Y9),Ct(K9,8),Ct(Ae))};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[GM,GM]})}return t})();function Z9(t){return class extends t{get disabled(){return this._disabled}set disabled(e){this._disabled=Fl(e)}constructor(...e){super(...e),this._disabled=!1}}}function Nm(t,e){return class extends t{get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}function Q9(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Fl(e)}constructor(...e){super(...e),this._disableRipple=!1}}}let zM=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[Ni,Ni]})}return t})();class q9{constructor(e,n,r,g=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=g,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HM=Sc({passive:!0,capture:!0});class _9{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=Wa(e);n&&this._events.get(e.type)?.forEach((r,g)=>{(g===n||g.contains(n))&&r.forEach(E=>E.handleEvent(e))})}}addHandler(e,n,r,g){const E=this._events.get(n);if(E){const D=E.get(r);D?D.add(g):E.set(r,new Set([g]))}else this._events.set(n,new Map([[r,new Set([g])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,HM)})}removeHandler(e,n,r){const g=this._events.get(e);if(!g)return;const E=g.get(n);E&&(E.delete(r),0===E.size&&g.delete(n),0===g.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,HM)))}}const WM={enterDuration:225,exitDuration:150},XM=Sc({passive:!0,capture:!0}),YM=["mousedown","touchstart"],kM=["mouseup","mouseleave","touchend","touchcancel"];class wc{static#t=this._eventManager=new _9;constructor(e,n,r,g){this._target=e,this._ngZone=n,this._platform=g,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,g.isBrowser&&(this._containerElement=Ol(r))}fadeInRipple(e,n,r={}){const g=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),E={...WM,...r.animation};r.centered&&(e=g.left+g.width/2,n=g.top+g.height/2);const D=r.radius||function eH(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),g=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+g*g)}(e,n,g),P=e-g.left,O=n-g.top,U=E.enterDuration,j=document.createElement("div");j.classList.add("mat-ripple-element"),j.style.left=P-D+"px",j.style.top=O-D+"px",j.style.height=2*D+"px",j.style.width=2*D+"px",null!=r.color&&(j.style.backgroundColor=r.color),j.style.transitionDuration=`${U}ms`,this._containerElement.appendChild(j);const Z=window.getComputedStyle(j),et=Z.transitionDuration,it="none"===Z.transitionProperty||"0s"===et||"0s, 0s"===et||0===g.width&&0===g.height,rt=new q9(this,j,r,it);j.style.transform="scale3d(1, 1, 1)",rt.state=0,r.persistent||(this._mostRecentTransientRipple=rt);let ot=null;return!it&&(U||E.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ft=()=>this._finishRippleTransition(rt),ct=()=>this._destroyRipple(rt);j.addEventListener("transitionend",ft),j.addEventListener("transitioncancel",ct),ot={onTransitionEnd:ft,onTransitionCancel:ct}}),this._activeRipples.set(rt,ot),(it||!U)&&this._finishRippleTransition(rt),rt}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,r={...WM,...e.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=Ol(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,YM.forEach(r=>{wc._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{kM.forEach(n=>{this._triggerElement.addEventListener(n,this,XM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=FM(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!OM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(YM.forEach(n=>wc._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&kM.forEach(n=>e.removeEventListener(n,this,XM)))}}const jM=new Tt("mat-ripple-global-options");let iH=(()=>{class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,g,E,D){this._elementRef=n,this._animationMode=D,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=E||{},this._rippleRenderer=new wc(this,r,n,g)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,g){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,r,{...this.rippleConfig,...g}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static#t=this.\u0275fac=function(r){return new(r||t)(wt(Ei),wt(ee),wt(Lr),wt(jM,8),wt(mo,8))};static#e=this.\u0275dir=pe({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,g){2&r&&Ar("mat-ripple-unbounded",g.unbounded)},inputs:{color:[ni.None,"matRippleColor","color"],unbounded:[ni.None,"matRippleUnbounded","unbounded"],centered:[ni.None,"matRippleCentered","centered"],radius:[ni.None,"matRippleRadius","radius"],animation:[ni.None,"matRippleAnimation","animation"],disabled:[ni.None,"matRippleDisabled","disabled"],trigger:[ni.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})(),nH=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[Ni,Ni]})}return t})();const $M={capture:!0},KM=["focus","click","mouseenter","touchstart"],Bm="mat-ripple-loader-uninitialized",Gm="mat-ripple-loader-class-name",ZM="mat-ripple-loader-centered",Dc="mat-ripple-loader-disabled";let rH=(()=>{class t{constructor(){this._document=gt(Ae,{optional:!0}),this._animationMode=gt(mo,{optional:!0}),this._globalRippleOptions=gt(jM,{optional:!0}),this._platform=gt(Lr),this._ngZone=gt(ee),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const g=n.target.closest(`[${Bm}]`);g&&this._createRipple(g)},this._ngZone.runOutsideAngular(()=>{for(const n of KM)this._document?.addEventListener(n,this._onInteraction,$M)})}ngOnDestroy(){const n=this._hosts.keys();for(const r of n)this.destroyRipple(r);for(const r of KM)this._document?.removeEventListener(r,this._onInteraction,$M)}configureRipple(n,r){n.setAttribute(Bm,""),(r.className||!n.hasAttribute(Gm))&&n.setAttribute(Gm,r.className||""),r.centered&&n.setAttribute(ZM,""),r.disabled&&n.setAttribute(Dc,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){const g=this._hosts.get(n);g?g.disabled=r:r?n.setAttribute(Dc,""):n.removeAttribute(Dc)}_createRipple(n){if(!this._document)return;const r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();const g=this._document.createElement("span");g.classList.add("mat-ripple",n.getAttribute(Gm)),n.append(g);const E=new iH(new Ei(g),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return E._isInitialized=!0,E.trigger=n,E.centered=n.hasAttribute(ZM),E.disabled=n.hasAttribute(Dc),this.attachRipple(n,E),E}attachRipple(n,r){n.removeAttribute(Bm),this._hosts.set(n,r)}destroyRipple(n){const r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sH=["*",[["mat-toolbar-row"]]],aH=["*","mat-toolbar-row"],oH=Nm(class{constructor(t){this._elementRef=t}});let lH=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275dir=pe({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),uH=(()=>{class t extends oH{constructor(n,r,g){super(n),this._platform=r,this._document=g}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#t=this.\u0275fac=function(r){return new(r||t)(wt(Ei),wt(Lr),wt(Ae))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,g,E){if(1&r&&function $p(t,e,n,r){sT(t,e,n,r)}(E,lH,5),2&r){let D;(function Kp(t){const e=pt(),n=qt(),r=Xf();du(r+1);const g=yp(n,r);if(t.dirty&&function RA(t){return!(4&~t[It])}(e)===!(2&~g.metadata.flags)){if(null===g.matches)t.reset([]);else{const E=oT(e,r);t.reset(E,q0),t.notifyOnChanges()}return!0}return!1})(D=Zp())&&(g._toolbarRows=D)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,g){2&r&&Ar("mat-toolbar-multiple-rows",g._toolbarRows.length>0)("mat-toolbar-single-row",0===g._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ea],ngContentSelectors:aH,decls:2,vars:0,template:function(r,g){1&r&&(as(sH),tn(0),tn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return t})(),hH=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[Ni,Ni]})}return t})();function Um(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Bi({next:()=>{r.unsubscribe(),t()}});return rn(e(...n)).subscribe(r)}class Vm{}class dr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const g=n.slice(0,r),E=g.toLowerCase(),D=n.slice(r+1).trim();this.maybeSetNormalizedName(g,E),this.headers.has(E)?this.headers.get(E).push(D):this.headers.set(E,[D])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof dr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new dr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof dr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const g=("a"===e.op?this.headers.get(n):void 0)||[];g.push(...r),this.headers.set(n,g);break;case"d":const E=e.value;if(E){let D=this.headers.get(n);if(!D)return;D=D.filter(P=>-1===E.indexOf(P)),0===D.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,D)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(E=>E.toString()),g=e.toLowerCase();this.headers.set(g,r),this.maybeSetNormalizedName(e,g)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class dH{encodeKey(e){return QM(e)}encodeValue(e){return QM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vH=/%(\d[a-f0-9])/gi,mH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QM(t){return encodeURIComponent(t).replace(vH,(e,n)=>mH[n]??e)}function Ac(t){return`${t}`}class Nr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pH(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(g=>{const E=g.indexOf("="),[D,P]=-1==E?[e.decodeKey(g),""]:[e.decodeKey(g.slice(0,E)),e.decodeValue(g.slice(E+1))],O=n.get(D)||[];O.push(P),n.set(D,O)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],g=Array.isArray(r)?r.map(Ac):[Ac(r)];this.map.set(n,g)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const g=e[r];Array.isArray(g)?g.forEach(E=>{n.push({param:r,value:E,op:"a"})}):n.push({param:r,value:g,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Nr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Ac(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const g=r.indexOf(Ac(e.value));-1!==g&&r.splice(g,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class gH{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function qM(t){return typeof Blob<"u"&&t instanceof Blob}function _M(t){return typeof FormData<"u"&&t instanceof FormData}class Nl{constructor(e,n,r,g){let E;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yH(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||g?(this.body=void 0!==r?r:null,E=g):E=r,E&&(this.reportProgress=!!E.reportProgress,this.withCredentials=!!E.withCredentials,E.responseType&&(this.responseType=E.responseType),E.headers&&(this.headers=E.headers),E.context&&(this.context=E.context),E.params&&(this.params=E.params),this.transferCache=E.transferCache),this.headers??=new dr,this.context??=new gH,this.params){const D=this.params.toString();if(0===D.length)this.urlWithParams=n;else{const P=n.indexOf("?");this.urlWithParams=n+(-1===P?"?":P<n.length-1?"&":"")+D}}else this.params=new Nr,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||JM(this.body)||qM(this.body)||_M(this.body)||function xH(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Nr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_M(this.body)?null:qM(this.body)?this.body.type||null:JM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,g=e.responseType||this.responseType,E=e.transferCache??this.transferCache,D=void 0!==e.body?e.body:this.body,P=e.withCredentials??this.withCredentials,O=e.reportProgress??this.reportProgress;let U=e.headers||this.headers,j=e.params||this.params;const Z=e.context??this.context;return void 0!==e.setHeaders&&(U=Object.keys(e.setHeaders).reduce((tt,et)=>tt.set(et,e.setHeaders[et]),U)),e.setParams&&(j=Object.keys(e.setParams).reduce((tt,et)=>tt.set(et,e.setParams[et]),j)),new Nl(n,r,D,{params:j,headers:U,context:Z,reportProgress:O,responseType:g,withCredentials:P,transferCache:E})}}var Hm=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Hm||{});class Wm{constructor(e,n=ew.Ok,r="OK"){this.headers=e.headers||new dr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Bl extends Wm{constructor(e={}){super(e),this.type=Hm.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bl({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}var ew=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ew||{});function Xm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let Ym=(()=>{class t{constructor(n){this.handler=n}request(n,r,g={}){let E;if(n instanceof Nl)E=n;else{let O,U;O=g.headers instanceof dr?g.headers:new dr(g.headers),g.params&&(U=g.params instanceof Nr?g.params:new Nr({fromObject:g.params})),E=new Nl(n,r,void 0!==g.body?g.body:null,{headers:O,context:g.context,params:U,reportProgress:g.reportProgress,responseType:g.responseType||"json",withCredentials:g.withCredentials,transferCache:g.transferCache})}const D=Ft(E).pipe(Aa(O=>this.handler.handle(O)));if(n instanceof Nl||"events"===g.observe)return D;const P=D.pipe(Sn(O=>O instanceof Bl));switch(g.observe||"body"){case"body":switch(E.responseType){case"arraybuffer":return P.pipe(Kt(O=>{if(null!==O.body&&!(O.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return O.body}));case"blob":return P.pipe(Kt(O=>{if(null!==O.body&&!(O.body instanceof Blob))throw new Error("Response is not a Blob.");return O.body}));case"text":return P.pipe(Kt(O=>{if(null!==O.body&&"string"!=typeof O.body)throw new Error("Response is not a string.");return O.body}));default:return P.pipe(Kt(O=>O.body))}case"response":return P;default:throw new Error(`Unreachable: unhandled observe type ${g.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Nr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,g={}){return this.request("PATCH",n,Xm(g,r))}post(n,r,g={}){return this.request("POST",n,Xm(g,r))}put(n,r,g={}){return this.request("PUT",n,Xm(g,r))}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Vm))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();const HH=["*"];let Ic;function Gl(t){return function WH(){if(void 0===Ic&&(Ic=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Ic=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ic}()?.createHTML(t)||t}function mw(t){return Error(`Unable to find icon with the name "${t}"`)}function gw(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function yw(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class ms{constructor(e,n,r){this.url=e,this.svgText=n,this.options=r}}let Fc=(()=>{class t{constructor(n,r,g,E){this._httpClient=n,this._sanitizer=r,this._errorHandler=E,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=g}addSvgIcon(n,r,g){return this.addSvgIconInNamespace("",n,r,g)}addSvgIconLiteral(n,r,g){return this.addSvgIconLiteralInNamespace("",n,r,g)}addSvgIconInNamespace(n,r,g,E){return this._addSvgIconConfig(n,r,new ms(g,null,E))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,g,E){const D=this._sanitizer.sanitize(li.HTML,g);if(!D)throw yw(g);const P=Gl(D);return this._addSvgIconConfig(n,r,new ms("",P,E))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,g){return this._addSvgIconSetConfig(n,new ms(r,null,g))}addSvgIconSetLiteralInNamespace(n,r,g){const E=this._sanitizer.sanitize(li.HTML,r);if(!E)throw yw(r);const D=Gl(E);return this._addSvgIconSetConfig(n,new ms("",D,g))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const r=this._sanitizer.sanitize(li.RESOURCE_URL,n);if(!r)throw gw(n);const g=this._cachedIconsByUrl.get(r);return g?Ft(Oc(g)):this._loadSvgIconFromConfig(new ms(n,null)).pipe(ei(E=>this._cachedIconsByUrl.set(r,E)),Kt(E=>Oc(E)))}getNamedSvgIcon(n,r=""){const g=xw(r,n);let E=this._svgIconConfigs.get(g);if(E)return this._getSvgFromConfig(E);if(E=this._getIconConfigFromResolvers(r,n),E)return this._svgIconConfigs.set(g,E),this._getSvgFromConfig(E);const D=this._iconSetConfigs.get(r);return D?this._getSvgFromIconSetConfigs(n,D):pl(mw(g))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Ft(Oc(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Kt(r=>Oc(r)))}_getSvgFromIconSetConfigs(n,r){const g=this._extractIconWithNameFromAnySet(n,r);return g?Ft(g):function cH(...t){const e=db(t),{args:n,keys:r}=pb(t),g=new $e(E=>{const{length:D}=n;if(!D)return void E.complete();const P=new Array(D);let O=D,U=D;for(let j=0;j<D;j++){let Z=!1;rn(n[j]).subscribe(Le(E,tt=>{Z||(Z=!0,U--),P[j]=tt},()=>O--,void 0,()=>{(!O||!Z)&&(U||E.next(r?mb(r,P):P),E.complete())}))}});return e?g.pipe(vb(e)):g}(r.filter(D=>!D.svgText).map(D=>this._loadSvgIconSetFromConfig(D).pipe(hs(P=>{const U=`Loading icon set URL: ${this._sanitizer.sanitize(li.RESOURCE_URL,D.url)} failed: ${P.message}`;return this._errorHandler.handleError(new Error(U)),Ft(null)})))).pipe(Kt(()=>{const D=this._extractIconWithNameFromAnySet(n,r);if(!D)throw mw(n);return D}))}_extractIconWithNameFromAnySet(n,r){for(let g=r.length-1;g>=0;g--){const E=r[g];if(E.svgText&&E.svgText.toString().indexOf(n)>-1){const D=this._svgElementFromConfig(E),P=this._extractSvgIconFromSet(D,n,E.options);if(P)return P}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(ei(r=>n.svgText=r),Kt(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Ft(null):this._fetchIcon(n).pipe(ei(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,g){const E=n.querySelector(`[id="${r}"]`);if(!E)return null;const D=E.cloneNode(!0);if(D.removeAttribute("id"),"svg"===D.nodeName.toLowerCase())return this._setSvgAttributes(D,g);if("symbol"===D.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(D),g);const P=this._svgElementFromString(Gl("<svg></svg>"));return P.appendChild(D),this._setSvgAttributes(P,g)}_svgElementFromString(n){const r=this._document.createElement("DIV");r.innerHTML=n;const g=r.querySelector("svg");if(!g)throw Error("<svg> tag not found");return g}_toSvgElement(n){const r=this._svgElementFromString(Gl("<svg></svg>")),g=n.attributes;for(let E=0;E<g.length;E++){const{name:D,value:P}=g[E];"id"!==D&&r.setAttribute(D,P)}for(let E=0;E<n.childNodes.length;E++)n.childNodes[E].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[E].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){const{url:r,options:g}=n,E=g?.withCredentials??!1;if(!this._httpClient)throw function XH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const D=this._sanitizer.sanitize(li.RESOURCE_URL,r);if(!D)throw gw(r);const P=this._inProgressUrlFetches.get(D);if(P)return P;const O=this._httpClient.get(D,{responseType:"text",withCredentials:E}).pipe(Kt(U=>Gl(U)),sc(()=>this._inProgressUrlFetches.delete(D)),function fH(t={}){const{connector:e=(()=>new Ke),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:g=!0}=t;return E=>{let D,P,O,U=0,j=!1,Z=!1;const tt=()=>{P?.unsubscribe(),P=void 0},et=()=>{tt(),D=O=void 0,j=Z=!1},it=()=>{const rt=D;et(),rt?.unsubscribe()};return We((rt,ot)=>{U++,!Z&&!j&&tt();const ft=O=O??e();ot.add(()=>{U--,0===U&&!Z&&!j&&(P=Um(it,g))}),ft.subscribe(ot),!D&&U>0&&(D=new Bi({next:ct=>ft.next(ct),error:ct=>{Z=!0,tt(),P=Um(et,n,ct),ft.error(ct)},complete:()=>{j=!0,tt(),P=Um(et,r),ft.complete()}}),rn(rt).subscribe(D))})(E)}}());return this._inProgressUrlFetches.set(D,O),O}_addSvgIconConfig(n,r,g){return this._svgIconConfigs.set(xw(n,r),g),this}_addSvgIconSetConfig(n,r){const g=this._iconSetConfigs.get(n);return g?g.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){const r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let g=0;g<this._resolvers.length;g++){const E=this._resolvers[g](r,n);if(E)return kH(E)?new ms(E.url,null,E.options):new ms(E,null)}}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ym,8),Ct(Kv),Ct(Ae,8),Ct(Xi))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Oc(t){return t.cloneNode(!0)}function xw(t,e){return t+":"+e}function kH(t){return!(!t.url||!t.options)}const jH=Nm(class{constructor(t){this._elementRef=t}}),$H=new Tt("MAT_ICON_DEFAULT_OPTIONS"),KH=new Tt("mat-icon-location",{providedIn:"root",factory:function ZH(){const t=gt(Ae),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Tw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QH=Tw.map(t=>`[${t}]`).join(", "),JH=/^url\(['"]?#(.*?)['"]?\)$/;let qH=(()=>{class t extends jH{get inline(){return this._inline}set inline(n){this._inline=Fl(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,g,E,D,P){super(n),this._iconRegistry=r,this._location=E,this._errorHandler=D,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Et.EMPTY,P&&(P.color&&(this.color=this.defaultColor=P.color),P.fontSet&&(this.fontSet=P.fontSet)),g||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const g=n.childNodes[r];(1!==g.nodeType||"svg"===g.nodeName.toLowerCase())&&g.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(g=>g.length>0);this._previousFontSetClass.forEach(g=>n.classList.remove(g)),r.forEach(g=>n.classList.add(g)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const r=this._elementsWithExternalReferences;r&&r.forEach((g,E)=>{g.forEach(D=>{E.setAttribute(D.name,`url('${n}#${D.value}')`)})})}_cacheChildrenWithExternalReferences(n){const r=n.querySelectorAll(QH),g=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let E=0;E<r.length;E++)Tw.forEach(D=>{const P=r[E],O=P.getAttribute(D),U=O?O.match(JH):null;if(U){let j=g.get(P);j||(j=[],g.set(P,j)),j.push({name:D,value:U[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[r,g]=this._splitIconName(n);r&&(this._svgNamespace=r),g&&(this._svgName=g),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(g,r).pipe(cr(1)).subscribe(E=>this._setSvgElement(E),E=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${g}! ${E.message}`))})}}static#t=this.\u0275fac=function(r){return new(r||t)(wt(Ei),wt(Fc),Xs("aria-hidden"),wt(KH),wt(Xi),wt($H,8))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,g){2&r&&($o("data-mat-icon-type",g._usingFontIcon()?"font":"svg")("data-mat-icon-name",g._svgName||g.fontIcon)("data-mat-icon-namespace",g._svgNamespace||g.fontSet)("fontIcon",g._usingFontIcon()?g.fontIcon:null),Ar("mat-icon-inline",g.inline)("mat-icon-no-color","primary"!==g.color&&"accent"!==g.color&&"warn"!==g.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ea],ngContentSelectors:HH,decls:1,vars:0,template:function(r,g){1&r&&(as(),tn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),_H=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[Ni,Ni]})}return t})();const e8=["mat-icon-button",""],i8=["*"],n8=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],r8=Nm(Z9(Q9(class{constructor(t){this._elementRef=t}})));let s8=(()=>{class t extends r8{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Fl(n),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=Fl(n),this._updateRippleDisabled()}constructor(n,r,g,E){super(n),this._platform=r,this._ngZone=g,this._animationMode=E,this._focusMonitor=gt(X9),this._rippleLoader=gt(rH),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const D=n.nativeElement.classList;for(const P of n8)this._hasHostAttributes(P.selector)&&P.mdcClasses.forEach(O=>{D.add(O)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...n){return n.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(r){Gd()};static#e=this.\u0275dir=pe({type:t,features:[ea]})}return t})(),l8=(()=>{class t extends s8{constructor(n,r,g,E){super(n,r,g,E),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(r){return new(r||t)(wt(Ei),wt(Lr),wt(ee),wt(mo,8))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(r,g){2&r&&($o("disabled",g.disabled||null),Ar("_mat-animation-noopable","NoopAnimations"===g._animationMode)("mat-unthemed",!g.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ea],attrs:e8,ngContentSelectors:i8,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,g){1&r&&(as(),ze(0,"span",0),tn(1),ze(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),u8=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[Ni,nH,Ni]})}return t})(),Ew=(()=>{class t{constructor(n){this.router=n}goBack(){we.getInstance().destroyAllAudio(),we.getInstance().stopAllAudio(),this.router.navigate([""])}playAudioToolbar(){let n;n="/assets/sounds/toolbar.mp3",new Audio("/assets/sounds/toolbar.mp3").play()}static#t=this.\u0275fac=function(r){return new(r||t)(wt(gi))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["app-toolbar"]],decls:7,vars:0,consts:[["color","primary",2,"background-color","green","color","black",3,"click"],["mat-icon-button","",2,"color","black",3,"click"],[2,"font-weight","bold"],[1,"center-text"]],template:function(r,g){1&r&&(ie(0,"mat-toolbar",0),ss("click",function(){return g.playAudioToolbar()}),ie(1,"button",1),ss("click",function(){return g.goBack()}),ie(2,"mat-icon",2),Ie(3,"arrow_back"),re()(),ie(4,"div",3)(5,"span",2),Ie(6,"Das Land der Mathematik"),re()()())},dependencies:[uH,qH,l8],styles:[".center-text[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}"]})}return t})(),h8=(()=>{class t{constructor(n,r,g){this.route=n,this.host=r,this.router=g,this.sceneNr="",this.config={type:He().AUTO,backgroundColor:"#9fb5c1",height:768,width:1024,parent:"game-root",scale:{mode:He().Scale.FIT,autoCenter:He().Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{}}}}ngOnInit(){switch(this.route.paramMap.subscribe(n=>{this.sceneNr=n.get("id")}),this.phaserGame=new(He().Game)(this.config),this.sceneNr){case"1":this.phaserGame.scene.add("1",new k5(this.router),!0);break;case"2":this.phaserGame.scene.add("2",j5,!0);break;case"3":this.phaserGame.scene.add("3",K5,!0)}console.log("loading scene: "+this.sceneNr)}ngOnDestroy(){this.phaserGame?.destroy(!0,!1)}static#t=this.\u0275fac=function(r){return new(r||t)(wt(fs),wt(Ei),wt(gi))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["app-scene-controller"]],decls:3,vars:0,consts:[[1,"game-container"],["id","game-root"]],template:function(r,g){1&r&&(ze(0,"app-toolbar"),ie(1,"div",0),ze(2,"div",1),re())},dependencies:[Ew],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background:#d3d3d3}"]})}return t})();function c8(t,e){if(1&t){const n=function wE(){return pt()}();ie(0,"div",5),ss("click",function(){const g=Gf(n).$implicit;return Uf(Sh().playAudio(+g.sceneNum))}),ze(1,"img",6),ie(2,"ul",7)(3,"li",8)(4,"h2"),Ie(5),re()(),ie(6,"li",8)(7,"p"),Ie(8),re()()(),ie(9,"div",9)(10,"a",10),ss("click",function(){const g=Gf(n).$implicit;return Uf(Sh().startScene(g.sceneNum))}),Ie(11,"Start"),re()()()}if(2&t){const n=e.$implicit,r=Sh();wo(),mh("src",r.getImagePath(+n.sceneNum),bd),wo(4),Ch(n.title),wo(3),Ch(n.description)}}let f8=(()=>{class t{constructor(n){this.router=n,this.currentAudio=null,this.items=[{title:"Zahlen",subtitle:"0 - 9",description:"Lerne hier die Zahlen von 0 bis 9 kennen",sceneNum:"1"},{title:"Mengen",subtitle:"< , = , >",description:"Lerne hier die Mengen und ihre Symbole kennen",sceneNum:"2"},{title:"Plus",subtitle:"+",description:"Lerne hier einfache Plusrechnungen zu l\xf6sen",sceneNum:"3"}]}startScene(n){let r;r="/assets/sounds/scene_selector/start.mp3",this.currentAudio&&(this.currentAudio.pause(),this.currentAudio=null),new Audio("/assets/sounds/scene_selector/start.mp3").play(),this.router.navigate(["/scene",+n])}getImagePath(n){switch(n){case 1:return"/assets/bilder/zahlensele.png";case 2:return"/assets/bilder/waage.png";case 3:return"/assets/bilder/einkaufswagen.png";default:return""}}playAudio(n){let r;switch(this.currentAudio&&(this.currentAudio.pause(),this.currentAudio=null),n){case 1:r="/assets/sounds/scene_selector/zahlen.mp3";break;case 2:r="/assets/sounds/scene_selector/mengen.mp3";break;case 3:r="/assets/sounds/scene_selector/plus.mp3";break;default:return}const g=new Audio(r);g.play(),this.currentAudio=g}static#t=this.\u0275fac=function(r){return new(r||t)(wt(gi))};static#e=this.\u0275cmp=Ai({type:t,selectors:[["app-scene-selector"]],decls:6,vars:1,consts:[[1,"full-page-background"],[1,"container","d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"row","justify-content-center"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center"],["class","card mx-2 my-2 border border-dark border-2",3,"click",4,"ngFor","ngForOf"],[1,"card","mx-2","my-2","border","border-dark","border-2",3,"click"],["alt","...",1,"card-img-top",2,"max-height","200px",3,"src"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"card-body","justify-content-center"],[1,"btn","btn-success","text-dark","font-weight-bold",3,"click"]],template:function(r,g){1&r&&(ze(0,"app-toolbar"),ie(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),na(5,c8,12,3,"div",4),re()()()()),2&r&&(wo(5),mh("ngForOf",g.items))},dependencies:[g1,Ew],styles:['@charset "UTF-8";.full-page-background[_ngcontent-%COMP%]{min-height:100vh;background-image:url(/assets/hintergrund/scene_selector_zahlen.jpg);background-size:cover;background-position:center}.card[_ngcontent-%COMP%]{margin:20px;width:300px;height:400px;display:flex;flex-direction:column}.card-img-top[_ngcontent-%COMP%]{width:50%;height:50%;justify-items:center;margin:0 auto}.list-group-item[_ngcontent-%COMP%]{height:60px;flex-grow:1;flex-shrink:0}.card-body[_ngcontent-%COMP%]{margin:0 auto;height:10px}.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex-shrink:0;height:auto;width:auto}']})}return t})(),d8=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=Ai({type:t,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"container"],[1,"row","align-items-center"],[1,"navbar","navbar-expand-lg"],[1,"container","fixed-top","green-background"],[1,"navbar-nav"],["href","#home",1,"nav-link"],[1,"navbar-space"],["href","#about",1,"nav-link"],["routerLink","/sceneSelector",1,"btn","btn-warning","custom-button","ml-auto"],["src","assets/animations/gehirn.png","alt","Kleines Bild",2,"height","40px","width","auto"]],template:function(r,g){1&r&&(ie(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"a",5),Ie(6,"Home"),re(),ze(7,"span",6),ie(8,"a",7),Ie(9,"About"),re()(),ie(10,"button",8),Ie(11," Zum Spiel "),ie(12,"span"),ze(13,"img",9),re()()()()()())},dependencies:[Tc],styles:['@charset "UTF-8";.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;background-color:#ff0;padding:5px 10px;border-radius:5px}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ff0;color:#000;padding:5px 10px;border-radius:5px}.navbar-space[_ngcontent-%COMP%]{margin-right:20px}.button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}.navbar[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem 3rem;display:flex;justify-content:space-between;align-items:center;height:50px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.navbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:2px solid black;width:150px;height:50px}.green-background[_ngcontent-%COMP%]{background-color:green}']})}return t})();const p8=[{path:"",component:(()=>{class t{ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=Ai({type:t,selectors:[["app-my-homepage"]],decls:66,vars:0,consts:[[1,"sect1",2,"background-image","url('/assets/hintergrund/scene_selector_zahlen.jpg')"],["id","home",1,"container","my-homepage","white-bg"],[1,"row"],[1,"col"],[1,"underlined-heading"],[1,"col-md-6",2,"text-align","justify"],[2,"font-size","18px"],[1,"col-md-6"],["src","assets/bilder/StartScene.png","alt","Bildbeschreibung",1,"img-fluid"],[2,"height","50px"],[1,"container-center",2,"display","flex","justify-content","center"],[2,"color","black","text-shadow","2px 2px 4px rgba(0, 0, 0, 0.5)","font-weight","bold"],["src","/assets/QRCodeUmfrage.png","alt","QRCode"],["id","about",1,"underlined-heading"],[1,"col-md-6","align-self-start"],[1,"col-md-6","d-flex","align-items-start","justify-content-center"],[1,"image-container"],["src","assets/logos/Angular.png","alt","Angular Logo",1,"img-fluid"],["src","assets/logos/Phaser.png","alt","Phaser Logo",1,"img-fluid"],["src","assets/logos/Bootstrap.png","alt","Bootstrap Logo",1,"img-fluid"],[1,"footer"],[1,"container"],[1,"row","green-background"],[1,"col","text-center"]],template:function(r,g){1&r&&(ie(0,"div",0),ze(1,"app-navbar"),ie(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),Ie(6,"Willkommen auf meiner Webseite!"),re()()(),ie(7,"div",2)(8,"div",5)(9,"p",6),Ie(10," Diese Plattform ist meiner Bachelorarbeit gewidmet, welche sich mit der Entwicklung eines mathematischen Kinderlernprogramms besch\xe4ftigt. In meiner Arbeit erkunde ich die Bedeutung von Mathematik im t\xe4glichen Leben und die Herausforderungen, mit denen Kinder oft konfrontiert sind, wenn es um mathematische Konzepte geht. "),re(),ie(11,"p",6),Ie(12," Meine Motivation f\xfcr dieses Projekt liegt darin, Kinder schon fr\xfch spielerisch an Zahlen heranzuf\xfchren. Das Ziel meines Programms ist es daher, Kindern im Vorschulalter eine unterhaltsame und interaktive M\xf6glichkeit zu bieten, mathematische Konzepte zu erforschen und zu verstehen. "),re(),ie(13,"p",6),Ie(14," Durch eine intuitive Benutzeroberfl\xe4che und akustische Gestaltung m\xf6chte ich sicherstellen, dass mein Programm f\xfcr Kinder leicht zug\xe4nglich und ansprechend ist. Mir ist es sehr wichtig, f\xfcr Kinder eine positive Lernerfahrung zu schaffen, die die Neugier der Kinder weckt und ihr Verst\xe4ndnis f\xfcr Mathematik f\xf6rdert. "),re()(),ie(15,"div",7),ze(16,"img",8),re(),ze(17,"div",9),ie(18,"div",10)(19,"div",11)(20,"h1"),Ie(21,"QR - Code zur Umfrage"),re(),ze(22,"img",12),re()(),ze(23,"div",9),ie(24,"div",2)(25,"div",3)(26,"h2",13),Ie(27,"Verwendete Technologien"),re()()(),ie(28,"div",2)(29,"p",6),Ie(30," Die Entwicklung dieser Webseite wurde mithilfe f\xfchrender Technologie realisiert: "),re()(),ie(31,"div",2)(32,"div",14)(33,"p",6)(34,"strong"),Ie(35,"Angular:"),re(),Ie(36," Angular, ist ein leistungsstarkes Framework f\xfcr die Entwicklung von Single-Page-Anwendungen. Es wurde f\xfcr die Startseite und f\xfcr die Seite mit der Szenenauswahl genommen. Weiteres bietet Angular eine reibungslose Navigation, durch die verschiedenen Seiten. "),re()(),ie(37,"div",15)(38,"div",16),ze(39,"img",17),re()()(),ie(40,"div",2)(41,"div",14)(42,"p",6)(43,"strong"),Ie(44,"Phaser:"),re(),Ie(45," F\xfcr die Entwicklung des interaktiven Lernspiels wird das Phaser-Framework benutzt. Phaser ist ein leistungsstarkes Open-Source-Framework f\xfcr die Entwicklung von HTML5-Spielen. Dadurch wurde f\xfcr jede Szene (Zahlen, Mengen, Plus) eine eigene Phaser Szene benutzt. "),re()(),ie(46,"div",15)(47,"div",16),ze(48,"img",18),re()()(),ie(49,"div",2)(50,"div",14)(51,"p",6)(52,"strong"),Ie(53,"Bootstrap:"),re(),Ie(54," Das Design der Startseite und der Szeneauswahl basiert auf dem Bootstrap - Framework, dass es erm\xf6glicht eine ansprechende und benutzerfreundliche Webseite zu gestalten. Bootstrap bietet eine Vielzahl von vorgefertigten UI - Komponenten und Layout - Optionen, die es erleichtern, eine konsistente Benutzeroberfl\xe4che zu entwickeln. "),re()(),ie(55,"div",15)(56,"div",16),ze(57,"img",19),re()()()(),ze(58,"div",9),ie(59,"footer",20)(60,"div",21)(61,"div",22)(62,"div",23)(63,"p")(64,"strong"),Ie(65,"\xa9 2024 Claudia Unterk\xf6fler. Alle Rechte vorbehalten."),re()()()()()()()())},dependencies:[d8],styles:['@charset "UTF-8";.my-homepage[_ngcontent-%COMP%]{padding-top:20px}.white-bg[_ngcontent-%COMP%]{background-color:#fff}.list-with-margin[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.underlined-heading[_ngcontent-%COMP%]{border-bottom:2px solid #333}.sect1[_ngcontent-%COMP%]{background-image:url(/assets/hintergrund/scene_selector_zahlen.jpg);background-size:100%}.img-fluid[_ngcontent-%COMP%]{height:auto}.image-container[_ngcontent-%COMP%]{max-height:100%;display:flex;align-items:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px}.green-background[_ngcontent-%COMP%]{background-color:green}']})}return t})()},{path:"scene/:id",component:h8},{path:"sceneSelector",component:f8}];let v8=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[TM.forRoot(p8),TM]})}return t})();var Vt=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Vt||{});const pr="*";function Sw(t){return{type:Vt.Style,styles:t,offset:null}}class Ul{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Cw{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,g=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++n==E&&this._onFinish()}),D.onDestroy(()=>{++r==E&&this._onDestroy()}),D.onStart(()=>{++g==E&&this._onStart()})}),this.totalTime=this.players.reduce((D,P)=>Math.max(D,P.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const g=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(g)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function bw(t){return new dt(3e3,!1)}function Gr(t){switch(t.length){case 0:return new Ul;case 1:return t[0];default:return new Cw(t)}}function Mw(t,e,n=new Map,r=new Map){const g=[],E=[];let D=-1,P=null;if(e.forEach(O=>{const U=O.get("offset"),j=U==D,Z=j&&P||new Map;O.forEach((tt,et)=>{let it=et,rt=tt;if("offset"!==et)switch(it=t.normalizePropertyName(it,g),rt){case"!":rt=n.get(et);break;case pr:rt=r.get(et);break;default:rt=t.normalizeStyleValue(et,it,rt,g)}Z.set(it,rt)}),j||E.push(Z),P=Z,D=U}),g.length)throw function X8(t){return new dt(3502,!1)}();return E}function Km(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Zm(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Zm(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Zm(n,"destroy",t)))}}function Zm(t,e,n){const E=Qm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),D=t._data;return null!=D&&(E._data=D),E}function Qm(t,e,n,r,g="",E=0,D){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:g,totalTime:E,disabled:!!D}}function Zi(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function ww(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const eW=typeof document>"u"?null:document.documentElement;function Jm(t){const e=t.parentNode||t.host||null;return e===eW?null:e}let gs=null,Dw=!1;function Aw(t,e){for(;e;){if(e===t)return!0;e=Jm(e)}return!1}function Rw(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let qm=(()=>{class t{validateStyleProperty(n){return function nW(t){gs||(gs=function rW(){return typeof document<"u"?document.body:null}()||{},Dw=!!gs.style&&"WebkitAppearance"in gs.style);let e=!0;return gs.style&&!function iW(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in gs.style,!e&&Dw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in gs.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return Aw(n,r)}getParentElement(n){return Jm(n)}query(n,r,g){return Rw(n,r,g)}computeStyle(n,r,g){return g||""}animate(n,r,g,E,D,P=[],O){return new Ul(g,E)}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})();class _m{static#t=this.NOOP=new qm}class tg{}const aW=1e3,eg="ng-enter",Lc="ng-leave",Nc="ng-trigger",Bc=".ng-trigger",Iw="ng-animating",ig=".ng-animating";function vr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ng(parseFloat(e[1]),e[2])}function ng(t,e){return"s"===e?t*aW:t}function Gc(t,e,n){return t.hasOwnProperty("duration")?t:function lW(t,e,n){let g,E=0,D="";if("string"==typeof t){const P=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===P)return e.push(bw()),{duration:0,delay:0,easing:""};g=ng(parseFloat(P[1]),P[2]);const O=P[3];null!=O&&(E=ng(parseFloat(O),P[4]));const U=P[5];U&&(D=U)}else g=t;if(!n){let P=!1,O=e.length;g<0&&(e.push(function E8(){return new dt(3100,!1)}()),P=!0),E<0&&(e.push(function S8(){return new dt(3101,!1)}()),P=!0),P&&e.splice(O,0,bw())}return{duration:g,delay:E,easing:D}}(t,e,n)}function $n(t,e,n){e.forEach((r,g)=>{const E=sg(g);n&&!n.has(g)&&n.set(g,t.style[E]),t.style[E]=r})}function ys(t,e){e.forEach((n,r)=>{const g=sg(r);t.style[g]=""})}function Vl(t){return Array.isArray(t)?1==t.length?t[0]:function m8(t,e=null){return{type:Vt.Sequence,steps:t,options:e}}(t):t}const rg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ow(t){let e=[];if("string"==typeof t){let n;for(;n=rg.exec(t);)e.push(n[1]);rg.lastIndex=0}return e}function zl(t,e,n){const r=`${t}`,g=r.replace(rg,(E,D)=>{let P=e[D];return null==P&&(n.push(function b8(t){return new dt(3003,!1)}()),P=""),P.toString()});return g==r?t:g}const cW=/-+([a-z0-9])/g;function sg(t){return t.replace(cW,(...e)=>e[1].toUpperCase())}function Qi(t,e,n){switch(e.type){case Vt.Trigger:return t.visitTrigger(e,n);case Vt.State:return t.visitState(e,n);case Vt.Transition:return t.visitTransition(e,n);case Vt.Sequence:return t.visitSequence(e,n);case Vt.Group:return t.visitGroup(e,n);case Vt.Animate:return t.visitAnimate(e,n);case Vt.Keyframes:return t.visitKeyframes(e,n);case Vt.Style:return t.visitStyle(e,n);case Vt.Reference:return t.visitReference(e,n);case Vt.AnimateChild:return t.visitAnimateChild(e,n);case Vt.AnimateRef:return t.visitAnimateRef(e,n);case Vt.Query:return t.visitQuery(e,n);case Vt.Stagger:return t.visitStagger(e,n);default:throw function M8(t){return new dt(3004,!1)}()}}function ag(t,e){return window.getComputedStyle(t)[e]}const pW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Lw extends tg{normalizePropertyName(e,n){return sg(e)}normalizeStyleValue(e,n,r,g){let E="";const D=r.toString().trim();if(pW.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)E="px";else{const P=r.match(/^[+-]?[\d\.]+([a-z]*)$/);P&&0==P[1].length&&g.push(function w8(t,e){return new dt(3005,!1)}())}return D+E}}const Uc="*";const Vc=new Set(["true","1"]),zc=new Set(["false","0"]);function Nw(t,e){const n=Vc.has(t)||zc.has(t),r=Vc.has(e)||zc.has(e);return(g,E)=>{let D=t==Uc||t==g,P=e==Uc||e==E;return!D&&n&&"boolean"==typeof g&&(D=g?Vc.has(t):zc.has(t)),!P&&r&&"boolean"==typeof E&&(P=E?Vc.has(e):zc.has(e)),D&&P}}const yW=new RegExp("s*:selfs*,?","g");function og(t,e,n,r){return new xW(t).build(e,n,r)}class xW{constructor(e){this._driver=e}build(e,n,r){const g=new SW(n);return this._resetContextStyleTimingState(g),Qi(this,Vl(e),g)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,g=n.depCount=0;const E=[],D=[];return"@"==e.name.charAt(0)&&n.errors.push(function D8(){return new dt(3006,!1)}()),e.definitions.forEach(P=>{if(this._resetContextStyleTimingState(n),P.type==Vt.State){const O=P,U=O.name;U.toString().split(/\s*,\s*/).forEach(j=>{O.name=j,E.push(this.visitState(O,n))}),O.name=U}else if(P.type==Vt.Transition){const O=this.visitTransition(P,n);r+=O.queryCount,g+=O.depCount,D.push(O)}else n.errors.push(function A8(){return new dt(3007,!1)}())}),{type:Vt.Trigger,name:e.name,states:E,transitions:D,queryCount:r,depCount:g,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),g=e.options&&e.options.params||null;if(r.containsDynamicStyles){const E=new Set,D=g||{};r.styles.forEach(P=>{P instanceof Map&&P.forEach(O=>{Ow(O).forEach(U=>{D.hasOwnProperty(U)||E.add(U)})})}),E.size&&n.errors.push(function R8(t,e){return new dt(3008,!1)}(0,E.values()))}return{type:Vt.State,name:e.name,style:r,options:g?{params:g}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Qi(this,Vl(e.animation),n),g=function vW(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function mW(t,e,n){if(":"==t[0]){const O=function gW(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function V8(t){return new dt(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof O)return void e.push(O);t=O}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function U8(t){return new dt(3015,!1)}()),e;const g=r[1],E=r[2],D=r[3];e.push(Nw(g,D)),"<"==E[0]&&(g!=Uc||D!=Uc)&&e.push(Nw(D,g))}(r,n,e)):n.push(t),n}(e.expr,n.errors);return{type:Vt.Transition,matchers:g,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:xs(e.options)}}visitSequence(e,n){return{type:Vt.Sequence,steps:e.steps.map(r=>Qi(this,r,n)),options:xs(e.options)}}visitGroup(e,n){const r=n.currentTime;let g=0;const E=e.steps.map(D=>{n.currentTime=r;const P=Qi(this,D,n);return g=Math.max(g,n.currentTime),P});return n.currentTime=g,{type:Vt.Group,steps:E,options:xs(e.options)}}visitAnimate(e,n){const r=function bW(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return lg(Gc(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(E=>"{"==E.charAt(0)&&"{"==E.charAt(1))){const E=lg(0,0,"");return E.dynamic=!0,E.strValue=n,E}const g=Gc(n,e);return lg(g.duration,g.delay,g.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let g,E=e.styles?e.styles:Sw({});if(E.type==Vt.Keyframes)g=this.visitKeyframes(E,n);else{let D=e.styles,P=!1;if(!D){P=!0;const U={};r.easing&&(U.easing=r.easing),D=Sw(U)}n.currentTime+=r.duration+r.delay;const O=this.visitStyle(D,n);O.isEmptyStep=P,g=O}return n.currentAnimateTimings=null,{type:Vt.Animate,timings:r,style:g,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],g=Array.isArray(e.styles)?e.styles:[e.styles];for(let P of g)"string"==typeof P?P===pr?r.push(P):n.errors.push(new dt(3002,!1)):r.push(new Map(Object.entries(P)));let E=!1,D=null;return r.forEach(P=>{if(P instanceof Map&&(P.has("easing")&&(D=P.get("easing"),P.delete("easing")),!E))for(let O of P.values())if(O.toString().indexOf("{{")>=0){E=!0;break}}),{type:Vt.Style,styles:r,easing:D,offset:e.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let g=n.currentTime,E=n.currentTime;r&&E>0&&(E-=r.duration+r.delay),e.styles.forEach(D=>{"string"!=typeof D&&D.forEach((P,O)=>{const U=n.collectedStyles.get(n.currentQuerySelector),j=U.get(O);let Z=!0;j&&(E!=g&&E>=j.startTime&&g<=j.endTime&&(n.errors.push(function I8(t,e,n,r,g){return new dt(3010,!1)}()),Z=!1),E=j.startTime),Z&&U.set(O,{startTime:E,endTime:g}),n.options&&function hW(t,e,n){const r=e.params||{},g=Ow(t);g.length&&g.forEach(E=>{r.hasOwnProperty(E)||n.push(function C8(t){return new dt(3001,!1)}())})}(P,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:Vt.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function F8(){return new dt(3011,!1)}()),r;let E=0;const D=[];let P=!1,O=!1,U=0;const j=e.steps.map(ft=>{const ct=this._makeStyleAst(ft,n);let bt=null!=ct.offset?ct.offset:function CW(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(ct.styles),Rt=0;return null!=bt&&(E++,Rt=ct.offset=bt),O=O||Rt<0||Rt>1,P=P||Rt<U,U=Rt,D.push(Rt),ct});O&&n.errors.push(function O8(){return new dt(3012,!1)}()),P&&n.errors.push(function L8(){return new dt(3200,!1)}());const Z=e.steps.length;let tt=0;E>0&&E<Z?n.errors.push(function N8(){return new dt(3202,!1)}()):0==E&&(tt=1/(Z-1));const et=Z-1,it=n.currentTime,rt=n.currentAnimateTimings,ot=rt.duration;return j.forEach((ft,ct)=>{const bt=tt>0?ct==et?1:tt*ct:D[ct],Rt=bt*ot;n.currentTime=it+rt.delay+Rt,rt.duration=Rt,this._validateStyleAst(ft,n),ft.offset=bt,r.styles.push(ft)}),r}visitReference(e,n){return{type:Vt.Reference,animation:Qi(this,Vl(e.animation),n),options:xs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Vt.AnimateChild,options:xs(e.options)}}visitAnimateRef(e,n){return{type:Vt.AnimateRef,animation:this.visitReference(e.animation,n),options:xs(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,g=e.options||{};n.queryCount++,n.currentQuery=e;const[E,D]=function TW(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(yW,"")),t=t.replace(/@\*/g,Bc).replace(/@\w+/g,n=>Bc+"-"+n.slice(1)).replace(/:animating/g,ig),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+E:E,Zi(n.collectedStyles,n.currentQuerySelector,new Map);const P=Qi(this,Vl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Vt.Query,selector:E,limit:g.limit||0,optional:!!g.optional,includeSelf:D,animation:P,originalSelector:e.selector,options:xs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function B8(){return new dt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Gc(e.timings,n.errors,!0);return{type:Vt.Stagger,animation:Qi(this,Vl(e.animation),n),timings:r,options:null}}}class SW{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xs(t){return t?(t={...t}).params&&(t.params=function EW(t){return t?{...t}:null}(t.params)):t={},t}function lg(t,e,n){return{duration:t,delay:e,easing:n}}function ug(t,e,n,r,g,E,D=null,P=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:g,delay:E,totalTime:g+E,easing:D,subTimeline:P}}class Hc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const DW=new RegExp(":enter","g"),RW=new RegExp(":leave","g");function hg(t,e,n,r,g,E=new Map,D=new Map,P,O,U=[]){return(new PW).buildKeyframes(t,e,n,r,g,E,D,P,O,U)}class PW{buildKeyframes(e,n,r,g,E,D,P,O,U,j=[]){U=U||new Hc;const Z=new cg(e,n,U,g,E,j,[]);Z.options=O;const tt=O.delay?vr(O.delay):0;Z.currentTimeline.delayNextStep(tt),Z.currentTimeline.setStyles([D],null,Z.errors,O),Qi(this,r,Z);const et=Z.timelines.filter(it=>it.containsAnimation());if(et.length&&P.size){let it;for(let rt=et.length-1;rt>=0;rt--){const ot=et[rt];if(ot.element===n){it=ot;break}}it&&!it.allowOnlyTimelineStyles()&&it.setStyles([P],null,Z.errors,O)}return et.length?et.map(it=>it.buildKeyframes()):[ug(n,[],[],[],0,tt,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const g=n.createSubContext(e.options),E=n.currentTimeline.currentTime,D=this._visitSubInstructions(r,g,g.options);E!=D&&n.transformIntoNewTimeline(D)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const g of e){const E=g?.delay;if(E){const D="number"==typeof E?E:vr(zl(E,g?.params??{},n.errors));r.delayNextStep(D)}}}_visitSubInstructions(e,n,r){let E=n.currentTimeline.currentTime;const D=null!=r.duration?vr(r.duration):null,P=null!=r.delay?vr(r.delay):null;return 0!==D&&e.forEach(O=>{const U=n.appendInstructionToTimeline(O,D,P);E=Math.max(E,U.duration+U.delay)}),E}visitReference(e,n){n.updateOptions(e.options,!0),Qi(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let g=n;const E=e.options;if(E&&(E.params||E.delay)&&(g=n.createSubContext(E),g.transformIntoNewTimeline(),null!=E.delay)){g.previousNode.type==Vt.Style&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=Wc);const D=vr(E.delay);g.delayNextStep(D)}e.steps.length&&(e.steps.forEach(D=>Qi(this,D,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>r&&g.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let g=n.currentTimeline.currentTime;const E=e.options&&e.options.delay?vr(e.options.delay):0;e.steps.forEach(D=>{const P=n.createSubContext(e.options);E&&P.delayNextStep(E),Qi(this,D,P),g=Math.max(g,P.currentTimeline.currentTime),r.push(P.currentTimeline)}),r.forEach(D=>n.currentTimeline.mergeTimelineCollectedStyles(D)),n.transformIntoNewTimeline(g),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Gc(n.params?zl(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),g=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),g.snapshotCurrentStyles());const E=e.style;E.type==Vt.Keyframes?this.visitKeyframes(E,n):(n.incrementTime(r.duration),this.visitStyle(E,n),g.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,g=n.currentAnimateTimings;!g&&r.hasCurrentStyleProperties()&&r.forwardFrame();const E=g&&g.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(E):r.setStyles(e.styles,E,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,g=n.currentTimeline.duration,E=r.duration,P=n.createSubContext().currentTimeline;P.easing=r.easing,e.styles.forEach(O=>{P.forwardTime((O.offset||0)*E),P.setStyles(O.styles,O.easing,n.errors,n.options),P.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(P),n.transformIntoNewTimeline(g+E),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,g=e.options||{},E=g.delay?vr(g.delay):0;E&&(n.previousNode.type===Vt.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Wc);let D=r;const P=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!g.optional,n.errors);n.currentQueryTotal=P.length;let O=null;P.forEach((U,j)=>{n.currentQueryIndex=j;const Z=n.createSubContext(e.options,U);E&&Z.delayNextStep(E),U===n.element&&(O=Z.currentTimeline),Qi(this,e.animation,Z),Z.currentTimeline.applyStylesToKeyframe(),D=Math.max(D,Z.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(D),O&&(n.currentTimeline.mergeTimelineCollectedStyles(O),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,g=n.currentTimeline,E=e.timings,D=Math.abs(E.duration),P=D*(n.currentQueryTotal-1);let O=D*n.currentQueryIndex;switch(E.duration<0?"reverse":E.easing){case"reverse":O=P-O;break;case"full":O=r.currentStaggerTime}const j=n.currentTimeline;O&&j.delayNextStep(O);const Z=j.currentTime;Qi(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=g.currentTime-Z+(g.startTime-r.currentTimeline.startTime)}}const Wc={};class cg{constructor(e,n,r,g,E,D,P,O){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=g,this._leaveClassName=E,this.errors=D,this.timelines=P,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=O||new Xc(this._driver,n,0),P.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let g=this.options;null!=r.duration&&(g.duration=vr(r.duration)),null!=r.delay&&(g.delay=vr(r.delay));const E=r.params;if(E){let D=g.params;D||(D=this.options.params={}),Object.keys(E).forEach(P=>{(!n||!D.hasOwnProperty(P))&&(D[P]=zl(E[P],D,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(g=>{r[g]=n[g]})}}return e}createSubContext(e=null,n,r){const g=n||this.element,E=new cg(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,r||0));return E.previousNode=this.previousNode,E.currentAnimateTimings=this.currentAnimateTimings,E.options=this._copyOptions(),E.updateOptions(e),E.currentQueryIndex=this.currentQueryIndex,E.currentQueryTotal=this.currentQueryTotal,E.parentContext=this,this.subContextCount++,E}transformIntoNewTimeline(e){return this.previousNode=Wc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const g={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},E=new IW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,g,e.stretchStartingKeyframe);return this.timelines.push(E),g}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,g,E,D){let P=[];if(g&&P.push(this.element),e.length>0){e=(e=e.replace(DW,"."+this._enterClassName)).replace(RW,"."+this._leaveClassName);let U=this._driver.query(this.element,e,1!=r);0!==r&&(U=r<0?U.slice(U.length+r,U.length):U.slice(0,r)),P.push(...U)}return!E&&0==P.length&&D.push(function G8(t){return new dt(3014,!1)}()),P}}class Xc{constructor(e,n,r,g){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=g,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Xc(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||pr),this._currentKeyframe.set(n,pr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,g){n&&this._previousKeyframe.set("easing",n);const E=g&&g.params||{},D=function FW(t,e){const n=new Map;let r;return t.forEach(g=>{if("*"===g){r??=e.keys();for(let E of r)n.set(E,pr)}else for(let[E,D]of g)n.set(E,D)}),n}(e,this._globalTimelineStyles);for(let[P,O]of D){const U=zl(O,E,r);this._pendingStyles.set(P,U),this._localTimelineStyles.has(P)||this._backFill.set(P,this._globalTimelineStyles.get(P)??pr),this._updateStyle(P,U)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const g=this._styleSummary.get(r);(!g||n.time>g.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((P,O)=>{const U=new Map([...this._backFill,...P]);U.forEach((j,Z)=>{"!"===j?e.add(Z):j===pr&&n.add(Z)}),r||U.set("offset",O/this.duration),g.push(U)});const E=[...e.values()],D=[...n.values()];if(r){const P=g[0],O=new Map(P);P.set("offset",0),O.set("offset",1),g=[P,O]}return ug(this.element,g,E,D,this.duration,this.startTime,this.easing,!1)}}class IW extends Xc{constructor(e,n,r,g,E,D,P=!1){super(e,n,D.delay),this.keyframes=r,this.preStyleProps=g,this.postStyleProps=E,this._stretchStartingKeyframe=P,this.timings={duration:D.duration,delay:D.delay,easing:D.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:g}=this.timings;if(this._stretchStartingKeyframe&&n){const E=[],D=r+n,P=n/D,O=new Map(e[0]);O.set("offset",0),E.push(O);const U=new Map(e[0]);U.set("offset",Uw(P)),E.push(U);const j=e.length-1;for(let Z=1;Z<=j;Z++){let tt=new Map(e[Z]);const et=tt.get("offset");tt.set("offset",Uw((n+et*r)/D)),E.push(tt)}r=D,n=0,g="",e=E}return ug(this.element,e,this.preStyleProps,this.postStyleProps,r,n,g,!0)}}function Uw(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}function Vw(t,e,n,r,g,E,D,P,O,U,j,Z,tt){return{type:0,element:t,triggerName:e,isRemovalTransition:g,fromState:n,fromStyles:E,toState:r,toStyles:D,timelines:P,queriedElements:O,preStyleProps:U,postStyleProps:j,totalTime:Z,errors:tt}}const fg={};class zw{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,g){return function OW(t,e,n,r,g){return t.some(E=>E(e,n,r,g))}(this.ast.matchers,e,n,r,g)}buildStyles(e,n,r){let g=this._stateStyles.get("*");return void 0!==e&&(g=this._stateStyles.get(e?.toString())||g),g?g.buildStyles(n,r):new Map}build(e,n,r,g,E,D,P,O,U,j){const Z=[],tt=this.ast.options&&this.ast.options.params||fg,it=this.buildStyles(r,P&&P.params||fg,Z),rt=O&&O.params||fg,ot=this.buildStyles(g,rt,Z),ft=new Set,ct=new Map,bt=new Map,Rt="void"===g,kt={params:Hw(rt,tt),delay:this.ast.options?.delay},Qt=j?[]:hg(e,n,this.ast.animation,E,D,it,ot,kt,U,Z);let he=0;return Qt.forEach(Oe=>{he=Math.max(Oe.duration+Oe.delay,he)}),Z.length?Vw(n,this._triggerName,r,g,Rt,it,ot,[],[],ct,bt,he,Z):(Qt.forEach(Oe=>{const Kn=Oe.element,Ur=Zi(ct,Kn,new Set);Oe.preStyleProps.forEach(Es=>Ur.add(Es));const rD=Zi(bt,Kn,new Set);Oe.postStyleProps.forEach(Es=>rD.add(Es)),Kn!==n&&ft.add(Kn)}),Vw(n,this._triggerName,r,g,Rt,it,ot,Qt,[...ft.values()],ct,bt,he))}}function Hw(t,e){const n={...e};return Object.entries(t).forEach(([r,g])=>{null!=g&&(n[r]=g)}),n}class LW{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,g=Hw(e,this.defaultParams);return this.styles.styles.forEach(E=>{"string"!=typeof E&&E.forEach((D,P)=>{D&&(D=zl(D,g,n));const O=this.normalizer.normalizePropertyName(P,n);D=this.normalizer.normalizeStyleValue(P,O,D,n),r.set(P,D)})}),r}}class BW{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(g=>{this.states.set(g.name,new LW(g.style,g.options&&g.options.params||{},r))}),Ww(this.states,"true","1"),Ww(this.states,"false","0"),n.transitions.forEach(g=>{this.transitionFactories.push(new zw(e,g,this.states))}),this.fallbackTransition=function GW(t,e,n){return new zw(t,{type:Vt.Transition,animation:{type:Vt.Sequence,steps:[],options:null},matchers:[(D,P)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,g){return this.transitionFactories.find(D=>D.match(e,n,r,g))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function Ww(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const UW=new Hc;class VW{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],E=og(this._driver,n,r,[]);if(r.length)throw function Y8(t){return new dt(3503,!1)}();this._animations.set(e,E)}_buildPlayer(e,n,r){const g=e.element,E=Mw(this._normalizer,e.keyframes,n,r);return this._driver.animate(g,E,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const g=[],E=this._animations.get(e);let D;const P=new Map;if(E?(D=hg(this._driver,n,E,eg,Lc,new Map,new Map,r,UW,g),D.forEach(j=>{const Z=Zi(P,j.element,new Map);j.postStyleProps.forEach(tt=>Z.set(tt,null))})):(g.push(function k8(){return new dt(3300,!1)}()),D=[]),g.length)throw function j8(t){return new dt(3504,!1)}();P.forEach((j,Z)=>{j.forEach((tt,et)=>{j.set(et,this._driver.computeStyle(Z,et,pr))})});const U=Gr(D.map(j=>{const Z=P.get(j.element);return this._buildPlayer(j,new Map,Z)}));return this._playersById.set(e,U),U.onDestroy(()=>this.destroy(e)),this.players.push(U),U}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function $8(t){return new dt(3301,!1)}();return n}listen(e,n,r,g){const E=Qm(n,"","","");return Km(this._getPlayer(e),r,E,g),()=>{}}command(e,n,r,g){if("register"==r)return void this.register(e,g[0]);if("create"==r)return void this.create(e,n,g[0]||{});const E=this._getPlayer(e);switch(r){case"play":E.play();break;case"pause":E.pause();break;case"reset":E.reset();break;case"restart":E.restart();break;case"finish":E.finish();break;case"init":E.init();break;case"setPosition":E.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(e)}}}const Xw="ng-animate-queued",dg="ng-animate-disabled",YW=[],Yw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mn="__ng_removed";class pg{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function ZW(t){return t??null}(r?e.value:e),r){const{value:E,...D}=e;this.options=D}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(g=>{null==r[g]&&(r[g]=n[g])})}}}const Hl="void",vg=new pg(Hl);class jW{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,on(n,this._hostClassName)}listen(e,n,r,g){if(!this._triggers.has(n))throw function K8(t,e){return new dt(3302,!1)}();if(null==r||0==r.length)throw function Z8(t){return new dt(3303,!1)}();if(!function QW(t){return"start"==t||"done"==t}(r))throw function Q8(t,e){return new dt(3400,!1)}();const E=Zi(this._elementListeners,e,[]),D={name:n,phase:r,callback:g};E.push(D);const P=Zi(this._engine.statesByElement,e,new Map);return P.has(n)||(on(e,Nc),on(e,Nc+"-"+n),P.set(n,vg)),()=>{this._engine.afterFlush(()=>{const O=E.indexOf(D);O>=0&&E.splice(O,1),this._triggers.has(n)||P.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function J8(t){return new dt(3401,!1)}();return n}trigger(e,n,r,g=!0){const E=this._getTrigger(n),D=new mg(this.id,n,e);let P=this._engine.statesByElement.get(e);P||(on(e,Nc),on(e,Nc+"-"+n),this._engine.statesByElement.set(e,P=new Map));let O=P.get(n);const U=new pg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&O&&U.absorbOptions(O.options),P.set(n,U),O||(O=vg),U.value!==Hl&&O.value===U.value){if(!function _W(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let g=0;g<n.length;g++){const E=n[g];if(!e.hasOwnProperty(E)||t[E]!==e[E])return!1}return!0}(O.params,U.params)){const rt=[],ot=E.matchStyles(O.value,O.params,rt),ft=E.matchStyles(U.value,U.params,rt);rt.length?this._engine.reportError(rt):this._engine.afterFlush(()=>{ys(e,ot),$n(e,ft)})}return}const tt=Zi(this._engine.playersByElement,e,[]);tt.forEach(rt=>{rt.namespaceId==this.id&&rt.triggerName==n&&rt.queued&&rt.destroy()});let et=E.matchTransition(O.value,U.value,e,U.params),it=!1;if(!et){if(!g)return;et=E.fallbackTransition,it=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:et,fromState:O,toState:U,player:D,isFallbackTransition:it}),it||(on(e,Xw),D.onStart(()=>{Ya(e,Xw)})),D.onDone(()=>{let rt=this.players.indexOf(D);rt>=0&&this.players.splice(rt,1);const ot=this._engine.playersByElement.get(e);if(ot){let ft=ot.indexOf(D);ft>=0&&ot.splice(ft,1)}}),this.players.push(D),tt.push(D),D}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(g=>g.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Bc,!0);r.forEach(g=>{if(g[Mn])return;const E=this._engine.fetchNamespacesByElement(g);E.size?E.forEach(D=>D.triggerLeaveAnimation(g,n,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(e,n,r,g){const E=this._engine.statesByElement.get(e),D=new Map;if(E){const P=[];if(E.forEach((O,U)=>{if(D.set(U,O.value),this._triggers.has(U)){const j=this.trigger(e,U,Hl,g);j&&P.push(j)}}),P.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,D),r&&Gr(P).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const g=new Set;n.forEach(E=>{const D=E.name;if(g.has(D))return;g.add(D);const O=this._triggers.get(D).fallbackTransition,U=r.get(D)||vg,j=new pg(Hl),Z=new mg(this.id,D,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:D,transition:O,fromState:U,toState:j,player:Z,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let g=!1;if(r.totalAnimations){const E=r.players.length?r.playersByQueriedElement.get(e):[];if(E&&E.length)g=!0;else{let D=e;for(;D=D.parentNode;)if(r.statesByElement.get(D)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(e),g)r.markElementAsRemoved(this.id,e,!1,n);else{const E=e[Mn];(!E||E===Yw)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){on(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const g=r.player;if(g.destroyed)return;const E=r.element,D=this._elementListeners.get(E);D&&D.forEach(P=>{if(P.name==r.triggerName){const O=Qm(E,r.triggerName,r.fromState.value,r.toState.value);O._data=e,Km(r.player,P.phase,O,P.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):n.push(r)}),this._queue=[],n.sort((r,g)=>{const E=r.transition.ast.depCount,D=g.transition.ast.depCount;return 0==E||0==D?E-D:this._engine.driver.containsElement(r.element,g.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class $W{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,g){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,D)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new jW(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,g=this.namespacesByHostElement;if(r.length-1>=0){let D=!1,P=this.driver.getParentElement(n);for(;P;){const O=g.get(P);if(O){const U=r.indexOf(O);r.splice(U+1,0,e),D=!0;break}P=this.driver.getParentElement(P)}D||r.unshift(e)}else r.push(e);return g.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let g=this._namespaceLookup[e];g&&g.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const g=this._namespaceList.indexOf(r);g>=0&&this._namespaceList.splice(g,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let g of r.values())if(g.namespaceId){const E=this._fetchNamespace(g.namespaceId);E&&n.add(E)}return n}trigger(e,n,r,g){if(Yc(n)){const E=this._fetchNamespace(e);if(E)return E.trigger(n,r,g),!0}return!1}insertNode(e,n,r,g){if(!Yc(n))return;const E=n[Mn];if(E&&E.setForRemoval){E.setForRemoval=!1,E.setForMove=!0;const D=this.collectedLeaveElements.indexOf(n);D>=0&&this.collectedLeaveElements.splice(D,1)}if(e){const D=this._fetchNamespace(e);D&&D.insertNode(n,r)}g&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),on(e,dg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ya(e,dg))}removeNode(e,n,r){if(Yc(n)){this.scheduler?.notify();const g=e?this._fetchNamespace(e):null;g?g.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const E=this.namespacesByHostElement.get(n);E&&E.id!==e&&E.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,g,E){this.collectedLeaveElements.push(n),n[Mn]={namespaceId:e,setForRemoval:g,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:E}}listen(e,n,r,g,E){return Yc(n)?this._fetchNamespace(e).listen(n,r,g,E):()=>{}}_buildInstruction(e,n,r,g,E){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,g,e.fromState.options,e.toState.options,n,E)}destroyInnerAnimations(e){let n=this.driver.query(e,Bc,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,ig,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Mn];if(n&&n.setForRemoval){if(e[Mn]=Yw,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(dg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,g)=>this._balanceNamespaceList(r,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)on(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let g=0;g<r.length;g++)r[g]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Gr(n).onDone(()=>{r.forEach(g=>g())}):r.forEach(g=>g())}}reportError(e){throw function q8(t){return new dt(3402,!1)}()}_flushAnimations(e,n){const r=new Hc,g=[],E=new Map,D=[],P=new Map,O=new Map,U=new Map,j=new Set;this.disabledNodes.forEach(Pt=>{j.add(Pt);const Ot=this.driver.query(Pt,".ng-animate-queued",!0);for(let Bt=0;Bt<Ot.length;Bt++)j.add(Ot[Bt])});const Z=this.bodyNode,tt=Array.from(this.statesByElement.keys()),et=$w(tt,this.collectedEnterElements),it=new Map;let rt=0;et.forEach((Pt,Ot)=>{const Bt=eg+rt++;it.set(Ot,Bt),Pt.forEach(ae=>on(ae,Bt))});const ot=[],ft=new Set,ct=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Ot=this.collectedLeaveElements[Pt],Bt=Ot[Mn];Bt&&Bt.setForRemoval&&(ot.push(Ot),ft.add(Ot),Bt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(ae=>ft.add(ae)):ct.add(Ot))}const bt=new Map,Rt=$w(tt,Array.from(ft));Rt.forEach((Pt,Ot)=>{const Bt=Lc+rt++;bt.set(Ot,Bt),Pt.forEach(ae=>on(ae,Bt))}),e.push(()=>{et.forEach((Pt,Ot)=>{const Bt=it.get(Ot);Pt.forEach(ae=>Ya(ae,Bt))}),Rt.forEach((Pt,Ot)=>{const Bt=bt.get(Ot);Pt.forEach(ae=>Ya(ae,Bt))}),ot.forEach(Pt=>{this.processLeaveNode(Pt)})});const kt=[],Qt=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(n).forEach(Bt=>{const ae=Bt.player,ri=Bt.element;if(kt.push(ae),this.collectedEnterElements.length){const yi=ri[Mn];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(Bt.triggerName)){const Ss=yi.previousTriggersValues.get(Bt.triggerName),ln=this.statesByElement.get(Bt.element);if(ln&&ln.has(Bt.triggerName)){const jc=ln.get(Bt.triggerName);jc.value=Ss,ln.set(Bt.triggerName,jc)}}return void ae.destroy()}}const Zn=!Z||!this.driver.containsElement(Z,ri),Ji=bt.get(ri),Vr=it.get(ri),Fe=this._buildInstruction(Bt,r,Vr,Ji,Zn);if(Fe.errors&&Fe.errors.length)return void Qt.push(Fe);if(Zn)return ae.onStart(()=>ys(ri,Fe.fromStyles)),ae.onDestroy(()=>$n(ri,Fe.toStyles)),void g.push(ae);if(Bt.isFallbackTransition)return ae.onStart(()=>ys(ri,Fe.fromStyles)),ae.onDestroy(()=>$n(ri,Fe.toStyles)),void g.push(ae);const oD=[];Fe.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||oD.push(yi)}),Fe.timelines=oD,r.append(ri,Fe.timelines),D.push({instruction:Fe,player:ae,element:ri}),Fe.queriedElements.forEach(yi=>Zi(P,yi,[]).push(ae)),Fe.preStyleProps.forEach((yi,Ss)=>{if(yi.size){let ln=O.get(Ss);ln||O.set(Ss,ln=new Set),yi.forEach((jc,Tg)=>ln.add(Tg))}}),Fe.postStyleProps.forEach((yi,Ss)=>{let ln=U.get(Ss);ln||U.set(Ss,ln=new Set),yi.forEach((jc,Tg)=>ln.add(Tg))})});if(Qt.length){const Pt=[];Qt.forEach(Ot=>{Pt.push(function _8(t,e){return new dt(3505,!1)}())}),kt.forEach(Ot=>Ot.destroy()),this.reportError(Pt)}const he=new Map,Oe=new Map;D.forEach(Pt=>{const Ot=Pt.element;r.has(Ot)&&(Oe.set(Ot,Ot),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,he))}),g.forEach(Pt=>{const Ot=Pt.element;this._getPreviousPlayers(Ot,!1,Pt.namespaceId,Pt.triggerName,null).forEach(ae=>{Zi(he,Ot,[]).push(ae),ae.destroy()})});const Kn=ot.filter(Pt=>Zw(Pt,O,U)),Ur=new Map;jw(Ur,this.driver,ct,U,pr).forEach(Pt=>{Zw(Pt,O,U)&&Kn.push(Pt)});const Es=new Map;et.forEach((Pt,Ot)=>{jw(Es,this.driver,new Set(Pt),O,"!")}),Kn.forEach(Pt=>{const Ot=Ur.get(Pt),Bt=Es.get(Pt);Ur.set(Pt,new Map([...Ot?.entries()??[],...Bt?.entries()??[]]))});const xg=[],sD=[],aD={};D.forEach(Pt=>{const{element:Ot,player:Bt,instruction:ae}=Pt;if(r.has(Ot)){if(j.has(Ot))return Bt.onDestroy(()=>$n(Ot,ae.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(ae.totalTime),void g.push(Bt);let ri=aD;if(Oe.size>1){let Ji=Ot;const Vr=[];for(;Ji=Ji.parentNode;){const Fe=Oe.get(Ji);if(Fe){ri=Fe;break}Vr.push(Ji)}Vr.forEach(Fe=>Oe.set(Fe,ri))}const Zn=this._buildAnimation(Bt.namespaceId,ae,he,E,Es,Ur);if(Bt.setRealPlayer(Zn),ri===aD)xg.push(Bt);else{const Ji=this.playersByElement.get(ri);Ji&&Ji.length&&(Bt.parentPlayer=Gr(Ji)),g.push(Bt)}}else ys(Ot,ae.fromStyles),Bt.onDestroy(()=>$n(Ot,ae.toStyles)),sD.push(Bt),j.has(Ot)&&g.push(Bt)}),sD.forEach(Pt=>{const Ot=E.get(Pt.element);if(Ot&&Ot.length){const Bt=Gr(Ot);Pt.setRealPlayer(Bt)}}),g.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<ot.length;Pt++){const Ot=ot[Pt],Bt=Ot[Mn];if(Ya(Ot,Lc),Bt&&Bt.hasAnimation)continue;let ae=[];if(P.size){let Zn=P.get(Ot);Zn&&Zn.length&&ae.push(...Zn);let Ji=this.driver.query(Ot,ig,!0);for(let Vr=0;Vr<Ji.length;Vr++){let Fe=P.get(Ji[Vr]);Fe&&Fe.length&&ae.push(...Fe)}}const ri=ae.filter(Zn=>!Zn.destroyed);ri.length?JW(this,Ot,ri):this.processLeaveNode(Ot)}return ot.length=0,xg.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Ot=this.players.indexOf(Pt);this.players.splice(Ot,1)}),Pt.play()}),xg}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,g,E){let D=[];if(n){const P=this.playersByQueriedElement.get(e);P&&(D=P)}else{const P=this.playersByElement.get(e);if(P){const O=!E||E==Hl;P.forEach(U=>{U.queued||!O&&U.triggerName!=g||D.push(U)})}}return(r||g)&&(D=D.filter(P=>!(r&&r!=P.namespaceId||g&&g!=P.triggerName))),D}_beforeAnimationBuild(e,n,r){const E=n.element,D=n.isRemovalTransition?void 0:e,P=n.isRemovalTransition?void 0:n.triggerName;for(const O of n.timelines){const U=O.element,j=U!==E,Z=Zi(r,U,[]);this._getPreviousPlayers(U,j,D,P,n.toState).forEach(et=>{const it=et.getRealPlayer();it.beforeDestroy&&it.beforeDestroy(),et.destroy(),Z.push(et)})}ys(E,n.fromStyles)}_buildAnimation(e,n,r,g,E,D){const P=n.triggerName,O=n.element,U=[],j=new Set,Z=new Set,tt=n.timelines.map(it=>{const rt=it.element;j.add(rt);const ot=rt[Mn];if(ot&&ot.removedBeforeQueried)return new Ul(it.duration,it.delay);const ft=rt!==O,ct=function qW(t){const e=[];return Kw(t,e),e}((r.get(rt)||YW).map(he=>he.getRealPlayer())).filter(he=>!!he.element&&he.element===rt),bt=E.get(rt),Rt=D.get(rt),kt=Mw(this._normalizer,it.keyframes,bt,Rt),Qt=this._buildPlayer(it,kt,ct);if(it.subTimeline&&g&&Z.add(rt),ft){const he=new mg(e,P,rt);he.setRealPlayer(Qt),U.push(he)}return Qt});U.forEach(it=>{Zi(this.playersByQueriedElement,it.element,[]).push(it),it.onDone(()=>function KW(t,e,n){let r=t.get(e);if(r){if(r.length){const g=r.indexOf(n);r.splice(g,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,it.element,it))}),j.forEach(it=>on(it,Iw));const et=Gr(tt);return et.onDestroy(()=>{j.forEach(it=>Ya(it,Iw)),$n(O,n.toStyles)}),Z.forEach(it=>{Zi(g,it,[]).push(et)}),et}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Ul(e.duration,e.delay)}}class mg{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Ul,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(g=>Km(e,r,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Zi(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Yc(t){return t&&1===t.nodeType}function kw(t,e){const n=t.style.display;return t.style.display=e??"none",n}function jw(t,e,n,r,g){const E=[];n.forEach(O=>E.push(kw(O)));const D=[];r.forEach((O,U)=>{const j=new Map;O.forEach(Z=>{const tt=e.computeStyle(U,Z,g);j.set(Z,tt),(!tt||0==tt.length)&&(U[Mn]=kW,D.push(U))}),t.set(U,j)});let P=0;return n.forEach(O=>kw(O,E[P++])),D}function $w(t,e){const n=new Map;if(t.forEach(P=>n.set(P,[])),0==e.length)return n;const g=new Set(e),E=new Map;function D(P){if(!P)return 1;let O=E.get(P);if(O)return O;const U=P.parentNode;return O=n.has(U)?U:g.has(U)?1:D(U),E.set(P,O),O}return e.forEach(P=>{const O=D(P);1!==O&&n.get(O).push(P)}),n}function on(t,e){t.classList?.add(e)}function Ya(t,e){t.classList?.remove(e)}function JW(t,e,n){Gr(n).onDone(()=>t.processLeaveNode(e))}function Kw(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Cw?Kw(r.players,e):e.push(r)}}function Zw(t,e,n){const r=n.get(t);if(!r)return!1;let g=e.get(t);return g?r.forEach(E=>g.add(E)):e.set(t,r),n.delete(t),!0}class Wl{constructor(e,n,r,g){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(E,D)=>{},this._transitionEngine=new $W(e.body,n,r,g),this._timelineEngine=new VW(e.body,n,r),this._transitionEngine.onRemovalComplete=(E,D)=>this.onRemovalComplete(E,D)}registerTrigger(e,n,r,g,E){const D=e+"-"+g;let P=this._triggerCache[D];if(!P){const O=[],j=og(this._driver,E,O,[]);if(O.length)throw function W8(t,e){return new dt(3404,!1)}();P=function NW(t,e,n){return new BW(t,e,n)}(g,j,this._normalizer),this._triggerCache[D]=P}this._transitionEngine.registerTrigger(n,g,P)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,g){this._transitionEngine.insertNode(e,n,r,g)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,g){if("@"==r.charAt(0)){const[E,D]=ww(r);this._timelineEngine.command(E,n,D,g)}else this._transitionEngine.trigger(e,n,r,g)}listen(e,n,r,g,E){if("@"==r.charAt(0)){const[D,P]=ww(r);return this._timelineEngine.listen(D,n,P,E)}return this._transitionEngine.listen(e,n,r,g,E)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Xl{static#t=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let g=Xl.initialStylesByElement.get(e);g||Xl.initialStylesByElement.set(e,g=new Map),this._initialStyles=g}start(){this._state<1&&(this._startStyles&&$n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($n(this._element,this._initialStyles),this._endStyles&&($n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xl.initialStylesByElement.delete(this._element),this._startStyles&&(ys(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ys(this._element,this._endStyles),this._endStyles=null),$n(this._element,this._initialStyles),this._state=3)}}function gg(t){let e=null;return t.forEach((n,r)=>{(function eX(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class Qw{constructor(e,n,r,g){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,g)=>{"offset"!==g&&e.set(g,this._finished?r:ag(this.element,g))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Jw{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return Aw(e,n)}getParentElement(e){return Jm(e)}query(e,n,r){return Rw(e,n,r)}computeStyle(e,n,r){return ag(e,n)}animate(e,n,r,g,E,D=[]){const O={duration:r,delay:g,fill:0==g?"both":"forwards"};E&&(O.easing=E);const U=new Map,j=D.filter(et=>et instanceof Qw);(function fW(t,e){return 0===t||0===e})(r,g)&&j.forEach(et=>{et.currentSnapshot.forEach((it,rt)=>U.set(rt,it))});let Z=function uW(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}(n).map(et=>new Map(et));Z=function dW(t,e,n){if(n.size&&e.length){let r=e[0],g=[];if(n.forEach((E,D)=>{r.has(D)||g.push(D),r.set(D,E)}),g.length)for(let E=1;E<e.length;E++){let D=e[E];g.forEach(P=>D.set(P,ag(t,P)))}}return e}(e,Z,U);const tt=function tX(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=gg(e[0]),e.length>1&&(r=gg(e[e.length-1]))):e instanceof Map&&(n=gg(e)),n||r?new Xl(t,n,r):null}(e,Z);return new Qw(e,Z,O,tt)}}const qw="@.disabled";class _w{constructor(e,n,r,g){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=g,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,g=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,g)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,g){this.delegate.setAttribute(e,n,r,g)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,g){this.delegate.setStyle(e,n,r,g)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==qw?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class iX extends _w{constructor(e,n,r,g,E){super(n,r,g,E),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==qw?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const g=function nX(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let E=n.slice(1),D="";return"@"!=E.charAt(0)&&([E,D]=function rX(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(E)),this.engine.listen(this.namespaceId,g,E,D,P=>{this.factory.scheduleListenerCallback(P._data||-1,r,P)})}return this.delegate.listen(e,n,r)}}class sX{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(g,E)=>{const D=E?.parentNode(g);D&&E.removeChild(D,g)}}createRenderer(e,n){const g=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){const U=this._rendererCache;let j=U.get(g);return j||(j=new _w("",g,this.engine,()=>U.delete(g)),U.set(g,j)),j}const E=n.id,D=n.id+"-"+this._currentId;this._currentId++,this.engine.register(D,e);const P=U=>{Array.isArray(U)?U.forEach(P):this.engine.registerTrigger(E,D,e,U.name,U)};return n.data.animation.forEach(P),new iX(this,D,g,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>n(r));const g=this._animationCallbacksBuffer;0==g.length&&queueMicrotask(()=>{this._zone.run(()=>{g.forEach(E=>{const[D,P]=E;D(P)}),this._animationCallbacksBuffer=[]})}),g.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const tD=[{provide:tg,useFactory:function oX(){return new Lw}},{provide:Wl,useClass:(()=>{class t extends Wl{constructor(n,r,g){super(n,r,g,gt(qu,{optional:!0}))}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(r){return new(r||t)(Ct(Ae),Ct(_m),Ct(tg))};static#e=this.\u0275prov=Dt({token:t,factory:t.\u0275fac})}return t})()},{provide:ip,useFactory:function lX(t,e,n){return new sX(t,e,n)},deps:[kv,Wl,ee]}],yg=[{provide:_m,useFactory:()=>new Jw},{provide:mo,useValue:"BrowserAnimations"},...tD],eD=[{provide:_m,useClass:qm},{provide:mo,useValue:"NoopAnimations"},...tD];let uX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?eD:yg}}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({providers:yg,imports:[j1]})}return t})(),fX=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[zM,Ni,zM,Ni]})}return t})(),xX=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t});static#i=this.\u0275inj=ii({imports:[Ni,S1,Ni]})}return t})(),TX=(()=>{class t{static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=ai({type:t,bootstrap:[Ec]});static#i=this.\u0275inj=ii({imports:[j1,v8,uX,hH,_H,u8,fX,xX]})}return t})();yV().bootstrapModule(TX).catch(t=>console.error(t))},945:function(ka){var wn;wn=()=>(()=>{var ja={50792:T=>{"use strict";var A=Object.prototype.hasOwnProperty,i="~";function m(){}function x(s,o,f){this.fn=s,this.context=o,this.once=f||!1}function h(s,o,f,a,c){if("function"!=typeof f)throw new TypeError("The listener must be a function");var p=new x(f,a||s,c),d=i?i+o:o;return s._events[d]?s._events[d].fn?s._events[d]=[s._events[d],p]:s._events[d].push(p):(s._events[d]=p,s._eventsCount++),s}function u(s,o){0==--s._eventsCount?s._events=new m:delete s._events[o]}function l(){this._events=new m,this._eventsCount=0}Object.create&&(m.prototype=Object.create(null),(new m).__proto__||(i=!1)),l.prototype.eventNames=function(){var f,a,o=[];if(0===this._eventsCount)return o;for(a in f=this._events)A.call(f,a)&&o.push(i?a.slice(1):a);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(f)):o},l.prototype.listeners=function(o){var a=this._events[i?i+o:o];if(!a)return[];if(a.fn)return[a.fn];for(var c=0,p=a.length,d=new Array(p);c<p;c++)d[c]=a[c].fn;return d},l.prototype.listenerCount=function(o){var a=this._events[i?i+o:o];return a?a.fn?1:a.length:0},l.prototype.emit=function(o,f,a,c,p,d){var v=i?i+o:o;if(!this._events[v])return!1;var b,C,y=this._events[v],S=arguments.length;if(y.fn){switch(y.once&&this.removeListener(o,y.fn,void 0,!0),S){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,a),!0;case 4:return y.fn.call(y.context,f,a,c),!0;case 5:return y.fn.call(y.context,f,a,c,p),!0;case 6:return y.fn.call(y.context,f,a,c,p,d),!0}for(C=1,b=new Array(S-1);C<S;C++)b[C-1]=arguments[C];y.fn.apply(y.context,b)}else{var w,M=y.length;for(C=0;C<M;C++)switch(y[C].once&&this.removeListener(o,y[C].fn,void 0,!0),S){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,f);break;case 3:y[C].fn.call(y[C].context,f,a);break;case 4:y[C].fn.call(y[C].context,f,a,c);break;default:if(!b)for(w=1,b=new Array(S-1);w<S;w++)b[w-1]=arguments[w];y[C].fn.apply(y[C].context,b)}}return!0},l.prototype.on=function(o,f,a){return h(this,o,f,a,!1)},l.prototype.once=function(o,f,a){return h(this,o,f,a,!0)},l.prototype.removeListener=function(o,f,a,c){var p=i?i+o:o;if(!this._events[p])return this;if(!f)return u(this,p),this;var d=this._events[p];if(d.fn)d.fn===f&&(!c||d.once)&&(!a||d.context===a)&&u(this,p);else{for(var v=0,y=[],S=d.length;v<S;v++)(d[v].fn!==f||c&&!d[v].once||a&&d[v].context!==a)&&y.push(d[v]);y.length?this._events[p]=1===y.length?y[0]:y:u(this,p)}return this},l.prototype.removeAllListeners=function(o){var f;return o?this._events[f=i?i+o:o]&&u(this,f):(this._events=new m,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,T.exports=l},11517:(T,A,i)=>{var m=i(38829);T.exports=function(h,u,l,s){for(var o=h[0],f=1;f<h.length;f++){var a=h[f];m(a,o,u,l,s),o=a}return h}},80318:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"angle",u,l,s,o)}},60757:T=>{T.exports=function(i,m,x){for(var h=0;h<i.length;h++)m.call(x,i[h]);return i}},69927:T=>{T.exports=function(i,m,x){void 0===x&&(x=0);for(var h=x;h<i.length;h++){var u=i[h],l=!0;for(var s in m)u[s]!==m[s]&&(l=!1);if(l)return u}return null}},32265:T=>{T.exports=function(i,m,x){void 0===x&&(x=0);for(var h=i.length-1;h>=x;h--){var u=i[h],l=!0;for(var s in m)u[s]!==m[s]&&(l=!1);if(l)return u}return null}},94420:(T,A,i)=>{var m=i(11879),x=i(60461),h=i(95540),u=i(29747),s=new(i(41481))({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0);T.exports=function(f,a){void 0===a&&(a={});var c=a.hasOwnProperty("width"),p=a.hasOwnProperty("height"),d=h(a,"width",-1),v=h(a,"height",-1),y=h(a,"cellWidth",1),S=h(a,"cellHeight",y),b=h(a,"position",x.TOP_LEFT),C=h(a,"x",0),M=h(a,"y",0),w=0,R=0,I=d*y,L=v*S;s.setPosition(C,M),s.setSize(y,S);for(var F=0;F<f.length;F++)if(m(f[F],s,b),c&&-1===d)s.x+=y;else if(p&&-1===v)s.y+=S;else if(p&&!c){if(R+=S,s.y+=S,R===L&&(R=0,w+=y,s.y=M,s.x+=y,w===I))break}else if(w+=y,s.x+=y,w===I&&(w=0,R+=S,s.x=C,s.y+=S,R===L))break;return f}},41721:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"alpha",u,l,s,o)}},67285:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"x",u,l,s,o)}},9074:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o,f,a){return null==l&&(l=u),m(h,"x",u,s,f,a),m(h,"y",l,o,f,a)}},75222:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"y",u,l,s,o)}},22983:T=>{T.exports=function(i,m,x,h){void 0===x&&(x=0),void 0===h&&(h=6.28);for(var u=x,l=(h-x)/i.length,s=m.x,o=m.y,f=m.radius,a=0;a<i.length;a++)i[a].x=s+f*Math.cos(u),i[a].y=o+f*Math.sin(u),u+=l;return i}},95253:T=>{T.exports=function(i,m,x,h){void 0===x&&(x=0),void 0===h&&(h=6.28);for(var u=x,l=(h-x)/i.length,s=m.width/2,o=m.height/2,f=0;f<i.length;f++)i[f].x=m.x+s*Math.cos(u),i[f].y=m.y+o*Math.sin(u),u+=l;return i}},88505:(T,A,i)=>{var m=i(15258),x=i(26708);T.exports=function(u,l,s){var o;o=s?x(l,s,u.length):m(l,u.length);for(var f=0;f<u.length;f++){var a=u[f],c=o[f];a.x=c.x,a.y=c.y}return u}},41346:(T,A,i)=>{var m=i(14649),x=i(86003),h=i(49498);T.exports=function(l,s,o){void 0===o&&(o=0);var f=m(s,!1,l.length);o>0?x(f,o):o<0&&h(f,Math.abs(o));for(var a=0;a<l.length;a++)l[a].x=f[a].x,l[a].y=f[a].y;return l}},11575:(T,A,i)=>{var m=i(84993);T.exports=function(h,u,l){var s=m({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},l),o=m({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},l),f=m({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},l);s.pop(),o.pop(),f.pop();for(var a=(s=s.concat(o,f)).length/h.length,c=0,p=0;p<h.length;p++){var d=h[p],v=s[Math.floor(c)];d.x=v.x,d.y=v.y,c+=a}return h}},29953:T=>{T.exports=function(i,m,x){for(var h=0;h<i.length;h++){var u=i[h];u.anims&&u.anims.play(m,x)}return i}},66979:T=>{T.exports=function(i,m,x,h,u,l){void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=1);var s,o=0,f=i.length;if(1===l)for(s=u;s<f;s++)i[s][m]+=x+o*h,o++;else for(s=u;s>=0;s--)i[s][m]+=x+o*h,o++;return i}},43967:T=>{T.exports=function(i,m,x,h,u,l){void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=1);var s,o=0,f=i.length;if(1===l)for(s=u;s<f;s++)i[s][m]=x+o*h,o++;else for(s=u;s>=0;s--)i[s][m]=x+o*h,o++;return i}},88926:(T,A,i)=>{var m=i(28176);T.exports=function(h,u){for(var l=0;l<h.length;l++)m(u,h[l]);return h}},33286:(T,A,i)=>{var m=i(24820);T.exports=function(h,u){for(var l=0;l<h.length;l++)m(u,h[l]);return h}},96e3:(T,A,i)=>{var m=i(65822);T.exports=function(h,u){for(var l=0;l<h.length;l++)m(u,h[l]);return h}},28789:(T,A,i)=>{var m=i(26597);T.exports=function(h,u){for(var l=0;l<h.length;l++)m(u,h[l]);return h}},97154:(T,A,i)=>{var m=i(90260);T.exports=function(h,u){for(var l=0;l<h.length;l++)m(u,h[l]);return h}},20510:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"rotation",u,l,s,o)}},91051:(T,A,i)=>{var m=i(1163),x=i(20339);T.exports=function(u,l,s){for(var o=l.x,f=l.y,a=0;a<u.length;a++){var c=u[a];m(c,o,f,s,Math.max(1,x(c.x,c.y,o,f)))}return u}},76332:(T,A,i)=>{var m=i(1163);T.exports=function(h,u,l,s){var o=u.x,f=u.y;if(0===s)return h;for(var a=0;a<h.length;a++)m(h[a],o,f,l,s);return h}},61619:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"scaleX",u,l,s,o)}},94868:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o,f,a){return null==l&&(l=u),m(h,"scaleX",u,s,f,a),m(h,"scaleY",l,o,f,a)}},95532:(T,A,i)=>{var m=i(66979);T.exports=function(h,u,l,s,o){return m(h,"scaleY",u,l,s,o)}},8689:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"alpha",u,l,s,o)}},2645:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s){return m(h,"blendMode",u,0,l,s)}},32372:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"depth",u,l,s,o)}},85373:T=>{T.exports=function(i,m,x){for(var h=0;h<i.length;h++)i[h].setInteractive(m,x);return i}},81583:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o,f,a){return null==l&&(l=u),m(h,"originX",u,s,f,a),m(h,"originY",l,o,f,a),h.forEach(function(c){c.updateDisplayOrigin()}),h}},79939:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"rotation",u,l,s,o)}},2699:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o,f,a){return null==l&&(l=u),m(h,"scaleX",u,s,f,a),m(h,"scaleY",l,o,f,a)}},98739:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"scaleX",u,l,s,o)}},98476:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"scaleY",u,l,s,o)}},6207:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o,f,a){return null==l&&(l=u),m(h,"scrollFactorX",u,s,f,a),m(h,"scrollFactorY",l,o,f,a)}},6607:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"scrollFactorX",u,l,s,o)}},72248:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"scrollFactorY",u,l,s,o)}},14036:T=>{T.exports=function(i,m,x,h,u){for(var l=0;l<i.length;l++)i[l].setTint(m,x,h,u);return i}},50159:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s){return m(h,"visible",u,0,l,s)}},77597:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"x",u,l,s,o)}},83194:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o,f,a){return null==l&&(l=u),m(h,"x",u,s,f,a),m(h,"y",l,o,f,a)}},67678:(T,A,i)=>{var m=i(43967);T.exports=function(h,u,l,s,o){return m(h,"y",u,l,s,o)}},35850:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o){void 0===s&&(s=0),void 0===o&&(o=new m);var f,a,c=h.length;if(1===c)f=h[0].x,a=h[0].y,h[0].x=u,h[0].y=l;else{var p=1,d=0;0===s&&(d=c-1,p=c-2),f=h[d].x,a=h[d].y,h[d].x=u,h[d].y=l;for(var v=0;v<c;v++)if(!(p>=c||-1===p)){var y=h[p],S=y.x,b=y.y;y.x=f,y.y=a,f=S,a=b,0===s?p--:p++}}return o.x=f,o.y=a,o}},8628:(T,A,i)=>{var m=i(33680);T.exports=function(h){return m(h)}},21837:(T,A,i)=>{var m=i(7602);T.exports=function(h,u,l,s,o){void 0===o&&(o=!1);var a,f=Math.abs(s-l)/h.length;if(o)for(a=0;a<h.length;a++)h[a][u]+=m(a*f,l,s);else for(a=0;a<h.length;a++)h[a][u]=m(a*f,l,s);return h}},21910:(T,A,i)=>{var m=i(54261);T.exports=function(h,u,l,s,o){void 0===o&&(o=!1);var a,f=Math.abs(s-l)/h.length;if(o)for(a=0;a<h.length;a++)h[a][u]+=m(a*f,l,s);else for(a=0;a<h.length;a++)h[a][u]=m(a*f,l,s);return h}},62054:T=>{T.exports=function(i,m,x,h,u){if(void 0===u&&(u=!1),0===i.length)return i;if(1===i.length)return u?i[0][m]+=(h+x)/2:i[0][m]=(h+x)/2,i;var s,l=Math.abs(h-x)/(i.length-1);if(u)for(s=0;s<i.length;s++)i[s][m]+=s*l+x;else for(s=0;s<i.length;s++)i[s][m]=s*l+x;return i}},79815:T=>{T.exports=function(i){for(var m=0;m<i.length;m++)i[m].visible=!i[m].visible;return i}},39665:(T,A,i)=>{var m=i(15994);T.exports=function(h,u,l){void 0===l&&(l=0);for(var s=0;s<h.length;s++){var o=h[s];o.x=m(o.x,u.left-l,u.right+l),o.y=m(o.y,u.top-l,u.bottom+l)}return h}},61061:(T,A,i)=>{T.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(74943),u=i(81957),l=i(41138),s=i(35154),o=i(90126),f=new x({initialize:function(c,p,d){this.manager=c,this.key=p,this.type="frame",this.frames=this.getFrames(c.textureManager,s(d,"frames",[]),s(d,"defaultTextureKey",null),s(d,"sortFrames",!0)),this.frameRate=s(d,"frameRate",null),this.duration=s(d,"duration",null),this.skipMissedFrames=s(d,"skipMissedFrames",!0),this.delay=s(d,"delay",0),this.repeat=s(d,"repeat",0),this.repeatDelay=s(d,"repeatDelay",0),this.yoyo=s(d,"yoyo",!1),this.showBeforeDelay=s(d,"showBeforeDelay",!1),this.showOnStart=s(d,"showOnStart",!1),this.hideOnComplete=s(d,"hideOnComplete",!1),this.randomFrame=s(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(h.PAUSE_ALL,this.pause,this),this.manager.on(h.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,c,p,d){null===p&&null===d?(a.frameRate=24,a.duration=24/c*1e3):p&&null===d?(a.duration=p,a.frameRate=c/(p/1e3)):(a.frameRate=d,a.duration=c/d*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,c){var p=this.getFrames(this.manager.textureManager,c);if(p.length>0){if(0===a)this.frames=p.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(p);else{var d=this.frames.slice(0,a),v=this.frames.slice(a);this.frames=d.concat(p,v)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.currentFrame.duration?a.currentFrame.duration:a.msPerFrame},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,c,p,d){void 0===d&&(d=!0);var y,S,C,M,v=[],b=1;if("string"==typeof c){if(!a.exists(M=c))return console.warn('Texture "%s" not found',M),v;var R=a.get(M).getFrameNames();d&&o(R),c=[],R.forEach(function(B){c.push({key:M,frame:B})})}if(!Array.isArray(c)||0===c.length)return v;for(C=0;C<c.length;C++){var I=c[C],L=s(I,"key",p);if(L){var F=s(I,"frame",0),G=a.getFrame(L,F);if(!G){console.warn('Texture "%s" not found',L);continue}(S=new l(L,F,b,G)).duration=s(I,"duration",0),S.isFirst=!y,y&&(y.nextFrame=S,S.prevFrame=y),v.push(S),y=S,b++}}if(v.length>0){S.isLast=!0,S.nextFrame=v[0],v[0].prevFrame=S;var z=1/(v.length-1);for(C=0;C<v.length;C++)v[C].progress=C*z}return v},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.currentFrame.duration?a.currentFrame.duration:a.msPerFrame},getFrameByProgress:function(a){return a=m(a,0,1),u(a,this.frames,"progress")},nextFrame:function(a){var c=a.currentFrame;c.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,c.nextFrame)},handleYoyoFrame:function(a,c){if(c||(c=!1),a.inReverse===!c&&a.repeatCounter>0)return(0===a.repeatDelay||a.pendingRepeat)&&(a.forward=c),void this.repeatAnimation(a);a.inReverse===c||0!==a.repeatCounter?(a.forward=c,this.updateAndGetNextTick(a,c?a.currentFrame.nextFrame:a.currentFrame.prevFrame)):a.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var c=a.currentFrame;c.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?(a.inReverse&&!a.forward||(a.forward=!0),this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,c.prevFrame)},updateAndGetNextTick:function(a,c){a.setCurrentFrame(c),this.getNextTick(a)},removeFrame:function(a){var c=this.frames.indexOf(a);return-1!==c&&this.removeFrameAt(c),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(2===a._pendingStop){if(0===a._pendingStopValue)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.setCurrentFrame(a.forward?a.currentFrame.nextFrame:a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){a.frames.push(c.toJSON())}),a},updateFrameSequence:function(){for(var p,a=this.frames.length,c=1/(a-1),d=0;d<a;d++)(p=this.frames[d]).index=d+1,p.isFirst=!1,p.isLast=!1,p.progress=d*c,0===d?(p.isFirst=!0,1===a?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[a-1],p.nextFrame=this.frames[d+1])):d===a-1&&a>1?(p.isLast=!0,p.prevFrame=this.frames[a-2],p.nextFrame=this.frames[0]):a>1&&(p.prevFrame=this.frames[d-1],p.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(h.PAUSE_ALL,this.pause,this),this.manager.off(h.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});T.exports=f},41138:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o,f){void 0===f&&(f=!1),this.textureKey=u,this.textureFrame=l,this.index=s,this.frame=o,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});T.exports=x},60848:(T,A,i)=>{var m=i(42099),x=i(83419),h=i(90330),u=i(50792),l=i(74943),s=i(8443),o=i(95540),f=i(35154),a=i(36383),c=i(20283),p=i(41836),d=new x({Extends:u,initialize:function(y){u.call(this),this.game=y,this.textureManager=null,this.globalTimeScale=1,this.anims=new h,this.mixes=new h,this.paused=!1,this.name="AnimationManager",y.events.once(s.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(s.DESTROY,this.destroy,this)},addMix:function(v,y,S){var b=this.anims,C=this.mixes,M="string"==typeof v?v:v.key,w="string"==typeof y?y:y.key;if(b.has(M)&&b.has(w)){var R=C.get(M);R||(R={}),R[w]=S,C.set(M,R)}return this},removeMix:function(v,y){var S=this.mixes,b="string"==typeof v?v:v.key,C=S.get(b);if(C)if(y){var M="string"==typeof y?y:y.key;C.hasOwnProperty(M)&&delete C[M]}else y||S.delete(b);return this},getMix:function(v,y){var C="string"==typeof y?y:y.key,M=this.mixes.get("string"==typeof v?v:v.key);return M&&M.hasOwnProperty(C)?M[C]:0},add:function(v,y){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(y.key=v,this.anims.set(v,y),this.emit(l.ADD_ANIMATION,v,y),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,y,S){var b=[],C=this.game.cache.json.get(v);if(!C)return console.warn("No Aseprite data found for: "+v),b;var M=this,w=f(C,"meta",null),R=f(C,"frames",null);return w&&R&&f(w,"frameTags",[]).forEach(function(L){var F=[],G=o(L,"name",null),z=o(L,"from",0),B=o(L,"to",0),V=o(L,"direction","forward");if(G&&(!y||y&&y.indexOf(G)>-1)){for(var Y=0,$=z;$<=B;$++){var J=$.toString(),W=R[J];if(W){var k=o(W,"duration",a.MAX_SAFE_INTEGER);F.push({key:v,frame:J,duration:k}),Y+=k}}"reverse"===V&&(F=F.reverse());var H,N={key:G,frames:F,duration:Y,yoyo:"pingpong"===V};S?S.anims&&(H=S.anims.create(N)):H=M.create(N),H&&b.push(H)}}),b},create:function(v){var y=v.key,S=!1;return y&&((S=this.get(y))?console.warn("AnimationManager key already exists: "+y):(S=new m(this,y,v),this.anims.set(y,S),this.emit(l.ADD_ANIMATION,y,S))),S},fromJSON:function(v,y){void 0===y&&(y=!1),y&&this.anims.clear(),"string"==typeof v&&(v=JSON.parse(v));var S=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var b=0;b<v.anims.length;b++)S.push(this.create(v.anims[b]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&"frame"===v.type&&S.push(this.create(v));return S},generateFrameNames:function(v,y){var S=f(y,"prefix",""),b=f(y,"start",0),C=f(y,"end",0),M=f(y,"suffix",""),w=f(y,"zeroPad",0),R=f(y,"outputArray",[]),I=f(y,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),R;var F,L=this.textureManager.get(v);if(!L)return R;if(y)for(I||(I=c(b,C)),F=0;F<I.length;F++){var G=S+p(I[F],w,"0",1)+M;L.has(G)?R.push({key:v,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,v)}else for(I=L.getFrameNames(),F=0;F<I.length;F++)R.push({key:v,frame:I[F]});return R},generateFrameNumbers:function(v,y){var S=f(y,"start",0),b=f(y,"end",-1),C=f(y,"first",!1),M=f(y,"outputArray",[]),w=f(y,"frames",!1);if(!this.textureManager.exists(v))return console.warn('Texture "%s" not found',v),M;var R=this.textureManager.get(v);if(!R)return M;C&&R.has(C)&&M.push({key:v,frame:C}),w||(-1===b&&(b=R.frameTotal-2),w=c(S,b));for(var I=0;I<w.length;I++){var L=w[I];R.has(L)?M.push({key:v,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,v)}return M},get:function(v){return this.anims.get(v)},getAnimsFromTexture:function(v){for(var S=this.textureManager.get(v).key,b=this.anims.getArray(),C=[],M=0;M<b.length;M++)for(var w=b[M],R=w.frames,I=0;I<R.length;I++)if(R[I].textureKey===S){C.push(w.key);break}return C},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(v,y){Array.isArray(y)||(y=[y]);for(var S=0;S<y.length;S++)y[S].anims.play(v);return this},staggerPlay:function(v,y,S,b){void 0===S&&(S=0),void 0===b&&(b=!0),Array.isArray(y)||(y=[y]);var C=y.length;b||C--;for(var M=0;M<y.length;M++){var w=S<0?Math.abs(S)*(C-M):S*M;y[M].anims.playAfterDelay(v,w)}return this},remove:function(v){var y=this.get(v);return y&&(this.emit(l.REMOVE_ANIMATION,v,y),this.anims.delete(v),this.removeMix(v)),y},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(v){var y={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==v&&""!==v?y.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(S,b){y.anims.push(b.toJSON())}),y},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});T.exports=d},9674:(T,A,i)=>{var m=i(42099),x=i(30976),h=i(83419),u=i(90330),l=i(74943),s=i(95540),o=new h({initialize:function(a){this.parent=a,this.animationManager=a.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(f){var a=this.parent;if(void 0===f)return this.nextAnimsQueue.length=0,this.nextAnim=null,a;Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var p=f[c];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(f){this.isPlaying&&this.stop();var a=this.animationManager,c="string"==typeof f?f:s(f,"key",null),p=this.exists(c)?this.get(c):a.get(c);if(p){this.currentAnim=p;var d=p.getTotalFrames(),v=s(f,"frameRate",p.frameRate),y=s(f,"duration",p.duration);p.calculateDuration(this,d,y,v),this.delay=s(f,"delay",p.delay),this.repeat=s(f,"repeat",p.repeat),this.repeatDelay=s(f,"repeatDelay",p.repeatDelay),this.yoyo=s(f,"yoyo",p.yoyo),this.showBeforeDelay=s(f,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=s(f,"showOnStart",p.showOnStart),this.hideOnComplete=s(f,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=s(f,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=s(f,"randomFrame",p.randomFrame),this.timeScale=s(f,"timeScale",this.timeScale);var S=s(f,"startFrame",0);S>d&&(S=0),this.randomFrame&&(S=x(0,d-1));var b=p.frames[S];0===S&&!this.forward&&(b=p.getLastFrame()),this.currentFrame=b}else console.warn("Missing animation: "+c);return this.parent},pause:function(f){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==f&&this.setCurrentFrame(f),this.parent},resume:function(f){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==f&&this.setCurrentFrame(f),this.parent},playAfterDelay:function(f,a){if(this.isPlaying){var c=this.nextAnim;c&&this.nextAnimsQueue.unshift(c),this.nextAnim=f,this._pendingStop=1,this._pendingStopValue=a}else this.delayCounter=a,this.play(f,!0);return this.parent},playAfterRepeat:function(f,a){if(void 0===a&&(a=1),this.isPlaying){var c=this.nextAnim;c&&this.nextAnimsQueue.unshift(c),-1!==this.repeatCounter&&a>this.repeatCounter&&(a=this.repeatCounter),this.nextAnim=f,this._pendingStop=2,this._pendingStopValue=a}else this.play(f);return this.parent},play:function(f,a){void 0===a&&(a=!1);var c=this.currentAnim;if(a&&this.isPlaying&&c.key===("string"==typeof f?f:f.key))return this.parent;if(c&&this.isPlaying){var v=this.animationManager.getMix(c.key,f);if(v>0)return this.playAfterDelay(f,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f)},playReverse:function(f,a){return void 0===a&&(a=!1),a&&this.isPlaying&&this.currentAnim.key===("string"==typeof f?f:f.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f))},startAnimation:function(f){this.load(f);var a=this.currentAnim,c=this.parent;return a&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,a.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(f,a){var c=this.currentAnim;if(c){var p=this.currentFrame,d=this.parent,v=p.textureFrame;d.emit(f,c,p,d,v),a&&d.emit(a+c.key,c,p,d,v)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var f=this.currentFrame;if(!f)return 0;var a=f.progress;return this.inReverse&&(a*=-1),a},setProgress:function(f){return this.forward||(f=1-f),this.setCurrentFrame(this.currentAnim.getFrameByProgress(f)),this.parent},setRepeat:function(f){return this.repeatCounter=-1===f?Number.MAX_VALUE:f,this.parent},globalRemove:function(f,a){void 0===a&&(a=this.currentAnim),this.isPlaying&&a.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(f,a){void 0===f&&(f=!1),void 0===a&&(a=!1);var c=this.currentAnim,p=this.parent;return c?(a&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),c.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!f,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(c.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(f)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(f)}return this.parent},stopAfterDelay:function(f){return this._pendingStop=1,this._pendingStopValue=f,this.parent},stopAfterRepeat:function(f){return void 0===f&&(f=1),-1!==this.repeatCounter&&f>this.repeatCounter&&(f=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=f,this.parent},stopOnFrame:function(f){return this._pendingStop=3,this._pendingStopValue=f,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(f,a){var c=this.currentAnim;if(this.isPlaying&&c&&!c.paused){if(this.accumulator+=a*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=a,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?c.nextFrame(this):c.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do{this.forward?c.nextFrame(this):c.previousFrame(this),p++}while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(f){var a=this.parent;return this.currentFrame=f,a.texture=f.frame.texture,a.frame=f.frame,a.isCropped&&a.frame.updateCropUVs(a._crop,a.flipX,a.flipY),f.setAlpha&&(a.alpha=f.alpha),a.setSizeToFrame(),a._originComponent&&(f.frame.customPivot?a.setOrigin(f.frame.pivotX,f.frame.pivotY):a.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===f&&this.stop()),a},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(f){return this.anims?this.anims.get(f):null},exists:function(f){return!!this.anims&&this.anims.has(f)},create:function(f){var a=f.key,c=!1;return a&&((c=this.get(a))?console.warn("Animation key already exists: "+a):(c=new m(this,a,f),this.anims||(this.anims=new u),this.anims.set(a,c))),c},createFromAseprite:function(f,a){return this.animationManager.createFromAseprite(f,a,this.parent)},generateFrameNames:function(f,a){return this.animationManager.generateFrameNames(f,a)},generateFrameNumbers:function(f,a){return this.animationManager.generateFrameNumbers(f,a)},remove:function(f){var a=this.get(f);return a&&(this.currentAnim===a&&this.stop(),this.anims.delete(f)),a},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});T.exports=o},57090:T=>{T.exports="add"},25312:T=>{T.exports="animationcomplete"},89580:T=>{T.exports="animationcomplete-"},52860:T=>{T.exports="animationrepeat"},63850:T=>{T.exports="animationrestart"},99085:T=>{T.exports="animationstart"},28087:T=>{T.exports="animationstop"},1794:T=>{T.exports="animationupdate"},52562:T=>{T.exports="pauseall"},57953:T=>{T.exports="remove"},68339:T=>{T.exports="resumeall"},74943:(T,A,i)=>{T.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(T,A,i)=>{T.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(T,A,i)=>{var m=i(83419),x=i(90330),h=i(50792),u=i(24736),l=new m({initialize:function(){this.entries=new x,this.events=new h},add:function(s,o){return this.entries.set(s,o),this.events.emit(u.ADD,this,s,o),this},has:function(s){return this.entries.has(s)},exists:function(s){return this.entries.has(s)},get:function(s){return this.entries.get(s)},remove:function(s){var o=this.get(s);return o&&(this.entries.delete(s),this.events.emit(u.REMOVE,this,s,o.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});T.exports=l},24047:(T,A,i)=>{var m=i(2161),x=i(83419),h=i(8443),u=new x({initialize:function(s){this.game=s,this.binary=new m,this.bitmapFont=new m,this.json=new m,this.physics=new m,this.shader=new m,this.audio=new m,this.video=new m,this.text=new m,this.html=new m,this.obj=new m,this.tilemap=new m,this.xml=new m,this.custom={},this.game.events.once(h.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new m),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],s=0;s<l.length;s++)this[l[s]].destroy(),this[l[s]]=null;for(var o in this.custom)this.custom[o].destroy();this.custom=null,this.game=null}});T.exports=u},51464:T=>{T.exports="add"},59261:T=>{T.exports="remove"},24736:(T,A,i)=>{T.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(T,A,i)=>{T.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(39506),u=i(50792),l=i(19715),s=i(87841),o=i(61340),f=i(80333),a=i(26099),c=new m({Extends:u,Mixins:[x.AlphaSingle,x.Visible],initialize:function(d,v,y,S){void 0===d&&(d=0),void 0===v&&(v=0),void 0===y&&(y=0),void 0===S&&(S=0),u.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new s,this.dirty=!0,this._x=d,this._y=v,this._width=y,this._height=S,this._bounds=new s,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new o,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(y/2,S/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,d){return void 0===p&&(p=.5),void 0===d&&(d=p),this.originX=p,this.originY=d,this},getScroll:function(p,d,v){void 0===v&&(v=new a);var S=.5*this.height;return v.x=p-.5*this.width,v.y=d-S,this.useBounds&&(v.x=this.clampX(v.x),v.y=this.clampY(v.y)),v},centerOnX:function(p){var d=.5*this.width;return this.midPoint.x=p,this.scrollX=p-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var d=.5*this.height;return this.midPoint.y=p,this.scrollY=p-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,d){return this.centerOnX(p),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,d=.5*this.width,v=.5*this.height;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-d,this.scrollY=p.centerY-v}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(p){if(this.disableCull)return p;var d=this.matrix.matrix,v=d[0],y=d[1],S=d[2],b=d[3],C=v*b-y*S;if(!C)return p;var M=d[4],w=d[5],R=this.scrollX,I=this.scrollY,G=this.y,z=G+this.height,B=this.x,V=B+this.width,Y=this.culledObjects,$=p.length;C=1/C,Y.length=0;for(var J=0;J<$;++J){var W=p[J];if(W.hasOwnProperty("width")&&!W.parentContainer){var k=W.width,N=W.height,H=W.x-R*W.scrollFactorX-k*W.originX,X=W.y-I*W.scrollFactorY-N*W.originY;(H+k)*v+(X+N)*S+M>B&&H*v+X*S+M<V&&(H+k)*y+(X+N)*b+w>G&&H*y+X*b+w<z&&Y.push(W)}else Y.push(W)}return Y},getWorldPoint:function(p,d,v){void 0===v&&(v=new a);var y=this.matrix.matrix,S=y[0],b=y[1],C=y[2],M=y[3],w=y[4],R=y[5],I=S*M-b*C;if(!I)return v.x=p,v.y=d,v;var L=M*(I=1/I),F=-b*I,G=-C*I,z=S*I,B=(C*R-M*w)*I,V=(b*w-S*R)*I,Y=Math.cos(this.rotation),$=Math.sin(this.rotation),k=this.scrollX,N=this.scrollY,H=p+(k*Y-N*$)*this.zoomX,X=d+(k*$+N*Y)*this.zoomY;return v.x=H*L+X*G+B,v.y=H*F+X*z+V,v},ignore:function(p){var d=this.id;Array.isArray(p)||(p=[p]);for(var v=0;v<p.length;v++){var y=p[v];Array.isArray(y)?this.ignore(y):y.isParent?this.ignore(y.getChildren()):y.cameraFilter|=d}return this},preRender:function(){this.renderList.length=0;var p=this.width,d=this.height,v=.5*p,y=.5*d,S=this.zoomX,b=this.zoomY,C=this.matrix,M=p*this.originX,w=d*this.originY,R=this.scrollX,I=this.scrollY;this.useBounds&&(R=this.clampX(R),I=this.clampY(I)),this.scrollX=R,this.scrollY=I;var L=R+v,F=I+y;this.midPoint.set(L,F);var G=p/S,z=d/b;this.worldView.setTo(L-G/2,F-z/2,G,z),C.applyITRS(this.x+M,this.y+w,this.rotation,S,b),C.translate(-M,-w)},clampX:function(p){var d=this._bounds,v=this.displayWidth,y=d.x+(v-this.width)/2,S=Math.max(y,y+d.width-v);return p<y?p=y:p>S&&(p=S),p},clampY:function(p){var d=this._bounds,v=this.displayHeight,y=d.y+(v-this.height)/2,S=Math.max(y,y+d.height-v);return p<y?p=y:p>S&&(p=S),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return void 0===p&&(p=0),this.rotation=h(p),this},setBackgroundColor:function(p){return void 0===p&&(p="rgba(0,0,0,0)"),this.backgroundColor=f(p),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(p,d,v,y,S){return void 0===S&&(S=!1),this._bounds.setTo(p,d,v,y),this.dirty=!0,this.useBounds=!0,S?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){void 0===p&&(p=new s);var d=this._bounds;return p.setTo(d.x,d.y,d.width,d.height),p},setName:function(p){return void 0===p&&(p=""),this.name=p,this},setPosition:function(p,d){return void 0===d&&(d=p),this.x=p,this.y=d,this},setRotation:function(p){return void 0===p&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,d){void 0===d&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=d;var v=p.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(p,d){return void 0===d&&(d=p),this.scrollX=p,this.scrollY=d,this},setSize:function(p,d){return void 0===d&&(d=p),this.width=p,this.height=d,this},setViewport:function(p,d,v,y){return this.x=p,this.y=d,this.width=v,this.height=y,this},setZoom:function(p,d){return void 0===p&&(p=1),void 0===d&&(d=p),0===p&&(p=.001),0===d&&(d=.001),this.zoomX=p,this.zoomY=d,this},setMask:function(p,d){return void 0===d&&(d=!0),this.mask=p,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(p){return void 0===p&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var p=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;p&&!this._customViewport?d.customViewports++:!p&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});T.exports=c},38058:(T,A,i)=>{var m=i(71911),x=i(67502),h=i(45319),u=i(83419),l=i(31401),s=i(20052),o=i(19715),f=i(28915),a=i(87841),c=i(26099),p=new u({Extends:m,Mixins:[l.PostPipeline],initialize:function(v,y,S,b){m.call(this,v,y,S,b),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new s.Fade(this),this.flashEffect=new s.Flash(this),this.shakeEffect=new s.Shake(this),this.panEffect=new s.Pan(this),this.rotateToEffect=new s.RotateTo(this),this.zoomEffect=new s.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(d,v){if(void 0===d)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=v):this.deadzone=new a(0,0,d,v),this._follow){var y=this.width/2,S=this.height/2,b=this._follow.x-this.followOffset.x,C=this._follow.y-this.followOffset.y;this.midPoint.set(b,C),this.scrollX=b-y,this.scrollY=C-S}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,v,y,S,b,C){return this.fadeEffect.start(!1,d,v,y,S,!0,b,C)},fadeOut:function(d,v,y,S,b,C){return this.fadeEffect.start(!0,d,v,y,S,!0,b,C)},fadeFrom:function(d,v,y,S,b,C,M){return this.fadeEffect.start(!1,d,v,y,S,b,C,M)},fade:function(d,v,y,S,b,C,M){return this.fadeEffect.start(!0,d,v,y,S,b,C,M)},flash:function(d,v,y,S,b,C,M){return this.flashEffect.start(d,v,y,S,b,C,M)},shake:function(d,v,y,S,b){return this.shakeEffect.start(d,v,y,S,b)},pan:function(d,v,y,S,b,C,M){return this.panEffect.start(d,v,y,S,b,C,M)},rotateTo:function(d,v,y,S,b,C,M){return this.rotateToEffect.start(d,v,y,S,b,C,M)},zoomTo:function(d,v,y,S,b,C){return this.zoomEffect.start(d,v,y,S,b,C)},preRender:function(){this.renderList.length=0;var d=this.width,v=this.height,y=.5*d,S=.5*v,b=this.zoom,C=this.matrix,M=d*this.originX,w=v*this.originY,R=this._follow,I=this.deadzone,L=this.scrollX,F=this.scrollY;I&&x(I,this.midPoint.x,this.midPoint.y);var G=!1;if(R&&!this.panEffect.isRunning){var z=this.lerp,B=R.x-this.followOffset.x,V=R.y-this.followOffset.y;I?(B<I.x?L=f(L,L-(I.x-B),z.x):B>I.right&&(L=f(L,L+(B-I.right),z.x)),V<I.y?F=f(F,F-(I.y-V),z.y):V>I.bottom&&(F=f(F,F+(V-I.bottom),z.y))):(L=f(L,B-M,z.x),F=f(F,V-w,z.y)),G=!0}this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.scrollX=L,this.scrollY=F;var Y=L+y,$=F+S;this.midPoint.set(Y,$);var J=d/b,W=v/b,k=Math.floor(Y-J/2),N=Math.floor($-W/2);this.worldView.setTo(k,N,J,W),C.applyITRS(Math.floor(this.x+M),Math.floor(this.y+w),this.rotation,b,b),C.translate(-M,-w),this.shakeEffect.preRender(),G&&this.emit(o.FOLLOW_UPDATE,this,R)},setLerp:function(d,v){return void 0===d&&(d=1),void 0===v&&(v=d),this.lerp.set(d,v),this},setFollowOffset:function(d,v){return void 0===d&&(d=0),void 0===v&&(v=0),this.followOffset.set(d,v),this},startFollow:function(d,v,y,S,b,C){void 0===v&&(v=!1),void 0===y&&(y=1),void 0===S&&(S=y),void 0===b&&(b=0),void 0===C&&(C=b),this._follow=d,this.roundPixels=v,y=h(y,0,1),S=h(S,0,1),this.lerp.set(y,S),this.followOffset.set(b,C);var M=this.width/2,w=this.height/2,R=d.x-b,I=d.y-C;return this.midPoint.set(R,I),this.scrollX=R-M,this.scrollY=I-w,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,v){this.visible&&(this.rotateToEffect.update(d,v),this.panEffect.update(d,v),this.zoomEffect.update(d,v),this.shakeEffect.update(d,v),this.flashEffect.update(d,v),this.fadeEffect.update(d,v))},destroy:function(){this.resetFX(),m.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});T.exports=p},32743:(T,A,i)=>{var m=i(38058),x=i(83419),h=i(95540),u=i(37277),l=i(37303),s=i(97480),o=i(44594),f=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],c.sys.events.once(o.BOOT,this.boot,this),c.sys.events.on(o.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new m(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(s.RESIZE,this.onResize,this),this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(o.UPDATE,this.update,this),c.once(o.SHUTDOWN,this.shutdown,this)},add:function(a,c,p,d,v,y){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=this.scene.sys.scale.width),void 0===d&&(d=this.scene.sys.scale.height),void 0===v&&(v=!1),void 0===y&&(y="");var S=new m(a,c,p,d);return S.setName(y),S.setScene(this.scene),S.setRoundPixels(this.roundPixels),S.id=this.getNextID(),this.cameras.push(S),v&&(this.main=S),S},addExisting:function(a,c){return void 0===c&&(c=!1),-1===this.cameras.indexOf(a)?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),c&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,c=1,p=0;p<32;p++){for(var d=!1,v=0;v<a.length;v++){var y=a[v];y&&y.id===c&&(d=!0)}if(!d)return c;c<<=1}return 0},getTotal:function(a){void 0===a&&(a=!1);for(var c=0,p=this.cameras,d=0;d<p.length;d++)(!a||a&&p[d].visible)&&c++;return c},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var c=this.scene.sys.scale.width,p=this.scene.sys.scale.height,d=0;d<a.length;d++){var v=a[d],y=h(v,"x",0),S=h(v,"y",0),b=h(v,"width",c),C=h(v,"height",p),M=this.add(y,S,b,C);M.name=h(v,"name",""),M.zoom=h(v,"zoom",1),M.rotation=h(v,"rotation",0),M.scrollX=h(v,"scrollX",0),M.scrollY=h(v,"scrollY",0),M.roundPixels=h(v,"roundPixels",!1),M.visible=h(v,"visible",!0);var w=h(v,"backgroundColor",!1);w&&M.setBackgroundColor(w);var R=h(v,"bounds",null);if(R){var I=h(R,"x",0),L=h(R,"y",0),F=h(R,"width",c),G=h(R,"height",p);M.setBounds(I,L,F,G)}}return this},getCamera:function(a){for(var c=this.cameras,p=0;p<c.length;p++)if(c[p].name===a)return c[p];return null},getCamerasBelowPointer:function(a){for(var c=this.cameras,p=a.x,d=a.y,v=[],y=0;y<c.length;y++){var S=c[y];S.visible&&S.inputEnabled&&l(S,p,d)&&v.unshift(S)}return v},remove:function(a,c){void 0===c&&(c=!0),Array.isArray(a)||(a=[a]);for(var p=0,d=this.cameras,v=0;v<a.length;v++){var y=d.indexOf(a[v]);-1!==y&&(c?d[y].destroy():d[y].renderList=[],d.splice(y,1),p++)}return!this.main&&d[0]&&(this.main=d[0]),p},render:function(a,c){for(var p=this.scene,d=this.cameras,v=0;v<d.length;v++){var y=d[v];if(y.visible&&y.alpha>0){y.preRender();var S=this.getVisibleChildren(c.getChildren(),y);a.render(p,S,y)}}},getVisibleChildren:function(a,c){return a.filter(function(p){return p.willRender(c)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(a,c)},onResize:function(a,c,p,d,v){for(var y=0;y<this.cameras.length;y++){var S=this.cameras[y];0===S._x&&0===S._y&&S._width===d&&S._height===v&&S.setSize(c.width,c.height)}},resize:function(a,c){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(a,c)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var c=this.systems.events;c.off(o.UPDATE,this.update,this),c.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(o.START,this.start,this),this.systems.events.off(o.DESTROY,this.destroy,this),this.systems.game.scale.off(s.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",f,"cameras"),T.exports=f},5020:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(19715),u=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(l,s,o,f,a,c,p,d){return void 0===l&&(l=!0),void 0===s&&(s=1e3),void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=!1),void 0===p&&(p=null),void 0===d&&(d=this.camera.scene),!c&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=s,this.direction=l,this.progress=0,this.red=o,this.green=f,this.blue=a,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=d,this.camera.emit(l?h.FADE_OUT_START:h.FADE_IN_START,this.camera,this,s,o,f,a)),this.camera},update:function(l,s){this.isRunning&&(this._elapsed+=s,this.progress=m(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(l,s){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return l.drawFillRect(o.x,o.y,o.width,o.height,s(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?h.FADE_OUT_COMPLETE:h.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});T.exports=u},10662:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(19715),u=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0},start:function(l,s,o,f,a,c,p){return void 0===l&&(l=250),void 0===s&&(s=255),void 0===o&&(o=255),void 0===f&&(f=255),void 0===a&&(a=!1),void 0===c&&(c=null),void 0===p&&(p=this.camera.scene),!a&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.red=s,this.green=o,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(h.FLASH_START,this.camera,this,l,s,o,f)),this.camera},update:function(l,s){this.isRunning&&(this._elapsed+=s,this.progress=m(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var s=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(l,s){if(!this.isRunning)return!1;var o=this.camera;return l.drawFillRect(o.x,o.y,o.width,o.height,s(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});T.exports=u},20359:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(62640),u=i(19715),l=i(26099),s=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.progress=0,this._elapsed=0},start:function(o,f,a,c,p,d,v){void 0===a&&(a=1e3),void 0===c&&(c=h.Linear),void 0===p&&(p=!1),void 0===d&&(d=null),void 0===v&&(v=this.camera.scene);var y=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(y.scrollX,y.scrollY),this.destination.set(o,f),y.getScroll(o,f,this.current),"string"==typeof c&&h.hasOwnProperty(c)?this.ease=h[c]:"function"==typeof c&&(this.ease=c),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(u.PAN_START,this.camera,this,a,o,f)),y},update:function(o,f){if(this.isRunning){this._elapsed+=f;var a=m(this._elapsed/this.duration,0,1);this.progress=a;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(a);c.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*p,v=this.source.y+(this.current.y-this.source.y)*p;c.setScroll(d,v),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,d,v)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});T.exports=s},34208:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(19715),u=i(62640),l=new x({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(s,o,f,a,c,p,d){void 0===f&&(f=1e3),void 0===a&&(a=u.Linear),void 0===c&&(c=!1),void 0===p&&(p=null),void 0===d&&(d=this.camera.scene),void 0===o&&(o=!1),this.shortestPath=o;var v=s;s<0?(v=-1*s,this.clockwise=!1):this.clockwise=!0;var y=360*Math.PI/180;v-=Math.floor(v/y)*y;var S=this.camera;if(!c&&this.isRunning)return S;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=S.rotation,this.destination=v,"string"==typeof a&&u.hasOwnProperty(a)?this.ease=u[a]:"function"==typeof a&&(this.ease=a),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=d,this.shortestPath){var b,C;(b=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+y)-this.source)<(C=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+y)-this.destination)?this.clockwise=!0:b>C&&(this.clockwise=!1)}return this.camera.emit(h.ROTATE_START,this.camera,this,f,v),S},update:function(s,o){if(this.isRunning){this._elapsed+=o;var f=m(this._elapsed/this.duration,0,1);this.progress=f;var a=this.camera;if(this._elapsed<this.duration){var c=this.ease(f);this.current=a.rotation;var p,d=360*Math.PI/180,v=this.destination,y=this.current;!1===this.clockwise&&(v=this.current,y=this.destination),p=v>=y?Math.abs(v-y):Math.abs(v+d)-y;var S;a.rotation=S=this.clockwise?a.rotation+p*c:a.rotation-p*c,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,f,S)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});T.exports=l},30330:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(19715),u=i(26099),l=new x({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(s,o,f,a,c){return void 0===s&&(s=100),void 0===o&&(o=.05),void 0===f&&(f=!1),void 0===a&&(a=null),void 0===c&&(c=this.camera.scene),!f&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,"number"==typeof o?this.intensity.set(o):this.intensity.set(o.x,o.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=c,this.camera.emit(h.SHAKE_START,this.camera,this,s,o)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(s,o){if(this.isRunning)if(this._elapsed+=o,this.progress=m(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,a=this.camera.width,c=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*f.x*a*2-f.x*a)*p,this._offsetY=(Math.random()*f.y*c*2-f.y*c)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});T.exports=l},45641:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(62640),u=i(19715),l=new x({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(s,o,f,a,c,p){void 0===o&&(o=1e3),void 0===f&&(f=h.Linear),void 0===a&&(a=!1),void 0===c&&(c=null),void 0===p&&(p=this.camera.scene);var d=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=o,this.progress=0,this.source=d.zoom,this.destination=s,"string"==typeof f&&h.hasOwnProperty(f)?this.ease=h[f]:"function"==typeof f&&(this.ease=f),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(u.ZOOM_START,this.camera,this,o,s)),d},update:function(s,o){this.isRunning&&(this._elapsed+=o,this.progress=m(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});T.exports=l},20052:(T,A,i)=>{T.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:T=>{T.exports="cameradestroy"},32726:T=>{T.exports="camerafadeincomplete"},87807:T=>{T.exports="camerafadeinstart"},45917:T=>{T.exports="camerafadeoutcomplete"},95666:T=>{T.exports="camerafadeoutstart"},47056:T=>{T.exports="cameraflashcomplete"},91261:T=>{T.exports="cameraflashstart"},45047:T=>{T.exports="followupdate"},81927:T=>{T.exports="camerapancomplete"},74264:T=>{T.exports="camerapanstart"},54419:T=>{T.exports="postrender"},79330:T=>{T.exports="prerender"},93183:T=>{T.exports="camerarotatecomplete"},80112:T=>{T.exports="camerarotatestart"},62252:T=>{T.exports="camerashakecomplete"},86017:T=>{T.exports="camerashakestart"},539:T=>{T.exports="camerazoomcomplete"},51892:T=>{T.exports="camerazoomstart"},19715:(T,A,i)=>{T.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(T,A,i)=>{T.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(T,A,i)=>{var m=i(83419),x=i(35154),h=new m({initialize:function(l){this.camera=x(l,"camera",null),this.left=x(l,"left",null),this.right=x(l,"right",null),this.up=x(l,"up",null),this.down=x(l,"down",null),this.zoomIn=x(l,"zoomIn",null),this.zoomOut=x(l,"zoomOut",null),this.zoomSpeed=x(l,"zoomSpeed",.01),this.minZoom=x(l,"minZoom",.001),this.maxZoom=x(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var s=x(l,"speed",null);"number"==typeof s?(this.speedX=s,this.speedY=s):(this.speedX=x(l,"speed.x",0),this.speedY=x(l,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){void 0===u&&(u=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});T.exports=h},58818:(T,A,i)=>{var m=i(83419),x=i(35154),h=new m({initialize:function(l){this.camera=x(l,"camera",null),this.left=x(l,"left",null),this.right=x(l,"right",null),this.up=x(l,"up",null),this.down=x(l,"down",null),this.zoomIn=x(l,"zoomIn",null),this.zoomOut=x(l,"zoomOut",null),this.zoomSpeed=x(l,"zoomSpeed",.01),this.minZoom=x(l,"minZoom",.001),this.maxZoom=x(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var s=x(l,"acceleration",null);"number"==typeof s?(this.accelX=s,this.accelY=s):(this.accelX=x(l,"acceleration.x",0),this.accelY=x(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var o=x(l,"drag",null);"number"==typeof o?(this.dragX=o,this.dragY=o):(this.dragX=x(l,"drag.x",0),this.dragY=x(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=x(l,"maxSpeed",null);"number"==typeof f?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=x(l,"maxSpeed.x",0),this.maxSpeedY=x(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){void 0===u&&(u=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(l.scrollX-=this._speedX*u|0),0!==this._speedY&&(l.scrollY-=this._speedY*u|0),0!==this._zoom&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});T.exports=h},38865:(T,A,i)=>{T.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(T,A,i)=>{T.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(T,A,i)=>{var m={VERSION:"3.80.1",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};T.exports=m},69547:(T,A,i)=>{var m=i(83419),x=i(8054),h=i(42363),u=i(82264),l=i(95540),s=i(35154),o=i(41212),f=i(29747),a=i(75508),c=i(36060),p=i(80333),d=new m({initialize:function(y){void 0===y&&(y={});var C=s(y,"scale",null);this.width=s(C,"width",1024,y),this.height=s(C,"height",768,y),this.zoom=s(C,"zoom",1,y),this.parent=s(C,"parent",void 0,y),this.scaleMode=s(C,C?"mode":"scaleMode",0,y),this.expandParent=s(C,"expandParent",!0,y),this.autoRound=s(C,"autoRound",!1,y),this.autoCenter=s(C,"autoCenter",0,y),this.resizeInterval=s(C,"resizeInterval",500,y),this.fullscreenTarget=s(C,"fullscreenTarget",null,y),this.minWidth=s(C,"min.width",0,y),this.maxWidth=s(C,"max.width",0,y),this.minHeight=s(C,"min.height",0,y),this.maxHeight=s(C,"max.height",0,y),this.snapWidth=s(C,"snap.width",0,y),this.snapHeight=s(C,"snap.height",0,y),this.renderType=s(y,"type",x.AUTO),this.canvas=s(y,"canvas",null),this.context=s(y,"context",null),this.canvasStyle=s(y,"canvasStyle",null),this.customEnvironment=s(y,"customEnvironment",!1),this.sceneConfig=s(y,"scene",null),this.seed=s(y,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=s(y,"title",""),this.gameURL=s(y,"url","https://phaser.io"),this.gameVersion=s(y,"version",""),this.autoFocus=s(y,"autoFocus",!0),this.stableSort=s(y,"stableSort",-1),-1===this.stableSort&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=s(y,"dom.createContainer",!1),this.domPointerEvents=s(y,"dom.pointerEvents","none"),this.inputKeyboard=s(y,"input.keyboard",!0),this.inputKeyboardEventTarget=s(y,"input.keyboard.target",window),this.inputKeyboardCapture=s(y,"input.keyboard.capture",[]),this.inputMouse=s(y,"input.mouse",!0),this.inputMouseEventTarget=s(y,"input.mouse.target",null),this.inputMousePreventDefaultDown=s(y,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=s(y,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=s(y,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=s(y,"input.mouse.preventDefaultWheel",!0),this.inputTouch=s(y,"input.touch",u.input.touch),this.inputTouchEventTarget=s(y,"input.touch.target",null),this.inputTouchCapture=s(y,"input.touch.capture",!0),this.inputActivePointers=s(y,"input.activePointers",1),this.inputSmoothFactor=s(y,"input.smoothFactor",0),this.inputWindowEvents=s(y,"input.windowEvents",!0),this.inputGamepad=s(y,"input.gamepad",!1),this.inputGamepadEventTarget=s(y,"input.gamepad.target",window),this.disableContextMenu=s(y,"disableContextMenu",!1),this.audio=s(y,"audio",{}),this.hideBanner=!1===s(y,"banner",null),this.hidePhaser=s(y,"banner.hidePhaser",!1),this.bannerTextColor=s(y,"banner.text","#ffffff"),this.bannerBackgroundColor=s(y,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(y,"fps",null),this.disablePreFX=s(y,"disablePreFX",!1),this.disablePostFX=s(y,"disablePostFX",!1);var M=s(y,"render",null);this.pipeline=s(M,"pipeline",null,y),this.autoMobilePipeline=s(M,"autoMobilePipeline",!0,y),this.defaultPipeline=s(M,"defaultPipeline",c.MULTI_PIPELINE,y),this.antialias=s(M,"antialias",!0,y),this.antialiasGL=s(M,"antialiasGL",!0,y),this.mipmapFilter=s(M,"mipmapFilter","",y),this.desynchronized=s(M,"desynchronized",!1,y),this.roundPixels=s(M,"roundPixels",!0,y),this.pixelArt=s(M,"pixelArt",1!==this.zoom,y),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=s(M,"transparent",!1,y),this.clearBeforeRender=s(M,"clearBeforeRender",!0,y),this.preserveDrawingBuffer=s(M,"preserveDrawingBuffer",!1,y),this.premultipliedAlpha=s(M,"premultipliedAlpha",!0,y),this.failIfMajorPerformanceCaveat=s(M,"failIfMajorPerformanceCaveat",!1,y),this.powerPreference=s(M,"powerPreference","default",y),this.batchSize=s(M,"batchSize",4096,y),this.maxTextures=s(M,"maxTextures",-1,y),this.maxLights=s(M,"maxLights",10,y);var w=s(y,"backgroundColor",0);this.backgroundColor=p(w),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=s(y,"callbacks.preBoot",f),this.postBoot=s(y,"callbacks.postBoot",f),this.physics=s(y,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(y,"loader.baseURL",""),this.loaderPath=s(y,"loader.path",""),this.loaderMaxParallelDownloads=s(y,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=s(y,"loader.crossOrigin",void 0),this.loaderResponseType=s(y,"loader.responseType",""),this.loaderAsync=s(y,"loader.async",!0),this.loaderUser=s(y,"loader.user",""),this.loaderPassword=s(y,"loader.password",""),this.loaderTimeout=s(y,"loader.timeout",0),this.loaderWithCredentials=s(y,"loader.withCredentials",!1),this.loaderImageLoadType=s(y,"loader.imageLoadType","XHR"),this.loaderLocalScheme=s(y,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=s(y,"fx.glow.quality",.1),this.glowFXDistance=s(y,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=s(y,"plugins",null),I=h.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:o(R)&&(this.installGlobalPlugins=l(R,"global",[]),this.installScenePlugins=l(R,"scene",[]),Array.isArray(R.default)?I=R.default:Array.isArray(R.defaultMerge)&&(I=I.concat(R.defaultMerge)))),this.defaultPlugins=I;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(y,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(y,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=s(y,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});T.exports=d},86054:(T,A,i)=>{var m=i(20623),x=i(27919),h=i(8054),u=i(89357);T.exports=function(s){var o=s.config;if((o.customEnvironment||o.canvas)&&o.renderType===h.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!o.customEnvironment&&!o.canvas&&o.renderType!==h.HEADLESS)if(o.renderType===h.AUTO&&(o.renderType=u.webGL?h.WEBGL:h.CANVAS),o.renderType===h.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(o.renderType!==h.CANVAS)throw new Error("Unknown value for renderer type: "+o.renderType);if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}o.antialias||x.disableSmoothing();var p,d,f=s.scale.baseSize,a=f.width,c=f.height;o.canvas?(s.canvas=o.canvas,s.canvas.width=a,s.canvas.height=c):s.canvas=x.create(s,a,c,o.renderType),o.canvasStyle&&(s.canvas.style=o.canvasStyle),o.antialias||m.setCrisp(s.canvas),o.renderType!==h.HEADLESS&&(p=i(68627),d=i(74797),o.renderType===h.WEBGL?s.renderer=new d(s):(s.renderer=new p(s),s.context=s.renderer.gameContext))}},96391:(T,A,i)=>{var m=i(8054);T.exports=function(h){var u=h.config;if(!u.hideBanner){var l="WebGL";u.renderType===m.CANVAS?l="Canvas":u.renderType===m.HEADLESS&&(l="Headless");var f,s=u.audio,o=h.device.audio;if(f=o.webAudio&&!s.disableWebAudio?"Web Audio":s.noAudio||!o.webAudio&&!o.audioData?"No Audio":"HTML5 Audio",h.device.browser.ie)window.console&&console.log("Phaser v"+m.VERSION+" / https://phaser.io");else{var p,a="",c=[a];Array.isArray(u.bannerBackgroundColor)?(u.bannerBackgroundColor.forEach(function(v){a=a.concat("%c "),c.push("background: "+v),p=v}),c[c.length-1]="color: "+u.bannerTextColor+"; background: "+p):(a=a.concat("%c "),c.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor)),c.push("background: transparent"),u.gameTitle&&(a=a.concat(u.gameTitle),u.gameVersion&&(a=a.concat(" v"+u.gameVersion)),u.hidePhaser||(a=a.concat(" / "))),u.hidePhaser||(a=a.concat("Phaser v"+m.VERSION+" ("+l+" | "+f+")")),a=a.concat(" %c "+u.gameURL),c[0]=a,console.log.apply(console,c)}}}},50127:(T,A,i)=>{var m=i(40366),x=i(60848),h=i(24047),u=i(27919),l=i(83419),s=i(69547),o=i(83719),f=i(86054),a=i(45893),c=i(96391),p=i(82264),d=i(57264),v=i(50792),y=i(8443),S=i(7003),b=i(37277),C=i(77332),M=i(76531),w=i(60903),R=i(69442),I=i(17130),L=i(65898),F=i(51085),G=i(14747),B=new l({initialize:function(Y){this.config=new s(Y),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new x(this),this.textures=new I(this),this.cache=new h(this),this.registry=new a(this,new v),this.input=new S(this,this.config),this.scene=new w(this,this.config.sceneConfig),this.device=p,this.scale=new M(this,this.config),this.sound=null,this.sound=G.create(this),this.loop=new L(this,this.config.fps),this.plugins=new C(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){b.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),o(this),c(this),m(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(y.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(y.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),F(this);var V=this.events;V.on(y.HIDDEN,this.onHidden,this),V.on(y.VISIBLE,this.onVisible,this),V.on(y.BLUR,this.onBlur,this),V.on(y.FOCUS,this.onFocus,this)},step:function(V,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(y.PRE_STEP,V,Y),$.emit(y.STEP,V,Y),this.scene.update(V,Y),$.emit(y.POST_STEP,V,Y);var J=this.renderer;J.preRender(),$.emit(y.PRE_RENDER,J,V,Y),this.scene.render(J),J.postRender(),$.emit(y.POST_RENDER,J,V,Y)}},headlessStep:function(V,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(y.PRE_STEP,V,Y),$.emit(y.STEP,V,Y),this.scene.update(V,Y),$.emit(y.POST_STEP,V,Y),this.scene.isProcessing=!1,$.emit(y.PRE_RENDER,null,V,Y),$.emit(y.POST_RENDER,null,V,Y)}},onHidden:function(){this.loop.pause(),this.events.emit(y.PAUSE)},pause:function(){var V=this.isPaused;this.isPaused=!0,V||this.events.emit(y.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(y.RESUME)},resume:function(){var V=this.isPaused;this.isPaused=!1,V&&this.events.emit(y.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(V,Y){void 0===Y&&(Y=!1),this.pendingDestroy=!0,this.removeCanvas=V,this.noReturn=Y},runDestroy:function(){this.scene.destroy(),this.events.emit(y.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});T.exports=B},65898:(T,A,i)=>{var m=i(83419),x=i(35154),h=i(29747),u=i(43092),l=new m({initialize:function(o,f){this.game=o,this.raf=new u,this.started=!1,this.running=!1,this.minFps=x(f,"min",5),this.targetFps=x(f,"target",60),this.fpsLimit=x(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=h,this.forceSetTimeOut=x(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(f,"deltaHistory",10),this.panicMax=x(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var s=window.performance.now();this.time=s,this.lastTime=s,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=Math.min(this._target,this.deltaHistory[o]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(s){if(this.started)return this;this.started=!0,this.running=!0;for(var o=0;o<this.deltaSmoothingMax;o++)this.deltaHistory[o]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=s;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(s){var o=this.deltaIndex,f=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=f[o],s=Math.min(s,this._min)),f[o]=s,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var c=0,p=0;p<a;p++)c+=f[p];return c/a},updateFPS:function(s){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0},stepLimitFPS:function(s){this.now=s;var o=Math.max(0,s-this.lastTime);this.rawDelta=o,this.time+=this.rawDelta,this.smoothStep&&(o=this.smoothDelta(o)),this.delta+=o,s>=this.nextFpsUpdate&&this.updateFPS(s),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(s,this.delta),this.delta=0),this.lastTime=s,this.frame++},step:function(s){this.now=s;var o=Math.max(0,s-this.lastTime);this.rawDelta=o,this.time+=this.rawDelta,this.smoothStep&&(o=this.smoothDelta(o)),this.delta=o,s>=this.nextFpsUpdate&&this.updateFPS(s),this.framesThisSecond++,this.callback(s,o),this.lastTime=s,this.frame++},tick:function(){var s=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(s):this.step(s)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(s){void 0===s&&(s=!1);var o=window.performance.now();if(!this.running){s&&(this.startTime+=-this.lastTime+(this.lastTime+o));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});T.exports=l},51085:(T,A,i)=>{var m=i(8443);T.exports=function(h){var u,l=h.events;void 0!==document.hidden?u="visibilitychange":["webkit","moz","ms"].forEach(function(f){void 0!==document[f+"Hidden"]&&(document.hidden=function(){return document[f+"Hidden"]},u=f+"visibilitychange")}),u&&document.addEventListener(u,function(f){document.hidden||"pause"===f.type?l.emit(m.HIDDEN):l.emit(m.VISIBLE)},!1),window.onblur=function(){l.emit(m.BLUR)},window.onfocus=function(){l.emit(m.FOCUS)},window.focus&&h.config.autoFocus&&window.focus()}},97217:T=>{T.exports="blur"},47548:T=>{T.exports="boot"},19814:T=>{T.exports="contextlost"},68446:T=>{T.exports="destroy"},41700:T=>{T.exports="focus"},25432:T=>{T.exports="hidden"},65942:T=>{T.exports="pause"},59211:T=>{T.exports="postrender"},47789:T=>{T.exports="poststep"},39066:T=>{T.exports="prerender"},460:T=>{T.exports="prestep"},16175:T=>{T.exports="ready"},42331:T=>{T.exports="resume"},11966:T=>{T.exports="step"},32969:T=>{T.exports="systemready"},94830:T=>{T.exports="visible"},8443:(T,A,i)=>{T.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(T,A,i)=>{T.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(T,A,i)=>{var m=i(5290),x=i(27919),h=i(35154);T.exports=function(l){var s=h(l,"data",[]),o=h(l,"canvas",null),f=h(l,"palette",m),a=h(l,"pixelWidth",1),c=h(l,"pixelHeight",a),p=h(l,"resizeCanvas",!0),d=h(l,"clearCanvas",!0),v=h(l,"preRender",null),y=h(l,"postRender",null),S=Math.floor(Math.abs(s[0].length*a)),b=Math.floor(Math.abs(s.length*c));o||(o=x.create2D(this,S,b),p=!1,d=!1),p&&(o.width=S,o.height=b);var C=o.getContext("2d",{willReadFrequently:!0});d&&C.clearRect(0,0,S,b),v&&v(o,C);for(var M=0;M<s.length;M++)for(var w=s[M],R=0;R<w.length;R++){var I=w[R];"."!==I&&" "!==I&&(C.fillStyle=f[I],C.fillRect(R*a,M*c,a,c))}return y&&y(o,C),o}},15822:(T,A,i)=>{T.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:T=>{T.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:T=>{T.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:T=>{T.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:T=>{T.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:T=>{T.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(T,A,i)=>{T.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(T,A,i)=>{var m=i(83419),x=i(36316),h=i(80021),u=i(26099),l=new m({Extends:h,initialize:function(o,f,a,c){h.call(this,"CubicBezierCurve"),Array.isArray(o)&&(c=new u(o[6],o[7]),a=new u(o[4],o[5]),f=new u(o[2],o[3]),o=new u(o[0],o[1])),this.p0=o,this.p1=f,this.p2=a,this.p3=c},getStartPoint:function(s){return void 0===s&&(s=new u),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,o){void 0===o&&(o=new u);var f=this.p0,a=this.p1,c=this.p2,p=this.p3;return o.set(x(s,f.x,a.x,c.x,p.x),x(s,f.y,a.y,c.y,p.y))},draw:function(s,o){void 0===o&&(o=32);var f=this.getPoints(o);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var a=1;a<f.length;a++)s.lineTo(f[a].x,f[a].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(s){var o=s.points,f=new u(o[0],o[1]),a=new u(o[2],o[3]),c=new u(o[4],o[5]),p=new u(o[6],o[7]);return new l(f,a,c,p)},T.exports=l},80021:(T,A,i)=>{var m=i(83419),x=i(19217),h=i(87841),u=i(26099),l=new m({initialize:function(o){this.type=o,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(s,o){return void 0===o&&(o=32),s.strokePoints(this.getPoints(o))},getBounds:function(s,o){s||(s=new h),void 0===o&&(o=16);var f=this.getLength();o>f&&(o=f/2);var a=Math.max(1,Math.round(f/o));return x(this.getSpacedPoints(a),s)},getDistancePoints:function(s){var o=this.getLength(),f=Math.max(1,o/s);return this.getSpacedPoints(f)},getEndPoint:function(s){return void 0===s&&(s=new u),this.getPointAt(1,s)},getLength:function(){var s=this.getLengths();return s[s.length-1]},getLengths:function(s){if(void 0===s&&(s=this.arcLengthDivisions),this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f,o=[],a=this.getPoint(0,this._tmpVec2A),c=0;o.push(0);for(var p=1;p<=s;p++)c+=(f=this.getPoint(p/s,this._tmpVec2B)).distance(a),o.push(c),a.copy(f);return this.cacheArcLengths=o,o},getPointAt:function(s,o){var f=this.getUtoTmapping(s);return this.getPoint(f,o)},getPoints:function(s,o,f){void 0===f&&(f=[]),s||(s=o?this.getLength()/o:this.defaultDivisions);for(var a=0;a<=s;a++)f.push(this.getPoint(a/s));return f},getRandomPoint:function(s){return void 0===s&&(s=new u),this.getPoint(Math.random(),s)},getSpacedPoints:function(s,o,f){void 0===f&&(f=[]),s||(s=o?this.getLength()/o:this.defaultDivisions);for(var a=0;a<=s;a++){var c=this.getUtoTmapping(a/s,null,s);f.push(this.getPoint(c))}return f},getStartPoint:function(s){return void 0===s&&(s=new u),this.getPointAt(0,s)},getTangent:function(s,o){void 0===o&&(o=new u);var f=1e-4,a=s-f,c=s+f;return a<0&&(a=0),c>1&&(c=1),this.getPoint(a,this._tmpVec2A),this.getPoint(c,o),o.subtract(this._tmpVec2A).normalize()},getTangentAt:function(s,o){var f=this.getUtoTmapping(s);return this.getTangent(f,o)},getTFromDistance:function(s,o){return s<=0?0:this.getUtoTmapping(0,s,o)},getUtoTmapping:function(s,o,f){var d,a=this.getLengths(f),c=0,p=a.length;d=o?Math.min(o,a[p-1]):s*a[p-1];for(var S,v=0,y=p-1;v<=y;)if((S=a[c=Math.floor(v+(y-v)/2)]-d)<0)v=c+1;else{if(!(S>0)){y=c;break}y=c-1}if(a[c=y]===d)return c/(p-1);var b=a[c];return(c+(d-b)/(a[c+1]-b))/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});T.exports=l},73825:(T,A,i)=>{var m=i(83419),x=i(80021),h=i(39506),u=i(35154),l=i(43396),s=i(26099),o=new m({Extends:x,initialize:function(a,c,p,d,v,y,S,b){if("object"==typeof a){var C=a;a=u(C,"x",0),c=u(C,"y",0),p=u(C,"xRadius",0),d=u(C,"yRadius",p),v=u(C,"startAngle",0),y=u(C,"endAngle",360),S=u(C,"clockwise",!1),b=u(C,"rotation",0)}else void 0===d&&(d=p),void 0===v&&(v=0),void 0===y&&(y=360),void 0===S&&(S=!1),void 0===b&&(b=0);x.call(this,"EllipseCurve"),this.p0=new s(a,c),this._xRadius=p,this._yRadius=d,this._startAngle=h(v),this._endAngle=h(y),this._clockwise=S,this._rotation=h(b)},getStartPoint:function(f){return void 0===f&&(f=new s),this.getPoint(0,f)},getResolution:function(f){return 2*f},getPoint:function(f,a){void 0===a&&(a=new s);for(var c=2*Math.PI,p=this._endAngle-this._startAngle,d=Math.abs(p)<Number.EPSILON;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(p=d?0:c),this._clockwise&&!d&&(p===c?p=-c:p-=c);var v=this._startAngle+f*p,y=this.p0.x+this._xRadius*Math.cos(v),S=this.p0.y+this._yRadius*Math.sin(v);if(0!==this._rotation){var b=Math.cos(this._rotation),C=Math.sin(this._rotation),M=y-this.p0.x,w=S-this.p0.y;y=M*b-w*C+this.p0.x,S=M*C+w*b+this.p0.y}return a.set(y,S)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return l(this._startAngle)},set:function(f){this._startAngle=h(f)}},endAngle:{get:function(){return l(this._endAngle)},set:function(f){this._endAngle=h(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return l(this._rotation)},set:function(f){this._rotation=h(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});o.fromJSON=function(f){return new o(f)},T.exports=o},33951:(T,A,i)=>{var m=i(83419),x=i(80021),h=i(19217),u=i(87841),l=i(26099),s=new m({Extends:x,initialize:function(f,a){x.call(this,"LineCurve"),Array.isArray(f)&&(a=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=a,this.arcLengthDivisions=1},getBounds:function(o){return void 0===o&&(o=new u),h([this.p0,this.p1],o)},getStartPoint:function(o){return void 0===o&&(o=new l),o.copy(this.p0)},getResolution:function(o){return void 0===o&&(o=1),o},getPoint:function(o,f){return void 0===f&&(f=new l),1===o?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(o).add(this.p0),f)},getPointAt:function(o,f){return this.getPoint(o,f)},getTangent:function(o,f){return void 0===f&&(f=new l),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(o,f,a){var c;if(f){var p=this.getLengths(a),d=p[p.length-1];c=Math.min(f,d)/d}else c=o;return c},draw:function(o){return o.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});s.fromJSON=function(o){var f=o.points,a=new l(f[0],f[1]),c=new l(f[2],f[3]);return new s(a,c)},T.exports=s},14744:(T,A,i)=>{var m=i(83419),x=i(80021),h=i(32112),u=i(26099),l=new m({Extends:x,initialize:function(o,f,a){x.call(this,"QuadraticBezierCurve"),Array.isArray(o)&&(a=new u(o[4],o[5]),f=new u(o[2],o[3]),o=new u(o[0],o[1])),this.p0=o,this.p1=f,this.p2=a},getStartPoint:function(s){return void 0===s&&(s=new u),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,o){void 0===o&&(o=new u);var f=this.p0,a=this.p1,c=this.p2;return o.set(h(s,f.x,a.x,c.x),h(s,f.y,a.y,c.y))},draw:function(s,o){void 0===o&&(o=32);var f=this.getPoints(o);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var a=1;a<f.length;a++)s.lineTo(f[a].x,f[a].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(s){var o=s.points,f=new u(o[0],o[1]),a=new u(o[2],o[3]),c=new u(o[4],o[5]);return new l(f,a,c)},T.exports=l},42534:(T,A,i)=>{var m=i(87842),x=i(83419),h=i(80021),u=i(26099),l=new x({Extends:h,initialize:function(o){void 0===o&&(o=[]),h.call(this,"SplineCurve"),this.points=[],this.addPoints(o)},addPoints:function(s){for(var o=0;o<s.length;o++){var f=new u;"number"==typeof s[o]?(f.x=s[o],f.y=s[o+1],o++):Array.isArray(s[o])?(f.x=s[o][0],f.y=s[o][1]):(f.x=s[o].x,f.y=s[o].y),this.points.push(f)}return this},addPoint:function(s,o){var f=new u(s,o);return this.points.push(f),f},getStartPoint:function(s){return void 0===s&&(s=new u),s.copy(this.points[0])},getResolution:function(s){return s*this.points.length},getPoint:function(s,o){void 0===o&&(o=new u);var f=this.points,a=(f.length-1)*s,c=Math.floor(a),p=a-c,d=f[0===c?c:c-1],v=f[c],y=f[c>f.length-2?f.length-1:c+1],S=f[c>f.length-3?f.length-1:c+2];return o.set(m(p,d.x,v.x,y.x,S.x),m(p,d.y,v.y,y.y,S.y))},toJSON:function(){for(var s=[],o=0;o<this.points.length;o++)s.push(this.points[o].x),s.push(this.points[o].y);return{type:this.type,points:s}}});l.fromJSON=function(s){return new l(s.points)},T.exports=l},25410:(T,A,i)=>{T.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(T,A,i)=>{var m=i(83419),x=i(26099),h=new m({initialize:function(l,s){this.active=!1,this.p0=new x(l,s)},getPoint:function(u,l){return void 0===l&&(l=new x),l.copy(this.p0)},getPointAt:function(u,l){return this.getPoint(u,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});T.exports=h},46669:(T,A,i)=>{var m=i(83419),x=i(46728),h=i(73825),u=i(39429),l=i(33951),s=i(68618),o=i(14744),f=i(87841),a=i(42534),c=i(26099),p=i(36383),d=new m({initialize:function(y,S){void 0===y&&(y=0),void 0===S&&(S=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,"object"==typeof y?this.fromJSON(y):this.startPoint.set(y,S)},add:function(v){return this.curves.push(v),this},circleTo:function(v,y,S){return void 0===y&&(y=!1),this.ellipseTo(v,v,0,360,y,S)},closePath:function(){var v=this.curves[0].getPoint(0),y=this.curves[this.curves.length-1].getPoint(1);return v.equals(y)||this.curves.push(new l(y,v)),this},cubicBezierTo:function(v,y,S,b,C,M){var R,I,L,w=this.getEndPoint();return v instanceof c?(R=v,I=y,L=S):(R=new c(S,b),I=new c(C,M),L=new c(v,y)),this.add(new x(w,R,I,L))},quadraticBezierTo:function(v,y,S,b){var M,w,C=this.getEndPoint();return v instanceof c?(M=v,w=y):(M=new c(S,b),w=new c(v,y)),this.add(new o(C,M,w))},draw:function(v,y){for(var S=0;S<this.curves.length;S++){var b=this.curves[S];b.active&&b.draw(v,y)}return v},ellipseTo:function(v,y,S,b,C,M){var w=new h(0,0,v,y,S,b,C,M),R=this.getEndPoint(this._tmpVec2A),I=w.getStartPoint(this._tmpVec2B);return R.subtract(I),w.x=R.x,w.y=R.y,this.add(w)},fromJSON:function(v){this.curves=[],this.cacheLengths=[],this.startPoint.set(v.x,v.y),this.autoClose=v.autoClose;for(var y=0;y<v.curves.length;y++){var S=v.curves[y];switch(S.type){case"LineCurve":this.add(l.fromJSON(S));break;case"EllipseCurve":this.add(h.fromJSON(S));break;case"SplineCurve":this.add(a.fromJSON(S));break;case"CubicBezierCurve":this.add(x.fromJSON(S));break;case"QuadraticBezierCurve":this.add(o.fromJSON(S))}}return this},getBounds:function(v,y){void 0===v&&(v=new f),void 0===y&&(y=16),v.x=Number.MAX_VALUE,v.y=Number.MAX_VALUE;for(var S=new f,b=p.MIN_SAFE_INTEGER,C=p.MIN_SAFE_INTEGER,M=0;M<this.curves.length;M++){var w=this.curves[M];w.active&&(w.getBounds(S,y),v.x=Math.min(v.x,S.x),v.y=Math.min(v.y,S.y),b=Math.max(b,S.right),C=Math.max(C,S.bottom))}return v.right=b,v.bottom=C,v},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var v=[],y=0,S=0;S<this.curves.length;S++)y+=this.curves[S].getLength(),v.push(y);return this.cacheLengths=v,v},getCurveAt:function(v){for(var y=v*this.getLength(),S=this.getCurveLengths(),b=0;b<S.length;){if(S[b]>=y)return this.curves[b];b++}return null},getEndPoint:function(v){return void 0===v&&(v=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,v):v.copy(this.startPoint),v},getLength:function(){var v=this.getCurveLengths();return v[v.length-1]},getPoint:function(v,y){void 0===y&&(y=new c);for(var S=v*this.getLength(),b=this.getCurveLengths(),C=0;C<b.length;){if(b[C]>=S){var M=b[C]-S,w=this.curves[C],R=w.getLength();return w.getPointAt(0===R?0:1-M/R,y)}C++}return null},getPoints:function(v,y){!v&&!y&&(v=this.defaultDivisions);for(var b,S=[],C=0;C<this.curves.length;C++){var M=this.curves[C];if(M.active)for(var w=M.getResolution(v),R=M.getPoints(w,y),I=0;I<R.length;I++){var L=R[I];b&&b.equals(L)||(S.push(L),b=L)}}return this.autoClose&&S.length>1&&!S[S.length-1].equals(S[0])&&S.push(S[0]),S},getRandomPoint:function(v){return void 0===v&&(v=new c),this.getPoint(Math.random(),v)},getSpacedPoints:function(v){void 0===v&&(v=40);for(var y=[],S=0;S<=v;S++)y.push(this.getPoint(S/v));return this.autoClose&&y.push(y[0]),y},getStartPoint:function(v){return void 0===v&&(v=new c),v.copy(this.startPoint)},getTangent:function(v,y){void 0===y&&(y=new c);for(var S=v*this.getLength(),b=this.getCurveLengths(),C=0;C<b.length;){if(b[C]>=S){var M=b[C]-S,w=this.curves[C],R=w.getLength();return w.getTangentAt(0===R?0:1-M/R,y)}C++}return null},lineTo:function(v,y){v instanceof c?this._tmpVec2B.copy(v):"object"==typeof v?this._tmpVec2B.setFromObject(v):this._tmpVec2B.set(v,y);var S=this.getEndPoint(this._tmpVec2A);return this.add(new l([S.x,S.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(v){return v.unshift(this.getEndPoint()),this.add(new a(v))},moveTo:function(v,y){return this.add(v instanceof c?new s(v.x,v.y):new s(v,y))},toJSON:function(){for(var v=[],y=0;y<this.curves.length;y++)v.push(this.curves[y].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:v}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(v,y){return new d(v,y)}),T.exports=d},45893:(T,A,i)=>{var m=i(83419),x=i(24882),h=new m({initialize:function(l,s){this.parent=l,this.events=s,s||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(u){var l=this.list;if(Array.isArray(u)){for(var s=[],o=0;o<u.length;o++)s.push(l[u[o]]);return s}return l[u]},getAll:function(){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&(u[l]=this.list[l]);return u},query:function(u){var l={};for(var s in this.list)this.list.hasOwnProperty(s)&&s.match(u)&&(l[s]=this.list[s]);return l},set:function(u,l){if(this._frozen)return this;if("string"==typeof u)return this.setValue(u,l);for(var s in u)this.setValue(s,u[s]);return this},inc:function(u,l){if(this._frozen)return this;void 0===l&&(l=1);var s=this.get(u);return void 0===s&&(s=0),this.set(u,s+l),this},toggle:function(u){return this._frozen||this.set(u,!this.get(u)),this},setValue:function(u,l){if(this._frozen)return this;if(this.has(u))this.values[u]=l;else{var s=this,o=this.list,f=this.events,a=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return o[u]},set:function(c){if(!s._frozen){var p=o[u];o[u]=c,f.emit(x.CHANGE_DATA,a,u,c,p),f.emit(x.CHANGE_DATA_KEY+u,a,c,p)}}}),o[u]=l,f.emit(x.SET_DATA,a,u,l)}return this},each:function(u,l){for(var s=[this.parent,null,void 0],o=1;o<arguments.length;o++)s.push(arguments[o]);for(var f in this.list)s[1]=f,s[2]=this.list[f],u.apply(l,s);return this},merge:function(u,l){for(var s in void 0===l&&(l=!0),u)u.hasOwnProperty(s)&&(l||!l&&!this.has(s))&&this.setValue(s,u[s]);return this},remove:function(u){if(this._frozen)return this;if(!Array.isArray(u))return this.removeValue(u);for(var l=0;l<u.length;l++)this.removeValue(u[l]);return this},removeValue:function(u){if(this.has(u)){var l=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(x.REMOVE_DATA,this.parent,u,l)}return this},pop:function(u){var l=void 0;return!this._frozen&&this.has(u)&&(l=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(x.REMOVE_DATA,this.parent,u,l)),l},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var l in this.list)void 0!==this.list[l]&&u++;return u}}});T.exports=h},63646:(T,A,i)=>{var m=i(83419),x=i(45893),h=i(37277),u=i(44594),l=new m({Extends:x,initialize:function(o){x.call(this,o,o.sys.events),this.scene=o,this.systems=o.sys,o.sys.events.once(u.BOOT,this.boot,this),o.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("DataManagerPlugin",l,"data"),T.exports=l},10700:T=>{T.exports="changedata"},93608:T=>{T.exports="changedata-"},60883:T=>{T.exports="destroy"},69780:T=>{T.exports="removedata"},22166:T=>{T.exports="setdata"},24882:(T,A,i)=>{T.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(T,A,i)=>{T.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(T,A,i)=>{var m=i(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};T.exports=function h(){if("function"==typeof importScripts)return x;x.audioData=!!window.Audio,x.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var u=document.createElement("audio"),l=!!u.canPlayType;try{if(l){var s=function(a,c){var p=u.canPlayType("audio/"+a).replace(/^no$/,"");return c?!(!p&&!u.canPlayType("audio/"+c).replace(/^no$/,"")):!!p};if(x.ogg=s('ogg; codecs="vorbis"'),x.opus=s('ogg; codecs="opus"',"opus"),x.mp3=s("mpeg"),x.wav=s("wav"),x.m4a=s("x-m4a"),x.aac=s("aac"),x.flac=s("flac","x-flac"),x.webm=s('webm; codecs="vorbis"'),""!==u.canPlayType('audio/mp4; codecs="ec-3"'))if(m.edge)x.dolby=!0;else if(m.safari&&m.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var o=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(10===o&&f>=11||o>10)&&(x.dolby=!0)}}}catch{}return x}()},84148:(T,A,i)=>{var m=i(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};T.exports=function h(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(x.edge=!0,x.es2019=!0):/OPR/.test(u)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(u)&&!m.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&m.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!m.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(x.silk=!0),x}()},89289:(T,A,i)=>{var m=i(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};T.exports=function l(){return"function"!=typeof importScripts&&void 0!==document&&(x.supportNewBlendModes=function h(){var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",o="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var a=new Image;a.onload=function(){var p=m.create2D(a,6).getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(f,0,0),p.drawImage(a,2,0),!p.getImageData(2,0,1,1))return!1;var d=p.getImageData(2,0,1,1).data;m.remove(a),x.supportNewBlendModes=255===d[0]&&0===d[1]&&0===d[2]},a.src=s+"/wCKxvRF"+o},f.src=s+"AP804Oa6"+o,!1}(),x.supportInverseAlpha=function u(){var o=m.create2D(this,2).getContext("2d",{willReadFrequently:!0});o.fillStyle="rgba(10, 20, 30, 0.5)",o.fillRect(0,0,1,1);var f=o.getImageData(0,0,1,1);if(null===f)return!1;o.putImageData(f,1,0);var a=o.getImageData(1,0,1,1),c=a.data[0]===f.data[0]&&a.data[1]===f.data[1]&&a.data[2]===f.data[2]&&a.data[3]===f.data[3];return m.remove(this),c}()),x}()},89357:(T,A,i)=>{var m=i(25892),x=i(84148),h=i(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};T.exports=function s(){if("function"==typeof importScripts)return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),u.fileSystem=!!window.requestFileSystem;var o=!1;return u.webGL=function(){if(window.WebGLRenderingContext)try{var a=h.createWebGL(this),c=a.getContext("webgl")||a.getContext("experimental-webgl"),p=h.create2D(this),v=p.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return o=v.data instanceof Uint8ClampedArray,h.remove(a),h.remove(p),!!c}catch{return!1}return!1}(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(u.getUserMedia=!1),!m.iOS&&(x.ie||x.firefox||x.chrome)&&(u.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=function l(){var o=new ArrayBuffer(4),f=new Uint8Array(o),a=new Uint32Array(o);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,3569595041===a[0]||2712847316!==a[0]&&null}()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&null!==u.littleEndian&&o,u}()},91639:T=>{var A={available:!1,cancel:"",keyboard:!1,request:""};T.exports=function i(){if("function"==typeof importScripts)return A;var m,x="Fullscreen",h="FullScreen",u=["request"+x,"request"+h,"webkitRequest"+x,"webkitRequest"+h,"msRequest"+x,"msRequest"+h,"mozRequest"+h,"mozRequest"+x];for(m=0;m<u.length;m++)if(document.documentElement[u[m]]){A.available=!0,A.request=u[m];break}var l=["cancel"+h,"exit"+x,"webkitCancel"+h,"webkitExit"+x,"msCancel"+h,"msExit"+x,"mozCancel"+h,"mozExit"+x];if(A.available)for(m=0;m<l.length;m++)if(document[l[m]]){A.cancel=l[m];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(A.keyboard=!0),Object.defineProperty(A,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),A}()},31784:(T,A,i)=>{var m=i(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};T.exports=function h(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||m.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":m.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}()},25892:T=>{var A={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};T.exports=function i(){if("function"==typeof importScripts)return A;var m=navigator.userAgent;/Windows/.test(m)?A.windows=!0:/Mac OS/.test(m)&&!/like Mac OS/.test(m)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(A.iOS=!0,A.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),A.iOSVersion=parseInt(RegExp.$1,10)):A.macOS=!0:/Android/.test(m)?A.android=!0:/Linux/.test(m)?A.linux=!0:/iP[ao]d|iPhone/i.test(m)?(A.iOS=!0,navigator.appVersion.match(/OS (\d+)/),A.iOSVersion=parseInt(RegExp.$1,10),A.iPhone=-1!==m.toLowerCase().indexOf("iphone"),A.iPad=-1!==m.toLowerCase().indexOf("ipad")):/Kindle/.test(m)||/\bKF[A-Z][A-Z]+/.test(m)||/Silk.*Mobile Safari/.test(m)?A.kindle=!0:/CrOS/.test(m)&&(A.chromeOS=!0),(/Windows Phone/i.test(m)||/IEMobile/i.test(m))&&(A.android=!1,A.iOS=!1,A.macOS=!1,A.windows=!0,A.windowsPhone=!0);var x=/Silk/.test(m);return(A.windows||A.macOS||A.linux&&!x||A.chromeOS)&&(A.desktop=!0),(A.windowsPhone||/Windows NT/i.test(m)&&/Touch/i.test(m))&&(A.desktop=!1),navigator.standalone&&(A.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(A.cordova=!0),void 0!==window.ejecta&&(A.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(A.node=!0),A.node&&"object"==typeof process.versions&&(A.nodeWebkit=!!process.versions["node-webkit"],A.electron=!!process.versions.electron),/Crosswalk/.test(m)&&(A.crosswalk=!0),A.pixelRatio=window.devicePixelRatio||1,A}()},43267:(T,A,i)=>{var m=i(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};T.exports=function h(){if("function"==typeof importScripts)return x;var u=document.createElement("video"),l=!!u.canPlayType,s=/^no$/;try{l&&(u.canPlayType('video/ogg; codecs="theora"').replace(s,"")&&(x.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(s,"")&&(x.h264=!0,x.mp4=!0),u.canPlayType("video/x-m4v").replace(s,"")&&(x.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(s,"")&&(x.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(s,"")&&(x.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(s,"")&&(x.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),x.getVideoURL=function(o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var c,a=m(o[f],"url",o[f]);if(0===a.indexOf("blob:"))return{url:a,type:""};if(c=0===a.indexOf("data:")?a.split(",")[0].match(/\/(.*?);/):a.match(/\.([a-zA-Z0-9]+)($|\?)/),c=m(o[f],"type",c?c[1]:"").toLowerCase(),x[c])return{url:a,type:c}}return null},x}()},82264:(T,A,i)=>{T.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(T,A,i)=>{var m=i(83419),x=new Float32Array(20),h=new m({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,l){return void 0===u&&(u=0),void 0===l&&(l=!1),this.multiply([u,0,0,0,0,0,u,0,0,0,0,0,u,0,0,0,0,0,1,0],l)},saturate:function(u,l){void 0===u&&(u=0),void 0===l&&(l=!1);var s=2*u/3+1,o=-.5*(s-1);return this.multiply([s,o,o,0,0,o,s,o,0,0,o,o,s,0,0,0,0,0,1,0],l)},desaturate:function(u){return void 0===u&&(u=!1),this.saturate(-1,u)},hue:function(u,l){void 0===u&&(u=0),void 0===l&&(l=!1),u=u/180*Math.PI;var s=Math.cos(u),o=Math.sin(u),f=.213,a=.715,c=.072;return this.multiply([f+s*(1-f)+o*-f,a+s*-a+o*-a,c+s*-c+o*(1-c),0,0,f+s*-f+.143*o,a+s*(1-a)+.14*o,c+s*-c+-.283*o,0,0,f+s*-f+-.787*o,a+s*-a+o*a,c+s*(1-c)+o*c,0,0,0,0,0,1,0],l)},grayscale:function(u,l){return void 0===u&&(u=1),void 0===l&&(l=!1),this.saturate(-u,l)},blackWhite:function(u){return void 0===u&&(u=!1),this.multiply(h.BLACK_WHITE,u)},contrast:function(u,l){void 0===u&&(u=0),void 0===l&&(l=!1);var s=u+1,o=-.5*(s-1);return this.multiply([s,0,0,0,o,0,s,0,0,o,0,0,s,0,o,0,0,0,1,0],l)},negative:function(u){return void 0===u&&(u=!1),this.multiply(h.NEGATIVE,u)},desaturateLuminance:function(u){return void 0===u&&(u=!1),this.multiply(h.DESATURATE_LUMINANCE,u)},sepia:function(u){return void 0===u&&(u=!1),this.multiply(h.SEPIA,u)},night:function(u,l){return void 0===u&&(u=.1),void 0===l&&(l=!1),this.multiply([-2*u,-u,0,0,0,-u,0,u,0,0,0,u,2*u,0,0,0,0,0,1,0],l)},lsd:function(u){return void 0===u&&(u=!1),this.multiply(h.LSD,u)},brown:function(u){return void 0===u&&(u=!1),this.multiply(h.BROWN,u)},vintagePinhole:function(u){return void 0===u&&(u=!1),this.multiply(h.VINTAGE,u)},kodachrome:function(u){return void 0===u&&(u=!1),this.multiply(h.KODACHROME,u)},technicolor:function(u){return void 0===u&&(u=!1),this.multiply(h.TECHNICOLOR,u)},polaroid:function(u){return void 0===u&&(u=!1),this.multiply(h.POLAROID,u)},shiftToBGR:function(u){return void 0===u&&(u=!1),this.multiply(h.SHIFT_BGR,u)},multiply:function(u,l){void 0===l&&(l=!1),l||this.reset();var s=this._matrix,o=x;return o.set(s),s.set([o[0]*u[0]+o[1]*u[5]+o[2]*u[10]+o[3]*u[15],o[0]*u[1]+o[1]*u[6]+o[2]*u[11]+o[3]*u[16],o[0]*u[2]+o[1]*u[7]+o[2]*u[12]+o[3]*u[17],o[0]*u[3]+o[1]*u[8]+o[2]*u[13]+o[3]*u[18],o[0]*u[4]+o[1]*u[9]+o[2]*u[14]+o[3]*u[19]+o[4],o[5]*u[0]+o[6]*u[5]+o[7]*u[10]+o[8]*u[15],o[5]*u[1]+o[6]*u[6]+o[7]*u[11]+o[8]*u[16],o[5]*u[2]+o[6]*u[7]+o[7]*u[12]+o[8]*u[17],o[5]*u[3]+o[6]*u[8]+o[7]*u[13]+o[8]*u[18],o[5]*u[4]+o[6]*u[9]+o[7]*u[14]+o[8]*u[19]+o[9],o[10]*u[0]+o[11]*u[5]+o[12]*u[10]+o[13]*u[15],o[10]*u[1]+o[11]*u[6]+o[12]*u[11]+o[13]*u[16],o[10]*u[2]+o[11]*u[7]+o[12]*u[12]+o[13]*u[17],o[10]*u[3]+o[11]*u[8]+o[12]*u[13]+o[13]*u[18],o[10]*u[4]+o[11]*u[9]+o[12]*u[14]+o[13]*u[19]+o[14],o[15]*u[0]+o[16]*u[5]+o[17]*u[10]+o[18]*u[15],o[15]*u[1]+o[16]*u[6]+o[17]*u[11]+o[18]*u[16],o[15]*u[2]+o[16]*u[7]+o[17]*u[12]+o[18]*u[17],o[15]*u[3]+o[16]*u[8]+o[17]*u[13]+o[18]*u[18],o[15]*u[4]+o[16]*u[9]+o[17]*u[14]+o[18]*u[19]+o[19]]),this._dirty=!0,this}});h.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],h.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],h.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],h.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],h.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],h.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],h.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],h.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],h.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],h.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],h.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],T.exports=h},51767:(T,A,i)=>{var m=i(83419),x=i(29747),h=new m({initialize:function(l,s,o){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(l,s,o)},set:function(u,l,s){return void 0===u&&(u=0),void 0===l&&(l=0),void 0===s&&(s=0),this._rgb=[u,l,s],this.onChange(),this},equals:function(u,l,s){var o=this._rgb;return o[0]===u&&o[1]===l&&o[2]===s},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});T.exports=h},60461:T=>{T.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(T,A,i)=>{var m=i(62235),x=i(35893),h=i(86327),u=i(88417);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)+f),h(s,m(o)+a),s}},46768:(T,A,i)=>{var m=i(62235),x=i(26541),h=i(86327),u=i(385);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)-f),h(s,m(o)+a),s}},35827:(T,A,i)=>{var m=i(62235),x=i(54380),h=i(86327),u=i(40136);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)+f),h(s,m(o)+a),s}},46871:(T,A,i)=>{var m=i(66786),x=i(35893),h=i(7702);T.exports=function(l,s,o,f){return void 0===o&&(o=0),void 0===f&&(f=0),m(l,x(s)+o,h(s)+f),l}},5198:(T,A,i)=>{var m=i(7702),x=i(26541),h=i(20786),u=i(385);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)-f),h(s,m(o)+a),s}},11879:(T,A,i)=>{var m=i(60461),x=[];x[m.BOTTOM_CENTER]=i(54312),x[m.BOTTOM_LEFT]=i(46768),x[m.BOTTOM_RIGHT]=i(35827),x[m.CENTER]=i(46871),x[m.LEFT_CENTER]=i(5198),x[m.RIGHT_CENTER]=i(80503),x[m.TOP_CENTER]=i(89698),x[m.TOP_LEFT]=i(922),x[m.TOP_RIGHT]=i(21373),x[m.LEFT_BOTTOM]=x[m.BOTTOM_LEFT],x[m.LEFT_TOP]=x[m.TOP_LEFT],x[m.RIGHT_BOTTOM]=x[m.BOTTOM_RIGHT],x[m.RIGHT_TOP]=x[m.TOP_RIGHT],T.exports=function(u,l,s,o,f){return x[s](u,l,o,f)}},80503:(T,A,i)=>{var m=i(7702),x=i(54380),h=i(20786),u=i(40136);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)+f),h(s,m(o)+a),s}},89698:(T,A,i)=>{var m=i(35893),x=i(17717),h=i(88417),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,m(o)+f),u(s,x(o)-a),s}},922:(T,A,i)=>{var m=i(26541),x=i(17717),h=i(385),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,m(o)-f),u(s,x(o)-a),s}},21373:(T,A,i)=>{var m=i(54380),x=i(17717),h=i(40136),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,m(o)+f),u(s,x(o)-a),s}},91660:(T,A,i)=>{T.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(T,A,i)=>{var m=i(60461),x=i(79291),h={In:i(91660),To:i(16694)};h=x(!1,h,m),T.exports=h},21578:(T,A,i)=>{var m=i(62235),x=i(35893),h=i(88417),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,x(o)+f),u(s,m(o)+a),s}},10210:(T,A,i)=>{var m=i(62235),x=i(26541),h=i(385),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,x(o)-f),u(s,m(o)+a),s}},82341:(T,A,i)=>{var m=i(62235),x=i(54380),h=i(40136),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,x(o)+f),u(s,m(o)+a),s}},87958:(T,A,i)=>{var m=i(62235),x=i(26541),h=i(86327),u=i(40136);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)-f),h(s,m(o)+a),s}},40080:(T,A,i)=>{var m=i(7702),x=i(26541),h=i(20786),u=i(40136);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)-f),h(s,m(o)+a),s}},88466:(T,A,i)=>{var m=i(26541),x=i(17717),h=i(40136),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,m(o)-f),u(s,x(o)-a),s}},38829:(T,A,i)=>{var m=i(60461),x=[];x[m.BOTTOM_CENTER]=i(21578),x[m.BOTTOM_LEFT]=i(10210),x[m.BOTTOM_RIGHT]=i(82341),x[m.LEFT_BOTTOM]=i(87958),x[m.LEFT_CENTER]=i(40080),x[m.LEFT_TOP]=i(88466),x[m.RIGHT_BOTTOM]=i(19211),x[m.RIGHT_CENTER]=i(34609),x[m.RIGHT_TOP]=i(48741),x[m.TOP_CENTER]=i(49440),x[m.TOP_LEFT]=i(81288),x[m.TOP_RIGHT]=i(61323),T.exports=function(u,l,s,o,f){return x[s](u,l,o,f)}},19211:(T,A,i)=>{var m=i(62235),x=i(54380),h=i(86327),u=i(385);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)+f),h(s,m(o)+a),s}},34609:(T,A,i)=>{var m=i(7702),x=i(54380),h=i(20786),u=i(385);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,x(o)+f),h(s,m(o)+a),s}},48741:(T,A,i)=>{var m=i(54380),x=i(17717),h=i(385),u=i(66737);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),h(s,m(o)+f),u(s,x(o)-a),s}},49440:(T,A,i)=>{var m=i(35893),x=i(17717),h=i(86327),u=i(88417);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,m(o)+f),h(s,x(o)-a),s}},81288:(T,A,i)=>{var m=i(26541),x=i(17717),h=i(86327),u=i(385);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,m(o)-f),h(s,x(o)-a),s}},61323:(T,A,i)=>{var m=i(54380),x=i(17717),h=i(86327),u=i(40136);T.exports=function(s,o,f,a){return void 0===f&&(f=0),void 0===a&&(a=0),u(s,m(o)+f),h(s,x(o)-a),s}},16694:(T,A,i)=>{T.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(T,A,i)=>{var m=i(88417),x=i(20786);T.exports=function(u,l,s){return m(u,l),x(u,s)}},62235:T=>{T.exports=function(i){return i.y+i.height-i.height*i.originY}},72873:(T,A,i)=>{var m=i(62235),x=i(26541),h=i(54380),u=i(17717),l=i(87841);T.exports=function(o,f){void 0===f&&(f=new l);var a=x(o),c=u(o);return f.x=a,f.y=c,f.width=h(o)-a,f.height=m(o)-c,f}},35893:T=>{T.exports=function(i){return i.x-i.width*i.originX+.5*i.width}},7702:T=>{T.exports=function(i){return i.y-i.height*i.originY+.5*i.height}},26541:T=>{T.exports=function(i){return i.x-i.width*i.originX}},87431:T=>{T.exports=function(i){return i.width*i.originX}},46928:T=>{T.exports=function(i){return i.height*i.originY}},54380:T=>{T.exports=function(i){return i.x+i.width-i.width*i.originX}},17717:T=>{T.exports=function(i){return i.y-i.height*i.originY}},86327:T=>{T.exports=function(i,m){return i.y=m-i.height+i.height*i.originY,i}},88417:T=>{T.exports=function(i,m){return i.x=m+i.width*i.originX-.5*i.width,i}},20786:T=>{T.exports=function(i,m){return i.y=m+i.height*i.originY-.5*i.height,i}},385:T=>{T.exports=function(i,m){return i.x=m+i.width*i.originX,i}},40136:T=>{T.exports=function(i,m){return i.x=m-i.width+i.width*i.originX,i}},66737:T=>{T.exports=function(i,m){return i.y=m+i.height*i.originY,i}},58724:(T,A,i)=>{T.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:T=>{T.exports={setCrisp:function(i){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(x){i.style["image-rendering"]=x}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}}},27919:(T,A,i)=>{var s,a,p,m=i(8054),x=i(68703),h=[],u=!1;T.exports=(p=function(){var S=0;return h.forEach(function(b){b.parent&&S++}),S},{create2D:function(S,b,C){return s(S,b,C,m.CANVAS)},create:s=function(S,b,C,M,w){void 0===b&&(b=1),void 0===C&&(C=1),void 0===M&&(M=m.CANVAS),void 0===w&&(w=!1);var R,I=a(M);return null===I?(I={parent:S,canvas:document.createElement("canvas"),type:M},M===m.CANVAS&&h.push(I),R=I.canvas):(I.parent=S,R=I.canvas),w&&(I.parent=R),R.width=b,R.height=C,u&&M===m.CANVAS&&x.disable(R.getContext("2d",{willReadFrequently:!1})),R},createWebGL:function(S,b,C){return s(S,b,C,m.WEBGL)},disableSmoothing:function(){u=!0},enableSmoothing:function(){u=!1},first:a=function(S){if(void 0===S&&(S=m.CANVAS),S===m.WEBGL)return null;for(var b=0;b<h.length;b++){var C=h[b];if(!C.parent&&C.type===S)return C}return null},free:function(){return h.length-p()},pool:h,remove:function(S){var b=S instanceof HTMLCanvasElement;h.forEach(function(C){(b&&C.canvas===S||!b&&C.parent===S)&&(C.parent=null,C.canvas.width=1,C.canvas.height=1)})},total:p})},68703:T=>{var m,A="";T.exports={disable:function(l){return""===A&&(A=m(l)),A&&(l[A]=!1),l},enable:function(l){return""===A&&(A=m(l)),A&&(l[A]=!0),l},getPrefix:m=function(l){for(var s=["i","webkitI","msI","mozI","oI"],o=0;o<s.length;o++){var f=s[o]+"mageSmoothingEnabled";if(f in l)return f}return null},isEnabled:function(l){return null!==A?l[A]:null}}},65208:T=>{T.exports=function(i,m){return void 0===m&&(m="none"),i.style.msTouchAction=m,i.style["ms-touch-action"]=m,i.style["touch-action"]=m,i}},91610:T=>{T.exports=function(i,m){return void 0===m&&(m="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(h){i.style[h+"user-select"]=m}),i.style["-webkit-touch-callout"]=m,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i}},26253:(T,A,i)=>{T.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(T,A,i)=>{var m=i(83419),x=i(37589),h=i(1e3),u=i(7537),l=i(87837),s=new m({initialize:function(f,a,c,p){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,a,c,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(o,f,a,c,p){return void 0===c&&(c=255),void 0===p&&(p=!0),this._locked=!0,this.red=o,this.green=f,this.blue=a,this.alpha=c,this._locked=!1,this.update(p)},setGLTo:function(o,f,a,c){return void 0===c&&(c=1),this._locked=!0,this.redGL=o,this.greenGL=f,this.blueGL=a,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(o){return this._locked=!0,this.red=o.r,this.green=o.g,this.blue=o.b,o.hasOwnProperty("a")&&(this.alpha=o.a),this._locked=!1,this.update(!0)},setFromHSV:function(o,f,a){return u(o,f,a,this)},update:function(o){if(void 0===o&&(o=!1),this._locked)return this;var f=this.r,a=this.g,c=this.b,p=this.a;return this._color=x(f,a,c),this._color32=h(f,a,c,p),this._rgba="rgba("+f+","+a+","+c+","+p/255+")",o&&l(f,a,c,this),this},updateHSV:function(){return l(this.r,this.g,this.b,this),this},clone:function(){return new s(this.r,this.g,this.b,this.a)},gray:function(o){return this.setTo(o,o,o)},random:function(o,f){void 0===o&&(o=0),void 0===f&&(f=255);var a=Math.floor(o+Math.random()*(f-o)),c=Math.floor(o+Math.random()*(f-o)),p=Math.floor(o+Math.random()*(f-o));return this.setTo(a,c,p)},randomGray:function(o,f){void 0===o&&(o=0),void 0===f&&(f=255);var a=Math.floor(o+Math.random()*(f-o));return this.setTo(a,a,a)},saturate:function(o){return this.s+=o/100,this},desaturate:function(o){return this.s-=o/100,this},lighten:function(o){return this.v+=o/100,this},darken:function(o){return this.v-=o/100,this},brighten:function(o){var f=this.r,a=this.g,c=this.b;return f=Math.max(0,Math.min(255,f-Math.round(-o/100*255))),a=Math.max(0,Math.min(255,a-Math.round(-o/100*255))),c=Math.max(0,Math.min(255,c-Math.round(-o/100*255))),this.setTo(f,a,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(o){this.gl[0]=Math.min(Math.abs(o),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(o){this.gl[1]=Math.min(Math.abs(o),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(o){this.gl[2]=Math.min(Math.abs(o),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(o){this.gl[3]=Math.min(Math.abs(o),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(o){o=Math.floor(Math.abs(o)),this.r=Math.min(o,255),this.gl[0]=o/255,this.update(!0)}},green:{get:function(){return this.g},set:function(o){o=Math.floor(Math.abs(o)),this.g=Math.min(o,255),this.gl[1]=o/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(o){o=Math.floor(Math.abs(o)),this.b=Math.min(o,255),this.gl[2]=o/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(o){o=Math.floor(Math.abs(o)),this.a=Math.min(o,255),this.gl[3]=o/255,this.update()}},h:{get:function(){return this._h},set:function(o){this._h=o,u(o,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(o){this._s=o,u(this._h,o,this._v,this)}},v:{get:function(){return this._v},set:function(o){this._v=o,u(this._h,this._s,o,this)}}});T.exports=s},92728:(T,A,i)=>{var m=i(37589);T.exports=function(h){void 0===h&&(h=1024);var s,u=[],l=255,o=255,f=0,a=0;for(s=0;s<=l;s++)u.push({r:o,g:s,b:a,color:m(o,s,a)});for(f=255,s=l;s>=0;s--)u.push({r:s,g:f,b:a,color:m(s,f,a)});for(o=0,s=0;s<=l;s++,f--)u.push({r:o,g:f,b:s,color:m(o,f,s)});for(f=0,a=255,s=0;s<=l;s++,a--,o++)u.push({r:o,g:f,b:a,color:m(o,f,a)});if(1024===h)return u;var c=[],p=0,d=1024/h;for(s=0;s<h;s++)c.push(u[Math.floor(p)]),p+=d;return c}},91588:T=>{T.exports=function(i){var m={r:i>>16&255,g:i>>8&255,b:255&i,a:255};return i>16777215&&(m.a=i>>>24),m}},62957:T=>{T.exports=function(i){var m=i.toString(16);return 1===m.length?"0"+m:m}},37589:T=>{T.exports=function(i,m,x){return i<<16|m<<8|x}},1e3:T=>{T.exports=function(i,m,x,h){return h<<24|i<<16|m<<8|x}},62183:(T,A,i)=>{var m=i(40987),x=i(89528);T.exports=function(u,l,s){var o=s,f=s,a=s;if(0!==l){var c=s<.5?s*(1+l):s+l-s*l,p=2*s-c;o=x(p,c,u+1/3),f=x(p,c,u),a=x(p,c,u-1/3)}return(new m).setGLTo(o,f,a,1)}},27939:(T,A,i)=>{var m=i(7537);T.exports=function(h,u){void 0===h&&(h=1),void 0===u&&(u=1);for(var l=[],s=0;s<=359;s++)l.push(m(s/359,h,u));return l}},7537:(T,A,i)=>{var m=i(37589);function x(u,l,s,o){var f=(u+6*l)%6,a=Math.min(f,4-f,1);return Math.round(255*(o-o*s*Math.max(0,a)))}T.exports=function(u,l,s,o){void 0===l&&(l=1),void 0===s&&(s=1);var f=x(5,u,l,s),a=x(3,u,l,s),c=x(1,u,l,s);return o?o.setTo?o.setTo(f,a,c,o.alpha,!0):(o.r=f,o.g=a,o.b=c,o.color=m(f,a,c),o):{r:f,g:a,b:c,color:m(f,a,c)}}},70238:(T,A,i)=>{var m=i(40987);T.exports=function(h){var u=new m;h=h.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,p,d){return c+c+p+p+d+d});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);if(l){var s=parseInt(l[1],16),o=parseInt(l[2],16),f=parseInt(l[3],16);u.setTo(s,o,f)}return u}},89528:T=>{T.exports=function(i,m,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?i+6*(m-i)*x:x<.5?m:x<.6666666666666666?i+(m-i)*(.6666666666666666-x)*6:i}},30100:(T,A,i)=>{var m=i(40987),x=i(90664);T.exports=function(u){var l=x(u);return new m(l.r,l.g,l.b,l.a)}},90664:T=>{T.exports=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:255&i}:{a:255,r:i>>16&255,g:i>>8&255,b:255&i}}},13699:(T,A,i)=>{var m=i(28915),x=function(l,s,o,f,a,c,p,d){void 0===p&&(p=100),void 0===d&&(d=0);var v=d/p;return{r:m(l,f,v),g:m(s,a,v),b:m(o,c,v)}};T.exports={RGBWithRGB:x,ColorWithRGB:function(l,s,o,f,a,c){return void 0===a&&(a=100),void 0===c&&(c=0),x(l.r,l.g,l.b,s,o,f,a,c)},ColorWithColor:function(l,s,o,f){return void 0===o&&(o=100),void 0===f&&(f=0),x(l.r,l.g,l.b,s.r,s.g,s.b,o,f)}}},68957:(T,A,i)=>{var m=i(40987);T.exports=function(h){return new m(h.r,h.g,h.b,h.a)}},87388:(T,A,i)=>{var m=i(40987);T.exports=function(h){var u=new m,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(h.toLowerCase());if(l){var s=parseInt(l[1],10),o=parseInt(l[2],10),f=parseInt(l[3],10),a=void 0!==l[4]?parseFloat(l[4]):1;u.setTo(s,o,f,255*a)}return u}},87837:T=>{T.exports=function(i,m,x,h){void 0===h&&(h={h:0,s:0,v:0}),i/=255,m/=255,x/=255;var u=Math.min(i,m,x),l=Math.max(i,m,x),s=l-u,o=0,f=0===l?0:s/l,a=l;return l!==u&&(l===i?o=(m-x)/s+(m<x?6:0):l===m?o=(x-i)/s+2:l===x&&(o=(i-m)/s+4),o/=6),h.hasOwnProperty("_h")?(h._h=o,h._s=f,h._v=a):(h.h=o,h.s=f,h.v=a),h}},75723:(T,A,i)=>{var m=i(62957);T.exports=function(h,u,l,s,o){return void 0===s&&(s=255),void 0===o&&(o="#"),"#"===o?"#"+((1<<24)+(h<<16)+(u<<8)+l).toString(16).slice(1,7):"0x"+m(s)+m(h)+m(u)+m(l)}},85386:(T,A,i)=>{var m=i(30976),x=i(40987);T.exports=function(u,l){return void 0===u&&(u=0),void 0===l&&(l=255),new x(m(u,l),m(u,l),m(u,l))}},80333:(T,A,i)=>{var m=i(70238),x=i(30100),h=i(68957),u=i(87388);T.exports=function(s){switch(typeof s){case"string":return"rgb"===s.substr(0,3).toLowerCase()?u(s):m(s);case"number":return x(s);case"object":return h(s)}}},3956:(T,A,i)=>{var m=i(40987);m.ColorSpectrum=i(92728),m.ColorToRGBA=i(91588),m.ComponentToHex=i(62957),m.GetColor=i(37589),m.GetColor32=i(1e3),m.HexStringToColor=i(70238),m.HSLToColor=i(62183),m.HSVColorWheel=i(27939),m.HSVToRGB=i(7537),m.HueToComponent=i(89528),m.IntegerToColor=i(30100),m.IntegerToRGB=i(90664),m.Interpolate=i(13699),m.ObjectToColor=i(68957),m.RandomRGB=i(85386),m.RGBStringToColor=i(87388),m.RGBToHSV=i(87837),m.RGBToString=i(75723),m.ValueToColor=i(80333),T.exports=m},27460:(T,A,i)=>{T.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(T,A,i)=>{var m=i(83419),x=i(39429),h=new m({initialize:function(l,s,o,f,a,c){s||(s=l.sys.make.image({x:o,y:f,key:a,frame:c,add:!1})),this.bitmapMask=s,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,l,s){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,s)},postRenderWebGL:function(u,l,s){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,s)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(u,l,s,o,f){return new h(this.scene,u,l,s,o,f)}),T.exports=h},80661:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(h){return this.geometryMask=h,this},setInvertAlpha:function(h){return void 0===h&&(h=!0),this.invertAlpha=h,this},preRenderWebGL:function(h,u,l){var s=h.gl;h.flush(),0===h.maskStack.length&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),h.maskCount=0),h.currentCameraMask.mask!==this&&(h.currentMask.mask=this),h.maskStack.push({mask:this,camera:l}),this.applyStencil(h,l,!0),h.maskCount++},applyStencil:function(h,u,l){var s=h.gl,o=this.geometryMask,f=h.maskCount;s.colorMask(!1,!1,!1,!1),l?(s.stencilFunc(s.EQUAL,f,255),s.stencilOp(s.KEEP,s.KEEP,s.INCR),f++):(s.stencilFunc(s.EQUAL,f+1,255),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),this.level=f,o.renderWebGL(h,o,u),h.flush(),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.stencilFunc(this.invertAlpha?s.NOTEQUAL:s.EQUAL,f,255)},postRenderWebGL:function(h){var u=h.gl;h.maskStack.pop(),h.maskCount--,h.flush();var l=h.currentMask;if(0===h.maskStack.length)l.mask=null,u.disable(u.STENCIL_TEST);else{var s=h.maskStack[h.maskStack.length-1];s.mask.applyStencil(h,s.camera,!1),h.currentCameraMask.mask!==s.mask?(l.mask=s.mask,l.camera=s.camera):l.mask=null}},preRenderCanvas:function(h,u,l){var s=this.geometryMask;h.currentContext.save(),s.renderCanvas(h,s,l,null,null,!0),h.currentContext.clip()},postRenderCanvas:function(h){h.currentContext.restore()},destroy:function(){this.geometryMask=null}});T.exports=x},69781:(T,A,i)=>{T.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o){(!l||""===l)&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!s||""===s)&&(s=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===o&&(o=null),this.key=u,this.fragmentSrc=l,this.vertexSrc=s,this.uniforms=o}});T.exports=x},40366:T=>{T.exports=function(i,m){var x;if(m)"string"==typeof m?x=document.getElementById(m):"object"==typeof m&&1===m.nodeType&&(x=m);else if(i.parentElement||null===m)return i;return x||(x=document.body),x.appendChild(i),i}},83719:(T,A,i)=>{var m=i(40366);T.exports=function(h){var u=h.config;if(u.parent&&u.domCreateContainer){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+h.scale.width+"px;","height: "+h.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),h.domContainer=l,m(l,u.parent)}}},57264:(T,A,i)=>{var m=i(25892);T.exports=function(h){if("complete"!==document.readyState&&"interactive"!==document.readyState){var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),h()};document.body?m.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)}else h()}},57811:T=>{T.exports=function(i){if(!i)return window.innerHeight;var m=Math.abs(window.orientation),x={w:0,h:0},h=document.createElement("div");return h.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(h),x.w=90===m?h.offsetHeight:window.innerWidth,x.h=90===m?window.innerWidth:h.offsetHeight,document.documentElement.removeChild(h),h=null,90!==Math.abs(window.orientation)?x.h:x.w}},45818:(T,A,i)=>{var m=i(13560);T.exports=function(h,u){var l=window.screen,s=!!l&&(l.orientation||l.mozOrientation||l.msOrientation);return s&&"string"==typeof s.type?s.type:"string"==typeof s?s:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?m.ORIENTATION.PORTRAIT:m.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?m.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?m.ORIENTATION.LANDSCAPE:void 0:u>h?m.ORIENTATION.PORTRAIT:m.ORIENTATION.LANDSCAPE}},74403:T=>{T.exports=function(i){var m;return""!==i&&("string"==typeof i?m=document.getElementById(i):i&&1===i.nodeType&&(m=i)),m||(m=document.body),m}},56836:T=>{T.exports=function(i){var m="";try{window.DOMParser?m=(new DOMParser).parseFromString(i,"text/xml"):(m=new ActiveXObject("Microsoft.XMLDOM")).loadXML(i)}catch{m=null}return m&&m.documentElement&&!m.getElementsByTagName("parsererror").length?m:null}},35846:T=>{T.exports=function(i){i.parentNode&&i.parentNode.removeChild(i)}},43092:(T,A,i)=>{var m=i(83419),x=i(29747),h=new m({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function s(o){l.callback(o),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(s))},this.stepTimeout=function s(){l.isRunning&&(l.timeOutID=window.setTimeout(s,l.delay)),l.callback(window.performance.now())}},start:function(u,l,s){this.isRunning||(this.callback=u,this.isSetTimeOut=l,this.delay=s,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});T.exports=h},84902:(T,A,i)=>{var m={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};T.exports=m},47565:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(37277),u=new m({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});h.register("EventEmitter",u,"events"),T.exports=u},93055:(T,A,i)=>{T.exports={EventEmitter:i(47565)}},20122:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o){void 0===o&&(o=1),x.call(this,h.BARREL,s),this.amount=o}});T.exports=u},32251:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c,p,d){void 0===f&&(f=1),void 0===a&&(a=1),void 0===c&&(c=1),void 0===p&&(p=1),void 0===d&&(d=4),x.call(this,h.BLOOM,s),this.steps=d,this.offsetX=f,this.offsetY=a,this.blurStrength=c,this.strength=p,this.glcolor=[1,1,1],null!=o&&(this.color=o)},color:{get:function(){var l=this.glcolor;return(255*l[0]<<16)+(255*l[1]<<8)+(255*l[2]|0)},set:function(l){var s=this.glcolor;s[0]=(l>>16&255)/255,s[1]=(l>>8&255)/255,s[2]=(255&l)/255}}});T.exports=u},9047:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c,p,d){void 0===o&&(o=0),void 0===f&&(f=2),void 0===a&&(a=2),void 0===c&&(c=1),void 0===d&&(d=4),x.call(this,h.BLUR,s),this.quality=o,this.x=f,this.y=a,this.steps=d,this.strength=c,this.glcolor=[1,1,1],null!=p&&(this.color=p)},color:{get:function(){var l=this.glcolor;return(255*l[0]<<16)+(255*l[1]<<8)+(255*l[2]|0)},set:function(l){var s=this.glcolor;s[0]=(l>>16&255)/255,s[1]=(l>>8&255)/255,s[2]=(255&l)/255}}});T.exports=u},27885:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c,p,d,v){void 0===o&&(o=.5),void 0===f&&(f=1),void 0===a&&(a=.2),void 0===c&&(c=!1),void 0===p&&(p=1),void 0===d&&(d=1),void 0===v&&(v=1),x.call(this,h.BOKEH,s),this.radius=o,this.amount=f,this.contrast=a,this.isTiltShift=c,this.strength=v,this.blurX=p,this.blurY=d}});T.exports=u},12578:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c,p){void 0===o&&(o=8),void 0===c&&(c=1),void 0===p&&(p=.005),x.call(this,h.CIRCLE,s),this.scale=c,this.feather=p,this.thickness=o,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=f&&(this.color=f),null!=a&&(this.backgroundColor=a)},color:{get:function(){var l=this.glcolor;return(255*l[0]<<16)+(255*l[1]<<8)+(255*l[2]|0)},set:function(l){var s=this.glcolor;s[0]=(l>>16&255)/255,s[1]=(l>>8&255)/255,s[2]=(255&l)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(255*l[0]<<16)+(255*l[1]<<8)+(255*l[2]|0)},set:function(l){var s=this.glcolor2;s[0]=(l>>16&255)/255,s[1]=(l>>8&255)/255,s[2]=(255&l)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});T.exports=u},15802:(T,A,i)=>{var m=i(83419),x=i(89422),h=i(14811),u=new m({Extends:x,initialize:function(s){x.call(this),this.type=h.COLOR_MATRIX,this.gameObject=s,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});T.exports=u},72898:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l){this.type=u,this.gameObject=l,this.active=!0},setActive:function(h){return this.active=h,this},destroy:function(){this.gameObject=null,this.active=!1}});T.exports=x},44553:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a){void 0===o&&(o="__WHITE"),void 0===f&&(f=.005),void 0===a&&(a=.005),x.call(this,h.DISPLACEMENT,s),this.x=f,this.y=a,this.setTexture(o)},setTexture:function(l){var s=this.gameObject.scene.sys.textures.getFrame(l);return s&&(this.glTexture=s.glTexture),this}});T.exports=u},68531:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c){void 0===f&&(f=4),void 0===a&&(a=0),void 0===c&&(c=!1),x.call(this,h.GLOW,s),this.outerStrength=f,this.innerStrength=a,this.knockout=c,this.glcolor=[1,1,1,1],void 0!==o&&(this.color=o)},color:{get:function(){var l=this.glcolor;return(255*l[0]<<16)+(255*l[1]<<8)+(255*l[2]|0)},set:function(l){var s=this.glcolor;s[0]=(l>>16&255)/255,s[1]=(l>>8&255)/255,s[2]=(255&l)/255}}});T.exports=u},37102:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c,p,d,v,y){void 0===a&&(a=.2),void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=1),void 0===y&&(y=0),x.call(this,h.GRADIENT,s),this.alpha=a,this.size=y,this.fromX=c,this.fromY=p,this.toX=d,this.toY=v,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=o&&(this.color1=o),null!=f&&(this.color2=f)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(0|l[2])},set:function(l){var s=this.glcolor1;s[0]=l>>16&255,s[1]=l>>8&255,s[2]=255&l}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(0|l[2])},set:function(l){var s=this.glcolor2;s[0]=l>>16&255,s[1]=l>>8&255,s[2]=255&l}}});T.exports=u},86886:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o){void 0===o&&(o=1),x.call(this,h.PIXELATE,s),this.amount=o}});T.exports=u},92322:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c,p,d,v){void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=.1),void 0===c&&(c=1),void 0===d&&(d=6),void 0===v&&(v=1),x.call(this,h.SHADOW,s),this.x=o,this.y=f,this.decay=a,this.power=c,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=v,void 0!==p&&(this.color=p)},color:{get:function(){var l=this.glcolor;return(255*l[0]<<16)+(255*l[1]<<8)+(255*l[2]|0)},set:function(l){var s=this.glcolor;s[0]=(l>>16&255)/255,s[1]=(l>>8&255)/255,s[2]=(255&l)/255}}});T.exports=u},39563:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c){void 0===o&&(o=.5),void 0===f&&(f=.5),void 0===a&&(a=3),void 0===c&&(c=!1),x.call(this,h.SHINE,s),this.speed=o,this.lineWidth=f,this.gradient=a,this.reveal=c}});T.exports=u},56448:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c){void 0===o&&(o=.5),void 0===f&&(f=.5),void 0===a&&(a=.5),void 0===c&&(c=.5),x.call(this,h.VIGNETTE,s),this.x=o,this.y=f,this.radius=a,this.strength=c}});T.exports=u},38433:(T,A,i)=>{var m=i(83419),x=i(72898),h=i(14811),u=new m({Extends:x,initialize:function(s,o,f,a,c){void 0===o&&(o=.1),void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=!1),x.call(this,h.WIPE,s),this.progress=0,this.wipeWidth=o,this.direction=f,this.axis=a,this.reveal=c}});T.exports=u},14811:T=>{T.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(T,A,i)=>{var m=i(79291),x=i(14811),h={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};h=m(!1,h,x),T.exports=h},25305:(T,A,i)=>{var m=i(10312),x=i(23568);T.exports=function(u,l,s){l.x=x(s,"x",0),l.y=x(s,"y",0),l.depth=x(s,"depth",0),l.flipX=x(s,"flipX",!1),l.flipY=x(s,"flipY",!1);var o=x(s,"scale",null);"number"==typeof o?l.setScale(o):null!==o&&(l.scaleX=x(o,"x",1),l.scaleY=x(o,"y",1));var f=x(s,"scrollFactor",null);"number"==typeof f?l.setScrollFactor(f):null!==f&&(l.scrollFactorX=x(f,"x",1),l.scrollFactorY=x(f,"y",1)),l.rotation=x(s,"rotation",0);var a=x(s,"angle",null);null!==a&&(l.angle=a),l.alpha=x(s,"alpha",1);var c=x(s,"origin",null);if("number"==typeof c)l.setOrigin(c);else if(null!==c){var p=x(c,"x",.5),d=x(c,"y",.5);l.setOrigin(p,d)}return l.blendMode=x(s,"blendMode",m.NORMAL),l.visible=x(s,"visible",!0),x(s,"add",!0)&&u.sys.displayList.add(l),l.preUpdate&&u.sys.updateList.add(l),l}},13059:(T,A,i)=>{var m=i(23568);T.exports=function(h,u){var l=m(u,"anims",null);if(null===l)return h;if("string"==typeof l)h.anims.play(l);else if("object"==typeof l){var s=h.anims,o=m(l,"key",void 0);if(o){var f=m(l,"startFrame",void 0),a=m(l,"delay",0),c=m(l,"repeat",0),p=m(l,"repeatDelay",0),d=m(l,"yoyo",!1),v=m(l,"play",!1),y=m(l,"delayedPlay",0),S={key:o,delay:a,repeat:c,repeatDelay:p,yoyo:d,startFrame:f};v?s.play(S):y>0?s.playAfterDelay(S,y):s.load(S)}}return h}},8050:(T,A,i)=>{var m=i(83419),x=i(73162),h=i(37277),u=i(51708),l=i(44594),s=i(19186),o=new m({Extends:x,initialize:function(a){x.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(u.ADDED_TO_SCENE,f,this.scene),this.events.emit(l.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(u.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(s(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,a){return f._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list;f.length;)f[0].destroy(!0);this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});h.register("DisplayList",o,"displayList"),T.exports=o},95643:(T,A,i)=>{var m=i(83419),x=i(53774),h=i(45893),u=i(50792),l=i(51708),s=i(44594),o=new m({Extends:u,initialize:function(a,c){u.call(this),this.scene=a,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(f,a){return this.data||(this.data=new h(this)),this.data.set(f,a),this},incData:function(f,a){return this.data||(this.data=new h(this)),this.data.inc(f,a),this},toggleData:function(f){return this.data||(this.data=new h(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new h(this)),this.data.get(f)},setInteractive:function(f,a,c){return this.scene.sys.input.enable(this,f,a,c),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(f){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(f)||o.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,a=this.parentContainer,c=[];a&&(c.unshift(a.getIndex(f)),f=a,a.parentContainer);)a=a.parentContainer;return c.unshift(this.displayList?this.displayList.getIndex(f):this.scene.sys.displayList.getIndex(f)),c},addToDisplayList:function(f){return void 0===f&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),f.events.emit(s.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(s.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(void 0===f&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});o.RENDER_MASK=15,T.exports=o},44603:(T,A,i)=>{var m=i(83419),x=i(37277),h=i(44594),u=new m({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,s){u.prototype.hasOwnProperty(l)||(u.prototype[l]=s)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},x.register("GameObjectCreator",u,"make"),T.exports=u},39429:(T,A,i)=>{var m=i(83419),x=i(37277),h=i(44594),u=new m({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(l,s){u.prototype.hasOwnProperty(l)||(u.prototype[l]=s)},u.remove=function(l){u.prototype.hasOwnProperty(l)&&delete u.prototype[l]},x.register("GameObjectFactory",u,"add"),T.exports=u},91296:(T,A,i)=>{var m=i(61340),x=new m,h=new m,u=new m,l={camera:x,sprite:h,calc:u};T.exports=function(o,f,a){var c=x,p=h,d=u;return p.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),c.copyFrom(f.matrix),a?(c.multiplyWithOffset(a,-f.scrollX*o.scrollFactorX,-f.scrollY*o.scrollFactorY),p.e=o.x,p.f=o.y):(p.e-=f.scrollX*o.scrollFactorX,p.f-=f.scrollY*o.scrollFactorY),c.multiply(p,d),l}},45027:(T,A,i)=>{var m=i(83419),x=i(25774),h=i(37277),u=i(44594),l=new m({Extends:x,initialize:function(o){x.call(this),this.checkQueue=!0,this.scene=o,this.systems=o.sys,o.sys.events.once(u.BOOT,this.boot,this),o.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(u.PRE_UPDATE,this.update,this),s.on(u.UPDATE,this.sceneUpdate,this),s.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(s,o){for(var f=this._active,a=f.length,c=0;c<a;c++){var p=f[c];p.active&&p.preUpdate.call(p,s,o)}},shutdown:function(){for(var s=this._active.length;s--;)this._active[s].destroy(!0);for(s=this._pending.length;s--;)this._pending[s].destroy(!0);for(s=this._destroy.length;s--;)this._destroy[s].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var o=this.systems.events;o.off(u.PRE_UPDATE,this.update,this),o.off(u.UPDATE,this.sceneUpdate,this),o.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("UpdateList",l,"updateList"),T.exports=l},3217:T=>{T.exports=function(i,m,x,h,u,l,s,o,f,a,c,p,d,v,y){var S=x.x-m.displayOriginX+u,b=x.y-m.displayOriginY+l,C=S+x.w,M=b+x.h,w=s.getXRound(S,b,o),R=s.getYRound(S,b,o),I=s.getXRound(S,M,o),L=s.getYRound(S,M,o),F=s.getXRound(C,M,o),G=s.getYRound(C,M,o),z=s.getXRound(C,b,o),B=s.getYRound(C,b,o);i.batchQuad(m,w,R,I,L,F,G,z,B,h.u0,h.v0,h.u1,h.v1,f,a,c,p,d,v,y)}},53048:T=>{T.exports=function(i,m,x,h){if(void 0===x&&(x=!1),void 0===h)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var N,te,Re,u=i.text,l=u.length,s=i.maxWidth,o=i.wordWrapCharCode,f=Number.MAX_VALUE,a=Number.MAX_VALUE,c=0,p=0,d=i.fontData.chars,v=i.fontData.lineHeight,y=i.letterSpacing,S=i.lineSpacing,b=0,C=0,M=0,w=null,R=i._align,I=0,L=0,F=i.fontSize/i.fontData.size,G=F*i.scaleX,z=F*i.scaleY,B=null,V=0,Y=[],$=Number.MAX_VALUE,J=0,W=0,k=0,H=[],X=[],K=null;if(s>0){for(N=0;N<l;N++)if(10!==(M=u.charCodeAt(N))){if(w=d[M]){if(null!==B)var Q=w.kerning[V];M===o?null!==K&&(H.push({word:K.word,i:K.i,x:K.x*G,y:K.y*z,w:K.w*G,h:K.h*z,cr:!1}),K=null):(null===K&&(K={word:"",i:N,x:b,y:C,w:0,h:v,cr:!1}),K.word=K.word.concat(u[N]),K.w+=w.xOffset+w.xAdvance+(void 0!==Q?Q:0)),b+=w.xAdvance+y,B=w,V=M}}else null!==K&&(H.push({word:K.word,i:K.i,x:K.x*G,y:K.y*z,w:K.w*G,h:K.h*z,cr:!0}),K=null),b=0,C+=v+S,B=null;null!==K&&H.push({word:K.word,i:K.i,x:K.x*G,y:K.y*z,w:K.w*G,h:K.h*z,cr:!1}),b=0,C=0,B=null,V=0;var q,_=0,nt=[];for(N=0;N<H.length;N++){var st=H[N],at=st.x;q&&(_=at-(at-(q.x+q.w)+q.w),q=null),at-_>s||st.x+st.w-_>s?(nt.push(st.i-1),st.cr?(nt.push(st.i+st.word.length),_=0,q=null):q=st):st.cr&&(nt.push(st.i+st.word.length),_=0,q=null)}for(N=nt.length-1;N>=0;N--)"\n",u=(te=u).substr(0,Re=nt[N])+"\n"+te.substr(Re+1);h.wrappedText=u,l=u.length,H=[],K=null}var Et=0;for(N=0;N<l;N++)if(10!==(M=u.charCodeAt(N))){if(w=d[M]){if(I=b,null!==B){var At=w.kerning[V];I+=void 0!==At?At:0}f>I&&(f=I),a>(L=C)&&(a=L);var vt=I+w.xAdvance,St=L+v;c<vt&&(c=vt),p<St&&(p=St);var xt=w.xOffset+w.xAdvance+(void 0!==At?At:0);M===o?null!==K&&(H.push({word:K.word,i:K.i,x:K.x*G,y:K.y*z,w:K.w*G,h:K.h*z}),K=null):(null===K&&(K={word:"",i:Et,x:b,y:C,w:0,h:v}),K.word=K.word.concat(u[N]),K.w+=xt),X.push({i:Et,idx:N,char:u[N],code:M,x:(w.xOffset+I)*F,y:(w.yOffset+C)*F,w:w.width*F,h:w.height*F,t:C*F,r:vt*F,b:v*F,line:W,glyph:w}),b+=w.xAdvance+y+(void 0!==At?At:0),B=w,V=M,k=vt*F,Et++}}else null!==K&&(H.push({word:K.word,i:K.i,x:K.x*G,y:K.y*z,w:K.w*G,h:K.h*z}),K=null),b=0,C+=v+S,B=null,Y[W]=k,k>J&&(J=k),k<$&&($=k),W++,k=0;if(null!==K&&H.push({word:K.word,i:K.i,x:K.x*G,y:K.y*z,w:K.w*G,h:K.h*z}),Y[W]=k,k>J&&(J=k),k<$&&($=k),R>0)for(var zt=0;zt<X.length;zt++){var Ht=X[zt];if(1===R){var fe=(J-Y[Ht.line])/2;Ht.x+=fe,Ht.r+=fe}else if(2===R){var me=J-Y[Ht.line];Ht.x+=me,Ht.r+=me}}var _t=h.local,jt=h.global,Me=h.lines;return _t.x=f*F,_t.y=a*F,_t.width=c*F,_t.height=p*F,jt.x=i.x-i._displayOriginX+f*G,jt.y=i.y-i._displayOriginY+a*z,jt.width=c*G,jt.height=p*z,Me.shortest=$,Me.longest=J,Me.lengths=Y,m&&(_t.x=Math.ceil(_t.x),_t.y=Math.ceil(_t.y),_t.width=Math.ceil(_t.width),_t.height=Math.ceil(_t.height),jt.x=Math.ceil(jt.x),jt.y=Math.ceil(jt.y),jt.width=Math.ceil(jt.width),jt.height=Math.ceil(jt.height),Me.shortest=Math.ceil($),Me.longest=Math.ceil(J)),x&&(i._displayOriginX=i.originX*_t.width,i._displayOriginY=i.originY*_t.height,jt.x=i.x-i._displayOriginX*i.scaleX,jt.y=i.y-i._displayOriginY*i.scaleY,m&&(jt.x=Math.ceil(jt.x),jt.y=Math.ceil(jt.y))),h.words=H,h.characters=X,h.lines.height=v,h.scale=F,h.scaleX=i.scaleX,h.scaleY=i.scaleY,h}},61327:(T,A,i)=>{var m=i(21859);T.exports=function(h,u,l,s,o,f,a){var c=h.sys.textures.get(l),p=c.get(s),d=h.sys.cache.xml.get(o);if(p&&d){var v=m(d,p,f,a,c);return h.sys.cache.bitmapFont.add(u,{data:v,texture:l,frame:s,fromAtlas:!0}),!0}return!1}},6925:(T,A,i)=>{var m=i(35154);T.exports=function(h,u){var l=u.width,s=u.height,o=Math.floor(l/2),f=Math.floor(s/2),a=m(u,"chars","");if(""!==a){var c=m(u,"image",""),p=h.sys.textures.getFrame(c),d=p.cutX,v=p.cutY,y=p.source.width,S=p.source.height,b=m(u,"offset.x",0),C=m(u,"offset.y",0),M=m(u,"spacing.x",0),w=m(u,"spacing.y",0),R=m(u,"lineSpacing",0),I=m(u,"charsPerRow",null);null===I&&(I=y/l)>a.length&&(I=a.length);for(var L=b,F=C,G={retroFont:!0,font:c,size:l,lineHeight:s+R,chars:{}},z=0,B=0;B<a.length;B++){var V=a.charCodeAt(B);G.chars[V]={x:L,y:F,width:l,height:s,centerX:o,centerY:f,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:(d+L)/y,v0:(v+F)/S,u1:(d+L+l)/y,v1:(v+F+s)/S},++z===I?(z=0,L=b,F+=s+w):L+=l+M}return{data:G,frame:null,texture:c}}}},21859:T=>{function A(m,x){return parseInt(m.getAttribute(x),10)}T.exports=function(m,x,h,u,l){void 0===h&&(h=0),void 0===u&&(u=0);var s=x.cutX,o=x.cutY,f=x.source.width,a=x.source.height,c=x.sourceIndex,p={},d=m.getElementsByTagName("info")[0],v=m.getElementsByTagName("common")[0];p.font=d.getAttribute("face"),p.size=A(d,"size"),p.lineHeight=A(v,"lineHeight")+u,p.chars={};var y=m.getElementsByTagName("char"),S=void 0!==x&&x.trimmed;if(S)var b=x.height,C=x.width;for(var M=0;M<y.length;M++){var w=y[M],R=A(w,"id"),I=String.fromCharCode(R),L=A(w,"x"),F=A(w,"y"),G=A(w,"width"),z=A(w,"height");S&&(L<C&&(C=L),F<b&&(b=F)),S&&0!==b&&0!==C&&(L-=x.x,F-=x.y);var B=(s+L)/f,V=(o+F)/a,Y=(s+L+G)/f,$=(o+F+z)/a;if(p.chars[R]={x:L,y:F,width:G,height:z,centerX:Math.floor(G/2),centerY:Math.floor(z/2),xOffset:A(w,"xoffset"),yOffset:A(w,"yoffset"),xAdvance:A(w,"xadvance")+h,data:{},kerning:{},u0:B,v0:V,u1:Y,v1:$},l&&0!==G&&0!==z){var J=l.add(I,c,L,F,G,z);J&&J.setUVs(G,z,B,V,Y,$)}}var W=m.getElementsByTagName("kerning");for(M=0;M<W.length;M++){var k=W[M],N=A(k,"first"),H=A(k,"second"),X=A(k,"amount");p.chars[H].kerning[N]=X}return p}},196:(T,A,i)=>{var m=i(87662),x=i(79291),h={Parse:i(6925)};h=x(!1,h,m),T.exports=h},87662:T=>{T.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(T,A,i)=>{var m=i(22186),x=i(83419),h=i(12310),u=new x({Extends:m,Mixins:[h],initialize:function(s,o,f,a,c,p,d){m.call(this,s,o,f,a,c,p,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,s){return this.cropWidth=l,this.cropHeight=s,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});T.exports=u},86741:(T,A,i)=>{var m=i(20926);T.exports=function(h,u,l,s){var o=u._text,f=o.length,a=h.currentContext;if(0!==f&&m(h,a,u,l,s)){l.addToRenderList(u);var c=u.fromAtlas?u.frame:u.texture.frames.__BASE,p=u.displayCallback,d=u.callbackData,v=u.fontData.chars,y=u.fontData.lineHeight,S=u._letterSpacing,b=0,C=0,M=0,w=null,R=0,I=0,L=0,F=0,G=0,z=0,B=null,V=0,Y=u.frame.source.image,$=c.cutX,J=c.cutY,W=0,k=0,N=u._fontSize/u.fontData.size,H=u._align,X=0,K=0;u.getTextBounds(!1);var Q=u._bounds.lines;1===H?K=(Q.longest-Q.lengths[0])/2:2===H&&(K=Q.longest-Q.lengths[0]),a.translate(-u.displayOriginX,-u.displayOriginY);var q=l.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(a.beginPath(),a.rect(0,0,u.cropWidth,u.cropHeight),a.clip());for(var _=0;_<f;_++)if(k=N,W=0,10!==(M=o.charCodeAt(_))){if(w=v[M]){if(R=$+w.x,I=J+w.y,L=w.width,F=w.height,G=w.xOffset+b-u.scrollX,z=w.yOffset+C-u.scrollY,null!==B){var nt=w.kerning[V];G+=void 0!==nt?nt:0}if(p){d.index=_,d.charCode=M,d.x=G,d.y=z,d.scale=k,d.rotation=W,d.data=w.data;var st=p(d);G=st.x,z=st.y,k=st.scale,W=st.rotation}G*=k,z*=k,G+=K,b+=w.xAdvance+S+(void 0!==nt?nt:0),B=w,V=M,0!==L&&0!==F&&32!==M&&(q&&(G=Math.round(G),z=Math.round(z)),a.save(),a.translate(G,z),a.rotate(W),a.scale(k,k),a.drawImage(Y,R,I,L,F,0,0,L,F),a.restore())}}else X++,1===H?K=(Q.longest-Q.lengths[X])/2:2===H&&(K=Q.longest-Q.lengths[X]),b=0,C+=y,B=null;a.restore()}}},11164:(T,A,i)=>{var m=i(2638),x=i(25305),h=i(44603),u=i(23568);h.register("dynamicBitmapText",function(l,s){void 0===l&&(l={});var o=u(l,"font",""),f=u(l,"text",""),a=u(l,"size",!1),c=new m(this.scene,0,0,o,f,a);return void 0!==s&&(l.add=s),x(this.scene,c,l),c})},72566:(T,A,i)=>{var m=i(2638);i(39429).register("dynamicBitmapText",function(h,u,l,s,o){return this.displayList.add(new m(this.scene,h,u,l,s,o))})},12310:(T,A,i)=>{var x,h;i(29747),x=i(73482),h=i(86741),T.exports={renderWebGL:x,renderCanvas:h}},73482:(T,A,i)=>{var m=i(91296),x=i(61340),h=i(70554),u=new x;T.exports=function(s,o,f,a){var c=o.text,p=c.length;if(0!==p){f.addToRenderList(o);var d=s.pipelines.set(o.pipeline,o),v=m(o,f,a);s.pipelines.preBatch(o);var y=v.sprite,S=v.calc,b=u,C=o.cropWidth>0||o.cropHeight>0;C&&(d.flush(),s.pushScissor(S.tx,S.ty,o.cropWidth*S.scaleX,o.cropHeight*S.scaleY));var W,H,w=o.frame.glTexture,R=o.tintFill,I=h.getTintAppendFloatAlpha(o.tintTopLeft,f.alpha*o._alphaTL),L=h.getTintAppendFloatAlpha(o.tintTopRight,f.alpha*o._alphaTR),F=h.getTintAppendFloatAlpha(o.tintBottomLeft,f.alpha*o._alphaBL),G=h.getTintAppendFloatAlpha(o.tintBottomRight,f.alpha*o._alphaBR),z=d.setGameObject(o),B=0,V=0,Y=0,$=0,J=o.letterSpacing,k=0,N=0,X=o.scrollX,K=o.scrollY,Q=o.fontData,q=Q.chars,_=Q.lineHeight,nt=o.fontSize/Q.size,st=0,at=o._align,lt=0,ht=0,ut=o.getTextBounds(!1);o.maxWidth>0&&(p=(c=ut.wrappedText).length);var mt=o._bounds.lines;1===at?ht=(mt.longest-mt.lengths[0])/2:2===at&&(ht=mt.longest-mt.lengths[0]);for(var Mt=f.roundPixels,Et=o.displayCallback,At=o.callbackData,vt=0;vt<p;vt++)if(10!==(Y=c.charCodeAt(vt))){if(W=q[Y]){N=W.height;var St=W.xOffset+B-X,xt=W.yOffset+V-K;if(null!==H){var zt=W.kerning[$];St+=void 0!==zt?zt:0}if(B+=W.xAdvance+J,H=W,$=Y,0!==(k=W.width)&&0!==N&&32!==Y){if(nt=o.fontSize/o.fontData.size,st=0,Et){At.color=0,At.tint.topLeft=I,At.tint.topRight=L,At.tint.bottomLeft=F,At.tint.bottomRight=G,At.index=vt,At.charCode=Y,At.x=St,At.y=xt,At.scale=nt,At.rotation=st,At.data=W.data;var Ht=Et(At);St=Ht.x,xt=Ht.y,nt=Ht.scale,st=Ht.rotation,Ht.color?(I=Ht.color,L=Ht.color,F=Ht.color,G=Ht.color):(I=Ht.tint.topLeft,L=Ht.tint.topRight,F=Ht.tint.bottomLeft,G=Ht.tint.bottomRight),I=h.getTintAppendFloatAlpha(I,f.alpha*o._alphaTL),L=h.getTintAppendFloatAlpha(L,f.alpha*o._alphaTR),F=h.getTintAppendFloatAlpha(F,f.alpha*o._alphaBL),G=h.getTintAppendFloatAlpha(G,f.alpha*o._alphaBR)}St*=nt,xt*=nt,St-=o.displayOriginX,b.applyITRS(St+=ht,xt-=o.displayOriginY,st,nt,nt),S.multiply(b,y);var fe=W.u0,me=W.v0,_t=W.u1,jt=W.v1,Re=y.e,je=y.f,si=N*y.c+y.e,Qn=N*y.d+y.f,un=k*y.a+N*y.c+y.e,Jn=k*y.b+N*y.d+y.f,Bi=k*y.a+y.e,qi=k*y.b+y.f;Mt&&(Re=Math.round(Re),je=Math.round(je),si=Math.round(si),Qn=Math.round(Qn),un=Math.round(un),Jn=Math.round(Jn),Bi=Math.round(Bi),qi=Math.round(qi)),d.shouldFlush(6)&&(d.flush(),z=d.setGameObject(o)),d.batchQuad(o,Re,je,si,Qn,un,Jn,Bi,qi,fe,me,_t,jt,I,L,F,G,R,w,z)}}}else lt++,1===at?ht=(mt.longest-mt.lengths[lt])/2:2===at&&(ht=mt.longest-mt.lengths[lt]),B=0,V+=_,H=null;C&&(d.flush(),s.popScissor()),s.pipelines.postBatch(o)}}},22186:(T,A,i)=>{var m=i(83419),x=i(45319),h=i(31401),u=i(95643),l=i(53048),s=i(61327),o=i(21859),f=i(87841),a=i(18658),c=new m({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Texture,h.Tint,h.Transform,h.Visible,a],initialize:function(d,v,y,S,b,C,M){void 0===b&&(b=""),void 0===M&&(M=0),u.call(this,d,"BitmapText"),this.font=S;var w=this.scene.sys.cache.bitmapFont.get(S);w||console.warn("Invalid BitmapText key: "+S),this.fontData=w.data,this._text="",this._fontSize=C||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=M,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=w.fromAtlas,this.setTexture(w.texture,w.frame),this.setPosition(v,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(b)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return void 0===p&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return void 0===p&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&0!==p&&(p=""),Array.isArray(p)&&(p=p.join("\n")),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,d,v,y){return void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=0),void 0===y&&(y=.5),this.dropShadowX=p,this.dropShadowY=d,this.dropShadowColor=v,this.dropShadowAlpha=y,this},setCharacterTint:function(p,d,v,y,S,b,C){void 0===p&&(p=0),void 0===d&&(d=1),void 0===v&&(v=!1),void 0===y&&(y=-1),void 0===S&&(S=y,b=y,C=y);var M=this.text.length;-1===d&&(d=M),p<0&&(p=M+p),p=x(p,0,M-1);for(var w=x(p+d,p,M),R=this.charColors,I=p;I<w;I++){var L=R[I];if(-1===y)R[I]=null;else{var F=v?1:0;L?(L.tintEffect=F,L.tintTL=y,L.tintTR=S,L.tintBL=b,L.tintBR=C):R[I]={tintEffect:F,tintTL:y,tintTR:S,tintBL:b,tintBR:C}}}return this},setWordTint:function(p,d,v,y,S,b,C){void 0===d&&(d=1);for(var w=this.getTextBounds().words,R="number"==typeof p,I=0,L=0;L<w.length;L++){var F=w[L];if((R&&L===p||!R&&F.word===p)&&(this.setCharacterTint(F.i,F.word.length,v,y,S,b,C),++I===d))return this}return this},getTextBounds:function(p){var d=this._bounds;return(this._dirty||p||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(l(this,p,!0,d),this._dirty=!1),d},getCharacterAt:function(p,d,v){for(var y=this.getLocalPoint(p,d,null,v),b=this.getTextBounds().characters,C=new f,M=0;M<b.length;M++){var w=b[M];if(C.setTo(w.x,w.t,w.r-w.x,w.b),C.contains(y.x,y.y))return w}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,d,v){void 0===d&&(d=this._fontSize),void 0===v&&(v=this._align);var y=this.scene.sys.cache.bitmapFont.get(p);return y&&(this.font=p,this.fontData=y.data,this._fontSize=d,this._align=v,this.fromAtlas=!0===y.fromAtlas,this.setTexture(y.texture,y.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,d){return this._maxWidth=p,this._dirty=!0,void 0!==d&&(this.wordWrapCharCode=d),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=h.ToJSON(this);return p.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align},p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=s,c.ParseXMLBitmapFont=o,T.exports=c},37289:(T,A,i)=>{var m=i(20926);T.exports=function(h,u,l,s){var o=u._text,f=o.length,a=h.currentContext;if(0!==f&&m(h,a,u,l,s)){l.addToRenderList(u);var c=u.fromAtlas?u.frame:u.texture.frames.__BASE,p=u.fontData.chars,d=u.fontData.lineHeight,v=u._letterSpacing,y=u._lineSpacing,S=0,b=0,C=0,M=null,w=0,R=0,I=0,L=0,F=0,G=0,z=null,B=0,V=c.source.image,Y=c.cutX,$=c.cutY,J=u._fontSize/u.fontData.size,W=u._align,k=0,N=0,H=u.getTextBounds(!1);u.maxWidth>0&&(f=(o=H.wrappedText).length);var X=u._bounds.lines;1===W?N=(X.longest-X.lengths[0])/2:2===W&&(N=X.longest-X.lengths[0]),a.translate(-u.displayOriginX,-u.displayOriginY);for(var K=l.roundPixels,Q=0;Q<f;Q++)if(10!==(C=o.charCodeAt(Q))){if(M=p[C]){if(w=Y+M.x,R=$+M.y,L=M.height,F=M.xOffset+S,G=M.yOffset+b,null!==z){var q=M.kerning[B];F+=void 0!==q?q:0}F*=J,G*=J,F+=N,S+=M.xAdvance+v+(void 0!==q?q:0),z=M,B=C,0!==(I=M.width)&&0!==L&&32!==C&&(K&&(F=Math.round(F),G=Math.round(G)),a.save(),a.translate(F,G),a.scale(J,J),a.drawImage(V,w,R,I,L,0,0,I,L),a.restore())}}else k++,1===W?N=(X.longest-X.lengths[k])/2:2===W&&(N=X.longest-X.lengths[k]),S=0,b+=d+y,z=null;a.restore()}}},57336:(T,A,i)=>{var m=i(22186),x=i(25305),h=i(44603),u=i(23568),l=i(35154);h.register("bitmapText",function(s,o){void 0===s&&(s={});var f=l(s,"font",""),a=u(s,"text",""),c=u(s,"size",!1),p=l(s,"align",0),d=new m(this.scene,0,0,f,a,c,p);return void 0!==o&&(s.add=o),x(this.scene,d,s),d})},34914:(T,A,i)=>{var m=i(22186);i(39429).register("bitmapText",function(h,u,l,s,o,f){return this.displayList.add(new m(this.scene,h,u,l,s,o,f))})},18658:(T,A,i)=>{var x,h;i(29747),x=i(33590),h=i(37289),T.exports={renderWebGL:x,renderCanvas:h}},33590:(T,A,i)=>{var m=i(3217),x=i(91296),h=i(70554);T.exports=function(l,s,o,f){if(0!==s._text.length){o.addToRenderList(s);var p=l.pipelines.set(s.pipeline,s),d=x(s,o,f).calc;l.pipelines.preBatch(s);var z,B,V,v=o.roundPixels,y=o.alpha,S=s.charColors,b=s.tintFill,C=h.getTintAppendFloatAlpha,M=C(s.tintTopLeft,y*s._alphaTL),w=C(s.tintTopRight,y*s._alphaTR),R=C(s.tintBottomLeft,y*s._alphaBL),I=C(s.tintBottomRight,y*s._alphaBR),L=s.frame.glTexture,F=p.setGameObject(s),Y=s.getTextBounds(!1).characters,$=s.dropShadowX,J=s.dropShadowY;if(0!==$||0!==J){var k=s.dropShadowColor,N=s.dropShadowAlpha,H=C(k,y*N*s._alphaTL),X=C(k,y*N*s._alphaTR),K=C(k,y*N*s._alphaBL),Q=C(k,y*N*s._alphaBR);for(z=0;z<Y.length;z++)V=(B=Y[z]).glyph,32!==B.code&&0!==V.width&&0!==V.height&&m(p,s,B,V,$,J,d,v,H,X,K,Q,1,L,F)}for(z=0;z<Y.length;z++)if(V=(B=Y[z]).glyph,32!==B.code&&0!==V.width&&0!==V.height)if(p.shouldFlush(6)&&(p.flush(),F=p.setGameObject(s)),S[B.i]){var q=S[B.i],_=q.tintEffect,nt=C(q.tintTL,y*s._alphaTL),st=C(q.tintTR,y*s._alphaTR),at=C(q.tintBL,y*s._alphaBL),lt=C(q.tintBR,y*s._alphaBR);m(p,s,B,V,0,0,d,v,nt,st,at,lt,_,L,F)}else m(p,s,B,V,0,0,d,v,M,w,R,I,b,L,F);l.pipelines.postBatch(s)}}},6107:(T,A,i)=>{var m=i(48011),x=i(46590),h=i(83419),u=i(31401),l=i(4327),s=i(95643),o=i(73162),f=new h({Extends:s,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,m],initialize:function(c,p,d,v,y){s.call(this,c,"Blitter"),this.setTexture(v,y),this.setPosition(p,d),this.initPipeline(),this.initPostPipeline(),this.children=new o,this.renderList=[],this.dirty=!1},create:function(a,c,p,d,v){void 0===d&&(d=!0),void 0===v&&(v=this.children.length),void 0===p?p=this.frame:p instanceof l||(p=this.texture.get(p));var y=new x(this,a,c,p,d);return this.children.addAt(y,v,!1),this.dirty=!0,y},createFromCallback:function(a,c,p,d){for(var v=this.createMultiple(c,p,d),y=0;y<v.length;y++)a.call(this,v[y],y);return v},createMultiple:function(a,c,p){void 0===c&&(c=this.frame.name),void 0===p&&(p=!0),Array.isArray(c)||(c=[c]);var d=[],v=this;return c.forEach(function(y){for(var S=0;S<a;S++)d.push(v.create(0,0,y,p))}),d},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});T.exports=f},72396:T=>{T.exports=function(i,m,x,h){var u=m.getRenderList();if(0!==u.length){var l=i.currentContext,s=x.alpha*m.alpha;if(0!==s){x.addToRenderList(m),l.globalCompositeOperation=i.blendModes[m.blendMode],l.imageSmoothingEnabled=!m.frame.source.scaleMode;var o=m.x-x.scrollX*m.scrollFactorX,f=m.y-x.scrollY*m.scrollFactorY;l.save(),h&&h.copyToContext(l);for(var a=x.roundPixels,c=0;c<u.length;c++){var p=u[c],d=p.flipX||p.flipY,v=p.frame,y=v.canvasData,S=v.x,b=v.y,C=1,M=1,w=p.alpha*s;0!==w&&(l.globalAlpha=w,d?(p.flipX&&(C=-1,S-=y.width),p.flipY&&(M=-1,b-=y.height),y.width>0&&y.height>0&&(l.save(),l.translate(p.x+o,p.y+f),l.scale(C,M),l.drawImage(v.source.image,y.x,y.y,y.width,y.height,S,b,y.width,y.height),l.restore())):(a&&(S=Math.round(S),b=Math.round(b)),y.width>0&&y.height>0&&l.drawImage(v.source.image,y.x,y.y,y.width,y.height,S+p.x+o,b+p.y+f,y.width,y.height)))}l.restore()}}}},9403:(T,A,i)=>{var m=i(6107),x=i(25305),h=i(44603),u=i(23568);h.register("blitter",function(l,s){void 0===l&&(l={});var o=u(l,"key",null),f=u(l,"frame",null),a=new m(this.scene,0,0,o,f);return void 0!==s&&(l.add=s),x(this.scene,a,l),a})},12709:(T,A,i)=>{var m=i(6107);i(39429).register("blitter",function(h,u,l,s){return this.displayList.add(new m(this.scene,h,u,l,s))})},48011:(T,A,i)=>{var x,h;i(29747),x=i(99485),h=i(72396),T.exports={renderWebGL:x,renderCanvas:h}},99485:(T,A,i)=>{var m=i(61340),x=i(70554),h=new m;T.exports=function(l,s,o,f){var a=s.getRenderList(),c=o.alpha*s.alpha;if(0!==a.length&&0!==c){o.addToRenderList(s);var p=l.pipelines.set(this.pipeline,s),d=o.scrollX*s.scrollFactorX,v=o.scrollY*s.scrollFactorY,y=h.copyFrom(o.matrix);f&&(y.multiplyWithOffset(f,-d,-v),d=0,v=0);var S=s.x-d,b=s.y-v,C=-1;l.pipelines.preBatch(s);for(var w=0;w<a.length;w++){var R=a[w],I=R.frame,L=R.alpha*c;if(0!==L){var F=I.width,G=I.height,z=S+R.x+I.x,B=b+R.y+I.y;R.flipX&&(F*=-1,z+=I.width),R.flipY&&(G*=-1,B+=I.height);var V=y.setQuad(z,B,z+F,B+G),Y=x.getTintAppendFloatAlpha(R.tint,L);if(I.sourceIndex!==C){var $=p.setGameObject(s,I);C=I.sourceIndex}p.batchQuad(s,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],I.u0,I.v0,I.u1,I.v1,Y,Y,Y,Y,!1,I.glTexture,$)&&(C=-1)}}l.pipelines.postBatch(s)}}},46590:(T,A,i)=>{var m=i(83419),x=i(4327),h=new m({initialize:function(l,s,o,f,a){this.parent=l,this.x=s,this.y=o,this.frame=f,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return this.frame=void 0===u?this.parent.frame:u instanceof x&&u.texture===this.parent.texture?u:this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,l,s){return this.x=u,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,s&&this.setFrame(s),this},setPosition:function(u,l){return this.x=u,this.y=l,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,l){return this.flipX=u,this.flipY=l,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});T.exports=h},16005:(T,A,i)=>{var m=i(45319);T.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,l,s,o){return void 0===u&&(u=1),void 0===l?this.alpha=u:(this._alphaTL=m(u,0,1),this._alphaTR=m(l,0,1),this._alphaBL=m(s,0,1),this._alphaBR=m(o,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var l=m(u,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,0===l?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var l=m(u,0,1);this._alphaTL=l,0!==l&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var l=m(u,0,1);this._alphaTR=l,0!==l&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var l=m(u,0,1);this._alphaBL=l,0!==l&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var l=m(u,0,1);this._alphaBR=l,0!==l&&(this.renderFlags|=2)}}}},88509:(T,A,i)=>{var m=i(45319);T.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return void 0===u&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var l=m(u,0,1);this._alpha=l,0===l?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(T,A,i)=>{var m=i(10312);T.exports={_blendMode:m.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(h){"string"==typeof h&&(h=m[h]),(h|=0)>=-1&&(this._blendMode=h)}},setBlendMode:function(h){return this.blendMode=h,this}}},94215:T=>{T.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,m){return this.width=i,this.height=m,this},setDisplaySize:function(i,m){return this.displayWidth=i,this.displayHeight=m,this}}},61683:T=>{T.exports={texture:null,frame:null,isCropped:!1,setCrop:function(i,m,x,h){return void 0===i?this.isCropped=!1:this.frame&&("number"==typeof i?this.frame.setCropUVs(this._crop,i,m,x,h,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:T=>{T.exports={_depth:0,depth:{get:function(){return this._depth},set:function(i){this.displayList&&this.displayList.queueDepthSort(),this._depth=i}},setDepth:function(i){return void 0===i&&(i=0),this.depth=i,this}}},47059:(T,A,i)=>{var m=i(83419),x=i(66064),h=i(19133),u=new m({initialize:function(s,o){this.gameObject=s,this.isPost=o,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return void 0===l&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var s=this.gameObject.scene.sys.renderer;s&&s.pipelines?(this.gameObject.pipeline=s.pipelines.FX_PIPELINE,void 0!==l&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,s=0;s<l.length;s++)l[s].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var s;if(this.isPost){var o=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(o)||(o=[o]),s=0;s<o.length;s++){var f=o[s];if(f.controller===l){this.gameObject.removePostPipeline(f),l.destroy();break}}}else{var a=this.list;for(s=0;s<a.length;s++)a[s]===l&&(h(a,s),l.destroy())}return this.gameObject},disable:function(l){return void 0===l&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,s){if(!this.isPost)return this.enabled||this.enable(),this.list.push(l),l;var o=String(l.type);this.gameObject.setPostPipeline(o,s);var f=this.gameObject.getPostPipeline(o);return f?(Array.isArray(f)&&(f=f.pop()),f.controller=l,l):void 0},addGlow:function(l,s,o,f,a,c){return this.add(new x.Glow(this.gameObject,l,s,o,f),{quality:a,distance:c})},addShadow:function(l,s,o,f,a,c,p){return this.add(new x.Shadow(this.gameObject,l,s,o,f,a,c,p))},addPixelate:function(l){return this.add(new x.Pixelate(this.gameObject,l))},addVignette:function(l,s,o,f){return this.add(new x.Vignette(this.gameObject,l,s,o,f))},addShine:function(l,s,o,f){return this.add(new x.Shine(this.gameObject,l,s,o,f))},addBlur:function(l,s,o,f,a,c){return this.add(new x.Blur(this.gameObject,l,s,o,f,a,c))},addGradient:function(l,s,o,f,a,c,p,d){return this.add(new x.Gradient(this.gameObject,l,s,o,f,a,c,p,d))},addBloom:function(l,s,o,f,a,c){return this.add(new x.Bloom(this.gameObject,l,s,o,f,a,c))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(l,s,o,f,a){return this.add(new x.Circle(this.gameObject,l,s,o,f,a))},addBarrel:function(l){return this.add(new x.Barrel(this.gameObject,l))},addDisplacement:function(l,s,o){return this.add(new x.Displacement(this.gameObject,l,s,o))},addWipe:function(l,s,o){return this.add(new x.Wipe(this.gameObject,l,s,o))},addReveal:function(l,s,o){return this.add(new x.Wipe(this.gameObject,l,s,o,!0))},addBokeh:function(l,s,o){return this.add(new x.Bokeh(this.gameObject,l,s,o))},addTiltShift:function(l,s,o,f,a,c){return this.add(new x.Bokeh(this.gameObject,l,s,o,!0,f,a,c))},destroy:function(){this.clear(),this.gameObject=null}});T.exports=u},54434:T=>{T.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,m){return this.flipX=i,this.flipY=m,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(T,A,i)=>{var m=i(87841),x=i(11520),h=i(26099);T.exports={prepareBoundsOutput:function(l,s){return void 0===s&&(s=!1),0!==this.rotation&&x(l,this.x,this.y,this.rotation),s&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(l.x,l.y,l),l},getCenter:function(l,s){return void 0===l&&(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,s)},getTopLeft:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,s)},getTopCenter:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,s)},getTopRight:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,s)},getLeftCenter:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,s)},getRightCenter:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,s)},getBottomLeft:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,s)},getBottomCenter:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,s)},getBottomRight:function(l,s){return l||(l=new h),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,s)},getBounds:function(l){var s,o,f,a,c,p,d,v;if(void 0===l&&(l=new m),this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),y.transformPoint(l.x,l.y,l),s=l.x,o=l.y,this.getTopRight(l),y.transformPoint(l.x,l.y,l),f=l.x,a=l.y,this.getBottomLeft(l),y.transformPoint(l.x,l.y,l),c=l.x,p=l.y,this.getBottomRight(l),y.transformPoint(l.x,l.y,l),d=l.x,v=l.y}else this.getTopLeft(l),s=l.x,o=l.y,this.getTopRight(l),f=l.x,a=l.y,this.getBottomLeft(l),c=l.x,p=l.y,this.getBottomRight(l),d=l.x,v=l.y;return l.x=Math.min(s,f,c,d),l.y=Math.min(o,a,p,v),l.width=Math.max(s,f,c,d)-l.x,l.height=Math.max(o,a,p,v)-l.y,l}}},8573:(T,A,i)=>{var m=i(6858),x=i(80661);T.exports={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return void 0===u&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,l,s,o,f){return void 0===u&&(this.texture||this.shader||this.geom)&&(u=this),new m(this.scene,u,l,s,o,f)},createGeometryMask:function(u){return void 0===u&&("Graphics"===this.type||this.geom)&&(u=this),new x(this.scene,u)}}},27387:T=>{T.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,m){return void 0===i&&(i=.5),void 0===m&&(m=i),this.originX=i,this.originY=m,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(i,m){return void 0===i&&(i=0),void 0===m&&(m=i),this.displayOriginX=i,this.displayOriginY=m,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(T,A,i)=>{var m=i(39506),x=i(57355),h=i(35154),u=i(86353),l=i(26099);T.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(o,f){void 0===f&&(f=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=o,f&&this.startFollow(f),this},setRotateToPath:function(o,f){return void 0===f&&(f=0),this.rotateToPath=o,this.pathRotationOffset=f,this},isFollowing:function(){var o=this.pathTween;return o&&o.isPlaying()},startFollow:function(o,f){void 0===o&&(o={}),void 0===f&&(f=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),"number"==typeof o&&(o={duration:o}),o.from=h(o,"from",0),o.to=h(o,"to",1);var c=x(o,"positionOnPath",!1);this.rotateToPath=x(o,"rotateToPath",!1),this.pathRotationOffset=h(o,"rotationOffset",0);var p=h(o,"startAt",f);if(p&&(o.onStart=function(v){var y=v.data[0];y.progress=p,y.elapsed=y.duration*p;var S=y.ease(y.progress);y.current=y.start+(y.end-y.start)*S,y.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),o.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(o),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+m(this.pathRotationOffset)}return this.pathConfig=o,this},pauseFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.pause(),this},resumeFollow:function(){var o=this.pathTween;return o&&o.isPaused()&&o.resume(),this},stopFollow:function(){var o=this.pathTween;return o&&o.isPlaying()&&o.stop(),this},pathUpdate:function(){var o=this.pathTween;if(o&&o.data){var f=o.data[0],a=this.pathDelta,c=this.pathVector;if(a.copy(c).negate(),f.state===u.COMPLETE)return this.path.getPoint(f.end,c),a.add(c),c.add(this.pathOffset),void this.setPosition(c.x,c.y);if(f.state!==u.PLAYING_FORWARD&&f.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(o.getValue(),c),a.add(c),c.add(this.pathOffset);var p=this.x,d=this.y;this.setPosition(c.x,c.y);var v=this.x-p,y=this.y-d;if(0===v&&0===y)return;if(f.state!==this._prevDirection)return void(this._prevDirection=f.state);this.rotateToPath&&(this.rotation=Math.atan2(y,v)+m(this.pathRotationOffset))}}}},72699:(T,A,i)=>{var m=i(62644);T.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(h){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var l=u.pipelines;if(l){void 0===h&&(h=l.default);var s=l.get(h);if(s)return this.defaultPipeline=s,this.pipeline=s,!0}return!1},setPipeline:function(h,u,l){var s=this.scene.sys.renderer;if(!s)return this;var o=s.pipelines;if(o){var f=o.get(h);f&&(this.pipeline=f),u&&(this.pipelineData=l?m(u):u)}return this},setPipelineData:function(h,u){var l=this.pipelineData;return void 0===u?delete l[h]:l[h]=u,this},resetPipeline:function(h){return void 0===h&&(h=!1),this.pipeline=this.defaultPipeline,h&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}}},17581:(T,A,i)=>{var m=i(62644),x=i(47059),h=i(19133);T.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),l&&(this.preFX=new x(this,!1))},setPostPipeline:function(l,s,o){var f=this.scene.sys.renderer;if(!f)return this;var a=f.pipelines;if(a){Array.isArray(l)||(l=[l]);for(var c=0;c<l.length;c++){var p=a.getPostPipeline(l[c],this,s);p&&this.postPipelines.push(p)}s&&(this.postPipelineData=o?m(s):s)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,s){var o=this.postPipelineData;return void 0===s?delete o[l]:o[l]=s,this},getPostPipeline:function(l){for(var s="string"==typeof l,o=this.postPipelines,f=[],a=0;a<o.length;a++){var c=o[a];(s&&c.name===l||!s&&c instanceof l)&&f.push(c)}return 1===f.length?f[0]:f},resetPostPipeline:function(l){void 0===l&&(l=!1);for(var s=this.postPipelines,o=0;o<s.length;o++)s[o].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var s="string"==typeof l,o=this.postPipelines,f=o.length-1;f>=0;f--){var a=o[f];(s&&a.name===l||!s&&a===l)&&(a.destroy(),h(o,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:T=>{T.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,m){return void 0===m&&(m=i),this.scrollFactorX=i,this.scrollFactorY=m,this}}},16736:T=>{T.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=this.width,m.hitArea.height=this.height),this},setSize:function(i,m){return this.width=i,this.height=m,this},setDisplaySize:function(i,m){return this.displayWidth=i,this.displayHeight=m,this}}},37726:(T,A,i)=>{var m=i(4327);T.exports={texture:null,frame:null,isCropped:!1,setTexture:function(u,l,s,o){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l,s,o)},setFrame:function(u,l,s){return void 0===l&&(l=!0),void 0===s&&(s=!0),u instanceof m?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(T,A,i)=>{var m=i(4327);T.exports={texture:null,frame:null,isCropped:!1,setCrop:function(u,l,s,o){return void 0===u?this.isCropped=!1:this.frame&&("number"==typeof u?this.frame.setCropUVs(this._crop,u,l,s,o,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(u,l){return this.texture=this.scene.sys.textures.get(u),this.setFrame(l)},setFrame:function(u,l,s){return void 0===l&&(l=!0),void 0===s&&(s=!0),u instanceof m?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:T=>{T.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,m,x,h){return void 0===i&&(i=16777215),void 0===m&&(m=i,x=i,h=i),this.tintTopLeft=i,this.tintTopRight=m,this.tintBottomLeft=x,this.tintBottomRight=h,this.tintFill=!1,this},setTintFill:function(i,m,x,h){return this.setTint(i,m,x,h),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}}},53774:T=>{T.exports=function(i){var m={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(m.textureKey=i.texture.key,m.frameKey=i.frame.name),m}},16901:(T,A,i)=>{var m=i(36383),x=i(61340),h=i(85955),u=i(86554),l=i(30954),s=i(26099);T.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,0===a?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,0===a?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,0===a?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return l(this._rotation*m.RAD_TO_DEG)},set:function(a){this.rotation=l(a)*m.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=u(a)}},setPosition:function(a,c,p,d){return void 0===a&&(a=0),void 0===c&&(c=a),void 0===p&&(p=0),void 0===d&&(d=0),this.x=a,this.y=c,this.z=p,this.w=d,this},copyPosition:function(a){return void 0!==a.x&&(this.x=a.x),void 0!==a.y&&(this.y=a.y),void 0!==a.z&&(this.z=a.z),void 0!==a.w&&(this.w=a.w),this},setRandomPosition:function(a,c,p,d){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=this.scene.sys.scale.width),void 0===d&&(d=this.scene.sys.scale.height),this.x=a+Math.random()*p,this.y=c+Math.random()*d,this},setRotation:function(a){return void 0===a&&(a=0),this.rotation=a,this},setAngle:function(a){return void 0===a&&(a=0),this.angle=a,this},setScale:function(a,c){return void 0===a&&(a=1),void 0===c&&(c=a),this.scaleX=a,this.scaleY=c,this},setX:function(a){return void 0===a&&(a=0),this.x=a,this},setY:function(a){return void 0===a&&(a=0),this.y=a,this},setZ:function(a){return void 0===a&&(a=0),this.z=a,this},setW:function(a){return void 0===a&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return void 0===a&&(a=new x),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,c){void 0===a&&(a=new x);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(a);for(c||(c=new x),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)c.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),c.multiply(a,a),p=p.parentContainer;return a},getLocalPoint:function(a,c,p,d){p||(p=new s),d||(d=this.scene.sys.cameras.main);var v=d.scrollX,y=d.scrollY,S=a+v*this.scrollFactorX-v,b=c+y*this.scrollFactorY-y;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(S,b,p):h(S,b,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getParentRotation:function(){for(var a=0,c=this.parentContainer;c;)a+=c.rotation,c=c.parentContainer;return a}}},61340:(T,A,i)=>{var m=i(83419),x=i(36383),h=i(26099),u=new m({initialize:function(s,o,f,a,c,p){void 0===s&&(s=1),void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=1),void 0===c&&(c=0),void 0===p&&(p=0),this.matrix=new Float32Array([s,o,f,a,c,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,s=l[0],o=l[1],f=l[2],a=l[3];return s||o?o>0?Math.acos(s/this.scaleX):-Math.acos(s/this.scaleX):f||a?x.TAU-(a>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,s){var o=this.matrix;return o[4]=o[0]*l+o[2]*s+o[4],o[5]=o[1]*l+o[3]*s+o[5],this},scale:function(l,s){var o=this.matrix;return o[0]*=l,o[1]*=l,o[2]*=s,o[3]*=s,this},rotate:function(l){var s=Math.sin(l),o=Math.cos(l),f=this.matrix,a=f[0],c=f[1],p=f[2],d=f[3];return f[0]=a*o+p*s,f[1]=c*o+d*s,f[2]=a*-s+p*o,f[3]=c*-s+d*o,this},multiply:function(l,s){var o=this.matrix,f=l.matrix,a=o[0],c=o[1],p=o[2],d=o[3],v=o[4],y=o[5],S=f[0],b=f[1],C=f[2],M=f[3],w=f[4],R=f[5],I=void 0===s?o:s.matrix;return I[0]=S*a+b*p,I[1]=S*c+b*d,I[2]=C*a+M*p,I[3]=C*c+M*d,I[4]=w*a+R*p+v,I[5]=w*c+R*d+y,I},multiplyWithOffset:function(l,s,o){var f=this.matrix,a=l.matrix,c=f[0],p=f[1],d=f[2],v=f[3],b=s*c+o*d+f[4],C=s*p+o*v+f[5],M=a[0],w=a[1],R=a[2],I=a[3],L=a[4],F=a[5];return f[0]=M*c+w*d,f[1]=M*p+w*v,f[2]=R*c+I*d,f[3]=R*p+I*v,f[4]=L*c+F*d+b,f[5]=L*p+F*v+C,this},transform:function(l,s,o,f,a,c){var p=this.matrix,d=p[0],v=p[1],y=p[2],S=p[3],b=p[4],C=p[5];return p[0]=l*d+s*y,p[1]=l*v+s*S,p[2]=o*d+f*y,p[3]=o*v+f*S,p[4]=a*d+c*y+b,p[5]=a*v+c*S+C,this},transformPoint:function(l,s,o){void 0===o&&(o={x:0,y:0});var f=this.matrix,c=f[1],d=f[3],y=f[5];return o.x=l*f[0]+s*f[2]+f[4],o.y=l*c+s*d+y,o},invert:function(){var l=this.matrix,s=l[0],o=l[1],f=l[2],a=l[3],c=l[4],p=l[5],d=s*a-o*f;return l[0]=a/d,l[1]=-o/d,l[2]=-f/d,l[3]=s/d,l[4]=(f*p-a*c)/d,l[5]=-(s*p-o*c)/d,this},copyFrom:function(l){var s=this.matrix;return s[0]=l.a,s[1]=l.b,s[2]=l.c,s[3]=l.d,s[4]=l.e,s[5]=l.f,this},copyFromArray:function(l){var s=this.matrix;return s[0]=l[0],s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],this},copyToContext:function(l){var s=this.matrix;return l.transform(s[0],s[1],s[2],s[3],s[4],s[5]),l},setToContext:function(l){return l.setTransform(this),l},copyToArray:function(l){var s=this.matrix;return void 0===l?l=[s[0],s[1],s[2],s[3],s[4],s[5]]:(l[0]=s[0],l[1]=s[1],l[2]=s[2],l[3]=s[3],l[4]=s[4],l[5]=s[5]),l},setTransform:function(l,s,o,f,a,c){var p=this.matrix;return p[0]=l,p[1]=s,p[2]=o,p[3]=f,p[4]=a,p[5]=c,this},decomposeMatrix:function(){var l=this.decomposedMatrix,s=this.matrix,o=s[0],f=s[1],a=s[2],c=s[3],p=o*c-f*a;if(l.translateX=s[4],l.translateY=s[5],o||f){var d=Math.sqrt(o*o+f*f);l.rotation=f>0?Math.acos(o/d):-Math.acos(o/d),l.scaleX=d,l.scaleY=p/d}else if(a||c){var v=Math.sqrt(a*a+c*c);l.rotation=.5*Math.PI-(c>0?Math.acos(-a/v):-Math.acos(a/v)),l.scaleX=p/v,l.scaleY=v}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,s,o,f,a){var c=this.matrix,p=Math.sin(o),d=Math.cos(o);return c[4]=l,c[5]=s,c[0]=d*f,c[1]=p*f,c[2]=-p*a,c[3]=d*a,this},applyInverse:function(l,s,o){void 0===o&&(o=new h);var f=this.matrix,a=f[0],c=f[1],p=f[2],d=f[3],v=f[4],y=f[5],S=1/(a*d+p*-c);return o.x=d*S*l+-p*S*s+(y*p-v*d)*S,o.y=a*S*s+-c*S*l+(-y*a+v*c)*S,o},setQuad:function(l,s,o,f,a,c){void 0===a&&(a=!1),void 0===c&&(c=this.quad);var p=this.matrix,d=p[0],v=p[1],y=p[2],S=p[3],b=p[4],C=p[5];return a?(c[0]=Math.round(l*d+s*y+b),c[1]=Math.round(l*v+s*S+C),c[2]=Math.round(l*d+f*y+b),c[3]=Math.round(l*v+f*S+C),c[4]=Math.round(o*d+f*y+b),c[5]=Math.round(o*v+f*S+C),c[6]=Math.round(o*d+s*y+b),c[7]=Math.round(o*v+s*S+C)):(c[0]=l*d+s*y+b,c[1]=l*v+s*S+C,c[2]=l*d+f*y+b,c[3]=l*v+f*S+C,c[4]=o*d+f*y+b,c[5]=o*v+f*S+C,c[6]=o*d+s*y+b,c[7]=o*v+s*S+C),c},getX:function(l,s){return l*this.a+s*this.c+this.e},getY:function(l,s){return l*this.b+s*this.d+this.f},getXRound:function(l,s,o){var f=this.getX(l,s);return o&&(f=Math.round(f)),f},getYRound:function(l,s,o){var f=this.getY(l,s);return o&&(f=Math.round(f)),f},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});T.exports=u},59715:T=>{T.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(m){m?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(m){return this.visible=m,this}}},31401:(T,A,i)=>{T.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(T,A,i)=>{var m=i(37105),x=i(10312),h=i(83419),u=i(31401),l=i(51708),s=i(95643),o=i(87841),f=i(29959),a=i(36899),c=i(26099),p=new h({Extends:s,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,f],initialize:function(v,y,S,b){s.call(this,v,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this.tempTransformMatrix=new u.TransformMatrix,this._sortKey="",this._sysEvents=v.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,S),this.setBlendMode(x.SKIP_CHECK),b&&this.add(b)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(d){return void 0===d&&(d=!0),this.exclusive=d,this},getBounds:function(d){if(void 0===d&&(d=new o),d.setTo(this.x,this.y,0,0),this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);d.setTo(y.x,y.y,0,0)}if(this.list.length>0){var S=this.list,b=new o,C=!1;d.setEmpty();for(var M=0;M<S.length;M++){var w=S[M];w.getBounds&&(w.getBounds(b),C?a(b,d,d):(d.setTo(b.x,b.y,b.width,b.height),C=!0))}}return d},addHandler:function(d){d.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(d.parentContainer&&d.parentContainer.remove(d),d.parentContainer=this,d.removeFromDisplayList(),d.addedToScene())},removeHandler:function(d){d.off(l.DESTROY,this.remove,this),this.exclusive&&(d.parentContainer=null,d.removedFromScene(),d.addToDisplayList())},pointToContainer:function(d,v){void 0===v&&(v=new c),this.parentContainer?this.parentContainer.pointToContainer(d,v):(v.x=d.x,v.y=d.y);var y=this.tempTransformMatrix;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(d.x,d.y,v),v},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(d){return m.Add(this.list,d,this.maxSize,this.addHandler,this),this},addAt:function(d,v){return m.AddAt(this.list,d,v,this.maxSize,this.addHandler,this),this},getAt:function(d){return this.list[d]},getIndex:function(d){return this.list.indexOf(d)},sort:function(d,v){return d?(void 0===v&&(v=function(y,S){return y[d]-S[d]}),m.StableSort(this.list,v),this):this},getByName:function(d){return m.GetFirst(this.list,"name",d)},getRandom:function(d,v){return m.GetRandom(this.list,d,v)},getFirst:function(d,v,y,S){return m.GetFirst(this.list,d,v,y,S)},getAll:function(d,v,y,S){return m.GetAll(this.list,d,v,y,S)},count:function(d,v,y,S){return m.CountAllMatching(this.list,d,v,y,S)},swap:function(d,v){return m.Swap(this.list,d,v),this},moveTo:function(d,v){return m.MoveTo(this.list,d,v),this},moveAbove:function(d,v){return m.MoveAbove(this.list,d,v),this},moveBelow:function(d,v){return m.MoveBelow(this.list,d,v),this},remove:function(d,v){var y=m.Remove(this.list,d,this.removeHandler,this);if(v&&y){Array.isArray(y)||(y=[y]);for(var S=0;S<y.length;S++)y[S].destroy()}return this},removeAt:function(d,v){var y=m.RemoveAt(this.list,d,this.removeHandler,this);return v&&y&&y.destroy(),this},removeBetween:function(d,v,y){var S=m.RemoveBetween(this.list,d,v,this.removeHandler,this);if(y)for(var b=0;b<S.length;b++)S[b].destroy();return this},removeAll:function(d){var v=this.list;if(d){for(var y=0;y<v.length;y++)v[y]&&v[y].scene&&(v[y].off(l.DESTROY,this.onChildDestroyed,this),v[y].destroy());this.list=[]}else m.RemoveBetween(v,0,v.length,this.removeHandler,this);return this},bringToTop:function(d){return m.BringToTop(this.list,d),this},sendToBack:function(d){return m.SendToBack(this.list,d),this},moveUp:function(d){return m.MoveUp(this.list,d),this},moveDown:function(d){return m.MoveDown(this.list,d),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return m.Shuffle(this.list),this},replace:function(d,v,y){return m.Replace(this.list,d,v)&&(this.addHandler(v),this.removeHandler(d),y&&d.destroy()),this},exists:function(d){return this.list.indexOf(d)>-1},setAll:function(d,v,y,S){return m.SetAll(this.list,d,v,y,S),this},each:function(d,v){var S,y=[null],b=this.list.slice(),C=b.length;for(S=2;S<arguments.length;S++)y.push(arguments[S]);for(S=0;S<C;S++)y[0]=b[S],d.apply(v,y);return this},iterate:function(d,v){var S,y=[null];for(S=2;S<arguments.length;S++)y.push(arguments[S]);for(S=0;S<this.list.length;S++)y[0]=this.list[S],d.apply(v,y);return this},setScrollFactor:function(d,v,y){return void 0===v&&(v=d),void 0===y&&(y=!1),this.scrollFactorX=d,this.scrollFactorY=v,y&&(m.SetAll(this.list,"scrollFactorX",d),m.SetAll(this.list,"scrollFactorY",v)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(d){m.Remove(this.list,d),this.exclusive&&(d.parentContainer=null,d.removedFromScene())}});T.exports=p},53584:T=>{T.exports=function(i,m,x,h){x.addToRenderList(m);var u=m.list;if(0!==u.length){var l=m.localTransform;h?(l.loadIdentity(),l.multiply(h),l.translate(m.x,m.y),l.rotate(m.rotation),l.scale(m.scaleX,m.scaleY)):l.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY);var s=-1!==m.blendMode;s||i.setBlendMode(0);var o=m._alpha,f=m.scrollFactorX,a=m.scrollFactorY;m.mask&&m.mask.preRenderCanvas(i,null,x);for(var c=0;c<u.length;c++){var p=u[c];if(p.willRender(x)){var d=p.alpha,v=p.scrollFactorX,y=p.scrollFactorY;!s&&p.blendMode!==i.currentBlendMode&&i.setBlendMode(p.blendMode),p.setScrollFactor(v*f,y*a),p.setAlpha(d*o),p.renderCanvas(i,p,x,l),p.setAlpha(d),p.setScrollFactor(v,y)}}m.mask&&m.mask.postRenderCanvas(i)}}},77143:(T,A,i)=>{var m=i(25305),x=i(31559),h=i(44603),u=i(23568),l=i(95540);h.register("container",function(s,o){void 0===s&&(s={});var f=u(s,"x",0),a=u(s,"y",0),c=l(s,"children",null),p=new x(this.scene,f,a,c);return void 0!==o&&(s.add=o),m(this.scene,p,s),p})},24961:(T,A,i)=>{var m=i(31559);i(39429).register("container",function(h,u,l){return this.displayList.add(new m(this.scene,h,u,l))})},29959:(T,A,i)=>{var x,h;i(29747),x=i(72249),h=i(53584),T.exports={renderWebGL:x,renderCanvas:h}},72249:T=>{T.exports=function(i,m,x,h){x.addToRenderList(m);var u=m.list,l=u.length;if(0!==l){var s=m.localTransform;h?(s.loadIdentity(),s.multiply(h),s.translate(m.x,m.y),s.rotate(m.rotation),s.scale(m.scaleX,m.scaleY)):s.applyITRS(m.x,m.y,m.rotation,m.scaleX,m.scaleY),i.pipelines.preBatch(m);var o=-1!==m.blendMode;o||i.setBlendMode(0);for(var f=m.alpha,a=m.scrollFactorX,c=m.scrollFactorY,p=0;p<l;p++){var d=u[p];if(d.willRender(x)){var v,y,S,b;if(void 0!==d.alphaTopLeft)v=d.alphaTopLeft,y=d.alphaTopRight,S=d.alphaBottomLeft,b=d.alphaBottomRight;else{var C=d.alpha;v=C,y=C,S=C,b=C}var M=d.scrollFactorX,w=d.scrollFactorY;!o&&d.blendMode!==i.currentBlendMode&&i.setBlendMode(d.blendMode);var R=d.mask;R&&R.preRenderWebGL(i,d,x);var I=d.type;I!==i.currentType&&(i.newType=!0,i.currentType=I),i.nextTypeMatch=p<l-1&&u[p+1].type===i.currentType,d.setScrollFactor(M*a,w*c),d.setAlpha(v*f,y*f,S*f,b*f),d.renderWebGL(i,d,x,s,m),d.setAlpha(v,y,S,b),d.setScrollFactor(M,w),R&&R.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(m)}}},47407:T=>{T.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(441),u=i(95643),l=i(41212),s=i(35846),o=i(44594),f=i(61369),a=new m({Extends:u,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,h],initialize:function(p,d,v,y,S,b){u.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,v),"string"==typeof y?"#"===y[0]?this.setElement(y.substr(1),S,b):this.createElement(y,S,b):y&&this.setElement(y,S,b),p.sys.events.on(o.SLEEP,this.handleSceneEvent,this),p.sys.events.on(o.WAKE,this.handleSceneEvent,this),p.sys.events.on(o.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var p=this.node;p&&(p.style.display=c.settings.visible?"block":"none")},setSkew:function(c,p){return void 0===c&&(c=0),void 0===p&&(p=c),this.skewX=c,this.skewY=p,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.addEventListener(c[p],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var p=0;p<c.length;p++)this.node.removeEventListener(c[p],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,p,d){return this.setElement(document.createElement(c),p,d)},setElement:function(c,p,d){var v;if(this.removeElement(),"string"==typeof c?("#"===c[0]&&(c=c.substr(1)),v=document.getElementById(c)):"object"==typeof c&&1===c.nodeType&&(v=c),!v)return this;if(this.node=v,p&&l(p))for(var y in p)v.style[y]=p[y];else"string"==typeof p&&(v.style=p);return v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),d&&(v.innerText=d),this.updateSize()},createFromCache:function(c,p){var d=this.cache.get(c);return d&&this.createFromHTML(d,p),this},createFromHTML:function(c,p){void 0===p&&(p="div"),this.removeElement();var d=document.createElement(p);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(s(this.node),this.node=null),this},updateSize:function(){var c=this.node,p=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=p.width||0,this.displayHeight=p.height||0,this},getChildByProperty:function(c,p){if(this.node)for(var d=this.node.querySelectorAll("*"),v=0;v<d.length;v++)if(d[v][c]===p)return d[v];return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,p=this.node;p&&c&&!c.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(o.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(o.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(o.PRE_RENDER,this.preRender,this)}});T.exports=a},49381:(T,A,i)=>{var m=i(47407),x=i(95643),h=i(61340),u=new h,l=new h,s=new h;T.exports=function(f,a,c,p){if(a.node){var d=a.node.style;if(!d||!a.scene.sys.settings.visible||x.RENDER_MASK!==a.renderFlags||0!==a.cameraFilter&&a.cameraFilter&c.id||a.parentContainer&&!a.parentContainer.willRender())return void(d.display="none");var y=a.parentContainer,S=c.alpha*a.alpha;y&&(S*=y.alpha);var b=u,C=l,M=s,w=0,R=0,I="0%",L="0%";p?(C.applyITRS(a.x-(w=a.width*a.scaleX*a.originX),a.y-(R=a.height*a.scaleY*a.originY),a.rotation,a.scaleX,a.scaleY),b.copyFrom(c.matrix),b.multiplyWithOffset(p,-c.scrollX*a.scrollFactorX,-c.scrollY*a.scrollFactorY),C.e=a.x-w,C.f=a.y-R,b.multiply(C,M)):(C.applyITRS(a.x-(w=a.width*a.originX),a.y-(R=a.height*a.originY),a.rotation,a.scaleX,a.scaleY),b.copyFrom(c.matrix),I=100*a.originX+"%",L=100*a.originY+"%",C.e-=c.scrollX*a.scrollFactorX,C.f-=c.scrollY*a.scrollFactorY,b.multiply(C,M)),a.transformOnly||(d.display="block",d.opacity=S,d.zIndex=a._depth,d.pointerEvents=a.pointerEvents,d.mixBlendMode=m[a._blendMode]),d.transform=M.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",d.transformOrigin=I+" "+L}}},2611:(T,A,i)=>{var m=i(3069);i(39429).register("dom",function(h,u,l,s,o){var f=new m(this.scene,h,u,l,s,o);return this.displayList.add(f),f})},441:(T,A,i)=>{var x,h;i(29747),x=i(49381),h=i(49381),T.exports={renderWebGL:x,renderCanvas:h}},62980:T=>{T.exports="addedtoscene"},41337:T=>{T.exports="destroy"},44947:T=>{T.exports="removedfromscene"},49358:T=>{T.exports="complete"},35163:T=>{T.exports="created"},97249:T=>{T.exports="error"},19483:T=>{T.exports="locked"},56059:T=>{T.exports="loop"},26772:T=>{T.exports="metadata"},64437:T=>{T.exports="playing"},83411:T=>{T.exports="play"},75780:T=>{T.exports="seeked"},67799:T=>{T.exports="seeking"},63500:T=>{T.exports="stalled"},55541:T=>{T.exports="stop"},53208:T=>{T.exports="textureready"},4992:T=>{T.exports="unlocked"},12:T=>{T.exports="unsupported"},51708:(T,A,i)=>{T.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(95643),u=i(64993),l=new m({Extends:h,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,u],initialize:function(o){h.call(this,o,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});T.exports=l},70217:()=>{},56315:(T,A,i)=>{var m=i(42421);i(39429).register("extern",function(){var h=new m(this.scene);return this.displayList.add(h),h})},64993:(T,A,i)=>{var x,h;i(29747),x=i(80287),h=i(70217),T.exports={renderWebGL:x,renderCanvas:h}},80287:(T,A,i)=>{var m=i(91296);T.exports=function(h,u,l,s){h.pipelines.clear();var o=m(u,l,s).calc;u.render.call(u,h,l,o),h.pipelines.rebind()}},85592:T=>{T.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(T,A,i)=>{var m=i(71911),x=i(83419),h=i(85592),u=i(31401),l=i(8497),s=i(95643),o=i(95540),f=i(35154),a=i(36383),c=i(84503),p=new x({Extends:s,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,c],initialize:function(v,y){var S=f(y,"x",0),b=f(y,"y",0);s.call(this,v,"Graphics"),this.setPosition(S,b),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(y)},setDefaultStyles:function(d){return f(d,"lineStyle",null)&&(this.defaultStrokeWidth=f(d,"lineStyle.width",1),this.defaultStrokeColor=f(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(d,"fillStyle",null)&&(this.defaultFillColor=f(d,"fillStyle.color",16777215),this.defaultFillAlpha=f(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,v,y){return void 0===y&&(y=1),this.commandBuffer.push(h.LINE_STYLE,d,v,y),this._lineWidth=d,this},fillStyle:function(d,v){return void 0===v&&(v=1),this.commandBuffer.push(h.FILL_STYLE,d,v),this},fillGradientStyle:function(d,v,y,S,b,C,M,w){return void 0===b&&(b=1),void 0===C&&(C=b),void 0===M&&(M=b),void 0===w&&(w=b),this.commandBuffer.push(h.GRADIENT_FILL_STYLE,b,C,M,w,d,v,y,S),this},lineGradientStyle:function(d,v,y,S,b,C){return void 0===C&&(C=1),this.commandBuffer.push(h.GRADIENT_LINE_STYLE,d,C,v,y,S,b),this},beginPath:function(){return this.commandBuffer.push(h.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(h.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(h.FILL_PATH),this},fill:function(){return this.commandBuffer.push(h.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(h.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(h.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,v,y){return this.beginPath(),this.arc(d,v,y,0,a.PI2),this.fillPath(),this},strokeCircle:function(d,v,y){return this.beginPath(),this.arc(d,v,y,0,a.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,v,y,S){return this.commandBuffer.push(h.FILL_RECT,d,v,y,S),this},strokeRect:function(d,v,y,S){var b=this._lineWidth/2,C=d-b,M=d+b;return this.beginPath(),this.moveTo(d,v),this.lineTo(d,v+S),this.strokePath(),this.beginPath(),this.moveTo(d+y,v),this.lineTo(d+y,v+S),this.strokePath(),this.beginPath(),this.moveTo(C,v),this.lineTo(M+y,v),this.strokePath(),this.beginPath(),this.moveTo(C,v+S),this.lineTo(M+y,v+S),this.strokePath(),this},fillRoundedRect:function(d,v,y,S,b){void 0===b&&(b=20);var C=b,M=b,w=b,R=b;"number"!=typeof b&&(C=o(b,"tl",20),M=o(b,"tr",20),w=o(b,"bl",20),R=o(b,"br",20));var I=C>=0,L=M>=0,F=w>=0,G=R>=0;return C=Math.abs(C),M=Math.abs(M),w=Math.abs(w),R=Math.abs(R),this.beginPath(),this.moveTo(d+C,v),this.lineTo(d+y-M,v),L?this.arc(d+y-M,v+M,M,-a.TAU,0):this.arc(d+y,v,M,Math.PI,a.TAU,!0),this.lineTo(d+y,v+S-R),G?this.arc(d+y-R,v+S-R,R,0,a.TAU):this.arc(d+y,v+S,R,-a.TAU,Math.PI,!0),this.lineTo(d+w,v+S),F?this.arc(d+w,v+S-w,w,a.TAU,Math.PI):this.arc(d,v+S,w,0,-a.TAU,!0),this.lineTo(d,v+C),I?this.arc(d+C,v+C,C,-Math.PI,-a.TAU):this.arc(d,v,C,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,v,y,S,b){void 0===b&&(b=20);var C=b,M=b,w=b,R=b,I=Math.min(y,S)/2;"number"!=typeof b&&(C=o(b,"tl",20),M=o(b,"tr",20),w=o(b,"bl",20),R=o(b,"br",20));var L=C>=0,F=M>=0,G=w>=0,z=R>=0;return C=Math.min(Math.abs(C),I),M=Math.min(Math.abs(M),I),w=Math.min(Math.abs(w),I),R=Math.min(Math.abs(R),I),this.beginPath(),this.moveTo(d+C,v),this.lineTo(d+y-M,v),this.moveTo(d+y-M,v),F?this.arc(d+y-M,v+M,M,-a.TAU,0):this.arc(d+y,v,M,Math.PI,a.TAU,!0),this.lineTo(d+y,v+S-R),this.moveTo(d+y,v+S-R),z?this.arc(d+y-R,v+S-R,R,0,a.TAU):this.arc(d+y,v+S,R,-a.TAU,Math.PI,!0),this.lineTo(d+w,v+S),this.moveTo(d+w,v+S),G?this.arc(d+w,v+S-w,w,a.TAU,Math.PI):this.arc(d,v+S,w,0,-a.TAU,!0),this.lineTo(d,v+C),this.moveTo(d,v+C),L?this.arc(d+C,v+C,C,-Math.PI,-a.TAU):this.arc(d,v,C,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,v){return this.fillPoint(d.x,d.y,v)},fillPoint:function(d,v,y){return!y||y<1?y=1:(d-=y/2,v-=y/2),this.commandBuffer.push(h.FILL_RECT,d,v,y,y),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,v,y,S,b,C){return this.commandBuffer.push(h.FILL_TRIANGLE,d,v,y,S,b,C),this},strokeTriangle:function(d,v,y,S,b,C){return this.commandBuffer.push(h.STROKE_TRIANGLE,d,v,y,S,b,C),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,v,y,S){return this.beginPath(),this.moveTo(d,v),this.lineTo(y,S),this.strokePath(),this},lineTo:function(d,v){return this.commandBuffer.push(h.LINE_TO,d,v),this},moveTo:function(d,v){return this.commandBuffer.push(h.MOVE_TO,d,v),this},strokePoints:function(d,v,y,S){void 0===v&&(v=!1),void 0===y&&(y=!1),void 0===S&&(S=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var b=1;b<S;b++)this.lineTo(d[b].x,d[b].y);return v&&this.lineTo(d[0].x,d[0].y),y&&this.closePath(),this.strokePath(),this},fillPoints:function(d,v,y,S){void 0===v&&(v=!1),void 0===y&&(y=!1),void 0===S&&(S=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var b=1;b<S;b++)this.lineTo(d[b].x,d[b].y);return v&&this.lineTo(d[0].x,d[0].y),y&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,v){void 0===v&&(v=32);var y=d.getPoints(v);return this.strokePoints(y,!0)},strokeEllipse:function(d,v,y,S,b){void 0===b&&(b=32);var M=new l(d,v,y,S).getPoints(b);return this.strokePoints(M,!0)},fillEllipseShape:function(d,v){void 0===v&&(v=32);var y=d.getPoints(v);return this.fillPoints(y,!0)},fillEllipse:function(d,v,y,S,b){void 0===b&&(b=32);var M=new l(d,v,y,S).getPoints(b);return this.fillPoints(M,!0)},arc:function(d,v,y,S,b,C,M){return void 0===C&&(C=!1),void 0===M&&(M=0),this.commandBuffer.push(h.ARC,d,v,y,S,b,C,M),this},slice:function(d,v,y,S,b,C,M){return void 0===C&&(C=!1),void 0===M&&(M=0),this.commandBuffer.push(h.BEGIN_PATH),this.commandBuffer.push(h.MOVE_TO,d,v),this.commandBuffer.push(h.ARC,d,v,y,S,b,C,M),this.commandBuffer.push(h.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(h.SAVE),this},restore:function(){return this.commandBuffer.push(h.RESTORE),this},translateCanvas:function(d,v){return this.commandBuffer.push(h.TRANSLATE,d,v),this},scaleCanvas:function(d,v){return this.commandBuffer.push(h.SCALE,d,v),this},rotateCanvas:function(d){return this.commandBuffer.push(h.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,v,y){var S=this.scene.sys,b=S.game.renderer;void 0===v&&(v=S.scale.width),void 0===y&&(y=S.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,v,y),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var C,M,w={willReadFrequently:!0};if("string"==typeof d)if(S.textures.exists(d)){var R=(C=S.textures.get(d)).getSourceImage();R instanceof HTMLCanvasElement&&(M=R.getContext("2d",w))}else M=(C=S.textures.createCanvas(d,v,y)).getSourceImage().getContext("2d",w);else d instanceof HTMLCanvasElement&&(M=d.getContext("2d",w));return M&&(this.renderCanvas(b,this,p.TargetCamera,null,M,!1),C&&C.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new m,T.exports=p},32768:(T,A,i)=>{var m=i(85592),x=i(20926);T.exports=function(u,l,s,o,f,a){var c=l.commandBuffer,p=c.length,d=f||u.currentContext;if(0!==p&&x(u,d,l,s,o)){s.addToRenderList(l);var S=0,b=0,C=1;d.beginPath();for(var I=0;I<p;++I)switch(c[I]){case m.ARC:d.arc(c[I+1],c[I+2],c[I+3],c[I+4],c[I+5],c[I+6]),I+=7;break;case m.LINE_STYLE:C=c[I+1],d.strokeStyle="rgba("+((16711680&(S=c[I+2]))>>>16)+","+((65280&S)>>>8)+","+(255&S)+","+c[I+3]+")",d.lineWidth=C,I+=3;break;case m.FILL_STYLE:d.fillStyle="rgba("+((16711680&(b=c[I+1]))>>>16)+","+((65280&b)>>>8)+","+(255&b)+","+c[I+2]+")",I+=2;break;case m.BEGIN_PATH:d.beginPath();break;case m.CLOSE_PATH:d.closePath();break;case m.FILL_PATH:a||d.fill();break;case m.STROKE_PATH:a||d.stroke();break;case m.FILL_RECT:a?d.rect(c[I+1],c[I+2],c[I+3],c[I+4]):d.fillRect(c[I+1],c[I+2],c[I+3],c[I+4]),I+=4;break;case m.FILL_TRIANGLE:d.beginPath(),d.moveTo(c[I+1],c[I+2]),d.lineTo(c[I+3],c[I+4]),d.lineTo(c[I+5],c[I+6]),d.closePath(),a||d.fill(),I+=6;break;case m.STROKE_TRIANGLE:d.beginPath(),d.moveTo(c[I+1],c[I+2]),d.lineTo(c[I+3],c[I+4]),d.lineTo(c[I+5],c[I+6]),d.closePath(),a||d.stroke(),I+=6;break;case m.LINE_TO:d.lineTo(c[I+1],c[I+2]),I+=2;break;case m.MOVE_TO:d.moveTo(c[I+1],c[I+2]),I+=2;break;case m.LINE_FX_TO:d.lineTo(c[I+1],c[I+2]),I+=5;break;case m.MOVE_FX_TO:d.moveTo(c[I+1],c[I+2]),I+=5;break;case m.SAVE:d.save();break;case m.RESTORE:d.restore();break;case m.TRANSLATE:d.translate(c[I+1],c[I+2]),I+=2;break;case m.SCALE:d.scale(c[I+1],c[I+2]),I+=2;break;case m.ROTATE:d.rotate(c[I+1]),I+=1;break;case m.GRADIENT_FILL_STYLE:I+=5;break;case m.GRADIENT_LINE_STYLE:I+=6}d.restore()}}},87079:(T,A,i)=>{var m=i(44603),x=i(43831);m.register("graphics",function(h,u){void 0===h&&(h={}),void 0!==u&&(h.add=u);var l=new x(this.scene,h);return h.add&&this.scene.sys.displayList.add(l),l})},1201:(T,A,i)=>{var m=i(43831);i(39429).register("graphics",function(h){return this.displayList.add(new m(this.scene,h))})},84503:(T,A,i)=>{var x,h;i(29747),x=i(77545),i(32768),h=i(32768),T.exports={renderWebGL:x,renderCanvas:h}},77545:(T,A,i)=>{var m=i(85592),x=i(91296),h=i(61340),u=i(70554),l=function(c,p,d){this.x=c,this.y=p,this.width=d},s=function(c,p,d){this.points=[],this.pointsLength=1,this.points[0]=new l(c,p,d)},o=[],f=new h;T.exports=function(c,p,d,v){if(0!==p.commandBuffer.length){d.addToRenderList(p);var y=c.pipelines.set(p.pipeline,p);c.pipelines.preBatch(p);for(var V,S=x(p,d,v).calc,b=f.loadIdentity(),C=p.commandBuffer,M=d.alpha*p.alpha,w=1,R=y.fillTint,I=y.strokeTint,L=0,F=0,G=0,B=2*Math.PI,Y=[],$=0,J=!0,W=null,k=u.getTintAppendFloatAlpha,N=0;N<C.length;N++)switch(V=C[N],V){case m.BEGIN_PATH:Y.length=0,W=null,J=!0;break;case m.CLOSE_PATH:J=!1,W&&W.points.length&&W.points.push(W.points[0]);break;case m.FILL_PATH:for($=0;$<Y.length;$++)y.batchFillPath(Y[$].points,b,S);break;case m.STROKE_PATH:for($=0;$<Y.length;$++)y.batchStrokePath(Y[$].points,w,J,b,S);break;case m.LINE_STYLE:w=C[++N];var K=k(C[++N],C[++N]*M);I.TL=K,I.TR=K,I.BL=K,I.BR=K;break;case m.FILL_STYLE:var _=k(C[++N],C[++N]*M);R.TL=_,R.TR=_,R.BL=_,R.BR=_;break;case m.GRADIENT_FILL_STYLE:var nt=C[++N]*M,st=C[++N]*M,at=C[++N]*M,lt=C[++N]*M;R.TL=k(C[++N],nt),R.TR=k(C[++N],st),R.BL=k(C[++N],at),R.BR=k(C[++N],lt);break;case m.GRADIENT_LINE_STYLE:w=C[++N];var ht=C[++N]*M;I.TL=k(C[++N],ht),I.TR=k(C[++N],ht),I.BL=k(C[++N],ht),I.BR=k(C[++N],ht);break;case m.ARC:var ut=0,mt=C[++N],Mt=C[++N],Et=C[++N],At=C[++N],vt=C[++N],St=C[++N],xt=C[++N];for(vt-=At,St?vt<-B?vt=-B:vt>0&&(vt=vt%B-B):vt>B?vt=B:vt<0&&(vt=B+vt%B),null===W&&(W=new s(mt+Math.cos(At)*Et,Mt+Math.sin(At)*Et,w),Y.push(W),ut+=.01);ut<1+xt;)G=vt*ut+At,L=mt+Math.cos(G)*Et,F=Mt+Math.sin(G)*Et,W.points.push(new l(L,F,w)),ut+=.01;G=vt+At,L=mt+Math.cos(G)*Et,F=Mt+Math.sin(G)*Et,W.points.push(new l(L,F,w));break;case m.FILL_RECT:y.batchFillRect(C[++N],C[++N],C[++N],C[++N],b,S);break;case m.FILL_TRIANGLE:y.batchFillTriangle(C[++N],C[++N],C[++N],C[++N],C[++N],C[++N],b,S);break;case m.STROKE_TRIANGLE:y.batchStrokeTriangle(C[++N],C[++N],C[++N],C[++N],C[++N],C[++N],w,b,S);break;case m.LINE_TO:null!==W?W.points.push(new l(C[++N],C[++N],w)):(W=new s(C[++N],C[++N],w),Y.push(W));break;case m.MOVE_TO:W=new s(C[++N],C[++N],w),Y.push(W);break;case m.SAVE:o.push(b.copyToArray());break;case m.RESTORE:b.copyFromArray(o.pop());break;case m.TRANSLATE:mt=C[++N],Mt=C[++N],b.translate(mt,Mt);break;case m.SCALE:mt=C[++N],Mt=C[++N],b.scale(mt,Mt);break;case m.ROTATE:b.rotate(C[++N])}c.pipelines.postBatch(p)}}},26479:(T,A,i)=>{var m=i(61061),x=i(83419),h=i(51708),u=i(50792),l=i(46710),s=i(95540),o=i(35154),f=i(97022),a=i(41212),c=i(88492),p=i(35072),d=i(68287),v=new x({Extends:u,initialize:function(S,b,C){u.call(this),C?b&&!Array.isArray(b)&&(b=[b]):Array.isArray(b)?a(b[0])&&(C=b,b=null):a(b)&&(C=b,b=null),this.scene=S,this.children=new p,this.isParent=!0,this.type="Group",this.classType=s(C,"classType",d),this.name=s(C,"name",""),this.active=s(C,"active",!0),this.maxSize=s(C,"maxSize",-1),this.defaultKey=s(C,"defaultKey",null),this.defaultFrame=s(C,"defaultFrame",null),this.runChildUpdate=s(C,"runChildUpdate",!1),this.createCallback=s(C,"createCallback",null),this.removeCallback=s(C,"removeCallback",null),this.createMultipleCallback=s(C,"createMultipleCallback",null),this.internalCreateCallback=s(C,"internalCreateCallback",null),this.internalRemoveCallback=s(C,"internalRemoveCallback",null),b&&this.addMultiple(b),C&&this.createMultiple(C),this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(y,S,b,C,M,w){if(void 0===y&&(y=0),void 0===S&&(S=0),void 0===b&&(b=this.defaultKey),void 0===C&&(C=this.defaultFrame),void 0===M&&(M=!0),void 0===w&&(w=!0),this.isFull())return null;var R=new this.classType(this.scene,y,S,b,C);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=M,R.setActive(w),this.add(R),R},createMultiple:function(y){if(this.isFull())return[];Array.isArray(y)||(y=[y]);var S=[];if(y[0].key)for(var b=0;b<y.length;b++){var C=this.createFromConfig(y[b]);S=S.concat(C)}return S},createFromConfig:function(y){if(this.isFull())return[];this.classType=s(y,"classType",this.classType);var S=s(y,"key",void 0),b=s(y,"frame",null),C=s(y,"visible",!0),M=s(y,"active",!0),w=[];if(void 0===S)return w;Array.isArray(S)||(S=[S]),Array.isArray(b)||(b=[b]);var R=s(y,"repeat",0),I=s(y,"randomKey",!1),L=s(y,"randomFrame",!1),F=s(y,"yoyo",!1),G=s(y,"quantity",!1),z=s(y,"frameQuantity",1),B=s(y,"max",0),V=c(S,b,{max:B,qty:G||z,random:I,randomB:L,repeat:R,yoyo:F});y.createCallback&&(this.createCallback=y.createCallback),y.removeCallback&&(this.removeCallback=y.removeCallback),y.internalCreateCallback&&(this.internalCreateCallback=y.internalCreateCallback),y.internalRemoveCallback&&(this.internalRemoveCallback=y.internalRemoveCallback);for(var Y=0;Y<V.length;Y++){var $=this.create(0,0,V[Y].a,V[Y].b,C,M);if(!$)break;w.push($)}if(f(y,"setXY")){var J=o(y,"setXY.x",0),W=o(y,"setXY.y",0),k=o(y,"setXY.stepX",0),N=o(y,"setXY.stepY",0);m.SetXY(w,J,W,k,N)}if(f(y,"setRotation")){var H=o(y,"setRotation.value",0),X=o(y,"setRotation.step",0);m.SetRotation(w,H,X)}if(f(y,"setScale")){var K=o(y,"setScale.x",1),Q=o(y,"setScale.y",K),q=o(y,"setScale.stepX",0),_=o(y,"setScale.stepY",0);m.SetScale(w,K,Q,q,_)}if(f(y,"setOrigin")){var nt=o(y,"setOrigin.x",.5),st=o(y,"setOrigin.y",nt),at=o(y,"setOrigin.stepX",0),lt=o(y,"setOrigin.stepY",0);m.SetOrigin(w,nt,st,at,lt)}if(f(y,"setAlpha")){var ht=o(y,"setAlpha.value",1),ut=o(y,"setAlpha.step",0);m.SetAlpha(w,ht,ut)}if(f(y,"setDepth")){var mt=o(y,"setDepth.value",0),Mt=o(y,"setDepth.step",0);m.SetDepth(w,mt,Mt)}if(f(y,"setScrollFactor")){var Et=o(y,"setScrollFactor.x",1),At=o(y,"setScrollFactor.y",Et),vt=o(y,"setScrollFactor.stepX",0),St=o(y,"setScrollFactor.stepY",0);m.SetScrollFactor(w,Et,At,vt,St)}var xt=s(y,"hitArea",null),zt=s(y,"hitAreaCallback",null);xt&&m.SetHitArea(w,xt,zt);var Ht=s(y,"gridAlign",!1);return Ht&&m.GridAlign(w,Ht),this.createMultipleCallback&&this.createMultipleCallback.call(this,w),w},preUpdate:function(y,S){if(this.runChildUpdate&&0!==this.children.size)for(var b=this.children.entries.slice(),C=0;C<b.length;C++){var M=b[C];M.active&&M.update(y,S)}},add:function(y,S){return void 0===S&&(S=!1),this.isFull()||(this.children.set(y),this.internalCreateCallback&&this.internalCreateCallback.call(this,y),this.createCallback&&this.createCallback.call(this,y),S&&(y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList()),y.on(h.DESTROY,this.remove,this)),this},addMultiple:function(y,S){if(void 0===S&&(S=!1),Array.isArray(y))for(var b=0;b<y.length;b++)this.add(y[b],S);return this},remove:function(y,S,b){return void 0===S&&(S=!1),void 0===b&&(b=!1),this.children.contains(y)?(this.children.delete(y),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,y),this.removeCallback&&this.removeCallback.call(this,y),y.off(h.DESTROY,this.remove,this),b?y.destroy():S&&(y.removeFromDisplayList(),y.removeFromUpdateList()),this):this},clear:function(y,S){void 0===y&&(y=!1),void 0===S&&(S=!1);for(var b=this.children,C=0;C<b.size;C++){var M=b.entries[C];M.off(h.DESTROY,this.remove,this),S?M.destroy():y&&(M.removeFromDisplayList(),M.removeFromUpdateList())}return this.children.clear(),this},contains:function(y){return this.children.contains(y)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(y,S,b,C){return l(this.children.entries,y,S,b,C)},getFirst:function(y,S,b,C,M,w,R){return this.getHandler(!0,1,y,S,b,C,M,w,R)},getFirstNth:function(y,S,b,C,M,w,R,I){return this.getHandler(!0,y,S,b,C,M,w,R,I)},getLast:function(y,S,b,C,M,w,R){return this.getHandler(!1,1,y,S,b,C,M,w,R)},getLastNth:function(y,S,b,C,M,w,R,I){return this.getHandler(!1,y,S,b,C,M,w,R,I)},getHandler:function(y,S,b,C,M,w,R,I,L){void 0===b&&(b=!1),void 0===C&&(C=!1);var F,G,z=0,B=this.children.entries;if(y)for(G=0;G<B.length;G++)if((F=B[G]).active===b){if(++z===S)break}else F=null;else for(G=B.length-1;G>=0;G--)if((F=B[G]).active===b){if(++z===S)break}else F=null;return F?("number"==typeof M&&(F.x=M),"number"==typeof w&&(F.y=w),F):C?this.create(M,w,R,I,L):null},get:function(y,S,b,C,M){return this.getFirst(!1,!0,y,S,b,C,M)},getFirstAlive:function(y,S,b,C,M,w){return this.getFirst(!0,y,S,b,C,M,w)},getFirstDead:function(y,S,b,C,M,w){return this.getFirst(!1,y,S,b,C,M,w)},playAnimation:function(y,S){return m.PlayAnimation(this.children.entries,y,S),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(y){void 0===y&&(y=!0);for(var S=0,b=0;b<this.children.size;b++)this.children.entries[b].active===y&&S++;return S},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var y=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-y},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},propertyValueSet:function(y,S,b,C,M){return m.PropertyValueSet(this.children.entries,y,S,b,C,M),this},propertyValueInc:function(y,S,b,C,M){return m.PropertyValueInc(this.children.entries,y,S,b,C,M),this},setX:function(y,S){return m.SetX(this.children.entries,y,S),this},setY:function(y,S){return m.SetY(this.children.entries,y,S),this},setXY:function(y,S,b,C){return m.SetXY(this.children.entries,y,S,b,C),this},incX:function(y,S){return m.IncX(this.children.entries,y,S),this},incY:function(y,S){return m.IncY(this.children.entries,y,S),this},incXY:function(y,S,b,C){return m.IncXY(this.children.entries,y,S,b,C),this},shiftPosition:function(y,S,b){return m.ShiftPosition(this.children.entries,y,S,b),this},angle:function(y,S){return m.Angle(this.children.entries,y,S),this},rotate:function(y,S){return m.Rotate(this.children.entries,y,S),this},rotateAround:function(y,S){return m.RotateAround(this.children.entries,y,S),this},rotateAroundDistance:function(y,S,b){return m.RotateAroundDistance(this.children.entries,y,S,b),this},setAlpha:function(y,S){return m.SetAlpha(this.children.entries,y,S),this},setTint:function(y,S,b,C){return m.SetTint(this.children.entries,y,S,b,C),this},setOrigin:function(y,S,b,C){return m.SetOrigin(this.children.entries,y,S,b,C),this},scaleX:function(y,S){return m.ScaleX(this.children.entries,y,S),this},scaleY:function(y,S){return m.ScaleY(this.children.entries,y,S),this},scaleXY:function(y,S,b,C){return m.ScaleXY(this.children.entries,y,S,b,C),this},setDepth:function(y,S){return m.SetDepth(this.children.entries,y,S),this},setBlendMode:function(y){return m.SetBlendMode(this.children.entries,y),this},setHitArea:function(y,S){return m.SetHitArea(this.children.entries,y,S),this},shuffle:function(){return m.Shuffle(this.children.entries),this},kill:function(y){this.children.contains(y)&&y.setActive(!1)},killAndHide:function(y){this.children.contains(y)&&(y.setActive(!1),y.setVisible(!1))},setVisible:function(y,S,b){return m.SetVisible(this.children.entries,y,S,b),this},toggleVisible:function(){return m.ToggleVisible(this.children.entries),this},destroy:function(y,S){void 0===y&&(y=!1),void 0===S&&(S=!1),this.scene&&!this.ignoreDestroy&&(this.emit(h.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(S,y),this.scene=void 0,this.children=void 0)}});T.exports=v},94975:(T,A,i)=>{var m=i(44603),x=i(26479);m.register("group",function(h){return new x(this.scene,null,h)})},3385:(T,A,i)=>{var m=i(26479);i(39429).register("group",function(h,u){return this.updateList.add(new m(this.scene,h,u))})},88571:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(95643),u=i(59819),l=new m({Extends:h,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,u],initialize:function(o,f,a,c,p){h.call(this,o,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,p),this.setPosition(f,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});T.exports=l},40652:T=>{T.exports=function(i,m,x,h){x.addToRenderList(m),i.batchSprite(m,m.frame,x,h)}},82459:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(88571);x.register("image",function(l,s){void 0===l&&(l={});var o=h(l,"key",null),f=h(l,"frame",null),a=new u(this.scene,0,0,o,f);return void 0!==s&&(l.add=s),m(this.scene,a,l),a})},2117:(T,A,i)=>{var m=i(88571);i(39429).register("image",function(h,u,l,s){return this.displayList.add(new m(this.scene,h,u,l,s))})},59819:(T,A,i)=>{var x,h;i(29747),x=i(99517),h=i(40652),T.exports={renderWebGL:x,renderCanvas:h}},99517:T=>{T.exports=function(i,m,x,h){x.addToRenderList(m),this.pipeline.batchSprite(m,x,h)}},77856:(T,A,i)=>{var m={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};m.Shader=i(20071),m.Mesh=i(4703),m.NineSlice=i(28103),m.PointLight=i(80321),m.Plane=i(33663),m.Factories.Shader=i(74177),m.Factories.Mesh=i(9225),m.Factories.NineSlice=i(47521),m.Factories.PointLight=i(71255),m.Factories.Plane=i(30985),m.Creators.Shader=i(54935),m.Creators.Mesh=i(20527),m.Creators.NineSlice=i(28279),m.Creators.PointLight=i(39829),m.Creators.Plane=i(56015),m.Light=i(41432),m.LightsManager=i(61356),m.LightsPlugin=i(88992),T.exports=m},93595:(T,A,i)=>{var m=i(10312),x=i(83419),h=i(31401),u=i(53774),l=i(45893),s=i(50792),o=i(51708),f=i(73162),a=i(33963),c=i(44594),p=i(19186),d=new x({Extends:f,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.PostPipeline,h.Visible,s,a],initialize:function(y,S){f.call(this,y),s.call(this),this.scene=y,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=y.sys,this.events=y.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(m.SKIP_CHECK),S&&this.add(S),y.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(v,y){return this.data||(this.data=new l(this)),this.data.set(v,y),this},incData:function(v,y){return this.data||(this.data=new l(this)),this.data.inc(v,y),this},toggleData:function(v){return this.data||(this.data=new l(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new l(this)),this.data.get(v)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(v){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,y=this.parentContainer,S=[];y&&(S.unshift(y.getIndex(v)),v=y,y.parentContainer);)y=y.parentContainer;return S.unshift(this.displayList.getIndex(v)),S},addChildCallback:function(v){var y=v.displayList;y&&y!==this&&v.removeFromDisplayList(),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(o.ADDED_TO_SCENE,v,this.scene),this.events.emit(c.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(o.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(c.REMOVED_FROM_SCENE,v,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,y){return v._depth-y._depth},getChildren:function(){return this.list},addToDisplayList:function(v){return void 0===v&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),v.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(v){if(this.scene&&!this.ignoreDestroy){this.emit(o.DESTROY,this);for(var y=this.list;y.length;)y[0].destroy(v);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});T.exports=d},2956:T=>{T.exports=function(i,m,x){var h=m.list;if(0!==h.length){m.depthSort();var u=-1!==m.blendMode;u||i.setBlendMode(0);var l=m._alpha;m.mask&&m.mask.preRenderCanvas(i,null,x);for(var s=0;s<h.length;s++){var o=h[s];if(o.willRender(x)){var f=o.alpha;!u&&o.blendMode!==i.currentBlendMode&&i.setBlendMode(o.blendMode),o.setAlpha(f*l),o.renderCanvas(i,o,x),o.setAlpha(f)}}m.mask&&m.mask.postRenderCanvas(i)}}},25179:(T,A,i)=>{var m=i(25305),x=i(93595),h=i(44603),u=i(23568);h.register("layer",function(l,s){void 0===l&&(l={});var o=u(l,"children",null),f=new x(this.scene,o);return void 0!==s&&(l.add=s),m(this.scene,f,l),f})},20005:(T,A,i)=>{var m=i(93595);i(39429).register("layer",function(h){return this.displayList.add(new m(this.scene,h))})},33963:(T,A,i)=>{var x,h;i(29747),x=i(15869),h=i(2956),T.exports={renderWebGL:x,renderCanvas:h}},15869:T=>{T.exports=function(i,m,x){var h=m.list,u=h.length;if(0!==u){m.depthSort(),i.pipelines.preBatch(m);var l=-1!==m.blendMode;l||i.setBlendMode(0);for(var s=m.alpha,o=0;o<u;o++){var f=h[o];if(f.willRender(x)){var a,c,p,d;if(void 0!==f.alphaTopLeft)a=f.alphaTopLeft,c=f.alphaTopRight,p=f.alphaBottomLeft,d=f.alphaBottomRight;else{var v=f.alpha;a=v,c=v,p=v,d=v}!l&&f.blendMode!==i.currentBlendMode&&i.setBlendMode(f.blendMode);var y=f.mask;y&&y.preRenderWebGL(i,f,x);var S=f.type;S!==i.currentType&&(i.newType=!0,i.currentType=S),i.nextTypeMatch=o<u-1&&h[o+1].type===i.currentType,f.setAlpha(a*s,c*s,p*s,d*s),f.renderWebGL(i,f,x),f.setAlpha(a,c,p,d),y&&y.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(m)}}},41432:(T,A,i)=>{var m=i(96503),x=i(83419),h=i(31401),u=i(51767),l=i(70554),s=new x({Extends:m,Mixins:[h.Origin,h.ScrollFactor,h.Visible],initialize:function(f,a,c,p,d,v,y){m.call(this,f,a,c),this.color=new u(p,d,v),this.intensity=y,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(o){this.diameter=o}},displayHeight:{get:function(){return this.diameter},set:function(o){this.diameter=o}},width:{get:function(){return this.diameter},set:function(o){this.diameter=o}},height:{get:function(){return this.diameter},set:function(o){this.diameter=o}},willRender:function(o){return!(s.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&o.id)},setColor:function(o){var f=l.getFloatsFromUintRGB(o);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(o){return this.intensity=o,this},setRadius:function(o){return this.radius=o,this}});s.RENDER_MASK=15,T.exports=s},61356:(T,A,i)=>{var m=i(81491),x=i(83419),h=i(20339),u=i(41432),l=i(80321),s=i(51767),o=i(19133),f=i(19186),a=i(70554),c=new x({initialize:function(){this.lights=[],this.ambientColor=new s(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,d,v,y,S,b){return this.systems.displayList.add(new l(this.scene,p,d,v,y,S,b))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var d=this.lights,v=p.worldView,y=[],S=0;S<d.length;S++){var b=d[S];b.willRender(p)&&m(b,v)&&y.push({light:b,distance:h(b.x,b.y,v.centerX,v.centerY)})}return y.length>this.maxLights&&(f(y,this.sortByDistance),y=y.slice(0,this.maxLights)),this.visibleLights=y.length,y},sortByDistance:function(p,d){return p.distance>=d.distance},setAmbientColor:function(p){var d=a.getFloatsFromUintRGB(p);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,d,v,y,S){void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=128),void 0===y&&(y=16777215),void 0===S&&(S=1);var b=a.getFloatsFromUintRGB(y),C=new u(p,d,v,b[0],b[1],b[2],S);return this.lights.push(C),C},removeLight:function(p){var d=this.lights.indexOf(p);return d>=0&&o(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});T.exports=c},88992:(T,A,i)=>{var m=i(83419),x=i(61356),h=i(37277),u=i(44594),l=new m({Extends:x,initialize:function(o){this.scene=o,this.systems=o.sys,o.sys.settings.isBooted||o.sys.events.once(u.BOOT,this.boot,this),x.call(this)},boot:function(){var s=this.systems.events;s.on(u.SHUTDOWN,this.shutdown,this),s.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});h.register("LightsPlugin",l,"lights"),T.exports=l},4703:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(39506),u=i(83997),l=i(95643),s=i(34684),o=i(92515),f=i(91296),a=i(37867),c=i(29807),p=i(43396),d=i(19186),v=i(25836),y=i(39318),S=new m({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,c],initialize:function(C,M,w,R,I,L,F,G,z,B,V,Y){void 0===M&&(M=0),void 0===w&&(w=0),void 0===R&&(R="__WHITE"),l.call(this,C,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new v,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.displayOriginX=0,this.displayOriginY=0;var $=C.sys.renderer;this.setPosition(M,w),this.setTexture(R,I),this.setSize($.width,$.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective($.width,$.height),L&&this.addVertices(L,F,G,z,B,V,Y)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(b){return this.viewPosition.addScale(v.LEFT,b),this.dirtyCache[10]=1,this},panY:function(b){return this.viewPosition.y+=v.DOWN.y*b,this.dirtyCache[10]=1,this},panZ:function(b){return this.viewPosition.z+=b,this.dirtyCache[10]=1,this},setPerspective:function(b,C,M,w,R){return void 0===M&&(M=45),void 0===w&&(w=.01),void 0===R&&(R=1e3),this.fov=M,this.projectionMatrix.perspective(h(M),b/C,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(b,C,M,w){return void 0===b&&(b=this.scene.sys.renderer.getAspectRatio()),void 0===C&&(C=1),void 0===M&&(M=-1e3),void 0===w&&(w=1e3),this.fov=0,this.projectionMatrix.ortho(-b,b,-C,C,M,w),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(b){b.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(b,C,M,w,R,I,L,F,G){var B,z=this.scene.sys.cache.obj.get(b);return z&&(B=s(z,this,C,M,w,R,I,L,F,G)),(!B||0===B.verts.length)&&console.warn("Mesh.addVerticesFromObj data empty:",b),this},sortByDepth:function(b,C){return b.depth-C.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(b,C,M,w,R,I,L){var F=new y(b,C,M,w,R,I,L);return this.vertices.push(F),F},addFace:function(b,C,M){var w=new u(b,C,M);return this.faces.push(w),this.dirtyCache[9]=-1,w},addVertices:function(b,C,M,w,R,I,L){var F=o(b,C,M,w,R,I,L);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(b){return this.faces[b]},hasFaceAt:function(b,C,M){void 0===M&&(M=this.scene.sys.cameras.main);for(var w=f(this,M).calc,R=this.faces,I=0;I<R.length;I++)if(R[I].contains(b,C,w))return!0;return!1},getFaceAt:function(b,C,M){void 0===M&&(M=this.scene.sys.cameras.main);for(var w=f(this,M).calc,R=this.faces,I=[],L=0;L<R.length;L++){var F=R[L];F.contains(b,C,w)&&I.push(F)}return d(I,this.sortByDepth)},setDebug:function(b,C){return this.debugGraphic=b,this.debugCallback=b||C?C||this.renderDebug:null,this},isDirty:function(){var b=this.modelPosition,C=this.modelRotation,M=this.modelScale,w=this.dirtyCache,R=b.x,I=b.y,L=b.z,F=C.x,G=C.y,z=C.z,B=M.x,V=M.y,Y=M.z,$=this.getFaceCount(),J=w[0],W=w[1],k=w[2],N=w[3],H=w[4],X=w[5],K=w[6],Q=w[7],q=w[8],_=w[9];return w[0]=R,w[1]=I,w[2]=L,w[3]=F,w[4]=G,w[5]=z,w[6]=B,w[7]=V,w[8]=Y,w[9]=$,J!==R||W!==I||k!==L||N!==F||H!==G||X!==z||K!==B||Q!==V||q!==Y||_!==$},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var b=this.dirtyCache;if(this.ignoreDirtyCache||b[10]||this.isDirty()){var C=this.width,M=this.height,w=this.viewMatrix,R=this.viewPosition;b[10]&&(w.identity(),w.translate(R),w.invert(),b[10]=0);var I=this.transformMatrix;I.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=R.z,F=this.faces,G=0;G<F.length;G++)F[G].transformCoordinatesLocal(I,C,M,L);this.depthSort()}},renderDebug:function(b,C){for(var M=b.debugGraphic,w=0;w<C.length;w++){var R=C[w];M.strokeTriangle(R.vertex1.tx,R.vertex1.ty,R.vertex2.tx,R.vertex2.ty,R.vertex3.tx,R.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(b){void 0===b&&(b={});var C=function(M,w,R){for(var I=this.faces,L=0;L<I.length;L++)if(I[L].contains(w,R))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,b,C),this},setTint:function(b){void 0===b&&(b=16777215);for(var C=this.vertices,M=0;M<C.length;M++)C[M].color=b;return this},uvScroll:function(b,C){for(var M=this.faces,w=0;w<M.length;w++)M[w].scrollUV(b,C);return this},uvScale:function(b,C){for(var M=this.faces,w=0;w<M.length;w++)M[w].scaleUV(b,C);return this},tint:{set:function(b){this.setTint(b)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(b){this.modelRotation.x=h(b)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(b){this.modelRotation.y=h(b)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(b){this.modelRotation.z=h(b)}}});T.exports=S},36488:T=>{T.exports=function(){}},20527:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(35154),l=i(4703);x.register("mesh",function(s,o){void 0===s&&(s={});var f=h(s,"key",null),a=h(s,"frame",null),c=u(s,"vertices",[]),p=u(s,"uvs",[]),d=u(s,"indicies",[]),v=u(s,"containsZ",!1),y=u(s,"normals",[]),S=u(s,"colors",16777215),b=u(s,"alphas",1),C=new l(this.scene,0,0,f,a,c,p,d,v,y,S,b);return void 0!==o&&(s.add=o),m(this.scene,C,s),C})},9225:(T,A,i)=>{var m=i(4703);i(39429).register("mesh",function(h,u,l,s,o,f,a,c,p,d,v){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a,c,p,d,v))})},29807:(T,A,i)=>{var x,h;i(29747),x=i(48833),h=i(36488),T.exports={renderWebGL:x,renderCanvas:h}},48833:(T,A,i)=>{var m=i(91296);T.exports=function(h,u,l,s){var o=u.faces,f=o.length;if(0!==f){l.addToRenderList(u);var a=h.pipelines.set(u.pipeline,u),c=m(u,l,s).calc;h.pipelines.preBatch(u);for(var p=a.setGameObject(u),d=a.vertexViewF32,v=a.vertexViewU32,y=a.vertexCount*a.currentShader.vertexComponentCount-1,S=u.tintFill,b=[],C=u.debugCallback,M=c.a,w=c.b,R=c.c,I=c.d,L=c.e,F=c.f,G=u.viewPosition.z,z=u.hideCCW,B=l.roundPixels,V=l.alpha*u.alpha,Y=0,$=0;$<f;$++){var J=o[$];J.isInView(l,z,G,V,M,w,R,I,L,F,B)&&(a.shouldFlush(3)&&(a.flush(),p=a.setGameObject(u),y=0),y=J.load(d,v,y,p,S),Y++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,C&&b.push(J))}u.totalFrame+=Y,C&&C.call(u,u,b),h.pipelines.postBatch(u)}}},28103:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(95643),u=i(78023),l=i(39318),s=new m({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,u],initialize:function(f,a,c,p,d,v,y,S,b,C,M){h.call(this,f,"NineSlice"),this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.tint=16777215,this.tintFill=!1;var w=f.textures.getFrame(p,d);this.is3Slice=!C&&!M,w.scale9&&(this.is3Slice=w.is3Slice);for(var R=this.is3Slice?18:54,I=0;I<R;I++)this.vertices.push(new l);this.setPosition(a,c),this.setTexture(p,d),this.setSlices(v,y,S,b,C,M,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(o,f,a,c,p,d,v){void 0===a&&(a=10),void 0===c&&(c=10),void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=!1);var y=this.frame,S=!1;if(this.is3Slice&&v&&0!==p&&0!==d&&(S=!0),S)console.warn("Cannot change 9 slice to 3 slice");else{if(y.scale9&&!v){var b=y.data.scale9Borders,C=b.x,M=b.y;a=C,c=y.width-b.w-C,p=M,d=y.height-b.h-M,void 0===o&&(o=y.width),void 0===f&&(f=y.height)}else void 0===o&&(o=256),void 0===f&&(f=256);this._width=o,this._height=f,this.leftWidth=a,this.rightWidth=c,this.topHeight=p,this.bottomHeight=d,this.is3Slice&&(this._height=f=y.height,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var o=this.leftWidth,f=this.rightWidth,a=this.topHeight,c=this.bottomHeight,p=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,o/p,a/d),this.updateQuadUVs(6,o/p,0,1-f/p,a/d),this.updateQuadUVs(12,1-f/p,0,1,a/d),this.is3Slice||(this.updateQuadUVs(18,0,a/d,o/p,1-c/d),this.updateQuadUVs(24,o/p,a/d,1-f/p,1-c/d),this.updateQuadUVs(30,1-f/p,a/d,1,1-c/d),this.updateQuadUVs(36,0,1-c/d,o/p,1),this.updateQuadUVs(42,o/p,1-c/d,1-f/p,1),this.updateQuadUVs(48,1-f/p,1-c/d,1,1))},updateVertices:function(){var o=this.leftWidth,f=this.rightWidth,a=this.topHeight,c=this.bottomHeight,p=this.width,d=this.height;this.updateQuad(0,-.5,.5,o/p-.5,.5-a/d),this.updateQuad(6,o/p-.5,.5,.5-f/p,.5-a/d),this.updateQuad(12,.5-f/p,.5,.5,.5-a/d),this.is3Slice||(this.updateQuad(18,-.5,.5-a/d,o/p-.5,c/d-.5),this.updateQuad(24,o/p-.5,.5-a/d,.5-f/p,c/d-.5),this.updateQuad(30,.5-f/p,.5-a/d,.5,c/d-.5),this.updateQuad(36,-.5,c/d-.5,o/p-.5,-.5),this.updateQuad(42,o/p-.5,c/d-.5,.5-f/p,-.5),this.updateQuad(48,.5-f/p,c/d-.5,.5,-.5))},updateQuad:function(o,f,a,c,p){var d=this.width,v=this.height,y=this.originX,S=this.originY,b=this.vertices;b[o+0].resize(f,a,d,v,y,S),b[o+1].resize(f,p,d,v,y,S),b[o+2].resize(c,a,d,v,y,S),b[o+3].resize(f,p,d,v,y,S),b[o+4].resize(c,p,d,v,y,S),b[o+5].resize(c,a,d,v,y,S)},updateQuadUVs:function(o,f,a,c,p){var d=this.vertices,v=this.frame,y=v.u0,S=v.v0,b=v.u1,C=v.v1;if(0!==y||1!==b){var M=b-y;f=y+f*M,c=y+c*M}if(0!==S||1!==C){var w=C-S;a=S+a*w,p=S+p*w}d[o+0].setUVs(f,a),d[o+1].setUVs(f,p),d[o+2].setUVs(c,a),d[o+3].setUVs(f,p),d[o+4].setUVs(c,p),d[o+5].setUVs(c,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(o){return void 0===o&&(o=16777215),this.tint=o,this.tintFill=!1,this},setTintFill:function(o){return this.setTint(o),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(o){this._width=Math.max(o,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(o){this.is3Slice||(this._height=Math.max(o,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,f){this.width=o,this.height=f,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(o,f){return this.displayWidth=o,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(o){this._originX=o,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(o){this._originY=o,this.updateVertices()}},setOrigin:function(o,f){return void 0===o&&(o=.5),void 0===f&&(f=o),this._originX=o,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var o=this.frame.height;this._height=o,this.topHeight=o,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});T.exports=s},28279:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(35154),l=i(28103);x.register("nineslice",function(s,o){void 0===s&&(s={});var f=h(s,"key",null),a=h(s,"frame",null),c=u(s,"width",256),p=u(s,"height",256),d=u(s,"leftWidth",10),v=u(s,"rightWidth",10),y=u(s,"topHeight",0),S=u(s,"bottomHeight",0),b=new l(this.scene,0,0,f,a,c,p,d,v,y,S);return void 0!==o&&(s.add=o),m(this.scene,b,s),b})},47521:(T,A,i)=>{var m=i(28103);i(39429).register("nineslice",function(h,u,l,s,o,f,a,c,p,d){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a,c,p,d))})},78023:(T,A,i)=>{var x,h=i(29747);x=i(52230),T.exports={renderWebGL:x,renderCanvas:h}},52230:(T,A,i)=>{var m=i(91296),x=i(70554);T.exports=function(u,l,s,o){var f=l.vertices,a=f.length;if(0!==a){s.addToRenderList(l);var c=u.pipelines.set(l.pipeline,l),p=m(l,s,o,!1).calc;u.pipelines.preBatch(l);var d=c.setGameObject(l),v=c.vertexViewF32,y=c.vertexViewU32,S=c.vertexCount*c.currentShader.vertexComponentCount-1,b=s.roundPixels,C=l.tintFill,w=x.getTintAppendFloatAlpha(l.tint,s.alpha*l.alpha),R=c.vertexAvailable(),I=-1;R<a&&(I=R);for(var L=0;L<a;L++){var F=f[L];L===I&&(c.flush(),d=c.setGameObject(l),S=0),v[++S]=p.getXRound(F.vx,F.vy,b),v[++S]=p.getYRound(F.vx,F.vy,b),v[++S]=F.u,v[++S]=F.v,v[++S]=d,v[++S]=C,y[++S]=w,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}u.pipelines.postBatch(l)}}},76472:(T,A,i)=>{var m=i(83419),x=i(44777),h=i(37589),u=i(6113),l=i(91389),s=i(90664),o=new m({Extends:x,initialize:function(a){x.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var f=this.propertyValue,a=f,c=this.defaultEmit,p=this.defaultUpdate;if(9===this.method){this.start=f[0],this.ease=u("Linear"),this.interpolation=l("linear"),c=this.easedValueEmit,p=this.easeValueUpdate,a=f[0],this.active=!0;for(var d=0;d<f.length;d++){var v=s(f[d]);this.r.push(v.r),this.g.push(v.g),this.b.push(v.b)}}return this.onEmit=c,this.onUpdate=p,this.current=a,this},setEase:function(f){this.easeName=f,this.ease=u(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,a,c){var p=this.ease(c),d=this.interpolation(this.r,p),v=this.interpolation(this.g,p),y=this.interpolation(this.b,p),S=h(d,v,y);return this.current=S,S}});T.exports=o},44777:(T,A,i)=>{var m=i(30976),x=i(45319),h=i(83419),u=i(99472),l=i(6113),s=i(95540),o=i(91389),f=i(77720),a=i(15994),c=new h({initialize:function(d,v,y){void 0===y&&(y=!1),this.propertyKey=d,this.propertyValue=v,this.defaultValue=v,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=y,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0},loadConfig:function(p,d){void 0===p&&(p={}),d&&(this.propertyKey=d),this.propertyValue=s(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var d;switch(this.method){case 1:case 3:case 8:d=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(d=p);break;case 4:d=f(p,(this.end-this.start)/this.steps),this.counter=d;break;case 5:case 6:case 7:d=x(p,this.start,this.end);break;case 9:d=this.start[0]}return this.current=d,this},getMethod:function(){var p=this.propertyValue;if(null===p)return 0;var d=typeof p;if("number"===d)return 1;if(Array.isArray(p))return 2;if("function"===d)return 3;if("object"===d){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,d=p,v=this.defaultEmit,y=this.defaultUpdate;switch(this.method){case 1:v=this.staticValueEmit;break;case 2:v=this.randomStaticValueEmit,d=p[0];break;case 3:this._onEmit=p,v=this.proxyEmit;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=!!this.has(p,"yoyo")&&p.yoyo,this.direction=0,v=this.steppedEmit,d=this.start;break;case 5:this.start=p.start,this.end=p.end;var S=this.has(p,"ease")?p.ease:"Linear";this.ease=l(S,p.easeParams),v=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,y=this.easeValueUpdate,d=this.start;break;case 6:this.start=p.min,this.end=p.max,v=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var b=p.random;Array.isArray(b)&&(this.start=b[0],this.end=b[1]),v=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,v=this.proxyEmit,y=this.proxyUpdate;break;case 9:this.start=p.values;var C=this.has(p,"ease")?p.ease:"Linear";this.ease=l(C,p.easeParams),this.interpolation=o(p.interpolation),v=this.easedValueEmit,y=this.easeValueUpdate,d=this.start[0]}return this.onEmit=v,this.onUpdate=y,this.current=d,this},has:function(p,d){return p.hasOwnProperty(d)},hasBoth:function(p,d,v){return p.hasOwnProperty(d)&&p.hasOwnProperty(v)},hasEither:function(p,d,v){return p.hasOwnProperty(d)||p.hasOwnProperty(v)},defaultEmit:function(p,d,v){return v},defaultUpdate:function(p,d,v,y){return y},proxyEmit:function(p,d,v){var y=this._onEmit(p,d,v);return this.current=y,y},proxyUpdate:function(p,d,v,y){var S=this._onUpdate(p,d,v,y);return this.current=S,S},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,d){var v=u(this.start,this.end);return p&&p.data[d]&&(p.data[d].min=v,p.data[d].max=this.end),this.current=v,v},randomRangedIntEmit:function(p,d){var v=m(this.start,this.end);return p&&p.data[d]&&(p.data[d].min=v,p.data[d].max=this.end),this.current=v,v},steppedEmit:function(){var p=this.counter,d=p,v=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(d+=v)>=this.end&&(d=this.end-(d-this.end),this.direction=1):(d-=v)<=this.start&&(d=this.start+(this.start-d),this.direction=0),this.counter=d):this.counter=a(d+v,this.start,this.end),this.current=p,p},easedValueEmit:function(p,d){if(p&&p.data[d]){var v=p.data[d];v.min=this.start,v.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,d,v){var S,y=p.data[d],b=this.ease(v);return S=this.interpolation?this.interpolation(this.start,b):(y.max-y.min)*b+y.min,this.current=S,S},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});T.exports=c},24502:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(20286),u=new m({Extends:h,initialize:function(s,o,f,a,c){if("object"==typeof s){var p=s;s=x(p,"x",0),o=x(p,"y",0),f=x(p,"power",0),a=x(p,"epsilon",100),c=x(p,"gravity",50)}else void 0===s&&(s=0),void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=100),void 0===c&&(c=50);h.call(this,s,o,!0),this._gravity=c,this._power=f*c,this._epsilon=a*a},update:function(l,s){var o=this.x-l.x,f=this.y-l.y,a=o*o+f*f;if(0!==a){var c=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var p=this._power*s/(a*c)*100;l.velocityX+=o*p,l.velocityY+=f*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var s=this.power;this._gravity=l,this.power=s}}});T.exports=u},56480:(T,A,i)=>{var m=i(9674),x=i(45319),h=i(83419),u=i(39506),l=i(87841),s=i(11520),o=i(26099),f=new h({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new o,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=new m(this),this.bounds=new l},emit:function(a,c,p,d,v,y){return this.emitter.emit(a,c,p,d,v,y)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,c){void 0===a&&(a=0),void 0===c&&(c=0),this.x=a,this.y=c},fire:function(a,c){var p=this.emitter,d=p.ops,v=p.getAnim();if(v?this.anims.play(v):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),this.x+=void 0===a?d.x.onEmit(this,"x"):d.x.steps>0?a+d.x.onEmit(this,"x"):a,this.y+=void 0===c?d.y.onEmit(this,"y"):d.y.steps>0?c+d.y.onEmit(this,"y"):c,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var y=d.speedX.onEmit(this,"speedX"),S=d.speedY.active?d.speedY.onEmit(this,"speedY"):y;if(p.radial){var b=u(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(b)*Math.abs(y),this.velocityY=Math.sin(b)*Math.abs(S)}else if(p.moveTo){var C=d.moveToX.onEmit(this,"moveToX"),M=d.moveToY.onEmit(this,"moveToY"),w=this.life/1e3;this.velocityX=(C-this.x)/w,this.velocityY=(M-this.y)/w}else this.velocityX=y,this.velocityY=S;return p.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),this.tint=d.color.active?d.color.onEmit(this,"tint"):d.tint.onEmit(this,"tint"),!0},update:function(a,c,p){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=a,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims.update(0,a);var d=this.emitter,v=d.ops,y=1-this.lifeCurrent/this.life;if(this.lifeT=y,this.x=v.x.onUpdate(this,"x",y,this.x),this.y=v.y.onUpdate(this,"y",y,this.y),d.moveTo){var S=v.moveToX.onUpdate(this,"moveToX",y,d.moveToX),b=v.moveToY.onUpdate(this,"moveToY",y,d.moveToY),C=this.lifeCurrent/1e3;this.velocityX=(S-this.x)/C,this.velocityY=(b-this.y)/C}return this.computeVelocity(d,a,c,p,y),this.scaleX=v.scaleX.onUpdate(this,"scaleX",y,this.scaleX),this.scaleY=v.scaleY.active?v.scaleY.onUpdate(this,"scaleY",y,this.scaleY):this.scaleX,this.angle=v.rotate.onUpdate(this,"rotate",y,this.angle),this.rotation=u(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(v.alpha.onUpdate(this,"alpha",y,this.alpha),0,1),this.tint=v.color.active?v.color.onUpdate(this,"color",y,this.tint):v.tint.onUpdate(this,"tint",y,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,c,p,d,v){var y=a.ops,S=this.velocityX,b=this.velocityY,C=y.accelerationX.onUpdate(this,"accelerationX",v,this.accelerationX),M=y.accelerationY.onUpdate(this,"accelerationY",v,this.accelerationY),w=y.maxVelocityX.onUpdate(this,"maxVelocityX",v,this.maxVelocityX),R=y.maxVelocityY.onUpdate(this,"maxVelocityY",v,this.maxVelocityY);this.bounce=y.bounce.onUpdate(this,"bounce",v,this.bounce),b+=a.gravityY*p+M*p,S=x(S+=a.gravityX*p+C*p,-w,w),b=x(b,-R,R),this.velocityX=S,this.velocityY=b,this.x+=S*p,this.y+=b*p,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var I=0;I<d.length;I++){var L=d[I];L.active&&L.update(this,c,p,v)}},setSizeToFrame:function(){},getBounds:function(a){void 0===a&&(a=this.emitter.getWorldTransformMatrix());var c=Math.abs(a.scaleX)*this.scaleX,p=Math.abs(a.scaleY)*this.scaleY,d=this.x,v=this.y,y=this.rotation,S=this.frame.width*c/2,b=this.frame.height*p/2,C=this.bounds,M=new o(d-S,v-b),w=new o(d+S,v-b),R=new o(d-S,v+b),I=new o(d+S,v+b);return 0!==y&&(s(M,d,v,y),s(w,d,v,y),s(R,d,v,y),s(I,d,v,y)),a.transformPoint(M.x,M.y,M),a.transformPoint(w.x,w.y,w),a.transformPoint(R.x,R.y,R),a.transformPoint(I.x,I.y,I),C.x=Math.min(M.x,w.x,R.x,I.x),C.y=Math.min(M.y,w.y,R.y,I.y),C.width=Math.max(M.x,w.x,R.x,I.x)-C.x,C.height=Math.max(M.y,w.y,R.y,I.y)-C.y,C},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});T.exports=f},69601:(T,A,i)=>{var m=i(83419),x=i(20286),h=i(87841),u=new m({Extends:x,initialize:function(s,o,f,a,c,p,d,v){void 0===c&&(c=!0),void 0===p&&(p=!0),void 0===d&&(d=!0),void 0===v&&(v=!0),x.call(this,s,o,!0),this.bounds=new h(s,o,f,a),this.collideLeft=c,this.collideRight=p,this.collideTop=d,this.collideBottom=v},update:function(l){var s=this.bounds,o=-l.bounce,f=l.worldPosition;f.x<s.x&&this.collideLeft?(l.x+=s.x-f.x,l.velocityX*=o):f.x>s.right&&this.collideRight&&(l.x-=f.x-s.right,l.velocityX*=o),f.y<s.y&&this.collideTop?(l.y+=s.y-f.y,l.velocityY*=o):f.y>s.bottom&&this.collideBottom&&(l.y-=f.y-s.bottom,l.velocityY*=o)}});T.exports=u},31600:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(53774),u=i(43459),l=i(26388),s=i(19909),o=i(76472),f=i(44777),a=i(20696),c=i(95643),p=i(95540),d=i(26546),v=i(24502),y=i(1985),S=i(97022),b=i(86091),C=i(73162),M=i(20074),w=i(56480),R=i(68875),I=i(87841),L=i(59996),F=i(72905),G=i(90668),z=i(19186),B=i(61340),V=i(26099),Y=i(15994),$=i(69601),J=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],W=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],k=new m({Extends:c,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,G],initialize:function(H,X,K,Q,q){c.call(this,H,"ParticleEmitter"),this.particleClass=w,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new o("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new V,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new C(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(X,K),this.setTexture(Q),q&&this.setConfig(q)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;var H=0,X="",K=this.ops;for(H=0;H<W.length;H++)K[X=W[H]].loadConfig(N);for(H=0;H<J.length;H++)S(N,X=J[H])&&(this[X]=p(N,X));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,S(N,"speed")&&(K.speedX.loadConfig(N,"speed"),K.speedY.active=!1),(y(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),S(N,"scale")&&(K.scaleX.loadConfig(N,"scale"),K.scaleY.active=!1),S(N,"callbackScope")){var Q=p(N,"callbackScope",null);this.emitCallbackScope=Q,this.deathCallbackScope=Q}if(S(N,"emitZone")&&this.addEmitZone(N.emitZone),S(N,"deathZone")&&this.addDeathZone(N.deathZone),S(N,"bounds")){var q=this.addParticleBounds(N.bounds);q.collideLeft=p(N,"collideLeft",!0),q.collideRight=p(N,"collideRight",!0),q.collideTop=p(N,"collideTop",!0),q.collideBottom=p(N,"collideBottom",!0)}return S(N,"followOffset")&&this.followOffset.setFromObject(p(N,"followOffset",0)),S(N,"texture")&&this.setTexture(N.texture),S(N,"frame")?this.setEmitterFrame(N.frame):S(N,"anim")&&this.setAnim(N.anim),S(N,"reserve")&&this.reserve(N.reserve),S(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},toJSON:function(){var N=h(this),H=0,X="";for(H=0;H<J.length;H++)N[X=J[H]]=this[X];var K=this.ops;for(H=0;H<W.length;H++)K[X=W[H]]&&(N[X]=K[X].toJSON());return K.speedY.active||(delete N.speedX,N.speed=K.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=K.scaleX.toJSON()),N},resetCounters:function(N,H){var X=this.counters;X.fill(0),X[0]=N,H&&(X[5]=1)},startFollow:function(N,H,X,K){return void 0===H&&(H=0),void 0===X&&(X=0),void 0===K&&(K=!1),this.follow=N,this.followOffset.set(H,X),this.trackVisible=K,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var X,N=this.frames,H=N.length;return 1===H?X=N[0]:this.randomFrame?X=d(N):(X=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===H&&(this.currentFrame=0))),this.texture.get(X)},setEmitterFrame:function(N,H,X){void 0===H&&(H=!0),void 0===X&&(X=1),this.randomFrame=H,this.frameQuantity=X,this.currentFrame=0;var K=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if("string"===K||"number"===K)this.frames.push(N);else if("object"===K){var Q=N;(N=p(Q,"frames",null))&&(this.frames=this.frames.concat(N));var q=p(Q,"cycle",!1);this.randomFrame=!q,this.frameQuantity=p(Q,"quantity",X)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,H=N.length;if(0===H)return null;if(1===H)return N[0];if(this.randomAnim)return d(N);var X=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,H)),X},setAnim:function(N,H,X){void 0===H&&(H=!0),void 0===X&&(X=1),this.randomAnim=H,this.animQuantity=X,this.currentAnim=0;var K=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if("string"===K)this.anims.push(N);else if("object"===K){var Q=N;(N=p(Q,"anims",null))&&(this.anims=this.anims.concat(N));var q=p(Q,"cycle",!1);this.randomAnim=!q,this.animQuantity=p(Q,"quantity",X)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return void 0===N&&(N=!0),this.radial=N,this},addParticleBounds:function(N,H,X,K,Q,q,_,nt){if("object"==typeof N){var st=N;N=st.x,H=st.y,X=S(st,"w")?st.w:st.width,K=S(st,"h")?st.h:st.height}return this.addParticleProcessor(new $(N,H,X,K,Q,q,_,nt))},setParticleSpeed:function(N,H){return void 0===H&&(H=N),this.ops.speedX.onChange(N),N===H?this.ops.speedY.active=!1:this.ops.speedY.onChange(H),this.radial=!0,this},setParticleScale:function(N,H){return void 0===N&&(N=1),void 0===H&&(H=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(H),this},setParticleGravity:function(N,H){return this.gravityX=N,this.gravityY=H,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,H){return this.frequency=N,this.flowCounter=N>0?N:0,H&&(this.quantity=H),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var H,X=[],K=0;K<N.length;K++)if((H=N[K])instanceof l)X.push(H);else if("function"==typeof H.contains)H=new l(H,!0),X.push(H);else{var Q=p(H,"type","onEnter"),q=p(H,"source",null);q&&"function"==typeof q.contains&&(H=new l(q,"onEnter"===Q),X.push(H))}return this.deathZones=this.deathZones.concat(X),X},removeDeathZone:function(N){return F(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var H,X=[],K=0;K<N.length;K++)if((H=N[K])instanceof R||H instanceof s)X.push(H);else{var Q=p(H,"source",null);if(Q){var q=p(H,"type","random");if("random"===q&&"function"==typeof Q.getRandomPoint)H=new R(Q),X.push(H);else if("edge"===q&&"function"==typeof Q.getPoints){var _=p(H,"quantity",1),nt=p(H,"stepRate",0),st=p(H,"yoyo",!1),at=p(H,"seamless",!0),lt=p(H,"total",-1);H=new s(Q,_,nt,st,at,lt),X.push(H)}}}return this.emitZones=this.emitZones.concat(X),X},removeEmitZone:function(N){return F(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var H=this.emitZones,X=H.length;if(0!==X){var K=H[this.zoneIndex];K.getPoint(N),K.total>-1&&(this.zoneTotal++,this.zoneTotal===K.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===X&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var H=this.deathZones,X=0;X<H.length;X++){var K=H[X];if(K.willKill(N))return this.emit(a.DEATH_ZONE,this,N,K),!0}return!1},setEmitZone:function(N){var H;return(H=isFinite(N)?N:this.emitZones.indexOf(N))>=0&&(this.zoneIndex=H),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new v(N))},reserve:function(N){var H=this.dead;if(this.maxParticles>0){var X=this.getParticleCount();X+N>this.maxParticles&&(N=this.maxParticles-(X+N))}for(var K=0;K<N;K++)H.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,H){return void 0===N?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof N&&(this.emitCallback=N,H&&(this.emitCallbackScope=H)),this},onParticleDeath:function(N,H){return void 0===N?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof N&&(this.deathCallback=N,H&&(this.deathCallbackScope=H)),this},killAll:function(){for(var N=this.dead,H=this.alive;H.length>0;)N.push(H.pop());return this},forEachAlive:function(N,H){for(var X=this.alive,K=X.length,Q=0;Q<K;Q++)N.call(H,X[Q],this);return this},forEachDead:function(N,H){for(var X=this.dead,K=X.length,Q=0;Q<K;Q++)N.call(H,X[Q],this);return this},start:function(N,H){return void 0===N&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==H&&(this.duration=Math.abs(H)),this.emit(a.START,this)),this},stop:function(N){return void 0===N&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,H){return void 0===N&&(N=""),void 0===H&&(H=this.true),this.sortProperty=N,this.sortOrderAsc=H,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortCallback=""!==this.sortProperty?this.depthSortCallback:null,this},depthSort:function(){return z(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,H){var X=this.sortProperty;return this.sortOrderAsc?N[X]-H[X]:H[X]-N[X]},flow:function(N,H,X){return void 0===H&&(H=1),this.emitting=!1,this.frequency=N,this.quantity=H,void 0!==X&&(this.stopAfter=X),this.start()},explode:function(N,H,X){this.frequency=-1,this.resetCounters(-1,!0);var K=this.emitParticle(N,H,X);return this.emit(a.EXPLODE,this,K),K},emitParticleAt:function(N,H,X){return this.emitParticle(X,N,H)},emitParticle:function(N,H,X){if(!this.atLimit()){void 0===N&&(N=this.ops.quantity.onEmit());for(var K=this.dead,Q=this.stopAfter,q=this.follow?this.follow.x+this.followOffset.x:H,_=this.follow?this.follow.y+this.followOffset.y:X,nt=0;nt<N;nt++){var st=K.pop();if(st||(st=new this.particleClass(this)),st.fire(q,_)?(this.particleBringToTop?this.alive.push(st):this.alive.unshift(st),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,st,this)):this.dead.push(st),Q>0&&(this.stopCounter++,this.stopCounter>=Q)||this.atLimit())break}return st}},fastForward:function(N,H){void 0===H&&(H=1e3/60);var X=0;for(this.skipping=!0;X<Math.abs(N);)this.preUpdate(0,H),X+=H;return this.skipping=!1,this},preUpdate:function(N,H){var X=(H*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var K=this.getProcessors(),Q=this.alive,q=this.dead,_=0,nt=[],st=Q.length;for(_=0;_<st;_++){var at=Q[_];at.update(H,X,K)&&nt.push({index:_,particle:at})}if((st=nt.length)>0){var lt=this.deathCallback,ht=this.deathCallbackScope;for(_=st-1;_>=0;_--){var ut=nt[_];Q.splice(ut.index,1),q.push(ut.particle),lt&&lt.call(ht,ut.particle),ut.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=H;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=H,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===Q.length&&(this.completeFlag=0,this.emit(a.COMPLETE,this))},overlap:function(N){for(var H=this.getWorldTransformMatrix(),X=this.alive,K=X.length,Q=[],q=0;q<K;q++){var _=X[q];L(N,_.getBounds(H))&&Q.push(_)}return Q},getBounds:function(N,H,X,K){void 0===N&&(N=0),void 0===H&&(H=0),void 0===X&&(X=1e3/60),void 0===K&&(K=new I);var q,_,Q=this.getWorldTransformMatrix(),nt=this.alive,st=!1;if(K.setTo(0,0,0,0),H>0){var at=0;for(this.skipping=!0;at<Math.abs(H);){for(this.preUpdate(0,X),q=0;q<nt.length;q++)_=nt[q].getBounds(Q),st?M(K,_):(st=!0,u(_,K));at+=X}this.skipping=!1}else for(q=0;q<nt.length;q++)_=nt[q].getBounds(Q),st?M(K,_):(st=!0,u(_,K));return N>0&&b(K,N,N),K},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,H=this.ops;for(N=0;N<W.length;N++)H[W[N]].destroy();for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});T.exports=k},9871:(T,A,i)=>{var m=i(59996),x=i(61340),h=new x,u=new x,l=new x,s=new x;T.exports=function(f,a,c,p){var d=h,v=u,y=l,S=s;p?(S.loadIdentity(),S.multiply(p),S.translate(a.x,a.y),S.rotate(a.rotation),S.scale(a.scaleX,a.scaleY)):S.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var b=f.currentContext,C=c.roundPixels,M=c.alpha,w=a.alpha,R=a.alive,I=R.length,L=a.viewBounds;if(a.visible&&0!==I&&(!L||m(L,c.worldView))){a.sortCallback&&a.depthSort(),c.addToRenderList(a);var F=a.scrollFactorX,G=a.scrollFactorY;b.save(),b.globalCompositeOperation=f.blendModes[a.blendMode];for(var z=0;z<I;z++){var B=R[z],V=B.alpha*w*M;if(!(V<=0||0===B.scaleX||0===B.scaleY)){y.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),d.copyFrom(c.matrix),d.multiplyWithOffset(S,-c.scrollX*F,-c.scrollY*G),y.e=B.x,y.f=B.y,d.multiply(y,v);var Y=B.frame,$=Y.canvasData;if($.width>0&&$.height>0){var J=-Y.halfWidth,W=-Y.halfHeight;b.globalAlpha=V,b.save(),v.setToContext(b),C&&(J=Math.round(J),W=Math.round(W)),b.imageSmoothingEnabled=!Y.source.scaleMode,b.drawImage(Y.source.image,$.x,$.y,$.width,$.height,J,W,$.width,$.height),b.restore()}}}b.restore()}}},92730:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(95540),l=i(31600);x.register("particles",function(s,o){void 0===s&&(s={});var f=h(s,"key",null),a=u(s,"config",null),c=new l(this.scene,0,0,f);return void 0!==o&&(s.add=o),m(this.scene,c,s),a&&c.setConfig(a),c})},676:(T,A,i)=>{var m=i(39429),x=i(31600);m.register("particles",function(h,u,l,s){return void 0!==h&&"string"==typeof h&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,h,u,l,s))})},90668:(T,A,i)=>{var x,h;i(29747),x=i(21188),h=i(9871),T.exports={renderWebGL:x,renderCanvas:h}},21188:(T,A,i)=>{var m=i(59996),x=i(61340),h=i(70554),u=new x,l=new x,s=new x,o=new x;T.exports=function(a,c,p,d){var v=a.pipelines.set(c.pipeline),y=u,S=l,b=s,C=o;d?(C.loadIdentity(),C.multiply(d),C.translate(c.x,c.y),C.rotate(c.rotation),C.scale(c.scaleX,c.scaleY)):C.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var M=h.getTintAppendFloatAlpha,w=p.alpha,R=c.alpha;a.pipelines.preBatch(c);var I=c.alive,L=I.length,F=c.viewBounds;if(0!==L&&(!F||m(F,p.worldView))){c.sortCallback&&c.depthSort(),p.addToRenderList(c),y.copyFrom(p.matrix),y.multiplyWithOffset(C,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),a.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(a,c,p),a.pipelines.set(c.pipeline));for(var z,B,G=c.tintFill,V=0;V<L;V++){var Y=I[V],$=Y.alpha*R*w;if(!($<=0||0===Y.scaleX||0===Y.scaleY)){b.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),b.e=Y.x,b.f=Y.y,y.multiply(b,S);var J=Y.frame;J.glTexture!==B&&(B=J.glTexture,z=v.setGameObject(c,J));var W=-J.halfWidth,k=-J.halfHeight,N=S.setQuad(W,k,W+J.width,k+J.height),H=M(Y.tint,$);v.shouldFlush(6)&&(v.flush(),z=v.setGameObject(c,J)),v.batchQuad(c,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],J.u0,J.v0,J.u1,J.v1,H,H,H,H,G,B,z)}}c.mask&&c.mask.postRenderWebGL(a,p),a.pipelines.postBatch(c)}}},20286:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s){void 0===u&&(u=0),void 0===l&&(l=0),void 0===s&&(s=!0),this.x=u,this.y=l,this.active=s},update:function(){},destroy:function(){this.emitter=null}});T.exports=x},9774:T=>{T.exports="complete"},812:T=>{T.exports="deathzone"},30522:T=>{T.exports="explode"},96695:T=>{T.exports="start"},18677:T=>{T.exports="stop"},20696:(T,A,i)=>{T.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(T,A,i)=>{T.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l){this.source=u,this.killOnEnter=l},willKill:function(h){var u=h.worldPosition,l=this.source.contains(u.x,u.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});T.exports=x},19909:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o,f,a){void 0===o&&(o=!1),void 0===f&&(f=!0),void 0===a&&(a=-1),this.source=u,this.points=[],this.quantity=l,this.stepRate=s,this.yoyo=o,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var h=this.points[0],u=this.points[this.points.length-1];h.x===u.x&&h.y===u.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(h){return this.source=h,this.updateSource()},getPoint:function(h){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(h.x=u.x,h.y=u.y)}});T.exports=x},68875:(T,A,i)=>{var m=i(83419),x=i(26099),h=new m({initialize:function(l){this.source=l,this._tempVec=new x,this.total=-1},getPoint:function(u){var l=this._tempVec;this.source.getRandomPoint(l),u.x=l.x,u.y=l.y}});T.exports=h},21024:(T,A,i)=>{T.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(68287),u=new m({Extends:h,Mixins:[x.PathFollower],initialize:function(s,o,f,a,c,p){h.call(this,s,f,a,c,p),this.path=o},preUpdate:function(l,s){this.anims.update(l,s),this.pathUpdate(l)}});T.exports=u},90145:(T,A,i)=>{var m=i(39429),x=i(1159);m.register("follower",function(h,u,l,s,o){var f=new x(this.scene,h,u,l,s,o);return this.displayList.add(f),this.updateList.add(f),f})},33663:(T,A,i)=>{var m=i(9674),x=i(83419),h=i(48803),u=i(90664),l=i(4703),s=i(45650),o=new x({Extends:l,initialize:function(a,c,p,d,v,y,S,b){d||(d="__DEFAULT"),l.call(this,a,c,p,d,v),this.type="Plane",this.anims=new m(this),this._checkerboard=null,this.hideCCW=!1,this.setGridSize(y,S,b),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(f,a,c){void 0===f&&(f=8),void 0===a&&(a=8),void 0===c&&(c=!1);var p=!1;return c&&(p=!0),this.gridWidth=f,this.gridHeight=a,this.isTiled=c,this.clear(),h({mesh:this,widthSegments:f,heightSegments:a,isOrtho:!1,tile:c,flipY:p}),this},setSizeToFrame:function(f){void 0===f&&(f=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var C,M,c=this.gridWidth,p=this.gridHeight,d=this.vertices,v=a.u0,y=a.u1,S=a.v0,b=a.v1,w=0;if(this.isTiled)for(S=a.v1,b=a.v0,M=0;M<p;M++)for(C=0;C<c;C++)d[w++].setUVs(v,b),d[w++].setUVs(v,S),d[w++].setUVs(y,b),d[w++].setUVs(v,S),d[w++].setUVs(y,S),d[w++].setUVs(y,b);else{var R=c+1,I=p+1,L=y-v,F=b-S,G=[];for(M=0;M<I;M++)for(C=0;C<R;C++)G.push(v+L*(C/c),S+F*(M/p));for(M=0;M<p;M++)for(C=0;C<c;C++){var V=2*(C+R*M),Y=2*(C+R*(M+1)),$=2*(C+1+R*(M+1)),J=2*(C+1+R*M);d[w++].setUVs(G[V],G[V+1]),d[w++].setUVs(G[Y],G[Y+1]),d[w++].setUVs(G[J],G[J+1]),d[w++].setUVs(G[Y],G[Y+1]),d[w++].setUVs(G[$],G[$+1]),d[w++].setUVs(G[J],G[J+1])}}return this},setViewHeight:function(f){void 0===f&&(f=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(f,a,c,p,d){void 0===f&&(f=16777215),void 0===a&&(a=255),void 0===c&&(c=255),void 0===p&&(p=255),void 0===d&&(d=128);for(var v=u(f),y=u(a),S=[],b=0;b<16;b++)for(var C=0;C<16;C++)b<8&&C<8||b>7&&C>7?S.push(v.r,v.g,v.b,c):S.push(y.r,y.g,y.b,p);var M=this.scene.sys.textures.addUint8Array(s(),new Uint8Array(S),16,16);return this.removeCheckerboard(),this.setTexture(M),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,a){return this.anims.play(f,a)},playReverse:function(f,a){return this.anims.playReverse(f,a)},playAfterDelay:function(f,a){return this.anims.playAfterDelay(f,a)},playAfterRepeat:function(f,a){return this.anims.playAfterRepeat(f,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,a){l.prototype.preUpdate.call(this,f,a),this.anims.update(f,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});T.exports=o},56015:(T,A,i)=>{var m=i(25305),x=i(13059),h=i(44603),u=i(23568),l=i(35154),s=i(33663);h.register("plane",function(o,f){void 0===o&&(o={});var a=u(o,"key",null),c=u(o,"frame",null),p=l(o,"width",8),d=l(o,"height",8),v=l(o,"tile",!1),y=new s(this.scene,0,0,a,c,p,d,v);void 0!==f&&(o.add=f);var S=l(o,"checkerboard",null);if(S){var b=l(S,"color1",16777215),C=l(S,"color2",255),M=l(S,"alpha1",255),w=l(S,"alpha2",255),R=l(S,"height",128);y.createCheckerboard(b,C,M,w,R)}return m(this.scene,y,o),x(y,o),y})},30985:(T,A,i)=>{var m=i(33663);i(39429).register("plane",function(h,u,l,s,o,f,a){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a))})},80321:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(95643),u=i(30100),l=i(36060),s=i(67277),o=new m({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,s],initialize:function(a,c,p,d,v,y,S){void 0===d&&(d=16777215),void 0===v&&(v=128),void 0===y&&(y=1),void 0===S&&(S=.1),h.call(this,a,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,p),this.color=u(d),this.intensity=y,this.attenuation=S,this.width=2*v,this.height=2*v,this._radius=v},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=2*f,this.height=2*f}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});T.exports=o},39829:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(80321);x.register("pointlight",function(l,s){void 0===l&&(l={});var o=h(l,"color",16777215),f=h(l,"radius",128),a=h(l,"intensity",1),c=h(l,"attenuation",.1),p=new u(this.scene,0,0,o,f,a,c);return void 0!==s&&(l.add=s),m(this.scene,p,l),p})},71255:(T,A,i)=>{var m=i(39429),x=i(80321);m.register("pointlight",function(h,u,l,s,o,f){return this.displayList.add(new x(this.scene,h,u,l,s,o,f))})},67277:(T,A,i)=>{var x,h=i(29747);x=i(57787),T.exports={renderWebGL:x,renderCanvas:h}},57787:(T,A,i)=>{var m=i(91296);T.exports=function(h,u,l,s){l.addToRenderList(u);var o=h.pipelines.set(u.pipeline),f=m(u,l,s).calc,p=-u._radius,d=-u._radius,v=p+u.width,y=d+u.height,S=f.getX(0,0),b=f.getY(0,0),C=f.getX(p,d),M=f.getY(p,d),w=f.getX(p,y),R=f.getY(p,y),I=f.getX(v,y),L=f.getY(v,y),F=f.getX(v,d),G=f.getY(v,d);h.pipelines.preBatch(u),o.batchPointLight(u,l,C,M,w,R,I,L,F,G,S,b),h.pipelines.postBatch(u)}},591:(T,A,i)=>{var m=i(83419),x=i(81320),h=i(88571),u=new m({Extends:h,initialize:function(s,o,f,a,c){void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=32),void 0===c&&(c=32);var p=new x(s.sys.textures,"",a,c);h.call(this,s,o,f,p),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,s){this.width=l,this.height=s,this.texture.setSize(l,s),this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=l,o.hitArea.height=s),this},resize:function(l,s){return this.setSize(l,s),this},saveTexture:function(l){var s=this.texture;return s.key=l,s.manager.addDynamicTexture(s)&&(this._saved=!0),s},fill:function(l,s,o,f,a,c){return this.texture.fill(l,s,o,f,a,c),this},clear:function(){return this.texture.clear(),this},stamp:function(l,s,o,f,a){return this.texture.stamp(l,s,o,f,a),this},erase:function(l,s,o){return this.texture.erase(l,s,o),this},draw:function(l,s,o,f,a){return this.texture.draw(l,s,o,f,a),this},drawFrame:function(l,s,o,f,a,c){return this.texture.drawFrame(l,s,o,f,a,c),this},repeat:function(l,s,o,f,a,c,p,d,v){return this.texture.repeat(l,s,o,f,a,c,p,d,v),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,s,o,f,a){return this.texture.batchDraw(l,s,o,f,a),this},batchDrawFrame:function(l,s,o,f,a,c){return this.texture.batchDrawFrame(l,s,o,f,a,c),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,s,o,f,a,c,p){return this.texture.snapshotArea(l,s,o,f,a,c,p),this},snapshot:function(l,s,o){return this.snapshotArea(0,0,this.width,this.height,l,s,o)},snapshotPixel:function(l,s,o){return this.snapshotArea(l,s,1,1,o,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});T.exports=u},34495:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(591);x.register("renderTexture",function(l,s){void 0===l&&(l={});var o=h(l,"x",0),f=h(l,"y",0),a=h(l,"width",32),c=h(l,"height",32),p=new u(this.scene,o,f,a,c);return void 0!==s&&(l.add=s),m(this.scene,p,l),p})},60505:(T,A,i)=>{var m=i(39429),x=i(591);m.register("renderTexture",function(h,u,l,s){return this.displayList.add(new x(this.scene,h,u,l,s))})},77757:(T,A,i)=>{var m=i(9674),x=i(83419),h=i(31401),u=i(95643),l=i(36060),s=i(38745),o=i(26099),f=new x({Extends:u,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Flip,h.Mask,h.Pipeline,h.PostPipeline,h.Size,h.Texture,h.Transform,h.Visible,h.ScrollFactor,s],initialize:function(c,p,d,v,y,S,b,C,M){void 0===v&&(v="__DEFAULT"),void 0===S&&(S=2),void 0===b&&(b=!0),u.call(this,c,"Rope"),this.anims=new m(this),this.points=S,this.tintFill="__DEFAULT"===v,this.dirty=!1,this.horizontal=b,this._flipX=!1,this._flipY=!1,this._perp=new o,this.debugCallback=null,this.debugGraphic=null,this.setTexture(v,y),this.setPosition(p,d),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(S)&&this.resizeArrays(S.length),this.setPoints(S,C,M),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,c){var p=this.anims.currentFrame;this.anims.update(a,c),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(a,c,p){return this.anims.play(a,c,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,c,p){return void 0===a&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,c,p))},setVertical:function(a,c,p){return void 0===a&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,c,p)):this},setTintFill:function(a){return void 0===a&&(a=!1),this.tintFill=a,this},setAlphas:function(a,c){var p=this.points.length;if(p<1)return this;var d=this.alphas;void 0===a?a=[1]:!Array.isArray(a)&&void 0===c&&(a=[a]);var v,y=0;if(void 0!==c)for(v=0;v<p;v++)d[y=2*v]=a,d[y+1]=c;else if(a.length===p)for(v=0;v<p;v++)d[y=2*v]=a[v],d[y+1]=a[v];else{var S=a[0];for(v=0;v<p;v++)a.length>(y=2*v)&&(S=a[y]),d[y]=S,a.length>y+1&&(S=a[y+1]),d[y+1]=S}return this},setColors:function(a){var c=this.points.length;if(c<1)return this;var p=this.colors;void 0===a?a=[16777215]:Array.isArray(a)||(a=[a]);var d,v=0;if(a.length===c)for(d=0;d<c;d++)p[v=2*d]=a[d],p[v+1]=a[d];else{var y=a[0];for(d=0;d<c;d++)a.length>(v=2*d)&&(y=a[v]),p[v]=y,a.length>v+1&&(y=a[v+1]),p[v+1]=y}return this},setPoints:function(a,c,p){if(void 0===a&&(a=2),"number"==typeof a){var v,y,S,d=a;if(d<2&&(d=2),a=[],this.horizontal)for(S=-this.frame.halfWidth,y=this.frame.width/(d-1),v=0;v<d;v++)a.push({x:S+v*y,y:0});else for(S=-this.frame.halfHeight,y=this.frame.height/(d-1),v=0;v<d;v++)a.push({x:0,y:S+v*y})}var b=a.length,C=this.points.length;return b<1?(console.warn("Rope: Not enough points given"),this):(1===b&&(a.unshift({x:0,y:0}),b++),C!==b&&this.resizeArrays(b),this.dirty=!0,this.points=a,this.updateUVs(),null!=c&&this.setColors(c),null!=p&&this.setAlphas(p),this)},updateUVs:function(){for(var a=this.uv,c=this.points.length,p=this.frame.u0,d=this.frame.v0,v=this.frame.u1,y=this.frame.v1,S=(v-p)/(c-1),b=(y-d)/(c-1),C=0;C<c;C++){var w,R,I,L,M=4*C;this.horizontal?(this._flipX?(w=v-C*S,I=v-C*S):(w=p+C*S,I=p+C*S),this._flipY?(R=y,L=d):(R=d,L=y)):(this._flipX?(w=p,I=v):(w=v,I=p),this._flipY?(R=y-C*b,L=y-C*b):(R=d+C*b,L=d+C*b)),a[M+0]=w,a[M+1]=R,a[M+2]=I,a[M+3]=L}return this},resizeArrays:function(a){var c=this.colors,p=this.alphas;this.vertices=new Float32Array(4*a),this.uv=new Float32Array(4*a),c=new Uint32Array(2*a),p=new Float32Array(2*a);for(var d=0;d<2*a;d++)c[d]=16777215,p[d]=1;return this.colors=c,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var a=this._perp,c=this.points,p=this.vertices,d=c.length;if(this.dirty=!1,!(d<1)){for(var v,y=c[0],S=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,b=0;b<d;b++){var C=c[b],M=4*b;a.x=(v=b<d-1?c[b+1]:C).y-y.y,a.y=-(v.x-y.x);var w=a.length();a.x/=w,a.y/=w,a.x*=S,a.y*=S,p[M]=C.x+a.x,p[M+1]=C.y+a.y,p[M+2]=C.x-a.x,p[M+3]=C.y-a.y,y=C}return this}},setDebug:function(a,c){return this.debugGraphic=a,this.debugCallback=a||c?c||this.renderDebugVerts:null,this},renderDebugVerts:function(a,c,p){var d=a.debugGraphic,v=p[0],y=p[1],S=p[2],b=p[3];d.lineBetween(v,y,S,b);for(var C=4;C<c;C+=4){var M=p[C+0],w=p[C+1],R=p[C+2],I=p[C+3];d.lineBetween(v,y,M,w),d.lineBetween(S,b,R,I),d.lineBetween(S,b,M,w),d.lineBetween(M,w,R,I),v=M,y=w,S=R,b=I}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});T.exports=f},95262:T=>{T.exports=function(){}},26209:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(35154),l=i(77757);x.register("rope",function(s,o){void 0===s&&(s={});var f=h(s,"key",null),a=h(s,"frame",null),c=h(s,"horizontal",!0),p=u(s,"points",void 0),d=u(s,"colors",void 0),v=u(s,"alphas",void 0),y=new l(this.scene,0,0,f,a,p,c,d,v);return void 0!==o&&(s.add=o),m(this.scene,y,s),y})},96819:(T,A,i)=>{var m=i(77757);i(39429).register("rope",function(h,u,l,s,o,f,a,c){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a,c))})},38745:(T,A,i)=>{var x,h;i(29747),x=i(20439),h=i(95262),T.exports={renderWebGL:x,renderCanvas:h}},20439:(T,A,i)=>{var m=i(91296),x=i(70554);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.pipelines.set(l.pipeline,l),a=m(l,s,o).calc,c=l.vertices,p=l.uv,d=l.colors,v=l.alphas,y=l.alpha,S=x.getTintAppendFloatAlpha,b=s.roundPixels,C=c.length,M=Math.floor(.5*C);f.flush(),u.pipelines.preBatch(l);var w=f.setGameObject(l),R=f.vertexViewF32,I=f.vertexViewU32,L=f.vertexCount*f.currentShader.vertexComponentCount-1,F=0,G=l.tintFill;l.dirty&&l.updateVertices();for(var z=l.debugCallback,B=[],V=0;V<C;V+=2){var Y=c[V+0],$=c[V+1],J=Y*a.a+$*a.c+a.e,W=Y*a.b+$*a.d+a.f;b&&(J=Math.round(J),W=Math.round(W)),R[++L]=J,R[++L]=W,R[++L]=p[V+0],R[++L]=p[V+1],R[++L]=w,R[++L]=G,I[++L]=S(d[F],s.alpha*(v[F]*y)),F++,z&&(B[V+0]=J,B[V+1]=W)}z&&z.call(l,l,C,B),f.vertexCount+=M,f.currentBatch.count=f.vertexCount-f.currentBatch.start,u.pipelines.postBatch(l)}},20071:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(95643),u=i(95540),l=i(79291),s=i(61622),o=i(25479),f=i(61340),a=i(95428),c=i(92503),p=new m({Extends:h,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,o],initialize:function(v,y,S,b,C,M,w,R){void 0===S&&(S=0),void 0===b&&(b=0),void 0===C&&(C=128),void 0===M&&(M=128),h.call(this,v,"Shader"),this.blendMode=-1;var I=v.sys.renderer;this.renderer=I,this.gl=I.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=I.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=I.width,this._rendererHeight=I.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(S,b),this.setSize(C,M),this.setOrigin(.5,.5),this.setShader(y,w,R),this.renderer.on(c.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return!!this.renderToTexture||!(h.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&d.id)},setRenderToTexture:function(d,v){if(void 0===v&&(v=!1),!this.renderToTexture){var y=this.width,S=this.height,b=this.renderer;this.glTexture=b.createTextureFromSource(null,y,S,0),this.framebuffer=b.createFramebuffer(y,S,this.glTexture,!1),this._rendererWidth=y,this._rendererHeight=S,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(b.pipelines.clear(),this.load(),this.flush(),b.pipelines.rebind()),this},setShader:function(d,v,y){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:v,textureData:y},this;if(void 0===v&&(v=[]),"string"==typeof d){var S=this.scene.sys.cache.shader;if(!S.has(d))return console.warn("Shader missing: "+d),this;this.shader=S.get(d)}else this.shader=d;var b=this.gl,C=this.renderer;this.program&&C.deleteProgram(this.program);var M=C.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);b.uniformMatrix4fv(b.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),b.uniformMatrix4fv(b.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height),this.program=M;var w=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[w.getFullYear(),w.getMonth(),w.getDate(),60*w.getHours()*60+60*w.getMinutes()+w.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?l(!0,{},this.shader.uniforms,R):R;for(var I=0;I<4;I++)v[I]&&this.setSampler2D("iChannel"+I,v[I],I,y);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,v,y,S){if(this.renderer.contextLost)this._deferProjOrtho={left:d,right:v,bottom:y,top:S};else{var M=1/(d-v),w=1/(y-S),I=this.projectionMatrix;I[0]=-2*M,I[5]=-2*w,I[10]=-.001,I[12]=(d+v)*M,I[13]=(S+y)*w,I[14]=-0;var L=this.program,F=this.gl;this.renderer.setProgram(L),F.uniformMatrix4fv(F.getUniformLocation(L.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=y}},initUniforms:function(){var d=this.renderer.glFuncMap,v=this.program;for(var y in this._textureCount=0,this.uniforms){var S=this.uniforms[y],b=S.type,C=d[b];S.uniformLocation=this.renderer.createUniformLocation(v,y),"sampler2D"!==b&&(S.glMatrix=C.matrix,S.glValueLength=C.length,S.glFunc=C.func)}},setSampler2DBuffer:function(d,v,y,S,b,C){void 0===b&&(b=0),void 0===C&&(C={});var M=this.uniforms[d];return M.value=v,C.width=y,C.height=S,M.textureData=C,this._textureCount=b,this.initSampler2D(M),this},setSampler2D:function(d,v,y,S){void 0===y&&(y=0);var b=this.scene.sys.textures;if(b.exists(v)){var C=b.getFrame(v);if(C.glTexture&&C.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,C.glTexture,C.width,C.height,y,S);var M=this.uniforms[d],w=C.source;M.textureKey=v,M.source=w.image,M.value=C.glTexture,w.isGLTexture&&(S||(S={}),S.width=w.width,S.height=w.height),S&&(M.textureData=S),this._textureCount=y,this.initSampler2D(M)}return this},setUniform:function(d,v){return s(this.uniforms,d,v),this},getUniform:function(d){return u(this.uniforms,d,null)},setChannel0:function(d,v){return this.setSampler2D("iChannel0",d,0,v)},setChannel1:function(d,v){return this.setSampler2D("iChannel1",d,1,v)},setChannel2:function(d,v){return this.setSampler2D("iChannel2",d,2,v)},setChannel3:function(d,v){return this.setSampler2D("iChannel3",d,3,v)},initSampler2D:function(d){if(d.value){var v=d.textureData;if(v&&!d.value.isRenderTexture){var y=this.gl,S=d.value,b=y[u(v,"magFilter","linear").toUpperCase()],C=y[u(v,"minFilter","linear").toUpperCase()],M=y[u(v,"wrapS","repeat").toUpperCase()],w=y[u(v,"wrapT","repeat").toUpperCase()],R=y[u(v,"format","rgba").toUpperCase()],I=u(v,"flipY",!1),L=u(v,"width",S.width),F=u(v,"height",S.height),G=u(v,"source",S.pixels);v.repeat&&(M=y.REPEAT,w=y.REPEAT),v.width&&(G=null),S.update(G,L,F,I,M,w,C,b,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var y,S,b,C,M,d=this.gl,v=this.uniforms,w=0;for(var R in v)b=(y=v[R]).glFunc,S=y.glValueLength,C=y.uniformLocation,null!==(M=y.value)&&(1===S?y.glMatrix?b.call(d,C.webGLUniformLocation,y.transpose,M):b.call(d,C.webGLUniformLocation,M):2===S?b.call(d,C.webGLUniformLocation,M.x,M.y):3===S?b.call(d,C.webGLUniformLocation,M.x,M.y,M.z):4===S?b.call(d,C.webGLUniformLocation,M.x,M.y,M.z,M.w):"sampler2D"===y.type&&(d.activeTexture(d.TEXTURE0+w),d.bindTexture(d.TEXTURE_2D,M.webGLTexture),d.uniform1i(C.webGLUniformLocation,w),w++))},load:function(d){var v=this.gl,y=this.width,S=this.height,b=this.renderer,C=this.program,M=this.viewMatrix;if(!this.renderToTexture){var w=-this._displayOriginX,R=-this._displayOriginY;M[0]=d[0],M[1]=d[1],M[4]=d[2],M[5]=d[3],M[8]=d[4],M[9]=d[5],M[12]=M[0]*w+M[4]*R,M[13]=M[1]*w+M[5]*R}v.useProgram(C.webGLProgram),v.uniformMatrix4fv(v.getUniformLocation(C.webGLProgram,"uViewMatrix"),!1,M),v.uniformMatrix4fv(v.getUniformLocation(C.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),v.uniform2f(v.getUniformLocation(C.webGLProgram,"uResolution"),this.width,this.height);var I=this.uniforms,L=I.resolution;L.value.x=y,L.value.y=S,I.time.value=b.game.loop.getDuration();var F=this.pointer;if(F){var G=I.mouse,B=1-F.y/S;G.value.x=(F.x/y).toFixed(2),G.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,v=this.height,y=this.program,S=this.gl,b=this.vertexBuffer,C=this.renderer,M=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(C.setFramebuffer(this.framebuffer),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT)),S.bindBuffer(S.ARRAY_BUFFER,b.webGLBuffer);var w=S.getAttribLocation(y.webGLProgram,"inPosition");-1!==w&&(S.enableVertexAttribArray(w),S.vertexAttribPointer(w,2,S.FLOAT,!1,M,0));var R=this.vertexViewF32;R[3]=v,R[4]=d,R[5]=v,R[8]=d,R[9]=v,R[10]=d,S.bufferSubData(S.ARRAY_BUFFER,0,this.bytes.subarray(0,6*M)),S.drawArrays(S.TRIANGLES,0,6),this.renderToTexture&&C.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var d=this._deferSetShader.key,v=this._deferSetShader.textures,y=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,v,y)}if(null!==this._deferProjOrtho){var S=this._deferProjOrtho.left,b=this._deferProjOrtho.right,C=this._deferProjOrtho.bottom,M=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(S,b,C,M)}},preDestroy:function(){var d=this.renderer;d.off(c.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),a(this.uniforms,function(v){d.deleteUniformLocation(v.uniformLocation),v.uniformLocation=null})}});T.exports=p},80464:T=>{T.exports=function(){}},54935:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(20071);x.register("shader",function(l,s){void 0===l&&(l={});var o=h(l,"key",null),f=h(l,"x",0),a=h(l,"y",0),c=h(l,"width",128),p=h(l,"height",128),d=new u(this.scene,o,f,a,c,p);return void 0!==s&&(l.add=s),m(this.scene,d,l),d})},74177:(T,A,i)=>{var m=i(20071);i(39429).register("shader",function(h,u,l,s,o,f,a){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a))})},25479:(T,A,i)=>{var x,h;i(29747),x=i(19257),h=i(80464),T.exports={renderWebGL:x,renderCanvas:h}},19257:(T,A,i)=>{var m=i(91296);T.exports=function(h,u,l,s){if(u.shader){if(l.addToRenderList(u),h.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var o=m(u,l,s).calc;(h.width!==u._rendererWidth||h.height!==u._rendererHeight)&&u.projOrtho(0,h.width,h.height,0),u.load(o.matrix),u.flush()}h.pipelines.rebind()}}},10441:(T,A,i)=>{var m=i(70554);T.exports=function(h,u,l,s,o,f){for(var a=m.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*s),c=l.pathData,p=l.pathIndexes,d=0;d<p.length;d+=3){var v=2*p[d],y=2*p[d+1],S=2*p[d+2],b=c[v+0]-o,C=c[v+1]-f,M=c[y+0]-o,w=c[y+1]-f,R=c[S+0]-o,I=c[S+1]-f,L=u.getX(b,C),F=u.getY(b,C),G=u.getX(M,w),z=u.getY(M,w),B=u.getX(R,I),V=u.getY(R,I);h.batchTri(l,L,F,G,z,B,V,0,0,1,1,a,a,a,2)}}},65960:T=>{T.exports=function(i,m,x,h){var u=x||m.fillColor;i.fillStyle="rgba("+((16711680&u)>>>16)+","+((65280&u)>>>8)+","+(255&u)+","+(h||m.fillAlpha)+")"}},75177:T=>{T.exports=function(i,m,x,h){var u=x||m.strokeColor;i.strokeStyle="rgba("+((16711680&u)>>>16)+","+((65280&u)>>>8)+","+(255&u)+","+(h||m.strokeAlpha)+")",i.lineWidth=m.lineWidth}},17803:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(95643),u=i(23031),l=new m({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(o,f,a){void 0===f&&(f="Shape"),h.call(this,o,f),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(s,o){return void 0===o&&(o=1),void 0===s?this.isFilled=!1:(this.fillColor=s,this.fillAlpha=o,this.isFilled=!0),this},setStrokeStyle:function(s,o,f){return void 0===f&&(f=1),void 0===s?this.isStroked=!1:(this.lineWidth=s,this.strokeColor=o,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(s){return this.closePath=s,this},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}}});T.exports=l},34682:(T,A,i)=>{var m=i(70554);T.exports=function(h,u,l,s,o){var f=h.strokeTint,a=m.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*l);f.TL=a,f.TR=a,f.BL=a,f.BR=a;var c=u.pathData,p=c.length-1,d=u.lineWidth,v=d/2,y=c[0]-s,S=c[1]-o;u.closePath||(p-=2);for(var b=2;b<p;b+=2){var C=c[b]-s,M=c[b+1]-o;h.batchLine(y,S,C,M,v,v,d,b-2,!!u.closePath&&b===p-1),y=C,S=M}}},23629:(T,A,i)=>{var m=i(13609),x=i(83419),h=i(39506),u=i(94811),l=i(96503),s=i(36383),o=i(17803),f=new x({Extends:o,Mixins:[m],initialize:function(c,p,d,v,y,S,b,C,M){void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=128),void 0===y&&(y=0),void 0===S&&(S=360),void 0===b&&(b=!1),o.call(this,c,"Arc",new l(0,0,v)),this._startAngle=y,this._endAngle=S,this._anticlockwise=b,this._iterations=.01,this.setPosition(p,d);var w=2*this.geom.radius;this.setSize(w,w),void 0!==C&&this.setFillStyle(C,M),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var c=2*a;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return void 0===a&&(a=.01),this.iterations=a,this},setStartAngle:function(a,c){return this._startAngle=a,void 0!==c&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(a,c){return this._endAngle=a,void 0!==c&&(this._anticlockwise=c),this.updateData()},updateData:function(){var a=this._iterations,c=a,p=this.geom.radius,d=h(this._startAngle),v=h(this._endAngle),S=p,b=p;v-=d,this._anticlockwise?v<-s.PI2?v=-s.PI2:v>0&&(v=v%s.PI2-s.PI2):v>s.PI2?v=s.PI2:v<0&&(v=s.PI2+v%s.PI2);for(var M,C=[S+Math.cos(d)*p,b+Math.sin(d)*p];c<1;)M=v*c+d,C.push(S+Math.cos(M)*p,b+Math.sin(M)*p),c+=a;return M=v+d,C.push(S+Math.cos(M)*p,b+Math.sin(M)*p),C.push(S+Math.cos(d)*p,b+Math.sin(d)*p),this.pathIndexes=u(C),this.pathData=C,this}});T.exports=f},42542:(T,A,i)=>{var m=i(39506),x=i(65960),h=i(75177),u=i(20926);T.exports=function(s,o,f,a){f.addToRenderList(o);var c=s.currentContext;if(u(s,c,o,f,a)){var p=o.radius;c.beginPath(),c.arc(p-o.originX*(2*p),p-o.originY*(2*p),p,m(o._startAngle),m(o._endAngle),o.anticlockwise),o.closePath&&c.closePath(),o.isFilled&&(x(c,o),c.fill()),o.isStroked&&(h(c,o),c.stroke()),c.restore()}}},42563:(T,A,i)=>{var m=i(23629),x=i(39429);x.register("arc",function(h,u,l,s,o,f,a,c){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a,c))}),x.register("circle",function(h,u,l,s,o){return this.displayList.add(new m(this.scene,h,u,l,0,360,!1,s,o))})},13609:(T,A,i)=>{var x,h;i(29747),x=i(41447),h=i(42542),T.exports={renderWebGL:x,renderCanvas:h}},41447:(T,A,i)=>{var m=i(91296),x=i(10441),h=i(34682);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=m(s,o,f),p=a.calcMatrix.copyFrom(c.calc),d=s._displayOriginX,v=s._displayOriginY,y=o.alpha*s.alpha;l.pipelines.preBatch(s),s.isFilled&&x(a,p,s,y,d,v),s.isStroked&&h(a,s,y,d,v),l.pipelines.postBatch(s)}},89:(T,A,i)=>{var m=i(83419),x=i(33141),h=i(94811),u=i(87841),l=i(17803),s=new m({Extends:l,Mixins:[x],initialize:function(f,a,c,p,d,v){void 0===a&&(a=0),void 0===c&&(c=0),l.call(this,f,"Curve",p),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(a,c),void 0!==d&&this.setFillStyle(d,v),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){var o=this._curveBounds,f=this._smoothness;this.geom.getBounds(o,f),this.setSize(o.width,o.height),this.updateDisplayOrigin();for(var a=[],c=this.geom.getPoints(f),p=0;p<c.length;p++)a.push(c[p].x,c[p].y);return a.push(c[0].x,c[0].y),this.pathIndexes=h(a),this.pathData=a,this}});T.exports=s},3170:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=s._displayOriginX+s._curveBounds.x,p=s._displayOriginY+s._curveBounds.y,d=s.pathData,v=d.length-1,y=d[0]-c,S=d[1]-p;a.beginPath(),a.moveTo(y,S),s.closePath||(v-=2);for(var b=2;b<v;b+=2)a.lineTo(d[b]-c,d[b+1]-p);s.closePath&&a.closePath(),s.isFilled&&(m(a,s),a.fill()),s.isStroked&&(x(a,s),a.stroke()),a.restore()}}},40511:(T,A,i)=>{var m=i(39429),x=i(89);m.register("curve",function(h,u,l,s,o){return this.displayList.add(new x(this.scene,h,u,l,s,o))})},33141:(T,A,i)=>{var x,h;i(29747),x=i(53987),h=i(3170),T.exports={renderWebGL:x,renderCanvas:h}},53987:(T,A,i)=>{var m=i(10441),x=i(91296),h=i(34682);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=x(s,o,f),p=a.calcMatrix.copyFrom(c.calc),d=s._displayOriginX+s._curveBounds.x,v=s._displayOriginY+s._curveBounds.y,y=o.alpha*s.alpha;l.pipelines.preBatch(s),s.isFilled&&m(a,p,s,y,d,v),s.isStroked&&h(a,s,y,d,v),l.pipelines.postBatch(s)}},19921:(T,A,i)=>{var m=i(83419),x=i(94811),h=i(54205),u=i(8497),l=i(17803),s=new m({Extends:l,Mixins:[h],initialize:function(f,a,c,p,d,v,y){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=128),void 0===d&&(d=128),l.call(this,f,"Ellipse",new u(p/2,d/2,p,d)),this._smoothness=64,this.setPosition(a,c),this.width=p,this.height=d,void 0!==v&&this.setFillStyle(v,y),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(o){this._smoothness=o,this.updateData()}},setSize:function(o,f){return this.width=o,this.height=f,this.geom.setPosition(o/2,f/2),this.geom.setSize(o,f),this.updateData()},setSmoothness:function(o){return this._smoothness=o,this.updateData()},updateData:function(){for(var o=[],f=this.geom.getPoints(this._smoothness),a=0;a<f.length;a++)o.push(f[a].x,f[a].y);return o.push(f[0].x,f[0].y),this.pathIndexes=x(o),this.pathData=o,this}});T.exports=s},7930:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=s._displayOriginX,p=s._displayOriginY,d=s.pathData,v=d.length-1,y=d[0]-c,S=d[1]-p;a.beginPath(),a.moveTo(y,S),s.closePath||(v-=2);for(var b=2;b<v;b+=2)a.lineTo(d[b]-c,d[b+1]-p);a.closePath(),s.isFilled&&(m(a,s),a.fill()),s.isStroked&&(x(a,s),a.stroke()),a.restore()}}},1543:(T,A,i)=>{var m=i(19921);i(39429).register("ellipse",function(h,u,l,s,o,f){return this.displayList.add(new m(this.scene,h,u,l,s,o,f))})},54205:(T,A,i)=>{var x,h;i(29747),x=i(19467),h=i(7930),T.exports={renderWebGL:x,renderCanvas:h}},19467:(T,A,i)=>{var m=i(10441),x=i(91296),h=i(34682);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=x(s,o,f),p=a.calcMatrix.copyFrom(c.calc),d=s._displayOriginX,v=s._displayOriginY,y=o.alpha*s.alpha;l.pipelines.preBatch(s),s.isFilled&&m(a,p,s,y,d,v),s.isStroked&&h(a,s,y,d,v),l.pipelines.postBatch(s)}},30479:(T,A,i)=>{var m=i(83419),x=i(17803),h=i(26015),u=new m({Extends:x,Mixins:[h],initialize:function(s,o,f,a,c,p,d,v,y,S,b){void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=128),void 0===c&&(c=128),void 0===p&&(p=32),void 0===d&&(d=32),x.call(this,s,"Grid",null),this.cellWidth=p,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(o,f),this.setSize(a,c),this.setFillStyle(v,y),void 0!==S&&this.setOutlineStyle(S,b),this.updateDisplayOrigin()},setFillStyle:function(l,s){return void 0===s&&(s=1),void 0===l?this.showCells=!1:(this.fillColor=l,this.fillAlpha=s,this.showCells=!0),this},setAltFillStyle:function(l,s){return void 0===s&&(s=1),void 0===l?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=s,this.showAltCells=!0),this},setOutlineStyle:function(l,s){return void 0===s&&(s=1),void 0===l?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=s,this.showOutline=!0),this}});T.exports=u},49912:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=-s._displayOriginX,p=-s._displayOriginY,d=o.alpha*s.alpha,v=s.width,y=s.height,S=s.cellWidth,b=s.cellHeight,C=Math.ceil(v/S),M=Math.ceil(y/b),w=S,R=b,I=S-(C*S-v),L=b-(M*b-y),G=s.showAltCells,z=s.showOutline,B=0,V=0,Y=0;if(z&&(w--,R--,I===S&&I--,L===b&&L--),s.showCells&&s.fillAlpha>0)for(m(a,s),V=0;V<M;V++)for(G&&(Y=V%2),B=0;B<C;B++)G&&Y?Y=0:(Y++,a.fillRect(c+B*S,p+V*b,B<C-1?w:I,V<M-1?R:L));if(G&&s.altFillAlpha>0)for(m(a,s,s.altFillColor,s.altFillAlpha*d),V=0;V<M;V++)for(G&&(Y=V%2),B=0;B<C;B++)!G||Y?(Y=0,a.fillRect(c+B*S,p+V*b,B<C-1?w:I,V<M-1?R:L)):Y=1;if(z&&s.outlineFillAlpha>0){for(x(a,s,s.outlineFillColor,s.outlineFillAlpha*d),B=1;B<C;B++){var W=B*S;a.beginPath(),a.moveTo(W+c,p),a.lineTo(W+c,y+p),a.stroke()}for(V=1;V<M;V++){var k=V*b;a.beginPath(),a.moveTo(c,k+p),a.lineTo(c+v,k+p),a.stroke()}}a.restore()}}},34137:(T,A,i)=>{var m=i(39429),x=i(30479);m.register("grid",function(h,u,l,s,o,f,a,c,p,d){return this.displayList.add(new x(this.scene,h,u,l,s,o,f,a,c,p,d))})},26015:(T,A,i)=>{var x,h;i(29747),x=i(46161),h=i(49912),T.exports={renderWebGL:x,renderCanvas:h}},46161:(T,A,i)=>{var m=i(91296),x=i(70554);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.pipelines.set(l.pipeline),a=m(l,s,o);f.calcMatrix.copyFrom(a.calc).translate(-l._displayOriginX,-l._displayOriginY);var L,F,p=s.alpha*l.alpha,d=l.width,v=l.height,y=l.cellWidth,S=l.cellHeight,b=Math.ceil(d/y),C=Math.ceil(v/S),M=y,w=S,R=y-(b*y-d),I=S-(C*S-v),G=l.showCells,z=l.showAltCells,B=l.showOutline,V=0,Y=0,$=0;if(B&&(M--,w--,R===y&&R--,I===S&&I--),u.pipelines.preBatch(l),G&&l.fillAlpha>0)for(L=f.fillTint,F=x.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*p),L.TL=F,L.TR=F,L.BL=F,L.BR=F,Y=0;Y<C;Y++)for(z&&($=Y%2),V=0;V<b;V++)z&&$?$=0:($++,f.batchFillRect(V*y,Y*S,V<b-1?M:R,Y<C-1?w:I));if(z&&l.altFillAlpha>0)for(L=f.fillTint,F=x.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*p),L.TL=F,L.TR=F,L.BL=F,L.BR=F,Y=0;Y<C;Y++)for(z&&($=Y%2),V=0;V<b;V++)!z||$?($=0,f.batchFillRect(V*y,Y*S,V<b-1?M:R,Y<C-1?w:I)):$=1;if(B&&l.outlineFillAlpha>0){var k=f.strokeTint,N=x.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*p);for(k.TL=N,k.TR=N,k.BL=N,k.BR=N,V=1;V<b;V++){var H=V*y;f.batchLine(H,0,H,v,1,1,1,0,!1)}for(Y=1;Y<C;Y++){var X=Y*S;f.batchLine(0,X,d,X,1,1,1,0,!1)}}u.pipelines.postBatch(l)}},61475:(T,A,i)=>{var m=i(99651),x=i(83419),h=i(17803),u=new x({Extends:h,Mixins:[m],initialize:function(s,o,f,a,c,p,d,v){void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=48),void 0===c&&(c=32),void 0===p&&(p=15658734),void 0===d&&(d=10066329),void 0===v&&(v=13421772),h.call(this,s,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=d,this.fillRight=v,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(o,f),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,s,o){return void 0===l&&(l=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),this.showTop=l,this.showLeft=s,this.showRight=o,this},setFillStyle:function(l,s,o){return this.fillTop=l,this.fillLeft=s,this.fillRight=o,this.isFilled=!0,this}});T.exports=u},11508:(T,A,i)=>{var m=i(65960),x=i(20926);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.currentContext;if(x(u,f,l,s,o)&&l.isFilled){var a=l.width,c=l.height,p=a/2,d=a/l.projection;l.showTop&&(m(f,l,l.fillTop),f.beginPath(),f.moveTo(-p,-c),f.lineTo(0,-d-c),f.lineTo(p,-c),f.lineTo(p,-1),f.lineTo(0,d-1),f.lineTo(-p,-1),f.lineTo(-p,-c),f.fill()),l.showLeft&&(m(f,l,l.fillLeft),f.beginPath(),f.moveTo(-p,0),f.lineTo(0,d),f.lineTo(0,d-c),f.lineTo(-p,-c),f.lineTo(-p,0),f.fill()),l.showRight&&(m(f,l,l.fillRight),f.beginPath(),f.moveTo(p,0),f.lineTo(0,d),f.lineTo(0,d-c),f.lineTo(p,-c),f.lineTo(p,0),f.fill()),f.restore()}}},3933:(T,A,i)=>{var m=i(39429),x=i(61475);m.register("isobox",function(h,u,l,s,o,f,a){return this.displayList.add(new x(this.scene,h,u,l,s,o,f,a))})},99651:(T,A,i)=>{var x,h;i(29747),x=i(68149),h=i(11508),T.exports={renderWebGL:x,renderCanvas:h}},68149:(T,A,i)=>{var m=i(91296),x=i(70554);T.exports=function(u,l,s,o){s.addToRenderList(l);var b,C,M,w,R,I,L,F,G,f=u.pipelines.set(l.pipeline),a=m(l,s,o),c=f.calcMatrix.copyFrom(a.calc),p=l.width,d=l.height,v=p/2,y=p/l.projection,S=s.alpha*l.alpha;l.isFilled&&(u.pipelines.preBatch(l),l.showTop&&(b=x.getTintAppendFloatAlpha(l.fillTop,S),C=c.getX(-v,-d),M=c.getY(-v,-d),w=c.getX(0,-y-d),R=c.getY(0,-y-d),I=c.getX(v,-d),L=c.getY(v,-d),F=c.getX(0,y-d),G=c.getY(0,y-d),f.batchQuad(l,C,M,w,R,I,L,F,G,0,0,1,1,b,b,b,b,2)),l.showLeft&&(b=x.getTintAppendFloatAlpha(l.fillLeft,S),C=c.getX(-v,0),M=c.getY(-v,0),w=c.getX(0,y),R=c.getY(0,y),I=c.getX(0,y-d),L=c.getY(0,y-d),F=c.getX(-v,-d),G=c.getY(-v,-d),f.batchQuad(l,C,M,w,R,I,L,F,G,0,0,1,1,b,b,b,b,2)),l.showRight&&(b=x.getTintAppendFloatAlpha(l.fillRight,S),C=c.getX(v,0),M=c.getY(v,0),w=c.getX(0,y),R=c.getY(0,y),I=c.getX(0,y-d),L=c.getY(0,y-d),F=c.getX(v,-d),G=c.getY(v,-d),f.batchQuad(l,C,M,w,R,I,L,F,G,0,0,1,1,b,b,b,b,2)),u.pipelines.postBatch(l))}},16933:(T,A,i)=>{var m=i(83419),x=i(60561),h=i(17803),u=new m({Extends:h,Mixins:[x],initialize:function(s,o,f,a,c,p,d,v,y){void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a=48),void 0===c&&(c=32),void 0===p&&(p=!1),void 0===d&&(d=15658734),void 0===v&&(v=10066329),void 0===y&&(y=13421772),h.call(this,s,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=v,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(o,f),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,s,o){return void 0===l&&(l=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),this.showTop=l,this.showLeft=s,this.showRight=o,this},setFillStyle:function(l,s,o){return this.fillTop=l,this.fillLeft=s,this.fillRight=o,this.isFilled=!0,this}});T.exports=u},79590:(T,A,i)=>{var m=i(65960),x=i(20926);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.currentContext;if(x(u,f,l,s,o)&&l.isFilled){var a=l.width,c=l.height,p=a/2,d=a/l.projection,v=l.isReversed;l.showTop&&v&&(m(f,l,l.fillTop),f.beginPath(),f.moveTo(-p,-c),f.lineTo(0,-d-c),f.lineTo(p,-c),f.lineTo(0,d-c),f.fill()),l.showLeft&&(m(f,l,l.fillLeft),f.beginPath(),v?(f.moveTo(-p,-c),f.lineTo(0,d),f.lineTo(0,d-c)):(f.moveTo(-p,0),f.lineTo(0,d),f.lineTo(0,d-c)),f.fill()),l.showRight&&(m(f,l,l.fillRight),f.beginPath(),v?(f.moveTo(p,-c),f.lineTo(0,d),f.lineTo(0,d-c)):(f.moveTo(p,0),f.lineTo(0,d),f.lineTo(0,d-c)),f.fill()),f.restore()}}},49803:(T,A,i)=>{var m=i(39429),x=i(16933);m.register("isotriangle",function(h,u,l,s,o,f,a,c){return this.displayList.add(new x(this.scene,h,u,l,s,o,f,a,c))})},60561:(T,A,i)=>{var x,h;i(29747),x=i(51503),h=i(79590),T.exports={renderWebGL:x,renderCanvas:h}},51503:(T,A,i)=>{var m=i(91296),x=i(70554);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.pipelines.set(l.pipeline),a=m(l,s,o),c=f.calcMatrix.copyFrom(a.calc),p=l.width,d=l.height,v=p/2,y=p/l.projection,S=l.isReversed,b=s.alpha*l.alpha;if(l.isFilled){var C,M,w,R,I,L,F;if(u.pipelines.preBatch(l),l.showTop&&S){C=x.getTintAppendFloatAlpha(l.fillTop,b),M=c.getX(-v,-d),w=c.getY(-v,-d),R=c.getX(0,-y-d),I=c.getY(0,-y-d),L=c.getX(v,-d),F=c.getY(v,-d);var G=c.getX(0,y-d),z=c.getY(0,y-d);f.batchQuad(l,M,w,R,I,L,F,G,z,0,0,1,1,C,C,C,C,2)}l.showLeft&&(C=x.getTintAppendFloatAlpha(l.fillLeft,b),S?(M=c.getX(-v,-d),w=c.getY(-v,-d),R=c.getX(0,y),I=c.getY(0,y),L=c.getX(0,y-d),F=c.getY(0,y-d)):(M=c.getX(-v,0),w=c.getY(-v,0),R=c.getX(0,y),I=c.getY(0,y),L=c.getX(0,y-d),F=c.getY(0,y-d)),f.batchTri(l,M,w,R,I,L,F,0,0,1,1,C,C,C,2)),l.showRight&&(C=x.getTintAppendFloatAlpha(l.fillRight,b),S?(M=c.getX(v,-d),w=c.getY(v,-d),R=c.getX(0,y),I=c.getY(0,y),L=c.getX(0,y-d),F=c.getY(0,y-d)):(M=c.getX(v,0),w=c.getY(v,0),R=c.getX(0,y),I=c.getY(0,y),L=c.getX(0,y-d),F=c.getY(0,y-d)),f.batchTri(l,M,w,R,I,L,F,0,0,1,1,C,C,C,2)),u.pipelines.postBatch(l)}}},57847:(T,A,i)=>{var m=i(83419),x=i(17803),h=i(23031),u=i(36823),l=new m({Extends:x,Mixins:[u],initialize:function(o,f,a,c,p,d,v,y,S){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=128),void 0===v&&(v=0),x.call(this,o,"Line",new h(c,p,d,v));var b=Math.max(1,this.geom.right-this.geom.left),C=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,a),this.setSize(b,C),void 0!==y&&this.setStrokeStyle(1,y,S),this.updateDisplayOrigin()},setLineWidth:function(s,o){return void 0===o&&(o=s),this._startWidth=s,this._endWidth=o,this.lineWidth=s,this},setTo:function(s,o,f,a){return this.geom.setTo(s,o,f,a),this}});T.exports=l},17440:(T,A,i)=>{var m=i(75177),x=i(20926);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.currentContext;if(x(u,f,l,s,o)){var a=l._displayOriginX,c=l._displayOriginY;l.isStroked&&(m(f,l),f.beginPath(),f.moveTo(l.geom.x1-a,l.geom.y1-c),f.lineTo(l.geom.x2-a,l.geom.y2-c),f.stroke()),f.restore()}}},2481:(T,A,i)=>{var m=i(39429),x=i(57847);m.register("line",function(h,u,l,s,o,f,a,c){return this.displayList.add(new x(this.scene,h,u,l,s,o,f,a,c))})},36823:(T,A,i)=>{var x,h;i(29747),x=i(77385),h=i(17440),T.exports={renderWebGL:x,renderCanvas:h}},77385:(T,A,i)=>{var m=i(91296),x=i(70554);T.exports=function(u,l,s,o){s.addToRenderList(l);var f=u.pipelines.set(l.pipeline),a=m(l,s,o);f.calcMatrix.copyFrom(a.calc);var c=l._displayOriginX,p=l._displayOriginY,d=s.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isStroked){var v=f.strokeTint,y=x.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*d);v.TL=y,v.TR=y,v.BL=y,v.BR=y,f.batchLine(l.geom.x1-c,l.geom.y1-p,l.geom.x2-c,l.geom.y2-p,l._startWidth/2,l._endWidth/2,1,0,!1,a.sprite,a.camera)}u.pipelines.postBatch(l)}},24949:(T,A,i)=>{var m=i(90273),x=i(83419),h=i(94811),u=i(13829),l=i(25717),s=i(17803),o=i(5469),f=new x({Extends:s,Mixins:[m],initialize:function(c,p,d,v,y,S){void 0===p&&(p=0),void 0===d&&(d=0),s.call(this,c,"Polygon",new l(v));var b=u(this.geom);this.setPosition(p,d),this.setSize(b.width,b.height),void 0!==y&&this.setFillStyle(y,S),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){void 0===a&&(a=1);for(var c=0;c<a;c++)o(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var c=u(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],c=this.geom.points,p=0;p<c.length;p++)a.push(c[p].x,c[p].y);return a.push(c[0].x,c[0].y),this.pathIndexes=h(a),this.pathData=a,this}});T.exports=f},38710:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=s._displayOriginX,p=s._displayOriginY,d=s.pathData,v=d.length-1,y=d[0]-c,S=d[1]-p;a.beginPath(),a.moveTo(y,S),s.closePath||(v-=2);for(var b=2;b<v;b+=2)a.lineTo(d[b]-c,d[b+1]-p);s.closePath&&a.closePath(),s.isFilled&&(m(a,s),a.fill()),s.isStroked&&(x(a,s),a.stroke()),a.restore()}}},64827:(T,A,i)=>{var m=i(39429),x=i(24949);m.register("polygon",function(h,u,l,s,o){return this.displayList.add(new x(this.scene,h,u,l,s,o))})},90273:(T,A,i)=>{var x,h;i(29747),x=i(73695),h=i(38710),T.exports={renderWebGL:x,renderCanvas:h}},73695:(T,A,i)=>{var m=i(10441),x=i(91296),h=i(34682);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=x(s,o,f),p=a.calcMatrix.copyFrom(c.calc),d=s._displayOriginX,v=s._displayOriginY,y=o.alpha*s.alpha;l.pipelines.preBatch(s),s.isFilled&&m(a,p,s,y,d,v),s.isStroked&&h(a,s,y,d,v),l.pipelines.postBatch(s)}},74561:(T,A,i)=>{var m=i(83419),x=i(87841),h=i(17803),u=i(95597),l=new m({Extends:h,Mixins:[u],initialize:function(o,f,a,c,p,d,v){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=128),void 0===p&&(p=128),h.call(this,o,"Rectangle",new x(0,0,c,p)),this.setPosition(f,a),this.setSize(c,p),void 0!==d&&this.setFillStyle(d,v),this.updateDisplayOrigin(),this.updateData()},setSize:function(s,o){this.width=s,this.height=o,this.geom.setSize(s,o),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=s,f.hitArea.height=o),this},updateData:function(){var s=[],o=this.geom,f=this._tempLine;return o.getLineA(f),s.push(f.x1,f.y1,f.x2,f.y2),o.getLineB(f),s.push(f.x2,f.y2),o.getLineC(f),s.push(f.x2,f.y2),o.getLineD(f),s.push(f.x2,f.y2),this.pathData=s,this}});T.exports=l},48682:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=s._displayOriginX,p=s._displayOriginY;s.isFilled&&(m(a,s),a.fillRect(-c,-p,s.width,s.height)),s.isStroked&&(x(a,s),a.beginPath(),a.rect(-c,-p,s.width,s.height),a.stroke()),a.restore()}}},87959:(T,A,i)=>{var m=i(39429),x=i(74561);m.register("rectangle",function(h,u,l,s,o,f){return this.displayList.add(new x(this.scene,h,u,l,s,o,f))})},95597:(T,A,i)=>{var x,h;i(29747),x=i(52059),h=i(48682),T.exports={renderWebGL:x,renderCanvas:h}},52059:(T,A,i)=>{var m=i(91296),x=i(34682),h=i(70554);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=m(s,o,f);a.calcMatrix.copyFrom(c.calc);var p=s._displayOriginX,d=s._displayOriginY,v=o.alpha*s.alpha;if(l.pipelines.preBatch(s),s.isFilled){var y=a.fillTint,S=h.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*v);y.TL=S,y.TR=S,y.BL=S,y.BR=S,a.batchFillRect(-p,-d,s.width,s.height)}s.isStroked&&x(a,s,v,p,d),l.pipelines.postBatch(s)}},55911:(T,A,i)=>{var m=i(81991),x=i(83419),h=i(94811),u=i(17803),l=new x({Extends:u,Mixins:[m],initialize:function(o,f,a,c,p,d,v,y){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=5),void 0===p&&(p=32),void 0===d&&(d=64),u.call(this,o,"Star",null),this._points=c,this._innerRadius=p,this._outerRadius=d,this.setPosition(f,a),this.setSize(2*d,2*d),void 0!==v&&this.setFillStyle(v,y),this.updateDisplayOrigin(),this.updateData()},setPoints:function(s){return this._points=s,this.updateData()},setInnerRadius:function(s){return this._innerRadius=s,this.updateData()},setOuterRadius:function(s){return this._outerRadius=s,this.updateData()},points:{get:function(){return this._points},set:function(s){this._points=s,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(s){this._innerRadius=s,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(s){this._outerRadius=s,this.updateData()}},updateData:function(){var s=[],o=this._points,f=this._innerRadius,a=this._outerRadius,c=Math.PI/2*3,p=Math.PI/o,d=a,v=a;s.push(d,v+-a);for(var y=0;y<o;y++)s.push(d+Math.cos(c)*a,v+Math.sin(c)*a),c+=p,s.push(d+Math.cos(c)*f,v+Math.sin(c)*f),c+=p;return s.push(d,v+-a),this.pathIndexes=h(s),this.pathData=s,this}});T.exports=l},64272:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=s._displayOriginX,p=s._displayOriginY,d=s.pathData,v=d.length-1,y=d[0]-c,S=d[1]-p;a.beginPath(),a.moveTo(y,S),s.closePath||(v-=2);for(var b=2;b<v;b+=2)a.lineTo(d[b]-c,d[b+1]-p);a.closePath(),s.isFilled&&(m(a,s),a.fill()),s.isStroked&&(x(a,s),a.stroke()),a.restore()}}},93697:(T,A,i)=>{var m=i(55911);i(39429).register("star",function(h,u,l,s,o,f,a){return this.displayList.add(new m(this.scene,h,u,l,s,o,f,a))})},81991:(T,A,i)=>{var x,h;i(29747),x=i(57017),h=i(64272),T.exports={renderWebGL:x,renderCanvas:h}},57017:(T,A,i)=>{var m=i(10441),x=i(91296),h=i(34682);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=x(s,o,f),p=a.calcMatrix.copyFrom(c.calc),d=s._displayOriginX,v=s._displayOriginY,y=o.alpha*s.alpha;l.pipelines.preBatch(s),s.isFilled&&m(a,p,s,y,d,v),s.isStroked&&h(a,s,y,d,v),l.pipelines.postBatch(s)}},36931:(T,A,i)=>{var m=i(83419),x=i(17803),h=i(16483),u=i(96195),l=new m({Extends:x,Mixins:[u],initialize:function(o,f,a,c,p,d,v,y,S,b,C){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=128),void 0===d&&(d=64),void 0===v&&(v=0),void 0===y&&(y=128),void 0===S&&(S=128),x.call(this,o,"Triangle",new h(c,p,d,v,y,S));var M=this.geom.right-this.geom.left,w=this.geom.bottom-this.geom.top;this.setPosition(f,a),this.setSize(M,w),void 0!==b&&this.setFillStyle(b,C),this.updateDisplayOrigin(),this.updateData()},setTo:function(s,o,f,a,c,p){return this.geom.setTo(s,o,f,a,c,p),this.updateData()},updateData:function(){var s=[],o=this.geom,f=this._tempLine;return o.getLineA(f),s.push(f.x1,f.y1,f.x2,f.y2),o.getLineB(f),s.push(f.x2,f.y2),o.getLineC(f),s.push(f.x2,f.y2),this.pathData=s,this}});T.exports=l},85172:(T,A,i)=>{var m=i(65960),x=i(75177),h=i(20926);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.currentContext;if(h(l,a,s,o,f)){var c=s._displayOriginX,p=s._displayOriginY,d=s.geom.x1-c,v=s.geom.y1-p,y=s.geom.x2-c,S=s.geom.y2-p,b=s.geom.x3-c,C=s.geom.y3-p;a.beginPath(),a.moveTo(d,v),a.lineTo(y,S),a.lineTo(b,C),a.closePath(),s.isFilled&&(m(a,s),a.fill()),s.isStroked&&(x(a,s),a.stroke()),a.restore()}}},45245:(T,A,i)=>{var m=i(39429),x=i(36931);m.register("triangle",function(h,u,l,s,o,f,a,c,p,d){return this.displayList.add(new x(this.scene,h,u,l,s,o,f,a,c,p,d))})},96195:(T,A,i)=>{var x,h;i(29747),x=i(83253),h=i(85172),T.exports={renderWebGL:x,renderCanvas:h}},83253:(T,A,i)=>{var m=i(91296),x=i(34682),h=i(70554);T.exports=function(l,s,o,f){o.addToRenderList(s);var a=l.pipelines.set(s.pipeline),c=m(s,o,f);a.calcMatrix.copyFrom(c.calc);var p=s._displayOriginX,d=s._displayOriginY,v=o.alpha*s.alpha;if(l.pipelines.preBatch(s),s.isFilled){var y=a.fillTint,S=h.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*v);y.TL=S,y.TR=S,y.BL=S,y.BR=S,a.batchFillTriangle(s.geom.x1-p,s.geom.y1-d,s.geom.x2-p,s.geom.y2-d,s.geom.x3-p,s.geom.y3-d,c.sprite,c.camera)}s.isStroked&&x(a,s,v,p,d),l.pipelines.postBatch(s)}},68287:(T,A,i)=>{var m=i(9674),x=i(83419),h=i(31401),u=i(95643),l=i(92751),s=new x({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.TextureCrop,h.Tint,h.Transform,h.Visible,l],initialize:function(f,a,c,p,d){u.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new m(this),this.setTexture(p,d),this.setPosition(a,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(o,f){this.anims.update(o,f)},play:function(o,f){return this.anims.play(o,f)},playReverse:function(o,f){return this.anims.playReverse(o,f)},playAfterDelay:function(o,f){return this.anims.playAfterDelay(o,f)},playAfterRepeat:function(o,f){return this.anims.playAfterRepeat(o,f)},chain:function(o){return this.anims.chain(o)},stop:function(){return this.anims.stop()},stopAfterDelay:function(o){return this.anims.stopAfterDelay(o)},stopAfterRepeat:function(o){return this.anims.stopAfterRepeat(o)},stopOnFrame:function(o){return this.anims.stopOnFrame(o)},toJSON:function(){return h.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});T.exports=s},76552:T=>{T.exports=function(i,m,x,h){x.addToRenderList(m),i.batchSprite(m,m.frame,x,h)}},15567:(T,A,i)=>{var m=i(25305),x=i(13059),h=i(44603),u=i(23568),l=i(68287);h.register("sprite",function(s,o){void 0===s&&(s={});var f=u(s,"key",null),a=u(s,"frame",null),c=new l(this.scene,0,0,f,a);return void 0!==o&&(s.add=o),m(this.scene,c,s),x(c,s),c})},46409:(T,A,i)=>{var m=i(39429),x=i(68287);m.register("sprite",function(h,u,l,s){return this.displayList.add(new x(this.scene,h,u,l,s))})},92751:(T,A,i)=>{var x,h;i(29747),x=i(9409),h=i(76552),T.exports={renderWebGL:x,renderCanvas:h}},9409:T=>{T.exports=function(i,m,x,h){x.addToRenderList(m),m.pipeline.batchSprite(m,x,h)}},14220:T=>{T.exports=function(i,m,x){var u=i.context,l=i.style,s=[],o=0,f=x.length;l.maxLines>0&&l.maxLines<x.length&&(f=l.maxLines),l.syncFont(i.canvas,u);for(var a=0;a<f;a++){var c=l.strokeThickness;c+=u.measureText(x[a]).width,x[a].length>1&&(c+=i.letterSpacing*(x[a].length-1)),l.wordWrap&&(c-=u.measureText(" ").width),s[a]=Math.ceil(c),o=Math.max(o,s[a])}var p=m.fontSize+l.strokeThickness,d=p*f,v=i.lineSpacing;return f>1&&(d+=v*(f-1)),{width:o,height:d,lines:f,lineWidths:s,lineSpacing:v,lineHeight:p}}},79557:(T,A,i)=>{var m=i(27919);T.exports=function(h){var u=m.create(this),l=u.getContext("2d",{willReadFrequently:!0});h.syncFont(u,l);var s=l.measureText(h.testString);if("actualBoundingBoxAscent"in s){var o=s.actualBoundingBoxAscent,f=s.actualBoundingBoxDescent;return m.remove(u),{ascent:o,descent:f,fontSize:o+f}}var a=Math.ceil(s.width*h.baselineX),c=a,p=2*c;c=c*h.baselineY|0,u.width=a,u.height=p,l.fillStyle="#f00",l.fillRect(0,0,a,p),l.font=h._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(h.testString,0,c);var d={ascent:0,descent:0,fontSize:0},v=l.getImageData(0,0,a,p);if(!v)return d.ascent=c,d.descent=c+6,d.fontSize=d.ascent+d.descent,m.remove(u),d;var C,M,y=v.data,S=y.length,b=4*a,w=0,R=!1;for(C=0;C<c;C++){for(M=0;M<b;M+=4)if(255!==y[w+M]){R=!0;break}if(R)break;w+=b}for(d.ascent=c-C,w=S-b,R=!1,C=p;C>c;C--){for(M=0;M<b;M+=4)if(255!==y[w+M]){R=!0;break}if(R)break;w-=b}return d.descent=C-c,d.fontSize=d.ascent+d.descent,m.remove(u),d}},50171:(T,A,i)=>{var m=i(40366),x=i(27919),h=i(83419),u=i(31401),l=i(95643),s=i(14220),o=i(35154),f=i(35846),a=i(61771),c=i(35762),p=i(45650),d=new h({Extends:l,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,a],initialize:function(y,S,b,C,M){void 0===S&&(S=0),void 0===b&&(b=0),l.call(this,y,"Text"),this.renderer=y.sys.renderer,this.setPosition(S,b),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.style=new c(this,M),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(C),M&&M.padding&&this.setPadding(M.padding),M&&M.lineSpacing&&this.setLineSpacing(M.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",m(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(v){var y=this.style;if(y.wordWrapCallback){var S=y.wordWrapCallback.call(y.wordWrapCallbackScope,v,this);return Array.isArray(S)&&(S=S.join("\n")),S}return y.wordWrapWidth?y.wordWrapUseAdvanced?this.advancedWordWrap(v,this.context,this.style.wordWrapWidth):this.basicWordWrap(v,this.context,this.style.wordWrapWidth):v},advancedWordWrap:function(v,y,S){for(var b="",C=v.replace(/ +/gi," ").split(this.splitRegExp),M=C.length,w=0;w<M;w++){var R=C[w],I="";if(R=R.replace(/^ *|\s*$/gi,""),y.measureText(R).width<S)b+=R+"\n";else{for(var F=S,G=R.split(" "),z=0;z<G.length;z++){var B=G[z],V=B+" ",Y=y.measureText(V).width;if(Y>F){if(0===z){for(var $=V;$.length&&($=$.slice(0,-1),!((Y=y.measureText($).width)<=F)););if(!$.length)throw new Error("wordWrapWidth < a single character");var J=B.substr($.length);G[z]=J,I+=$}var k=G.slice(G[z].length?z:z+1).join(" ").replace(/[ \n]*$/gi,"");C.splice(w+1,0,k),M=C.length;break}I+=V,F-=Y}b+=I.replace(/[ \n]*$/gi,"")+"\n"}}return b.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(v,y,S){for(var b="",C=v.split(this.splitRegExp),M=C.length-1,w=y.measureText(" ").width,R=0;R<=M;R++){for(var I=S,L=C[R].split(" "),F=L.length-1,G=0;G<=F;G++){var z=L[G],B=y.measureText(z).width,V=B;G<F&&(V+=w),V>I&&G>0&&(b+="\n",I=S),b+=z,G<F?(b+=" ",I-=V):I-=B}R<M&&(b+="\n")}return b},getWrappedText:function(v){return void 0===v&&(v=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(v).split(this.splitRegExp)},setText:function(v){return!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v!==this._text&&(this._text=v.toString(),this.updateText()),this},appendText:function(v,y){void 0===y&&(y=!0),!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v=v.toString();var S=this._text.concat(y?"\n"+v:v);return S!==this._text&&(this._text=S,this.updateText()),this},setStyle:function(v){return this.style.setStyle(v)},setFont:function(v){return this.style.setFont(v)},setFontFamily:function(v){return this.style.setFontFamily(v)},setFontSize:function(v){return this.style.setFontSize(v)},setFontStyle:function(v){return this.style.setFontStyle(v)},setFixedSize:function(v,y){return this.style.setFixedSize(v,y)},setBackgroundColor:function(v){return this.style.setBackgroundColor(v)},setFill:function(v){return this.style.setFill(v)},setColor:function(v){return this.style.setColor(v)},setStroke:function(v,y){return this.style.setStroke(v,y)},setShadow:function(v,y,S,b,C,M){return this.style.setShadow(v,y,S,b,C,M)},setShadowOffset:function(v,y){return this.style.setShadowOffset(v,y)},setShadowColor:function(v){return this.style.setShadowColor(v)},setShadowBlur:function(v){return this.style.setShadowBlur(v)},setShadowStroke:function(v){return this.style.setShadowStroke(v)},setShadowFill:function(v){return this.style.setShadowFill(v)},setWordWrapWidth:function(v,y){return this.style.setWordWrapWidth(v,y)},setWordWrapCallback:function(v,y){return this.style.setWordWrapCallback(v,y)},setAlign:function(v){return this.style.setAlign(v)},setResolution:function(v){return this.style.setResolution(v)},setLineSpacing:function(v){return this.lineSpacing=v,this.updateText()},setLetterSpacing:function(v){return this.letterSpacing=v,this.updateText()},setPadding:function(v,y,S,b){if("object"==typeof v){var C=v,M=o(C,"x",null);null!==M?(v=M,S=M):(v=o(C,"left",0),S=o(C,"right",v));var w=o(C,"y",null);null!==w?(y=w,b=w):(y=o(C,"top",0),b=o(C,"bottom",y))}else void 0===v&&(v=0),void 0===y&&(y=v),void 0===S&&(S=v),void 0===b&&(b=y);return this.padding.left=v,this.padding.top=y,this.padding.right=S,this.padding.bottom=b,this.updateText()},setMaxLines:function(v){return this.style.setMaxLines(v)},setRTL:function(v){void 0===v&&(v=!0);var y=this.style;return y.rtl===v||(y.rtl=v,v?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",m(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===y.align?y.align="right":"right"===y.align&&(y.align="left")),this},updateText:function(){var v=this.canvas,y=this.context,S=this.style,b=S.resolution,C=S.metrics;S.syncFont(v,y);var M=this._text;(S.wordWrapWidth||S.wordWrapCallback)&&(M=this.runWordWrap(this._text));var L,w=M.split(this.splitRegExp),R=s(this,C,w),I=this.padding;0===S.fixedWidth?(this.width=R.width+I.left+I.right,L=R.width):(this.width=S.fixedWidth,(L=this.width-I.left-I.right)<R.width&&(L=R.width)),this.height=0===S.fixedHeight?R.height+I.top+I.bottom:S.fixedHeight;var F=this.width,G=this.height;this.updateDisplayOrigin(),F*=b,G*=b,F=Math.max(F,1),G=Math.max(G,1),v.width!==F||v.height!==G?(v.width=F,v.height=G,this.frame.setSize(F,G),S.syncFont(v,y),S.rtl&&(y.direction="rtl")):y.clearRect(0,0,F,G),y.save(),y.scale(b,b),S.backgroundColor&&(y.fillStyle=S.backgroundColor,y.fillRect(0,0,F,G)),S.syncStyle(v,y),y.translate(I.left,I.top);for(var z,B,V=0;V<R.lines;V++){if(z=S.strokeThickness/2,B=S.strokeThickness/2+V*R.lineHeight+C.ascent,V>0&&(B+=R.lineSpacing*V),S.rtl)z=F-z-I.left-I.right;else if("right"===S.align)z+=L-R.lineWidths[V];else if("center"===S.align)z+=(L-R.lineWidths[V])/2;else if("justify"===S.align&&R.lineWidths[V]/R.width>=.85){for(var $=R.width-R.lineWidths[V],J=y.measureText(" ").width,W=w[V].trim(),k=W.split(" "),N=Math.floor(($+=(w[V].length-W.length)*J)/J),H=0;N>0;)k[H]+=" ",H=(H+1)%(k.length-1||1),--N;w[V]=k.join(" ")}if(this.autoRound&&(z=Math.round(z),B=Math.round(B)),S.strokeThickness&&(S.syncShadow(y,S.shadowStroke),y.strokeText(w[V],z,B)),S.color){S.syncShadow(y,S.shadowFill);var X=this.letterSpacing;if(0!==X)for(var K=0,Q=w[V].split(""),q=0;q<Q.length;q++)y.fillText(Q[q],z+K,B),K+=y.measureText(Q[q]).width+X;else y.fillText(w[V],z,B)}}y.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(v,this.frame.source.glTexture,!0));var _=this.input;return _&&!_.customHitArea&&(_.hitArea.width=this.width,_.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(v){this.setText(v)}},toJSON:function(){var v=u.ToJSON(this),y={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return v.data=y,v},preDestroy:function(){f(this.canvas),x.remove(this.canvas);var v=this.texture;v&&v.destroy()}});T.exports=d},79724:T=>{T.exports=function(i,m,x,h){0===m.width||0===m.height||(x.addToRenderList(m),i.batchSprite(m,m.frame,x,h))}},71259:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(50171);x.register("text",function(l,s){void 0===l&&(l={});var o=h(l,"text",""),f=h(l,"style",null),a=h(l,"padding",null);null!==a&&(f.padding=a);var c=new u(this.scene,0,0,o,f);return void 0!==s&&(l.add=s),m(this.scene,c,l),c.autoRound=h(l,"autoRound",!0),c.resolution=h(l,"resolution",1),c})},68005:(T,A,i)=>{var m=i(50171);i(39429).register("text",function(h,u,l,s){return this.displayList.add(new m(this.scene,h,u,l,s))})},61771:(T,A,i)=>{var x,h;i(29747),x=i(34397),h=i(79724),T.exports={renderWebGL:x,renderCanvas:h}},35762:(T,A,i)=>{var m=i(83419),x=i(23568),h=i(35154),u=i(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},s=new m({initialize:function(f,a){this.parent=f,this.setStyle(a,!1,!0)},setStyle:function(o,f,a){for(var c in void 0===f&&(f=!0),void 0===a&&(a=!1),o&&o.hasOwnProperty("fontSize")&&"number"==typeof o.fontSize&&(o.fontSize=o.fontSize.toString()+"px"),l){var p=a?l[c][1]:this[c];this[c]="wordWrapCallback"===c||"wordWrapCallbackScope"===c?h(o,l[c][0],p):x(o,l[c][0],p)}var d=h(o,"font",null);null!==d&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var v=h(o,"fill",null);null!==v&&(this.color=v);var y=h(o,"metrics",!1);return y?this.metrics={ascent:h(y,"ascent",0),descent:h(y,"descent",0),fontSize:h(y,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=u(this)),f?this.parent.updateText():this.parent},syncFont:function(o,f){f.font=this._font},syncStyle:function(o,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(o,f){f?(o.shadowOffsetX=this.shadowOffsetX,o.shadowOffsetY=this.shadowOffsetY,o.shadowColor=this.shadowColor,o.shadowBlur=this.shadowBlur):(o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowColor=0,o.shadowBlur=0)},update:function(o){return o&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(o,f){void 0===f&&(f=!0);var a=o,c="",p="";if("string"!=typeof o)a=h(o,"fontFamily","Courier"),c=h(o,"fontSize","16px"),p=h(o,"fontStyle","");else{var d=o.split(" "),v=0;p=d.length>2?d[v++]:"",c=d[v++]||"16px",a=d[v++]||"Courier"}return(a!==this.fontFamily||c!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=c,this.fontStyle=p,f&&this.update(!0)),this.parent},setFontFamily:function(o){return this.fontFamily!==o&&(this.fontFamily=o,this.update(!0)),this.parent},setFontStyle:function(o){return this.fontStyle!==o&&(this.fontStyle=o,this.update(!0)),this.parent},setFontSize:function(o){return"number"==typeof o&&(o=o.toString()+"px"),this.fontSize!==o&&(this.fontSize=o,this.update(!0)),this.parent},setTestString:function(o){return this.testString=o,this.update(!0)},setFixedSize:function(o,f){return this.fixedWidth=o,this.fixedHeight=f,o&&(this.parent.width=o),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(o){return this.backgroundColor=o,this.update(!1)},setFill:function(o){return this.color=o,this.update(!1)},setColor:function(o){return this.color=o,this.update(!1)},setResolution:function(o){return this.resolution=o,this.update(!1)},setStroke:function(o,f){return void 0===f&&(f=this.strokeThickness),void 0===o&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==o||this.strokeThickness!==f)&&(this.stroke=o,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(o,f,a,c,p,d){return void 0===o&&(o=0),void 0===f&&(f=0),void 0===a&&(a="#000"),void 0===c&&(c=0),void 0===p&&(p=!1),void 0===d&&(d=!0),this.shadowOffsetX=o,this.shadowOffsetY=f,this.shadowColor=a,this.shadowBlur=c,this.shadowStroke=p,this.shadowFill=d,this.update(!1)},setShadowOffset:function(o,f){return void 0===o&&(o=0),void 0===f&&(f=o),this.shadowOffsetX=o,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(o){return void 0===o&&(o="#000"),this.shadowColor=o,this.update(!1)},setShadowBlur:function(o){return void 0===o&&(o=0),this.shadowBlur=o,this.update(!1)},setShadowStroke:function(o){return this.shadowStroke=o,this.update(!1)},setShadowFill:function(o){return this.shadowFill=o,this.update(!1)},setWordWrapWidth:function(o,f){return void 0===f&&(f=!1),this.wordWrapWidth=o,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(o,f){return void 0===f&&(f=null),this.wordWrapCallback=o,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(o){return void 0===o&&(o="left"),this.align=o,this.update(!1)},setMaxLines:function(o){return void 0===o&&(o=0),this.maxLines=o,this.update(!1)},getTextMetrics:function(){var o=this.metrics;return{ascent:o.ascent,descent:o.descent,fontSize:o.fontSize}},toJSON:function(){var o={};for(var f in l)o[f]=this[f];return o.metrics=this.getTextMetrics(),o},destroy:function(){this.parent=void 0}});T.exports=s},34397:(T,A,i)=>{var m=i(70554);T.exports=function(h,u,l,s){if(0!==u.width&&0!==u.height){l.addToRenderList(u);var o=u.frame,f=o.width,a=o.height,c=m.getTintAppendFloatAlpha,p=h.pipelines.set(u.pipeline,u),d=p.setTexture2D(o.glTexture,u);p.batchTexture(u,o.glTexture,f,a,u.x,u.y,f/u.style.resolution,a/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,f,a,c(u.tintTopLeft,l.alpha*u._alphaTL),c(u.tintTopRight,l.alpha*u._alphaTR),c(u.tintBottomLeft,l.alpha*u._alphaBL),c(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,0,0,l,s,!1,d)}}},20839:(T,A,i)=>{var m=i(27919),x=i(83419),h=i(31401),u=i(95643),l=i(98439),s=i(68703),o=i(56295),f=i(45650),a=i(26099),p=new x({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,o],initialize:function(v,y,S,b,C,M,w){var R=v.sys.renderer;u.call(this,v,"TileSprite");var I=v.sys.textures.get(M),L=I.get(w);L.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=(I=v.sys.textures.get("__MISSING")).get()),"DynamicTexture"===I.type&&(console.warn("TileSprite cannot use Dynamic Texture"),L=(I=v.sys.textures.get("__MISSING")).get()),b&&C?(b=Math.floor(b),C=Math.floor(C)):(b=L.width,C=L.height),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=R,this.canvas=m.create(this,b,C),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=I,this.displayFrame=L,this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=v.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(L.width),this.potHeight=l(L.height),this.fillCanvas=m.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(y,S),this.setSize(b,C),this.setFrame(w),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,v){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(v)},setFrame:function(d){var v=this.displayTexture.get(d);return this.potWidth=l(v.width),this.potHeight=l(v.height),this.canvas.width=0,v.cutWidth&&v.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=v,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,v){return void 0!==d&&(this.tilePositionX=d),void 0!==v&&(this.tilePositionY=v),this},setTileScale:function(d,v){return void 0===d&&(d=this.tileScaleX),void 0===v&&(v=d),this.tileScaleX=d,this.tileScaleY=v,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var v=this.fillContext,y=this.fillCanvas,S=this.potWidth,b=this.potHeight;(!this.renderer||!this.renderer.gl)&&(S=d.cutWidth,b=d.cutHeight),v.clearRect(0,0,S,b),y.width=S,y.height=b,v.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,S,b),this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(y,this.fillPattern):v.createPattern(y,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var v=this.context;this.scene.sys.game.config.antialias||s.disable(v);var y=this._tileScale.x,S=this._tileScale.y,b=this._tilePosition.x,C=this._tilePosition.y;v.clearRect(0,0,this.width,this.height),v.save(),v.scale(y,S),v.translate(-b,-C),v.fillStyle=this.fillPattern,v.fillRect(b,C,this.width/y,this.height/S),v.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),m.remove(this.canvas),m.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});T.exports=p},46992:T=>{T.exports=function(i,m,x,h){m.updateCanvas(),x.addToRenderList(m),i.batchSprite(m,m.frame,x,h)}},14167:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(20839);x.register("tileSprite",function(l,s){void 0===l&&(l={});var o=h(l,"x",0),f=h(l,"y",0),a=h(l,"width",512),c=h(l,"height",512),p=h(l,"key",""),d=h(l,"frame",""),v=new u(this.scene,o,f,a,c,p,d);return void 0!==s&&(l.add=s),m(this.scene,v,l),v})},91681:(T,A,i)=>{var m=i(20839);i(39429).register("tileSprite",function(h,u,l,s,o,f){return this.displayList.add(new m(this.scene,h,u,l,s,o,f))})},56295:(T,A,i)=>{var x,h;i(29747),x=i(18553),h=i(46992),T.exports={renderWebGL:x,renderCanvas:h}},18553:(T,A,i)=>{var m=i(70554);T.exports=function(h,u,l,s){u.updateCanvas();var o=u.width,f=u.height;if(0!==o&&0!==f){l.addToRenderList(u);var a=m.getTintAppendFloatAlpha,c=h.pipelines.set(u.pipeline,u),p=c.setTexture2D(u.fillPattern,u);c.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,o,f,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*o,u.originY*f,0,0,o,f,a(u.tintTopLeft,l.alpha*u._alphaTL),a(u.tintTopRight,l.alpha*u._alphaTR),a(u.tintBottomLeft,l.alpha*u._alphaBL),a(u.tintBottomRight,l.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,l,s,!1,p)}}},18471:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(31401),u=i(51708),l=i(8443),s=i(95643),o=i(36383),f=i(14463),a=i(45650),c=i(10247),p=new x({Extends:s,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.TextureCrop,h.Tint,h.Transform,h.Visible,c],initialize:function(v,y,S,b){s.call(this,v,"Video"),this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var C=v.sys.game;this._device=C.device.video,this.setPosition(y,S),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),C.events.on(l.PAUSE,this.globalPause,this),C.events.on(l.RESUME,this.globalResume,this);var M=v.sys.sound;M&&M.on(f.GLOBAL_MUTE,this.globalMute,this),b&&this.load(b)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var v=this.scene.sys.cache.video.get(d);return v?(this.cacheKey=d,this.loadHandler(v.url,v.noAudio,v.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,v,y,S,b){void 0===v&&(v=!0),void 0===y&&(y=!1),this.cacheKey!==d&&(this.load(d),v&&this.play(y,S,b))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,v,y){void 0===v&&(v=!1);var S=this._device.getVideoURL(d);return S?(this.cacheKey="",this.loadHandler(S.url,v,y)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,v,y){return this.loadHandler(null,v,y,d)},loadHandler:function(d,v,y,S){v||(v=!1);var b=this.video;if(b?(this.removeLoadEventHandlers(),this.stop()):((b=document.createElement("video")).controls=!1,b.setAttribute("playsinline","playsinline"),b.setAttribute("preload","auto"),b.setAttribute("disablePictureInPicture","true")),v?(b.muted=!0,b.defaultMuted=!0,b.setAttribute("autoplay","autoplay")):(b.muted=!1,b.defaultMuted=!1,b.removeAttribute("autoplay")),y?b.setAttribute("crossorigin",y):b.removeAttribute("crossorigin"),S)if("srcObject"in b)try{b.srcObject=S}catch(M){if("TypeError"!==M.name)throw M;b.src=URL.createObjectURL(S)}else b.src=URL.createObjectURL(S);else b.src=d;this.retry=0,this.video=b,this._playCalled=!1,b.load(),this.addLoadEventHandlers();var C=this.scene.sys.textures.get(this._key);return this.setTexture(C),this},requestVideoFrame:function(d,v){var y=this.video;if(y){var S=v.width,b=v.height,C=this.videoTexture,M=this.videoTextureSource,w=!C||M.source!==y;w?(this._codePaused=y.paused,this._codeMuted=y.muted,C?(M.source=y,M.width=S,M.height=b,C.get().setSize(S,b)):((C=this.scene.sys.textures.create(this._key,y,S,b)).add("__BASE",0,0,0,S,b),this.setTexture(C),this.videoTexture=C,this.videoTextureSource=C.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,C)),this.setSizeToFrame(),this.updateDisplayOrigin()):M.update(),this.isStalled=!1,this.metadata=v;var R=v.mediaTime;w&&(this._lastUpdate=R,this.emit(u.VIDEO_CREATED,this,S,b),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(y.loop?(y.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=R,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,v,y){void 0===v&&(v=-1),void 0===y&&(y=o.MAX_SAFE_INTEGER);var S=this.video;return!S||this.isPlaying()?(S||console.warn("Video not loaded"),this):(void 0===d&&(d=S.loop),S.loop=d,this._markerIn=v,this._markerOut=y,this._playingMarker=v>-1&&y>v&&y<o.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=S.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var y in v)d.addEventListener(y,v[y])}},removeEventHandlers:function(){var d=this.video;if(d){var v=this._callbacks;for(var y in v)d.removeEventListener(y,v[y])}},createPlayPromise:function(d){void 0===d&&(d=!0);var v=this.video,y=v.play();if(void 0!==y){var S=this.playSuccess.bind(this),b=this.playError.bind(this);if(!d){var C=this;b=function(){C.failedPlayAttempts++}}y.then(S).catch(b)}else v.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,v,y){return!isNaN(v)&&v>=0&&!isNaN(y)&&y>v&&(this.markers[d]=[v,y]),this},playMarker:function(d,v){var y=this.markers[d];return y&&this.play(v,y[0],y[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,v){return void 0===d&&(d=this.width),void 0===v&&(v=this.height),this.snapshotArea(0,0,this.width,this.height,d,v)},snapshotArea:function(d,v,y,S,b,C){void 0===d&&(d=0),void 0===v&&(v=0),void 0===y&&(y=this.width),void 0===S&&(S=this.height),void 0===b&&(b=y),void 0===C&&(C=S);var M=this.video,w=this.snapshotTexture;return w?(w.setSize(b,C),M&&w.context.drawImage(M,d,v,y,S,0,0,b,C)):(w=this.scene.sys.textures.createCanvas(a(),b,C),this.snapshotTexture=w,M&&w.context.drawImage(M,d,v,y,S,0,0,b,C)),w.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var v=d.name;"NotAllowedError"===v?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):"NotSupportedError"===v?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(u.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(u.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=this.width,v.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(d,v){!this.video||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=v,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var v=this.video;if(v){var y=v.duration;y===1/0||isNaN(y)||this.setCurrentTime(y*d)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var v=this.video;if(v){if("string"==typeof d){var y=d[0],S=parseFloat(d.substr(1));"+"===y?d=v.currentTime+S:"-"===y&&(d=v.currentTime-S)}v.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var v=d.duration;if(v!==1/0&&!isNaN(v))return d.currentTime/v}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){void 0===d&&(d=!0),this._codeMuted=d;var v=this.video;return v&&(v.muted=!!this._systemMuted||d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,v){this._systemMuted=v;var y=this.video;y&&(y.muted=!!this._codeMuted||v)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){void 0===d&&(d=!0);var v=this.video;return this._codePaused=d,v&&!v.ended&&(d?v.paused||(this.removeEventHandlers(),v.pause()):d||(this._playCalled?v.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return void 0===d&&(d=1),this.video&&(this.video.volume=m(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(d){return void 0===d&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,v){return void 0===v&&(v=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(v)),this._key=d,this.flipY=v,!!this.videoTexture},stop:function(d){void 0===d&&(d=!0);var v=this.video;return v&&(this.removeEventHandlers(),v.cancelVideoFrameCallback(this._rfvCallbackId),v.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(l.PAUSE,this.globalPause,this),d.off(l.RESUME,this.globalResume,this);var v=this.scene.sys.sound;v&&v.off(f.GLOBAL_MUTE,this.globalMute,this)}});T.exports=p},58352:T=>{T.exports=function(i,m,x,h){m.videoTexture&&(x.addToRenderList(m),i.batchSprite(m,m.frame,x,h))}},11511:(T,A,i)=>{var m=i(25305),x=i(44603),h=i(23568),u=i(18471);x.register("video",function(l,s){void 0===l&&(l={});var o=h(l,"key",null),f=new u(this.scene,0,0,o);return void 0!==s&&(l.add=s),m(this.scene,f,l),f})},89025:(T,A,i)=>{var m=i(18471);i(39429).register("video",function(h,u,l){return this.displayList.add(new m(this.scene,h,u,l))})},10247:(T,A,i)=>{var x,h;i(29747),x=i(29849),h=i(58352),T.exports={renderWebGL:x,renderCanvas:h}},29849:T=>{T.exports=function(i,m,x,h){m.videoTexture&&(x.addToRenderList(m),m.pipeline.batchSprite(m,x,h))}},41481:(T,A,i)=>{var m=i(10312),x=i(96503),h=i(87902),u=i(83419),l=i(31401),s=i(95643),o=i(87841),f=i(37303),a=new u({Extends:s,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(p,d,v,y,S){void 0===y&&(y=1),void 0===S&&(S=y),s.call(this,p,"Zone"),this.setPosition(d,v),this.width=y,this.height=S,this.blendMode=m.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,p,d){void 0===d&&(d=!0),this.width=c,this.height=p,this.updateDisplayOrigin();var v=this.input;return d&&v&&!v.customHitArea&&(v.hitArea.width=c,v.hitArea.height=p),this},setDisplaySize:function(c,p){return this.displayWidth=c,this.displayHeight=p,this},setCircleDropZone:function(c){return this.setDropZone(new x(0,0,c),h)},setRectangleDropZone:function(c,p){return this.setDropZone(new o(0,0,c,p),f)},setDropZone:function(c,p){return this.input||this.setInteractive(c,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,p,d){d.addToRenderList(p)},renderWebGL:function(c,p,d){d.addToRenderList(p)}});T.exports=a},95261:(T,A,i)=>{var m=i(44603),x=i(23568),h=i(41481);m.register("zone",function(u){var l=x(u,"x",0),s=x(u,"y",0),o=x(u,"width",1),f=x(u,"height",o);return new h(this.scene,l,s,o,f)})},84175:(T,A,i)=>{var m=i(41481);i(39429).register("zone",function(h,u,l,s){return this.displayList.add(new m(this.scene,h,u,l,s))})},95166:T=>{T.exports=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0}},96503:(T,A,i)=>{var m=i(83419),x=i(87902),h=i(26241),u=i(79124),l=i(23777),s=i(28176),o=new m({initialize:function(a,c,p){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),this.type=l.CIRCLE,this.x=a,this.y=c,this._radius=p,this._diameter=2*p},contains:function(f,a){return x(this,f,a)},getPoint:function(f,a){return h(this,f,a)},getPoints:function(f,a,c){return u(this,f,a,c)},getRandomPoint:function(f){return s(this,f)},setTo:function(f,a,c){return this.x=f,this.y=a,this._radius=c,this._diameter=2*c,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,a){return void 0===a&&(a=f),this.x=f,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=2*f}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=.5*f}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});T.exports=o},71562:T=>{T.exports=function(i){return Math.PI*i.radius*2}},92110:(T,A,i)=>{var m=i(2141);T.exports=function(h,u,l){return void 0===l&&(l=new m),l.x=h.x+h.radius*Math.cos(u),l.y=h.y+h.radius*Math.sin(u),l}},42250:(T,A,i)=>{var m=i(96503);T.exports=function(h){return new m(h.x,h.y,h.radius)}},87902:T=>{T.exports=function(i,m,x){return i.radius>0&&m>=i.left&&m<=i.right&&x>=i.top&&x<=i.bottom&&(i.x-m)*(i.x-m)+(i.y-x)*(i.y-x)<=i.radius*i.radius}},5698:(T,A,i)=>{var m=i(87902);T.exports=function(h,u){return m(h,u.x,u.y)}},70588:(T,A,i)=>{var m=i(87902);T.exports=function(h,u){return m(h,u.x,u.y)&&m(h,u.right,u.y)&&m(h,u.x,u.bottom)&&m(h,u.right,u.bottom)}},26394:T=>{T.exports=function(i,m){return m.setTo(i.x,i.y,i.radius)}},76278:T=>{T.exports=function(i,m){return i.x===m.x&&i.y===m.y&&i.radius===m.radius}},2074:(T,A,i)=>{var m=i(87841);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=h.left,u.y=h.top,u.width=h.diameter,u.height=h.diameter,u}},26241:(T,A,i)=>{var m=i(92110),x=i(62945),h=i(36383),u=i(2141);T.exports=function(s,o,f){void 0===f&&(f=new u);var a=x(o,0,h.PI2);return m(s,a,f)}},79124:(T,A,i)=>{var m=i(71562),x=i(92110),h=i(62945),u=i(36383);T.exports=function(s,o,f,a){void 0===a&&(a=[]),!o&&f>0&&(o=m(s)/f);for(var c=0;c<o;c++){var p=h(c/o,0,u.PI2);a.push(x(s,p))}return a}},50884:T=>{T.exports=function(i,m,x){return i.x+=m,i.y+=x,i}},39212:T=>{T.exports=function(i,m){return i.x+=m.x,i.y+=m.y,i}},28176:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){void 0===u&&(u=new m);var l=2*Math.PI*Math.random(),s=Math.random()+Math.random(),o=s>1?2-s:s,f=o*Math.cos(l),a=o*Math.sin(l);return u.x=h.x+f*h.radius,u.y=h.y+a*h.radius,u}},88911:(T,A,i)=>{var m=i(96503);m.Area=i(95166),m.Circumference=i(71562),m.CircumferencePoint=i(92110),m.Clone=i(42250),m.Contains=i(87902),m.ContainsPoint=i(5698),m.ContainsRect=i(70588),m.CopyFrom=i(26394),m.Equals=i(76278),m.GetBounds=i(2074),m.GetPoint=i(26241),m.GetPoints=i(79124),m.Offset=i(50884),m.OffsetPoint=i(39212),m.Random=i(28176),T.exports=m},23777:T=>{T.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:T=>{T.exports=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI}},92990:T=>{T.exports=function(i){var m=i.width/2,x=i.height/2,h=Math.pow(m-x,2)/Math.pow(m+x,2);return Math.PI*(m+x)*(1+3*h/(10+Math.sqrt(4-3*h)))}},79522:(T,A,i)=>{var m=i(2141);T.exports=function(h,u,l){void 0===l&&(l=new m);var o=h.height/2;return l.x=h.x+h.width/2*Math.cos(u),l.y=h.y+o*Math.sin(u),l}},58102:(T,A,i)=>{var m=i(8497);T.exports=function(h){return new m(h.x,h.y,h.width,h.height)}},81154:T=>{T.exports=function(i,m,x){if(i.width<=0||i.height<=0)return!1;var h=(m-i.x)/i.width,u=(x-i.y)/i.height;return(h*=h)+(u*=u)<.25}},46662:(T,A,i)=>{var m=i(81154);T.exports=function(h,u){return m(h,u.x,u.y)}},1632:(T,A,i)=>{var m=i(81154);T.exports=function(h,u){return m(h,u.x,u.y)&&m(h,u.right,u.y)&&m(h,u.x,u.bottom)&&m(h,u.right,u.bottom)}},65534:T=>{T.exports=function(i,m){return m.setTo(i.x,i.y,i.width,i.height)}},8497:(T,A,i)=>{var m=i(83419),x=i(81154),h=i(90549),u=i(48320),l=i(23777),s=i(24820),o=new m({initialize:function(a,c,p,d){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=0),this.type=l.ELLIPSE,this.x=a,this.y=c,this.width=p,this.height=d},contains:function(f,a){return x(this,f,a)},getPoint:function(f,a){return h(this,f,a)},getPoints:function(f,a,c){return u(this,f,a,c)},getRandomPoint:function(f){return s(this,f)},setTo:function(f,a,c,p){return this.x=f,this.y=a,this.width=c,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,a){return void 0===a&&(a=f),this.x=f,this.y=a,this},setSize:function(f,a){return void 0===a&&(a=f),this.width=f,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});T.exports=o},36146:T=>{T.exports=function(i,m){return i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height}},23694:(T,A,i)=>{var m=i(87841);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=h.left,u.y=h.top,u.width=h.width,u.height=h.height,u}},90549:(T,A,i)=>{var m=i(79522),x=i(62945),h=i(36383),u=i(2141);T.exports=function(s,o,f){void 0===f&&(f=new u);var a=x(o,0,h.PI2);return m(s,a,f)}},48320:(T,A,i)=>{var m=i(92990),x=i(79522),h=i(62945),u=i(36383);T.exports=function(s,o,f,a){void 0===a&&(a=[]),!o&&f>0&&(o=m(s)/f);for(var c=0;c<o;c++){var p=h(c/o,0,u.PI2);a.push(x(s,p))}return a}},73424:T=>{T.exports=function(i,m,x){return i.x+=m,i.y+=x,i}},44808:T=>{T.exports=function(i,m){return i.x+=m.x,i.y+=m.y,i}},24820:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){void 0===u&&(u=new m);var l=Math.random()*Math.PI*2,s=Math.sqrt(Math.random());return u.x=h.x+s*Math.cos(l)*h.width/2,u.y=h.y+s*Math.sin(l)*h.height/2,u}},49203:(T,A,i)=>{var m=i(8497);m.Area=i(78874),m.Circumference=i(92990),m.CircumferencePoint=i(79522),m.Clone=i(58102),m.Contains=i(81154),m.ContainsPoint=i(46662),m.ContainsRect=i(1632),m.CopyFrom=i(65534),m.Equals=i(36146),m.GetBounds=i(23694),m.GetPoint=i(90549),m.GetPoints=i(48320),m.Offset=i(73424),m.OffsetPoint=i(44808),m.Random=i(24820),T.exports=m},55738:(T,A,i)=>{var m=i(23777),x=i(79291),h={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};h=x(!1,h,m),T.exports=h},2044:(T,A,i)=>{var m=i(20339);T.exports=function(h,u){return m(h.x,h.y,u.x,u.y)<=h.radius+u.radius}},81491:T=>{T.exports=function(i,m){var x=m.width/2,h=m.height/2,u=Math.abs(i.x-m.x-x),l=Math.abs(i.y-m.y-h);if(u>x+i.radius||l>h+i.radius)return!1;if(u<=x||l<=h)return!0;var f=u-x,a=l-h;return f*f+a*a<=i.radius*i.radius}},63376:(T,A,i)=>{var m=i(2141),x=i(2044);T.exports=function(u,l,s){if(void 0===s&&(s=[]),x(u,l)){var v,y,b,C,o=u.x,f=u.y,a=u.radius,c=l.x,p=l.y,d=l.radius;if(f===p)0==(b=(y=-2*p)*y-4*(v=1)*(c*c+(C=(d*d-a*a-c*c+o*o)/(2*(o-c)))*C-2*c*C+p*p-d*d))?s.push(new m(C,-y/(2*v))):b>0&&(s.push(new m(C,(-y+Math.sqrt(b))/(2*v))),s.push(new m(C,(-y-Math.sqrt(b))/(2*v))));else{var M=(o-c)/(f-p),w=(d*d-a*a-c*c+o*o-p*p+f*f)/(2*(f-p));0==(b=(y=2*f*M-2*w*M-2*o)*y-4*(v=M*M+1)*(o*o+f*f+w*w-a*a-2*f*w))?s.push(new m(C=-y/(2*v),w-C*M)):b>0&&(C=(-y+Math.sqrt(b))/(2*v),s.push(new m(C,w-C*M)),C=(-y-Math.sqrt(b))/(2*v),s.push(new m(C,w-C*M)))}}return s}},97439:(T,A,i)=>{var m=i(4042),x=i(81491);T.exports=function(u,l,s){if(void 0===s&&(s=[]),x(u,l)){var o=l.getLineA(),f=l.getLineB(),a=l.getLineC(),c=l.getLineD();m(o,u,s),m(f,u,s),m(a,u,s),m(c,u,s)}return s}},4042:(T,A,i)=>{var m=i(2141),x=i(80462);T.exports=function(u,l,s){if(void 0===s&&(s=[]),x(u,l)){var L,F,o=u.x1,f=u.y1,v=l.radius,y=u.x2-o,S=u.y2-f,b=o-l.x,C=f-l.y,M=y*y+S*S,w=2*(y*b+S*C),I=w*w-4*M*(b*b+C*C-v*v);if(0===I){var G=-w/(2*M);L=o+G*y,F=f+G*S,G>=0&&G<=1&&s.push(new m(L,F))}else if(I>0){var z=(-w-Math.sqrt(I))/(2*M);L=o+z*y,F=f+z*S,z>=0&&z<=1&&s.push(new m(L,F));var B=(-w+Math.sqrt(I))/(2*M);L=o+B*y,F=f+B*S,B>=0&&B<=1&&s.push(new m(L,F))}}return s}},36100:(T,A,i)=>{var m=i(25836);T.exports=function(h,u,l,s){void 0===l&&(l=!1);var R,I,L,o=h.x1,f=h.y1,p=u.x1,d=u.y1,S=h.x2-o,b=h.y2-f,C=u.x2-p,M=u.y2-d,w=S*M-b*C;if(0===w)return null;if(l){if((I=(p+C*(R=(S*(d-f)+b*(o-p))/(C*b-M*S))-o)/S)<0||R<0||R>1)return null;L=I}else{if(I=((f-d)*S-(o-p)*b)/w,(R=((p-o)*M-(d-f)*C)/w)<0||R>1||I<0||I>1)return null;L=R}return void 0===s&&(s=new m),s.set(o+S*L,f+b*L,L)}},3073:(T,A,i)=>{var m=i(36100),x=i(23031),h=i(25836),u=new x,l=new h;T.exports=function(o,f,a,c){void 0===a&&(a=!1),void 0===c&&(c=new h);var p=!1;c.set(),l.set();for(var d=f[f.length-1],v=0;v<f.length;v++){var y=f[v];u.setTo(d.x,d.y,y.x,y.y),d=y,m(o,u,a,l)&&(!p||l.z<c.z)&&(c.copy(l),p=!0)}return p?c:null}},56362:(T,A,i)=>{var m=i(25836),x=i(61369),h=i(3073),u=new m;T.exports=function(s,o,f,a){void 0===a&&(a=new x),Array.isArray(o)||(o=[o]);var c=!1;a.set(),u.set();for(var p=0;p<o.length;p++)h(s,o[p].points,f,u)&&(!c||u.z<a.z)&&(a.set(u.x,u.y,u.z,p),c=!0);return c?a:null}},60646:(T,A,i)=>{var m=i(2141),x=i(76112),h=i(92773);T.exports=function(l,s,o){if(void 0===o&&(o=[]),h(l,s))for(var f=s.getLineA(),a=s.getLineB(),c=s.getLineC(),p=s.getLineD(),d=[new m,new m,new m,new m],v=[x(f,l,d[0]),x(a,l,d[1]),x(c,l,d[2]),x(p,l,d[3])],y=0;y<4;y++)v[y]&&o.push(d[y]);return o}},71147:(T,A,i)=>{var m=i(61369),x=i(56362),u=new(i(23031));function l(f,a,c,p,d){var v=Math.cos(f),y=Math.sin(f);u.setTo(a,c,a+v,c+y);var S=x(u,p,!0);S&&d.push(new m(S.x,S.y,f,S.w))}function s(f,a){return f.z-a.z}T.exports=function(f,a,c){Array.isArray(c)||(c=[c]);for(var p=[],d=[],v=0;v<c.length;v++)for(var y=c[v].points,S=0;S<y.length;S++){var b=Math.atan2(y[S].y-a,y[S].x-f);-1===d.indexOf(b)&&(l(b,f,a,c,p),l(b-1e-5,f,a,c,p),l(b+1e-5,f,a,c,p),d.push(b))}return p.sort(s)}},68389:(T,A,i)=>{var m=i(87841),x=i(59996);T.exports=function(u,l,s){return void 0===s&&(s=new m),x(u,l)&&(s.x=Math.max(u.x,l.x),s.y=Math.max(u.y,l.y),s.width=Math.min(u.right,l.right)-s.x,s.height=Math.min(u.bottom,l.bottom)-s.y),s}},52784:(T,A,i)=>{var m=i(60646),x=i(59996);T.exports=function(u,l,s){if(void 0===s&&(s=[]),x(u,l)){var o=u.getLineA(),f=u.getLineB(),a=u.getLineC(),c=u.getLineD();m(o,l,s),m(f,l,s),m(a,l,s),m(c,l,s)}return s}},26341:(T,A,i)=>{var m=i(89265),x=i(60646);T.exports=function(u,l,s){if(void 0===s&&(s=[]),m(u,l)){var o=l.getLineA(),f=l.getLineB(),a=l.getLineC();x(o,u,s),x(f,u,s),x(a,u,s)}return s}},38720:(T,A,i)=>{var m=i(4042),x=i(67636);T.exports=function(u,l,s){if(void 0===s&&(s=[]),x(u,l)){var o=u.getLineA(),f=u.getLineB(),a=u.getLineC();m(o,l,s),m(f,l,s),m(a,l,s)}return s}},13882:(T,A,i)=>{var m=i(2141),x=i(2822),h=i(76112);T.exports=function(l,s,o){if(void 0===o&&(o=[]),x(l,s))for(var f=l.getLineA(),a=l.getLineB(),c=l.getLineC(),p=[new m,new m,new m],d=[h(f,s,p[0]),h(a,s,p[1]),h(c,s,p[2])],v=0;v<3;v++)d[v]&&o.push(p[v]);return o}},75636:(T,A,i)=>{var m=i(82944),x=i(13882);T.exports=function(u,l,s){if(void 0===s&&(s=[]),m(u,l)){var o=l.getLineA(),f=l.getLineB(),a=l.getLineC();x(u,o,s),x(u,f,s),x(u,a,s)}return s}},80462:(T,A,i)=>{var m=i(87902),h=new(i(2141));T.exports=function(l,s,o){if(void 0===o&&(o=h),m(s,l.x1,l.y1))return o.x=l.x1,o.y=l.y1,!0;if(m(s,l.x2,l.y2))return o.x=l.x2,o.y=l.y2,!0;var f=l.x2-l.x1,a=l.y2-l.y1,d=f*f+a*a,v=f,y=a;if(d>0){var S=((s.x-l.x1)*f+(s.y-l.y1)*a)/d;v*=S,y*=S}return o.x=l.x1+v,o.y=l.y1+y,v*v+y*y<=d&&v*f+y*a>=0&&m(s,o.x,o.y)}},76112:T=>{T.exports=function(i,m,x){var h=i.x1,u=i.y1,l=i.x2,s=i.y2,o=m.x1,f=m.y1,a=m.x2,c=m.y2;if(h===l&&u===s||o===a&&f===c)return!1;var p=(c-f)*(l-h)-(a-o)*(s-u);if(0===p)return!1;var d=((a-o)*(u-f)-(c-f)*(h-o))/p,v=((l-h)*(u-f)-(s-u)*(h-o))/p;return!(d<0||d>1||v<0||v>1||(x&&(x.x=h+d*(l-h),x.y=u+d*(s-u)),0))}},92773:T=>{T.exports=function(i,m){var x=i.x1,h=i.y1,u=i.x2,l=i.y2,s=m.x,o=m.y,f=m.right,a=m.bottom,c=0;if(x>=s&&x<=f&&h>=o&&h<=a||u>=s&&u<=f&&l>=o&&l<=a)return!0;if(x<s&&u>=s){if((c=h+(l-h)*(s-x)/(u-x))>o&&c<=a)return!0}else if(x>f&&u<=f&&(c=h+(l-h)*(f-x)/(u-x))>=o&&c<=a)return!0;if(h<o&&l>=o){if((c=x+(u-x)*(o-h)/(l-h))>=s&&c<=f)return!0}else if(h>a&&l<=a&&(c=x+(u-x)*(a-h)/(l-h))>=s&&c<=f)return!0;return!1}},16204:T=>{T.exports=function(i,m,x){void 0===x&&(x=1);var h=m.x1,u=m.y1,l=m.x2,s=m.y2,o=i.x,f=i.y,a=(l-h)*(l-h)+(s-u)*(s-u);if(0===a)return!1;var c=((o-h)*(l-h)+(f-u)*(s-u))/a;return c<0?Math.sqrt((h-o)*(h-o)+(u-f)*(u-f))<=x:c>=0&&c<=1?Math.abs(((u-f)*(l-h)-(h-o)*(s-u))/a)*Math.sqrt(a)<=x:Math.sqrt((l-o)*(l-o)+(s-f)*(s-f))<=x}},14199:(T,A,i)=>{var m=i(16204);T.exports=function(h,u){if(!m(h,u))return!1;var l=Math.min(u.x1,u.x2),s=Math.max(u.x1,u.x2),o=Math.min(u.y1,u.y2),f=Math.max(u.y1,u.y2);return h.x>=l&&h.x<=s&&h.y>=o&&h.y<=f}},59996:T=>{T.exports=function(i,m){return!(i.width<=0||i.height<=0||m.width<=0||m.height<=0||i.right<m.x||i.bottom<m.y||i.x>m.right||i.y>m.bottom)}},89265:(T,A,i)=>{var m=i(76112),x=i(37303),h=i(48653),u=i(77493);T.exports=function(s,o){if(o.left>s.right||o.right<s.left||o.top>s.bottom||o.bottom<s.top)return!1;var f=o.getLineA(),a=o.getLineB(),c=o.getLineC();if(x(s,f.x1,f.y1)||x(s,f.x2,f.y2)||x(s,a.x1,a.y1)||x(s,a.x2,a.y2)||x(s,c.x1,c.y1)||x(s,c.x2,c.y2))return!0;var p=s.getLineA(),d=s.getLineB(),v=s.getLineC(),y=s.getLineD();if(m(f,p)||m(f,d)||m(f,v)||m(f,y)||m(a,p)||m(a,d)||m(a,v)||m(a,y)||m(c,p)||m(c,d)||m(c,v)||m(c,y))return!0;var S=u(s);return h(o,S,!0).length>0}},84411:T=>{T.exports=function(i,m,x,h,u,l){return void 0===l&&(l=0),!(m>i.right+l||x<i.left-l||h>i.bottom+l||u<i.top-l)}},67636:(T,A,i)=>{var m=i(80462),x=i(10690);T.exports=function(u,l){return!(u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top||!(x(u,l.x,l.y)||m(u.getLineA(),l)||m(u.getLineB(),l)||m(u.getLineC(),l)))}},2822:(T,A,i)=>{var m=i(76112);T.exports=function(h,u){return!!(h.contains(u.x1,u.y1)||h.contains(u.x2,u.y2)||m(h.getLineA(),u)||m(h.getLineB(),u)||m(h.getLineC(),u))}},82944:(T,A,i)=>{var m=i(48653),x=i(71694),h=i(76112);T.exports=function(l,s){if(l.left>s.right||l.right<s.left||l.top>s.bottom||l.bottom<s.top)return!1;var o=l.getLineA(),f=l.getLineB(),a=l.getLineC(),c=s.getLineA(),p=s.getLineB(),d=s.getLineC();if(h(o,c)||h(o,p)||h(o,d)||h(f,c)||h(f,p)||h(f,d)||h(a,c)||h(a,p)||h(a,d))return!0;var v=x(l),y=m(s,v,!0);return y.length>0||(v=x(s),(y=m(l,v,!0)).length>0)}},91865:(T,A,i)=>{T.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:T=>{T.exports=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)}},84993:T=>{T.exports=function(i,m,x){void 0===m&&(m=1),void 0===x&&(x=[]);var h=Math.round(i.x1),u=Math.round(i.y1),l=Math.round(i.x2),s=Math.round(i.y2),o=Math.abs(l-h),f=Math.abs(s-u),a=h<l?1:-1,c=u<s?1:-1,p=o-f;x.push({x:h,y:u});for(var d=1;h!==l||u!==s;){var v=p<<1;v>-f&&(p-=f,h+=a),v<o&&(p+=o,u+=c),d%m==0&&x.push({x:h,y:u}),d++}return x}},36469:T=>{T.exports=function(i,m,x){var h=m-(i.x1+i.x2)/2,u=x-(i.y1+i.y2)/2;return i.x1+=h,i.y1+=u,i.x2+=h,i.y2+=u,i}},31116:(T,A,i)=>{var m=i(23031);T.exports=function(h){return new m(h.x1,h.y1,h.x2,h.y2)}},59944:T=>{T.exports=function(i,m){return m.setTo(i.x1,i.y1,i.x2,i.y2)}},59220:T=>{T.exports=function(i,m){return i.x1===m.x1&&i.y1===m.y1&&i.x2===m.x2&&i.y2===m.y2}},78177:(T,A,i)=>{var m=i(35001);T.exports=function(h,u,l){void 0===l&&(l=u);var s=m(h),o=h.x2-h.x1,f=h.y2-h.y1;return u&&(h.x1=h.x1-o/s*u,h.y1=h.y1-f/s*u),l&&(h.x2=h.x2+o/s*l,h.y2=h.y2+f/s*l),h}},26708:(T,A,i)=>{var m=i(52816),x=i(6113),h=i(2141);T.exports=function(l,s,o,f,a){void 0===f&&(f=0),void 0===a&&(a=[]);var b,C,c=[],p=l.x1,d=l.y1,v=l.x2-p,y=l.y2-d,S=x(s,a),M=o-1;for(b=0;b<M;b++)C=S(b/M),c.push(new h(p+v*C,d+y*C));if(C=S(1),c.push(new h(p+v*C,d+y*C)),f>0){var w=c[0],R=[w];for(b=1;b<c.length-1;b++){var I=c[b];m(w,I)>=f&&(R.push(I),w=I)}var L=c[c.length-1];return m(w,L)<f&&R.pop(),R.push(L),R}return c}},32125:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=(h.x1+h.x2)/2,u.y=(h.y1+h.y2)/2,u}},99569:(T,A,i)=>{var m=i(2141);T.exports=function(h,u,l){void 0===l&&(l=new m);var s=h.x1,o=h.y1,f=h.x2,a=h.y2,c=(f-s)*(f-s)+(a-o)*(a-o);if(0===c)return l;var p=((u.x-s)*(f-s)+(u.y-o)*(a-o))/c;return l.x=s+p*(f-s),l.y=o+p*(a-o),l}},34638:(T,A,i)=>{var m=i(36383),x=i(91938),h=i(2141);T.exports=function(l,s){void 0===s&&(s=new h);var o=x(l)-m.TAU;return s.x=Math.cos(o),s.y=Math.sin(o),s}},13151:(T,A,i)=>{var m=i(2141);T.exports=function(h,u,l){return void 0===l&&(l=new m),l.x=h.x1+(h.x2-h.x1)*u,l.y=h.y1+(h.y2-h.y1)*u,l}},15258:(T,A,i)=>{var m=i(35001),x=i(2141);T.exports=function(u,l,s,o){void 0===o&&(o=[]),!l&&s>0&&(l=m(u)/s);for(var f=u.x1,a=u.y1,c=u.x2,p=u.y2,d=0;d<l;d++){var v=d/l;o.push(new x(f+(c-f)*v,a+(p-a)*v))}return o}},26408:T=>{T.exports=function(i,m){var x=i.x1,h=i.y1,u=i.x2,l=i.y2,s=(u-x)*(u-x)+(l-h)*(l-h);return 0!==s&&Math.abs(((h-m.y)*(u-x)-(x-m.x)*(l-h))/s)*Math.sqrt(s)}},98770:T=>{T.exports=function(i){return Math.abs(i.y1-i.y2)}},35001:T=>{T.exports=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))}},23031:(T,A,i)=>{var m=i(83419),x=i(13151),h=i(15258),u=i(23777),l=i(65822),s=i(26099),o=new m({initialize:function(a,c,p,d){void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=0),this.type=u.LINE,this.x1=a,this.y1=c,this.x2=p,this.y2=d},getPoint:function(f,a){return x(this,f,a)},getPoints:function(f,a,c){return h(this,f,a,c)},getRandomPoint:function(f){return l(this,f)},setTo:function(f,a,c,p){return void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),this.x1=f,this.y1=a,this.x2=c,this.y2=p,this},setFromObjects:function(f,a){return this.x1=f.x,this.y1=f.y,this.x2=a.x,this.y2=a.y,this},getPointA:function(f){return void 0===f&&(f=new s),f.set(this.x1,this.y1),f},getPointB:function(f){return void 0===f&&(f=new s),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});T.exports=o},64795:(T,A,i)=>{var m=i(36383),x=i(15994),h=i(91938);T.exports=function(l){var s=h(l)-m.TAU;return x(s,-Math.PI,Math.PI)}},52616:(T,A,i)=>{var m=i(36383),x=i(91938);T.exports=function(u){return Math.cos(x(u)-m.TAU)}},87231:(T,A,i)=>{var m=i(36383),x=i(91938);T.exports=function(u){return Math.sin(x(u)-m.TAU)}},89662:T=>{T.exports=function(i,m,x){return i.x1+=m,i.y1+=x,i.x2+=m,i.y2+=x,i}},71165:T=>{T.exports=function(i){return-(i.x2-i.x1)/(i.y2-i.y1)}},65822:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){void 0===u&&(u=new m);var l=Math.random();return u.x=h.x1+l*(h.x2-h.x1),u.y=h.y1+l*(h.y2-h.y1),u}},69777:(T,A,i)=>{var m=i(91938),x=i(64795);T.exports=function(u,l){return 2*x(l)-Math.PI-m(u)}},39706:(T,A,i)=>{var m=i(64400);T.exports=function(h,u){return m(h,(h.x1+h.x2)/2,(h.y1+h.y2)/2,u)}},82585:(T,A,i)=>{var m=i(64400);T.exports=function(h,u,l){return m(h,u.x,u.y,l)}},64400:T=>{T.exports=function(i,m,x,h){var u=Math.cos(h),l=Math.sin(h),s=i.x1-m,o=i.y1-x;return i.x1=s*u-o*l+m,i.y1=s*l+o*u+x,i.x2=(s=i.x2-m)*u-(o=i.y2-x)*l+m,i.y2=s*l+o*u+x,i}},62377:T=>{T.exports=function(i,m,x,h,u){return i.x1=m,i.y1=x,i.x2=m+Math.cos(h)*u,i.y2=x+Math.sin(h)*u,i}},71366:T=>{T.exports=function(i){return(i.y2-i.y1)/(i.x2-i.x1)}},10809:T=>{T.exports=function(i){return Math.abs(i.x1-i.x2)}},2529:(T,A,i)=>{var m=i(23031);m.Angle=i(91938),m.BresenhamPoints=i(84993),m.CenterOn=i(36469),m.Clone=i(31116),m.CopyFrom=i(59944),m.Equals=i(59220),m.Extend=i(78177),m.GetEasedPoints=i(26708),m.GetMidPoint=i(32125),m.GetNearestPoint=i(99569),m.GetNormal=i(34638),m.GetPoint=i(13151),m.GetPoints=i(15258),m.GetShortestDistance=i(26408),m.Height=i(98770),m.Length=i(35001),m.NormalAngle=i(64795),m.NormalX=i(52616),m.NormalY=i(87231),m.Offset=i(89662),m.PerpSlope=i(71165),m.Random=i(65822),m.ReflectAngle=i(69777),m.Rotate=i(39706),m.RotateAroundPoint=i(82585),m.RotateAroundXY=i(64400),m.SetToAngle=i(62377),m.Slope=i(71366),m.Width=i(10809),T.exports=m},83997:(T,A,i)=>{var m=i(83419),x=i(87841),h=i(26099);function u(s,o,f,a){var c=s-f,p=o-a;return Math.sqrt(c*c+p*p)}var l=new m({initialize:function(o,f,a){this.vertex1=o,this.vertex2=f,this.vertex3=a,this.bounds=new x,this._inCenter=new h},getInCenter:function(s){void 0===s&&(s=!0);var c,p,d,v,y,S,o=this.vertex1,f=this.vertex2,a=this.vertex3;s?(c=o.x,p=o.y,d=f.x,v=f.y,y=a.x,S=a.y):(c=o.vx,p=o.vy,d=f.vx,v=f.vy,y=a.vx,S=a.vy);var b=u(y,S,d,v),C=u(c,p,y,S),M=u(d,v,c,p),w=b+C+M;return this._inCenter.set((c*b+d*C+y*M)/w,(p*b+v*C+S*M)/w)},contains:function(s,o,f){var a=this.vertex1,c=this.vertex2,p=this.vertex3,d=a.vx,v=a.vy,y=c.vx,S=c.vy,b=p.vx,C=p.vy;if(f){var M=f.a,w=f.b,R=f.c,I=f.d,L=f.e,F=f.f;d=a.vx*M+a.vy*R+L,v=a.vx*w+a.vy*I+F,y=c.vx*M+c.vy*R+L,S=c.vx*w+c.vy*I+F,b=p.vx*M+p.vy*R+L,C=p.vx*w+p.vy*I+F}var G=b-d,z=C-v,B=y-d,V=S-v,Y=s-d,$=o-v,J=G*G+z*z,W=G*B+z*V,k=G*Y+z*$,N=B*B+V*V,H=B*Y+V*$,X=J*N-W*W,K=0===X?0:1/X,Q=(N*k-W*H)*K,q=(J*H-W*k)*K;return Q>=0&&q>=0&&Q+q<1},isCounterClockwise:function(s){var o=this.vertex1,f=this.vertex2,a=this.vertex3,c=(f.vx-o.vx)*(a.vy-o.vy)-(f.vy-o.vy)*(a.vx-o.vx);return s<=0?c>=0:c<0},load:function(s,o,f,a,c){return f=this.vertex1.load(s,o,f,a,c),f=this.vertex2.load(s,o,f,a,c),this.vertex3.load(s,o,f,a,c)},transformCoordinatesLocal:function(s,o,f,a){return this.vertex1.transformCoordinatesLocal(s,o,f,a),this.vertex2.transformCoordinatesLocal(s,o,f,a),this.vertex3.transformCoordinatesLocal(s,o,f,a),this},updateBounds:function(){var s=this.vertex1,o=this.vertex2,f=this.vertex3,a=this.bounds;return a.x=Math.min(s.vx,o.vx,f.vx),a.y=Math.min(s.vy,o.vy,f.vy),a.width=Math.max(s.vx,o.vx,f.vx)-a.x,a.height=Math.max(s.vy,o.vy,f.vy)-a.y,this},isInView:function(s,o,f,a,c,p,d,v,y,S,b){this.update(a,c,p,d,v,y,S,b);var C=this.vertex1,M=this.vertex2,w=this.vertex3;if(C.ta<=0&&M.ta<=0&&w.ta<=0||o&&!this.isCounterClockwise(f))return!1;var R=this.bounds;return R.x=Math.min(C.tx,M.tx,w.tx),R.y=Math.min(C.ty,M.ty,w.ty),R.width=Math.max(C.tx,M.tx,w.tx)-R.x,R.height=Math.max(C.ty,M.ty,w.ty)-R.y,!(R.width<=0||R.height<=0||s.width<=0||s.height<=0||R.right<s.x||R.bottom<s.y||R.x>s.x+s.width||R.y>s.y+s.height)},scrollUV:function(s,o){return this.vertex1.scrollUV(s,o),this.vertex2.scrollUV(s,o),this.vertex3.scrollUV(s,o),this},scaleUV:function(s,o){return this.vertex1.scaleUV(s,o),this.vertex2.scaleUV(s,o),this.vertex3.scaleUV(s,o),this},setColor:function(s){return this.vertex1.color=s,this.vertex2.color=s,this.vertex3.color=s,this},update:function(s,o,f,a,c,p,d,v){return this.vertex1.update(o,f,a,c,p,d,v,s),this.vertex2.update(o,f,a,c,p,d,v,s),this.vertex3.update(o,f,a,c,p,d,v,s),this},translate:function(s,o){void 0===o&&(o=0);var f=this.vertex1,a=this.vertex2,c=this.vertex3;return f.x+=s,f.y+=o,a.x+=s,a.y+=o,c.x+=s,c.y+=o,this},x:{get:function(){return this.getInCenter().x},set:function(s){var o=this.getInCenter();this.translate(s-o.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(s){var o=this.getInCenter();this.translate(0,s-o.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(s){this.vertex1.alpha=s,this.vertex2.alpha=s,this.vertex3.alpha=s}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});T.exports=l},48803:(T,A,i)=>{var m=i(83997),x=i(95540),h=i(37867),u=i(25836),l=i(39318),s=new u,o=new u,f=new h;T.exports=function(c){var k,p=x(c,"mesh"),d=x(c,"texture",null),v=x(c,"frame"),y=x(c,"width",1),S=x(c,"height",y),b=x(c,"widthSegments",1),C=x(c,"heightSegments",b),M=x(c,"x",0),w=x(c,"y",0),R=x(c,"z",0),I=x(c,"rotateX",0),L=x(c,"rotateY",0),F=x(c,"rotateZ",0),G=x(c,"zIsUp",!0),z=x(c,"isOrtho",!!p&&p.dirtyCache[11]),B=x(c,"colors",[16777215]),V=x(c,"alphas",[1]),Y=x(c,"tile",!1),$=x(c,"flipY",!1),J=x(c,"width",null),W={faces:[],verts:[]};if(s.set(M,w,R),o.set(I,L,F),f.fromRotationXYTranslation(o,s,G),!d&&p)d=p.texture,v||(k=p.frame);else if(p&&"string"==typeof d)d=p.scene.sys.textures.get(d);else if(!d)return W;k||(k=d.get(v)),!J&&z&&d&&p&&(y=k.width/p.height,S=k.height/p.height);var lt,ht,N=y/2,H=S/2,X=Math.floor(b),K=Math.floor(C),Q=X+1,q=K+1,_=y/X,nt=S/K,st=[],at=[],ut=0,mt=1,Mt=0,Et=1;k&&(ut=k.u0,mt=k.u1,$?(Mt=k.v1,Et=k.v0):(Mt=k.v0,Et=k.v1));var At=mt-ut,vt=Et-Mt;for(ht=0;ht<q;ht++){var St=ht*nt-H;for(lt=0;lt<Q;lt++)at.push(lt*_-N,-St),st.push(ut+At*(lt/X),Mt+vt*(ht/K))}Array.isArray(B)||(B=[B]),Array.isArray(V)||(V=[V]);var fe=0,me=0;for(ht=0;ht<K;ht++)for(lt=0;lt<X;lt++){var _t=2*(lt+Q*ht),jt=2*(lt+Q*(ht+1)),Me=2*(lt+1+Q*(ht+1)),te=2*(lt+1+Q*ht),Re=B[me],je=V[fe],si=new l(at[_t],at[_t+1],0,st[_t],st[_t+1],Re,je).transformMat4(f),Qn=new l(at[jt],at[jt+1],0,st[jt],st[jt+1],Re,je).transformMat4(f),un=new l(at[te],at[te+1],0,st[te],st[te+1],Re,je).transformMat4(f),Jn=new l(at[jt],at[jt+1],0,st[jt],st[jt+1],Re,je).transformMat4(f),Bi=new l(at[Me],at[Me+1],0,st[Me],st[Me+1],Re,je).transformMat4(f),qi=new l(at[te],at[te+1],0,st[te],st[te+1],Re,je).transformMat4(f);Y&&(si.setUVs(ut,Et),Qn.setUVs(ut,Mt),un.setUVs(mt,Et),Jn.setUVs(ut,Mt),Bi.setUVs(mt,Mt),qi.setUVs(mt,Et)),++me===B.length&&(me=0),++fe===V.length&&(fe=0),W.verts.push(si,Qn,un,Jn,Bi,qi),W.faces.push(new m(si,Qn,un),new m(Jn,Bi,qi))}return p&&(p.faces=p.faces.concat(W.faces),p.vertices=p.vertices.concat(W.verts)),W}},34684:(T,A,i)=>{var m=i(83997),x=i(37867),h=i(25836),u=i(39318),l=new h,s=new h,o=new x;T.exports=function(a,c,p,d,v,y,S,b,C,M){void 0===p&&(p=1),void 0===d&&(d=0),void 0===v&&(v=0),void 0===y&&(y=0),void 0===S&&(S=0),void 0===b&&(b=0),void 0===C&&(C=0),void 0===M&&(M=!0);var w={faces:[],verts:[]},R=a.materials;l.set(d,v,y),s.set(S,b,C),o.fromRotationXYTranslation(s,l,M);for(var I=0;I<a.models.length;I++)for(var L=a.models[I],F=L.vertices,G=L.textureCoords,z=L.faces,B=0;B<z.length;B++){var V=z[B],Y=V.vertices[0],$=V.vertices[1],J=V.vertices[2],W=F[Y.vertexIndex],k=F[$.vertexIndex],N=F[J.vertexIndex],H=Y.textureCoordsIndex,X=$.textureCoordsIndex,K=J.textureCoordsIndex,Q=-1===H?{u:0,v:1}:G[H],q=-1===X?{u:0,v:0}:G[X],_=-1===K?{u:1,v:1}:G[K],nt=16777215;""!==V.material&&R[V.material]&&(nt=R[V.material]);var st=new u(W.x*p,W.y*p,W.z*p,Q.u,Q.v,nt).transformMat4(o),at=new u(k.x*p,k.y*p,k.z*p,q.u,q.v,nt).transformMat4(o),lt=new u(N.x*p,N.y*p,N.z*p,_.u,_.v,nt).transformMat4(o);w.verts.push(st,at,lt),w.faces.push(new m(st,at,lt))}return c&&(c.faces=c.faces.concat(w.faces),c.vertices=c.vertices.concat(w.verts)),w}},92515:(T,A,i)=>{var m=i(83997),x=i(39318);T.exports=function(u,l,s,o,f,a,c,p){if(void 0===o&&(o=!1),void 0===a&&(a=16777215),void 0===c&&(c=1),void 0===p&&(p=!1),u.length===l.length||o){var v,M,I,L,F,d={faces:[],vertices:[]},G=o?3:2,z=Array.isArray(a),B=Array.isArray(c);if(Array.isArray(s)&&s.length>0)for(v=0;v<s.length;v++){var V=s[v],Y=2*s[v],$=s[v]*G;M=l[Y+1],p&&(M=1-M),I=0,L=0,F=0,f&&(I=f[$],L=f[$+1],F=o?f[$+2]:0),d.vertices.push(new x(u[$],u[$+1],o?u[$+2]:0,l[Y],M,z?a[V]:a,B?c[V]:c,I,L,F))}else{var J=0,W=0;for(v=0;v<u.length;v+=G)I=0,L=0,F=0,f&&(I=f[v],L=f[v+1],F=o?f[v+2]:0),d.vertices.push(new x(u[v],u[v+1],o?u[v+2]:0,l[J],M=l[J+1],z?a[W]:a,B?c[W]:c,I,L,F)),J+=2,W++}for(v=0;v<d.vertices.length;v+=3)d.faces.push(new m(d.vertices[v],d.vertices[v+1],d.vertices[v+2]));return d}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:T=>{var A=!0,i="untitled",m="",x="";function h(y){var S=y.indexOf("#");return S>-1?y.substring(0,S):y}function u(y){return 0===y.models.length&&y.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),m="",y.models[y.models.length-1]}function l(y,S){S.models.push({faces:[],name:y.length>=2?y[1]:i,textureCoords:[],vertexNormals:[],vertices:[]}),m=""}function s(y){2===y.length&&(m=y[1])}function o(y,S){var b=y.length,C=b>=2?parseFloat(y[1]):0,M=b>=3?parseFloat(y[2]):0,w=b>=4?parseFloat(y[3]):0;u(S).vertices.push({x:C,y:M,z:w})}function f(y,S){var b=y.length,C=b>=2?parseFloat(y[1]):0,M=b>=3?parseFloat(y[2]):0,w=b>=4?parseFloat(y[3]):0;isNaN(C)&&(C=0),isNaN(M)&&(M=0),isNaN(w)&&(w=0),A&&(M=1-M),u(S).textureCoords.push({u:C,v:M,w})}function a(y,S){var b=y.length,C=b>=2?parseFloat(y[1]):0,M=b>=3?parseFloat(y[2]):0,w=b>=4?parseFloat(y[3]):0;u(S).vertexNormals.push({x:C,y:M,z:w})}function c(y,S){var b=y.length-1;if(!(b<3)){for(var C={group:m,material:x,vertices:[]},M=0;M<b;M++){var R=y[M+1].split("/"),I=R.length;if(!(I<1||I>3)){var L=0,F=0,G=0;L=parseInt(R[0],10),I>1&&""!==R[1]&&(F=parseInt(R[1],10)),I>2&&(G=parseInt(R[2],10)),0!==L&&(L<0&&(L=u(S).vertices.length+1+L),C.vertices.push({textureCoordsIndex:F-=1,vertexIndex:L-=1,vertexNormalIndex:G-=1}))}}u(S).faces.push(C)}}function p(y,S){y.length>=2&&S.materialLibraries.push(y[1])}function d(y){y.length>=2&&(x=y[1])}T.exports=function(y,S){void 0===S&&(S=!0),A=S;var b={materials:{},materialLibraries:[],models:[]};m="",x="";for(var C=y.split("\n"),M=0;M<C.length;M++){var R=h(C[M]).replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":l(R,b);break;case"g":s(R);break;case"v":o(R,b);break;case"vt":f(R,b);break;case"vn":a(R,b);break;case"f":c(R,b);break;case"mtllib":p(R,b);break;case"usemtl":d(R)}}return b}},61485:(T,A,i)=>{var m=i(37589);T.exports=function(h){for(var u={},l=h.split("\n"),s="",o=0;o<l.length;o++){var f=l[o].trim();if(0!==f.indexOf("#")&&""!==f){var a=f.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":s=a[1];break;case"kd":var c=Math.floor(255*a[1]),p=a.length>=2?Math.floor(255*a[2]):c,d=a.length>=3?Math.floor(255*a[3]):c;u[s]=m(c,p,d)}}}return u}},92570:T=>{T.exports=function(i,m,x,h){var u,l;if(void 0===x&&void 0===h){var s=i.getInCenter();u=s.x,l=s.y}var o=Math.cos(m),f=Math.sin(m),a=i.vertex1,c=i.vertex2,p=i.vertex3,d=a.x-u,v=a.y-l;a.set(d*o-v*f+u,d*f+v*o+l),c.set((d=c.x-u)*o-(v=c.y-l)*f+u,d*f+v*o+l),p.set((d=p.x-u)*o-(v=p.y-l)*f+u,d*f+v*o+l)}},39318:(T,A,i)=>{var m=i(83419),x=i(70554),h=i(25836),u=new m({Extends:h,initialize:function(s,o,f,a,c,p,d,v,y,S){void 0===p&&(p=16777215),void 0===d&&(d=1),void 0===v&&(v=0),void 0===y&&(y=0),void 0===S&&(S=0),h.call(this,s,o,f),this.vx=0,this.vy=0,this.vz=0,this.nx=v,this.ny=y,this.nz=S,this.u=a,this.v=c,this.color=p,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=c},setUVs:function(l,s){return this.u=l,this.v=s,this.tu=l,this.tv=s,this},scrollUV:function(l,s){return this.tu+=l,this.tv+=s,this},scaleUV:function(l,s){return this.tu=this.u*l,this.tv=this.v*s,this},transformCoordinatesLocal:function(l,s,o,f){var a=this.x,c=this.y,p=this.z,d=l.val,y=a*d[1]+c*d[5]+p*d[9]+d[13],S=a*d[2]+c*d[6]+p*d[10]+d[14],b=a*d[3]+c*d[7]+p*d[11]+d[15];this.vx=(a*d[0]+c*d[4]+p*d[8]+d[12])/b*s,this.vy=-y/b*o,this.vz=f<=0?S/b:-S/b},resize:function(l,s,o,f,a,c){return this.x=l,this.y=s,this.vx=this.x*o,this.vy=-this.y*f,this.vz=0,a<.5?this.vx+=o*(.5-a):a>.5&&(this.vx-=o*(a-.5)),c<.5?this.vy+=f*(.5-c):c>.5&&(this.vy-=f*(c-.5)),this},update:function(l,s,o,f,a,c,p,d){var v=this.vx*l+this.vy*o+a,y=this.vx*s+this.vy*f+c;return p&&(v=Math.round(v),y=Math.round(y)),this.tx=v,this.ty=y,this.ta=this.alpha*d,this},load:function(l,s,o,f,a){return l[++o]=this.tx,l[++o]=this.ty,l[++o]=this.tu,l[++o]=this.tv,l[++o]=f,l[++o]=a,s[++o]=x.getTintAppendFloatAlpha(this.color,this.ta),o}});T.exports=u},73090:(T,A,i)=>{var m={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};T.exports=m},96550:T=>{T.exports=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))}},99706:(T,A,i)=>{var m=i(2141);T.exports=function(h){return new m(h.x,h.y)}},68010:T=>{T.exports=function(i,m){return m.setTo(i.x,i.y)}},27814:T=>{T.exports=function(i,m){return i.x===m.x&&i.y===m.y}},73565:T=>{T.exports=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))}},87555:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){if(void 0===u&&(u=new m),!Array.isArray(h))throw new Error("GetCentroid points argument must be an array");var l=h.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(1===l)u.x=h[0].x,u.y=h[0].y;else{for(var s=0;s<l;s++)u.x+=h[s].x,u.y+=h[s].y;u.x/=l,u.y/=l}return u}},28793:T=>{T.exports=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)}},44405:T=>{T.exports=function(i){return i.x*i.x+i.y*i.y}},20873:(T,A,i)=>{var m=i(87841);T.exports=function(h,u){void 0===u&&(u=new m);for(var l=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,a=0;a<h.length;a++){var c=h[a];c.x>l&&(l=c.x),c.x<s&&(s=c.x),c.y>o&&(o=c.y),c.y<f&&(f=c.y)}return u.x=s,u.y=f,u.width=l-s,u.height=o-f,u}},26152:(T,A,i)=>{var m=i(2141);T.exports=function(h,u,l,s){return void 0===l&&(l=0),void 0===s&&(s=new m),s.x=h.x+(u.x-h.x)*l,s.y=h.y+(u.y-h.y)*l,s}},55767:T=>{T.exports=function(i){return i.setTo(i.y,i.x)}},79432:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){return void 0===u&&(u=new m),u.setTo(-h.x,-h.y)}},2141:(T,A,i)=>{var m=i(83419),x=i(23777),h=new m({initialize:function(l,s){void 0===l&&(l=0),void 0===s&&(s=l),this.type=x.POINT,this.x=l,this.y=s},setTo:function(u,l){return void 0===u&&(u=0),void 0===l&&(l=u),this.x=u,this.y=l,this}});T.exports=h},72930:(T,A,i)=>{var m=i(2141),x=i(44405);T.exports=function(u,l,s){void 0===s&&(s=new m);var f=(u.x*l.x+u.y*l.y)/x(l);return 0!==f&&(s.x=f*l.x,s.y=f*l.y),s}},62880:(T,A,i)=>{var m=i(2141);T.exports=function(h,u,l){void 0===l&&(l=new m);var s=h.x*u.x+h.y*u.y;return 0!==s&&(l.x=s*u.x,l.y=s*u.y),l}},15093:(T,A,i)=>{var m=i(28793);T.exports=function(h,u){if(0!==h.x||0!==h.y){var l=m(h);h.x/=l,h.y/=l}return h.x*=u,h.y*=u,h}},43711:(T,A,i)=>{var m=i(2141);m.Ceil=i(96550),m.Clone=i(99706),m.CopyFrom=i(68010),m.Equals=i(27814),m.Floor=i(73565),m.GetCentroid=i(87555),m.GetMagnitude=i(28793),m.GetMagnitudeSq=i(44405),m.GetRectangleFromPoints=i(20873),m.Interpolate=i(26152),m.Invert=i(55767),m.Negative=i(79432),m.Project=i(72930),m.ProjectUnit=i(62880),m.SetMagnitude=i(15093),T.exports=m},12306:(T,A,i)=>{var m=i(25717);T.exports=function(h){return new m(h.points)}},63814:T=>{T.exports=function(i,m,x){for(var h=!1,u=-1,l=i.points.length-1;++u<i.points.length;l=u){var s=i.points[u].x,o=i.points[u].y,a=i.points[l].y;(o<=x&&x<a||a<=x&&x<o)&&m<(i.points[l].x-s)*(x-o)/(a-o)+s&&(h=!h)}return h}},99338:(T,A,i)=>{var m=i(63814);T.exports=function(h,u){return m(h,u.x,u.y)}},94811:T=>{"use strict";function A(W,k,N){N=N||2;var q,_,nt,st,at,lt,ht,H=k&&k.length,X=H?k[0]*N:W.length,K=i(W,0,X,N,!0),Q=[];if(!K||K.next===K.prev)return Q;if(H&&(K=function o(W,k,N,H){var K,Q,nt,X=[];for(K=0,Q=k.length;K<Q;K++)(nt=i(W,k[K]*H,K<Q-1?k[K+1]*H:W.length,H,!1))===nt.next&&(nt.steiner=!0),X.push(S(nt));for(X.sort(f),K=0;K<X.length;K++)N=a(X[K],N);return N}(W,k,K,N)),W.length>80*N){q=nt=W[0],_=st=W[1];for(var ut=N;ut<X;ut+=N)(at=W[ut])<q&&(q=at),(lt=W[ut+1])<_&&(_=lt),at>nt&&(nt=at),lt>st&&(st=lt);ht=0!==(ht=Math.max(nt-q,st-_))?32767/ht:0}return x(K,Q,N,q,_,ht,0),Q}function i(W,k,N,H,X){var K,Q;if(X===J(W,k,N,H)>0)for(K=k;K<N;K+=H)Q=V(K,W[K],W[K+1],Q);else for(K=N-H;K>=k;K-=H)Q=V(K,W[K],W[K+1],Q);return Q&&w(Q,Q.next)&&(Y(Q),Q=Q.next),Q}function m(W,k){if(!W)return W;k||(k=W);var H,N=W;do{if(H=!1,N.steiner||!w(N,N.next)&&0!==M(N.prev,N,N.next))N=N.next;else{if(Y(N),(N=k=N.prev)===N.next)break;H=!0}}while(H||N!==k);return k}function x(W,k,N,H,X,K,Q){if(W){!Q&&K&&function d(W,k,N,H){var X=W;do{0===X.z&&(X.z=y(X.x,X.y,k,N,H)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next}while(X!==W);X.prevZ.nextZ=null,X.prevZ=null,function v(W){var k,N,H,X,K,Q,q,_,nt=1;do{for(N=W,W=null,K=null,Q=0;N;){for(Q++,H=N,q=0,k=0;k<nt&&(q++,H=H.nextZ);k++);for(_=nt;q>0||_>0&&H;)0!==q&&(0===_||!H||N.z<=H.z)?(X=N,N=N.nextZ,q--):(X=H,H=H.nextZ,_--),K?K.nextZ=X:W=X,X.prevZ=K,K=X;N=H}K.nextZ=null,nt*=2}while(Q>1)}(X)}(W,H,X,K);for(var _,nt,q=W;W.prev!==W.next;)if(_=W.prev,nt=W.next,K?u(W,H,X,K):h(W))k.push(_.i/N|0),k.push(W.i/N|0),k.push(nt.i/N|0),Y(W),W=nt.next,q=nt.next;else if((W=nt)===q){Q?1===Q?x(W=l(m(W),k,N),k,N,H,X,K,2):2===Q&&s(W,k,N,H,X,K):x(m(W),k,N,H,X,K,1);break}}}function h(W){var k=W.prev,N=W,H=W.next;if(M(k,N,H)>=0)return!1;for(var X=k.x,K=N.x,Q=H.x,q=k.y,_=N.y,nt=H.y,st=X<K?X<Q?X:Q:K<Q?K:Q,at=q<_?q<nt?q:nt:_<nt?_:nt,lt=X>K?X>Q?X:Q:K>Q?K:Q,ht=q>_?q>nt?q:nt:_>nt?_:nt,ut=H.next;ut!==k;){if(ut.x>=st&&ut.x<=lt&&ut.y>=at&&ut.y<=ht&&b(X,q,K,_,Q,nt,ut.x,ut.y)&&M(ut.prev,ut,ut.next)>=0)return!1;ut=ut.next}return!0}function u(W,k,N,H){var X=W.prev,K=W,Q=W.next;if(M(X,K,Q)>=0)return!1;for(var q=X.x,_=K.x,nt=Q.x,st=X.y,at=K.y,lt=Q.y,ht=q<_?q<nt?q:nt:_<nt?_:nt,ut=st<at?st<lt?st:lt:at<lt?at:lt,mt=q>_?q>nt?q:nt:_>nt?_:nt,Mt=st>at?st>lt?st:lt:at>lt?at:lt,Et=y(ht,ut,k,N,H),At=y(mt,Mt,k,N,H),vt=W.prevZ,St=W.nextZ;vt&&vt.z>=Et&&St&&St.z<=At;){if(vt.x>=ht&&vt.x<=mt&&vt.y>=ut&&vt.y<=Mt&&vt!==X&&vt!==Q&&b(q,st,_,at,nt,lt,vt.x,vt.y)&&M(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,St.x>=ht&&St.x<=mt&&St.y>=ut&&St.y<=Mt&&St!==X&&St!==Q&&b(q,st,_,at,nt,lt,St.x,St.y)&&M(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;vt&&vt.z>=Et;){if(vt.x>=ht&&vt.x<=mt&&vt.y>=ut&&vt.y<=Mt&&vt!==X&&vt!==Q&&b(q,st,_,at,nt,lt,vt.x,vt.y)&&M(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;St&&St.z<=At;){if(St.x>=ht&&St.x<=mt&&St.y>=ut&&St.y<=Mt&&St!==X&&St!==Q&&b(q,st,_,at,nt,lt,St.x,St.y)&&M(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function l(W,k,N){var H=W;do{var X=H.prev,K=H.next.next;!w(X,K)&&R(X,H,H.next,K)&&G(X,K)&&G(K,X)&&(k.push(X.i/N|0),k.push(H.i/N|0),k.push(K.i/N|0),Y(H),Y(H.next),H=W=K),H=H.next}while(H!==W);return m(H)}function s(W,k,N,H,X,K){var Q=W;do{for(var q=Q.next.next;q!==Q.prev;){if(Q.i!==q.i&&C(Q,q)){var _=B(Q,q);return Q=m(Q,Q.next),_=m(_,_.next),x(Q,k,N,H,X,K,0),void x(_,k,N,H,X,K,0)}q=q.next}Q=Q.next}while(Q!==W)}function f(W,k){return W.x-k.x}function a(W,k){var N=function c(W,k){var Q,N=k,H=W.x,X=W.y,K=-1/0;do{if(X<=N.y&&X>=N.next.y&&N.next.y!==N.y){var q=N.x+(X-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(q<=H&&q>K&&(K=q,Q=N.x<N.next.x?N:N.next,q===H))return Q}N=N.next}while(N!==k);if(!Q)return null;var lt,_=Q,nt=Q.x,st=Q.y,at=1/0;N=Q;do{H>=N.x&&N.x>=nt&&H!==N.x&&b(X<st?H:K,X,nt,st,X<st?K:H,X,N.x,N.y)&&(lt=Math.abs(X-N.y)/(H-N.x),G(N,W)&&(lt<at||lt===at&&(N.x>Q.x||N.x===Q.x&&p(Q,N)))&&(Q=N,at=lt)),N=N.next}while(N!==_);return Q}(W,k);if(!N)return k;var H=B(N,W);return m(H,H.next),m(N,N.next)}function p(W,k){return M(W.prev,W,k.prev)<0&&M(k.next,W,W.next)<0}function y(W,k,N,H,X){return(W=1431655765&((W=858993459&((W=252645135&((W=16711935&((W=(W-N)*X|0)|W<<8))|W<<4))|W<<2))|W<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=(k-H)*X|0)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function S(W){var k=W,N=W;do{(k.x<N.x||k.x===N.x&&k.y<N.y)&&(N=k),k=k.next}while(k!==W);return N}function b(W,k,N,H,X,K,Q,q){return(X-Q)*(k-q)>=(W-Q)*(K-q)&&(W-Q)*(H-q)>=(N-Q)*(k-q)&&(N-Q)*(K-q)>=(X-Q)*(H-q)}function C(W,k){return W.next.i!==k.i&&W.prev.i!==k.i&&!function F(W,k){var N=W;do{if(N.i!==W.i&&N.next.i!==W.i&&N.i!==k.i&&N.next.i!==k.i&&R(N,N.next,W,k))return!0;N=N.next}while(N!==W);return!1}(W,k)&&(G(W,k)&&G(k,W)&&function z(W,k){var N=W,H=!1,X=(W.x+k.x)/2,K=(W.y+k.y)/2;do{N.y>K!=N.next.y>K&&N.next.y!==N.y&&X<(N.next.x-N.x)*(K-N.y)/(N.next.y-N.y)+N.x&&(H=!H),N=N.next}while(N!==W);return H}(W,k)&&(M(W.prev,W,k.prev)||M(W,k.prev,k))||w(W,k)&&M(W.prev,W,W.next)>0&&M(k.prev,k,k.next)>0)}function M(W,k,N){return(k.y-W.y)*(N.x-k.x)-(k.x-W.x)*(N.y-k.y)}function w(W,k){return W.x===k.x&&W.y===k.y}function R(W,k,N,H){var X=L(M(W,k,N)),K=L(M(W,k,H)),Q=L(M(N,H,W)),q=L(M(N,H,k));return!!(X!==K&&Q!==q||0===X&&I(W,N,k)||0===K&&I(W,H,k)||0===Q&&I(N,W,H)||0===q&&I(N,k,H))}function I(W,k,N){return k.x<=Math.max(W.x,N.x)&&k.x>=Math.min(W.x,N.x)&&k.y<=Math.max(W.y,N.y)&&k.y>=Math.min(W.y,N.y)}function L(W){return W>0?1:W<0?-1:0}function G(W,k){return M(W.prev,W,W.next)<0?M(W,k,W.next)>=0&&M(W,W.prev,k)>=0:M(W,k,W.prev)<0||M(W,W.next,k)<0}function B(W,k){var N=new $(W.i,W.x,W.y),H=new $(k.i,k.x,k.y),X=W.next,K=k.prev;return W.next=k,k.prev=W,N.next=X,X.prev=N,H.next=N,N.prev=H,K.next=H,H.prev=K,H}function V(W,k,N,H){var X=new $(W,k,N);return H?(X.next=H.next,X.prev=H,H.next.prev=X,H.next=X):(X.prev=X,X.next=X),X}function Y(W){W.next.prev=W.prev,W.prev.next=W.next,W.prevZ&&(W.prevZ.nextZ=W.nextZ),W.nextZ&&(W.nextZ.prevZ=W.prevZ)}function $(W,k,N){this.i=W,this.x=k,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function J(W,k,N,H){for(var X=0,K=k,Q=N-H;K<N;K+=H)X+=(W[Q]-W[K])*(W[K+1]+W[Q+1]),Q=K;return X}A.deviation=function(W,k,N,H){var X=k&&k.length,Q=Math.abs(J(W,0,X?k[0]*N:W.length,N));if(X)for(var q=0,_=k.length;q<_;q++)Q-=Math.abs(J(W,k[q]*N,q<_-1?k[q+1]*N:W.length,N));var at=0;for(q=0;q<H.length;q+=3){var lt=H[q]*N,ht=H[q+1]*N,ut=H[q+2]*N;at+=Math.abs((W[lt]-W[ut])*(W[ht+1]-W[lt+1])-(W[lt]-W[ht])*(W[ut+1]-W[lt+1]))}return 0===Q&&0===at?0:Math.abs((at-Q)/Q)},A.flatten=function(W){for(var k=W[0][0].length,N={vertices:[],holes:[],dimensions:k},H=0,X=0;X<W.length;X++){for(var K=0;K<W[X].length;K++)for(var Q=0;Q<k;Q++)N.vertices.push(W[X][K][Q]);X>0&&N.holes.push(H+=W[X-1].length)}return N},T.exports=A},13829:(T,A,i)=>{var m=i(87841);T.exports=function(h,u){void 0===u&&(u=new m);for(var a,l=1/0,s=1/0,o=-l,f=-s,c=0;c<h.points.length;c++)a=h.points[c],l=Math.min(l,a.x),s=Math.min(s,a.y),o=Math.max(o,a.x),f=Math.max(f,a.y);return u.x=l,u.y=s,u.width=o-l,u.height=f-s,u}},26173:T=>{T.exports=function(i,m){void 0===m&&(m=[]);for(var x=0;x<i.points.length;x++)m.push(i.points[x].x),m.push(i.points[x].y);return m}},9564:(T,A,i)=>{var m=i(35001),x=i(23031),h=i(30052);T.exports=function(l,s,o,f){void 0===f&&(f=[]);var a=l.points,c=h(l);!s&&o>0&&(s=c/o);for(var p=0;p<s;p++)for(var d=c*(p/s),v=0,y=0;y<a.length;y++){var S=a[y],b=a[(y+1)%a.length],C=new x(S.x,S.y,b.x,b.y),M=m(C);if(!(d<v||d>v+M)){var w=C.getPoint((d-v)/M);f.push(w);break}v+=M}return f}},30052:(T,A,i)=>{var m=i(35001),x=i(23031);T.exports=function(u){for(var l=u.points,s=0,o=0;o<l.length;o++){var f=l[o],a=l[(o+1)%l.length],c=new x(f.x,f.y,a.x,a.y);s+=m(c)}return s}},25717:(T,A,i)=>{var m=i(83419),x=i(63814),h=i(9564),u=i(23777),l=new m({initialize:function(o){this.type=u.POLYGON,this.area=0,this.points=[],o&&this.setTo(o)},contains:function(s,o){return x(this,s,o)},setTo:function(s){if(this.area=0,this.points=[],"string"==typeof s&&(s=s.split(" ")),!Array.isArray(s))return this;for(var o,f=0;f<s.length;f++)o={x:0,y:0},"number"==typeof s[f]||"string"==typeof s[f]?(o.x=parseFloat(s[f]),o.y=parseFloat(s[f+1]),f++):Array.isArray(s[f])?(o.x=s[f][0],o.y=s[f][1]):(o.x=s[f].x,o.y=s[f].y),this.points.push(o);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o,f,s=0,a=0;a<this.points.length-1;a++)s+=((f=this.points[a+1]).x-(o=this.points[a]).x)*(o.y+f.y);return this.area=.5*-(s+=((o=this.points[0]).x-(f=this.points[this.points.length-1]).x)*(f.y+o.y)),this.area},getPoints:function(s,o,f){return h(this,s,o,f)}});T.exports=l},8133:T=>{T.exports=function(i){return i.points.reverse(),i}},29524:T=>{function A(l,s){var o=l.x-s.x,f=l.y-s.y;return o*o+f*f}function i(l,s,o){var f=s.x,a=s.y,c=o.x-f,p=o.y-a;if(0!==c||0!==p){var d=((l.x-f)*c+(l.y-a)*p)/(c*c+p*p);d>1?(f=o.x,a=o.y):d>0&&(f+=c*d,a+=p*d)}return(c=l.x-f)*c+(p=l.y-a)*p}function x(l,s,o,f,a){for(var p,c=f,d=s+1;d<o;d++){var v=i(l[d],l[s],l[o]);v>c&&(p=d,c=v)}c>f&&(p-s>1&&x(l,s,p,f,a),a.push(l[p]),o-p>1&&x(l,p,o,f,a))}function h(l,s){var o=l.length-1,f=[l[0]];return x(l,0,o,s,f),f.push(l[o]),f}T.exports=function(l,s,o){void 0===s&&(s=1),void 0===o&&(o=!1);var f=l.points;if(f.length>2){var a=s*s;o||(f=function m(l,s){for(var a,o=l[0],f=[o],c=1,p=l.length;c<p;c++)A(a=l[c],o)>s&&(f.push(a),o=a);return o!==a&&f.push(a),f}(f,a)),l.setTo(h(f,a))}return l}},5469:T=>{var A=function(m,x){return m[0]=x[0],m[1]=x[1],m};T.exports=function(m){var x,h=[],u=m.points;for(x=0;x<u.length;x++)h.push([u[x].x,u[x].y]);var l=[];for(h.length>0&&l.push(A([0,0],h[0])),x=0;x<h.length-1;x++){var s=h[x],o=h[x+1],f=s[0],a=s[1],c=o[0],p=o[1];l.push([.85*f+.15*c,.85*a+.15*p]),l.push([.15*f+.85*c,.15*a+.85*p])}return h.length>1&&l.push(A([0,0],h[h.length-1])),m.setTo(l)}},24709:T=>{T.exports=function(i,m,x){for(var h=i.points,u=0;u<h.length;u++)h[u].x+=m,h[u].y+=x;return i}},58423:(T,A,i)=>{var m=i(25717);m.Clone=i(12306),m.Contains=i(63814),m.ContainsPoint=i(99338),m.Earcut=i(94811),m.GetAABB=i(13829),m.GetNumberArray=i(26173),m.GetPoints=i(9564),m.Perimeter=i(30052),m.Reverse=i(8133),m.Simplify=i(29524),m.Smooth=i(5469),m.Translate=i(24709),T.exports=m},62224:T=>{T.exports=function(i){return i.width*i.height}},98615:T=>{T.exports=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i}},31688:T=>{T.exports=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i}},67502:T=>{T.exports=function(i,m,x){return i.x=m-i.width/2,i.y=x-i.height/2,i}},65085:(T,A,i)=>{var m=i(87841);T.exports=function(h){return new m(h.x,h.y,h.width,h.height)}},37303:T=>{T.exports=function(i,m,x){return!(i.width<=0||i.height<=0)&&i.x<=m&&i.x+i.width>=m&&i.y<=x&&i.y+i.height>=x}},96553:(T,A,i)=>{var m=i(37303);T.exports=function(h,u){return m(h,u.x,u.y)}},70273:T=>{T.exports=function(i,m){return!(m.width*m.height>i.width*i.height)&&m.x>i.x&&m.x<i.right&&m.right>i.x&&m.right<i.right&&m.y>i.y&&m.y<i.bottom&&m.bottom>i.y&&m.bottom<i.bottom}},43459:T=>{T.exports=function(i,m){return m.setTo(i.x,i.y,i.width,i.height)}},77493:T=>{T.exports=function(i,m){return void 0===m&&(m=[]),m.push({x:i.x,y:i.y}),m.push({x:i.right,y:i.y}),m.push({x:i.right,y:i.bottom}),m.push({x:i.x,y:i.bottom}),m}},9219:T=>{T.exports=function(i,m){return i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height}},53751:(T,A,i)=>{var m=i(8249);T.exports=function(h,u){var l=m(h);return l<m(u)?h.setSize(u.height*l,u.height):h.setSize(u.width,u.width/l),h.setPosition(u.centerX-h.width/2,u.centerY-h.height/2)}},16088:(T,A,i)=>{var m=i(8249);T.exports=function(h,u){var l=m(h);return l>m(u)?h.setSize(u.height*l,u.height):h.setSize(u.width,u.width/l),h.setPosition(u.centerX-h.width/2,u.centerY-h.height/2)}},80774:T=>{T.exports=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i}},83859:T=>{T.exports=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i}},19217:(T,A,i)=>{var m=i(87841),x=i(36383);T.exports=function(u,l){if(void 0===l&&(l=new m),0===u.length)return l;for(var c,p,d,s=Number.MAX_VALUE,o=Number.MAX_VALUE,f=x.MIN_SAFE_INTEGER,a=x.MIN_SAFE_INTEGER,v=0;v<u.length;v++)c=u[v],Array.isArray(c)?(p=c[0],d=c[1]):(p=c.x,d=c.y),s=Math.min(s,p),o=Math.min(o,d),f=Math.max(f,p),a=Math.max(a,d);return l.x=s,l.y=o,l.width=f-s,l.height=a-o,l}},9477:(T,A,i)=>{var m=i(87841);T.exports=function(h,u,l,s,o){return void 0===o&&(o=new m),o.setTo(Math.min(h,l),Math.min(u,s),Math.abs(h-l),Math.abs(u-s))}},8249:T=>{T.exports=function(i){return 0===i.height?NaN:i.width/i.height}},27165:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=h.centerX,u.y=h.centerY,u}},20812:(T,A,i)=>{var m=i(13019),x=i(2141);T.exports=function(u,l,s){if(void 0===s&&(s=new x),l<=0||l>=1)return s.x=u.x,s.y=u.y,s;var o=m(u)*l;return l>.5?(o-=u.width+u.height)<=u.width?(s.x=u.right-o,s.y=u.bottom):(s.x=u.x,s.y=u.bottom-(o-u.width)):o<=u.width?(s.x=u.x+o,s.y=u.y):(s.x=u.right,s.y=u.y+(o-u.width)),s}},34819:(T,A,i)=>{var m=i(20812),x=i(13019);T.exports=function(u,l,s,o){void 0===o&&(o=[]),!l&&s>0&&(l=x(u)/s);for(var f=0;f<l;f++)o.push(m(u,f/l));return o}},51313:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=h.width,u.y=h.height,u}},86091:(T,A,i)=>{var m=i(67502);T.exports=function(h,u,l){var s=h.centerX,o=h.centerY;return h.setSize(h.width+2*u,h.height+2*l),m(h,s,o)}},53951:(T,A,i)=>{var m=i(87841),x=i(59996);T.exports=function(u,l,s){return void 0===s&&(s=new m),x(u,l)?(s.x=Math.max(u.x,l.x),s.y=Math.max(u.y,l.y),s.width=Math.min(u.right,l.right)-s.x,s.height=Math.min(u.bottom,l.bottom)-s.y):s.setEmpty(),s}},14649:(T,A,i)=>{var m=i(13019),x=i(2141);T.exports=function(u,l,s,o){if(void 0===o&&(o=[]),!l&&!s)return o;l?s=Math.round(m(u)/l):l=m(u)/s;for(var f=u.x,a=u.y,c=0,p=0;p<s;p++)switch(o.push(new x(f,a)),c){case 0:(f+=l)>=u.right&&(c=1,a+=f-u.right,f=u.right);break;case 1:(a+=l)>=u.bottom&&(c=2,f-=a-u.bottom,a=u.bottom);break;case 2:(f-=l)<=u.left&&(c=3,a-=u.left-f,f=u.left);break;case 3:(a-=l)<=u.top&&(c=0,a=u.top)}return o}},33595:T=>{T.exports=function(i,m){for(var x=i.x,h=i.right,u=i.y,l=i.bottom,s=0;s<m.length;s++)x=Math.min(x,m[s].x),h=Math.max(h,m[s].x),u=Math.min(u,m[s].y),l=Math.max(l,m[s].y);return i.x=x,i.y=u,i.width=h-x,i.height=l-u,i}},20074:T=>{T.exports=function(i,m){var x=Math.min(i.x,m.x),h=Math.max(i.right,m.right);i.x=x,i.width=h-x;var u=Math.min(i.y,m.y),l=Math.max(i.bottom,m.bottom);return i.y=u,i.height=l-u,i}},92171:T=>{T.exports=function(i,m,x){var h=Math.min(i.x,m),u=Math.max(i.right,m);i.x=h,i.width=u-h;var l=Math.min(i.y,x),s=Math.max(i.bottom,x);return i.y=l,i.height=s-l,i}},42981:T=>{T.exports=function(i,m,x){return i.x+=m,i.y+=x,i}},46907:T=>{T.exports=function(i,m){return i.x+=m.x,i.y+=m.y,i}},60170:T=>{T.exports=function(i,m){return i.x<m.right&&i.right>m.x&&i.y<m.bottom&&i.bottom>m.y}},13019:T=>{T.exports=function(i){return 2*(i.width+i.height)}},85133:(T,A,i)=>{var m=i(2141),x=i(39506);T.exports=function(u,l,s){void 0===s&&(s=new m),l=x(l);var o=Math.sin(l),f=Math.cos(l),a=f>0?u.width/2:u.width/-2,c=o>0?u.height/2:u.height/-2;return Math.abs(a*o)<Math.abs(c*f)?c=a*o/f:a=c*f/o,s.x=a+u.centerX,s.y=c+u.centerY,s}},26597:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=h.x+Math.random()*h.width,u.y=h.y+Math.random()*h.height,u}},86470:(T,A,i)=>{var m=i(30976),x=i(70273),h=i(2141);T.exports=function(l,s,o){if(void 0===o&&(o=new h),x(l,s))switch(m(0,3)){case 0:o.x=l.x+Math.random()*(s.right-l.x),o.y=l.y+Math.random()*(s.top-l.y);break;case 1:o.x=s.x+Math.random()*(l.right-s.x),o.y=s.bottom+Math.random()*(l.bottom-s.bottom);break;case 2:o.x=l.x+Math.random()*(s.x-l.x),o.y=s.y+Math.random()*(l.bottom-s.y);break;case 3:o.x=s.right+Math.random()*(l.right-s.right),o.y=l.y+Math.random()*(s.bottom-l.y)}return o}},87841:(T,A,i)=>{var m=i(83419),x=i(37303),h=i(20812),u=i(34819),l=i(23777),s=i(23031),o=i(26597),f=new m({initialize:function(c,p,d,v){void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=0),this.type=l.RECTANGLE,this.x=c,this.y=p,this.width=d,this.height=v},contains:function(a,c){return x(this,a,c)},getPoint:function(a,c){return h(this,a,c)},getPoints:function(a,c,p){return u(this,a,c,p)},getRandomPoint:function(a){return o(this,a)},setTo:function(a,c,p,d){return this.x=a,this.y=c,this.width=p,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,c){return void 0===c&&(c=a),this.x=a,this.y=c,this},setSize:function(a,c){return void 0===c&&(c=a),this.width=a,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return void 0===a&&(a=new s),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return void 0===a&&(a=new s),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return void 0===a&&(a=new s),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return void 0===a&&(a=new s),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){this.width=a>=this.right?0:this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){this.width=a<=this.x?0:a-this.x}},top:{get:function(){return this.y},set:function(a){this.height=a>=this.bottom?0:this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){this.height=a<=this.y?0:a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});T.exports=f},94845:T=>{T.exports=function(i,m){return i.width===m.width&&i.height===m.height}},31730:T=>{T.exports=function(i,m,x){return void 0===x&&(x=m),i.width*=m,i.height*=x,i}},36899:(T,A,i)=>{var m=i(87841);T.exports=function(h,u,l){void 0===l&&(l=new m);var s=Math.min(h.x,u.x),o=Math.min(h.y,u.y),f=Math.max(h.right,u.right)-s,a=Math.max(h.bottom,u.bottom)-o;return l.setTo(s,o,f,a)}},93232:(T,A,i)=>{var m=i(87841);m.Area=i(62224),m.Ceil=i(98615),m.CeilAll=i(31688),m.CenterOn=i(67502),m.Clone=i(65085),m.Contains=i(37303),m.ContainsPoint=i(96553),m.ContainsRect=i(70273),m.CopyFrom=i(43459),m.Decompose=i(77493),m.Equals=i(9219),m.FitInside=i(53751),m.FitOutside=i(16088),m.Floor=i(80774),m.FloorAll=i(83859),m.FromPoints=i(19217),m.FromXY=i(9477),m.GetAspectRatio=i(8249),m.GetCenter=i(27165),m.GetPoint=i(20812),m.GetPoints=i(34819),m.GetSize=i(51313),m.Inflate=i(86091),m.Intersection=i(53951),m.MarchingAnts=i(14649),m.MergePoints=i(33595),m.MergeRect=i(20074),m.MergeXY=i(92171),m.Offset=i(42981),m.OffsetPoint=i(46907),m.Overlaps=i(60170),m.Perimeter=i(13019),m.PerimeterPoint=i(85133),m.Random=i(26597),m.RandomOutside=i(86470),m.SameDimensions=i(94845),m.Scale=i(31730),m.Union=i(36899),T.exports=m},41658:T=>{T.exports=function(i){var m=i.x1,x=i.y1;return Math.abs(((i.x3-m)*(i.y2-x)-(i.x2-m)*(i.y3-x))/2)}},39208:(T,A,i)=>{var m=i(16483);T.exports=function(h,u,l){var s=l*(Math.sqrt(3)/2);return new m(h,u,h+l/2,u+s,h-l/2,u+s)}},39545:(T,A,i)=>{var m=i(94811),x=i(16483);T.exports=function(u,l,s,o,f){void 0===l&&(l=null),void 0===s&&(s=1),void 0===o&&(o=1),void 0===f&&(f=[]);for(var c,p,d,a=m(u,l),w=0;w<a.length;w+=3)f.push(new x(u[2*(c=a[w])]*s,u[2*c+1]*o,u[2*(p=a[w+1])]*s,u[2*p+1]*o,u[2*(d=a[w+2])]*s,u[2*d+1]*o));return f}},90301:(T,A,i)=>{var m=i(16483);T.exports=function(h,u,l,s){return void 0===s&&(s=l),new m(h,u,h,u-s,h+l,u)}},23707:(T,A,i)=>{var m=i(97523),x=i(13584);T.exports=function(u,l,s,o){void 0===o&&(o=m);var f=o(u);return x(u,l-f.x,s-f.y)}},97523:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){return void 0===u&&(u=new m),u.x=(h.x1+h.x2+h.x3)/3,u.y=(h.y1+h.y2+h.y3)/3,u}},24951:(T,A,i)=>{var m=i(26099);function x(u,l,s,o){return u*o-l*s}T.exports=function(u,l){void 0===l&&(l=new m);var s=u.x3,o=u.y3,f=u.x1-s,a=u.y1-o,c=u.x2-s,p=u.y2-o,d=2*x(f,a,c,p),v=x(a,f*f+a*a,p,c*c+p*p),y=x(f,f*f+a*a,c,c*c+p*p);return l.x=s-v/d,l.y=o+y/d,l}},85614:(T,A,i)=>{var m=i(96503);T.exports=function(h,u){void 0===u&&(u=new m);var M,w,l=h.x1,s=h.y1,o=h.x2,f=h.y2,a=h.x3,c=h.y3,p=o-l,d=f-s,v=a-l,y=c-s,S=p*(l+o)+d*(s+f),b=v*(l+a)+y*(s+c),C=2*(p*(c-f)-d*(a-o));if(Math.abs(C)<1e-6){var R=Math.min(l,o,a),I=Math.min(s,f,c);M=.5*(Math.max(l,o,a)-R),w=.5*(Math.max(s,f,c)-I),u.x=R+M,u.y=I+w,u.radius=Math.sqrt(M*M+w*w)}else u.x=(y*S-d*b)/C,u.y=(p*b-v*S)/C,M=u.x-l,w=u.y-s,u.radius=Math.sqrt(M*M+w*w);return u}},74422:(T,A,i)=>{var m=i(16483);T.exports=function(h){return new m(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)}},10690:T=>{T.exports=function(i,m,x){var h=i.x3-i.x1,u=i.y3-i.y1,l=i.x2-i.x1,s=i.y2-i.y1,o=m-i.x1,f=x-i.y1,a=h*h+u*u,c=h*l+u*s,p=h*o+u*f,d=l*l+s*s,v=l*o+s*f,y=a*d-c*c,S=0===y?0:1/y,b=(d*p-c*v)*S,C=(a*v-c*p)*S;return b>=0&&C>=0&&b+C<1}},48653:T=>{T.exports=function(i,m,x,h){void 0===x&&(x=!1),void 0===h&&(h=[]);for(var v,y,S,b,C,M,u=i.x3-i.x1,l=i.y3-i.y1,s=i.x2-i.x1,o=i.y2-i.y1,f=u*u+l*l,a=u*s+l*o,c=s*s+o*o,p=f*c-a*a,d=0===p?0:1/p,w=i.x1,R=i.y1,I=0;I<m.length&&(y=(f*(M=s*(S=m[I].x-w)+o*(b=m[I].y-R))-a*(C=u*S+l*b))*d,!((v=(c*C-a*M)*d)>=0&&y>=0&&v+y<1&&(h.push({x:m[I].x,y:m[I].y}),x)));I++);return h}},96006:(T,A,i)=>{var m=i(10690);T.exports=function(h,u){return m(h,u.x,u.y)}},71326:T=>{T.exports=function(i,m){return m.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)}},71694:T=>{T.exports=function(i,m){return void 0===m&&(m=[]),m.push({x:i.x1,y:i.y1}),m.push({x:i.x2,y:i.y2}),m.push({x:i.x3,y:i.y3}),m}},33522:T=>{T.exports=function(i,m){return i.x1===m.x1&&i.y1===m.y1&&i.x2===m.x2&&i.y2===m.y2&&i.x3===m.x3&&i.y3===m.y3}},20437:(T,A,i)=>{var m=i(2141),x=i(35001);T.exports=function(u,l,s){void 0===s&&(s=new m);var o=u.getLineA(),f=u.getLineB(),a=u.getLineC();if(l<=0||l>=1)return s.x=o.x1,s.y=o.y1,s;var c=x(o),p=x(f),d=x(a),y=(c+p+d)*l,S=0;return y<c?(s.x=o.x1+(o.x2-o.x1)*(S=y/c),s.y=o.y1+(o.y2-o.y1)*S):y>c+p?(s.x=a.x1+(a.x2-a.x1)*(S=(y-=c+p)/d),s.y=a.y1+(a.y2-a.y1)*S):(s.x=f.x1+(f.x2-f.x1)*(S=(y-=c)/p),s.y=f.y1+(f.y2-f.y1)*S),s}},80672:(T,A,i)=>{var m=i(35001),x=i(2141);T.exports=function(u,l,s,o){void 0===o&&(o=[]);var f=u.getLineA(),a=u.getLineB(),c=u.getLineC(),p=m(f),d=m(a),v=m(c),y=p+d+v;!l&&s>0&&(l=y/s);for(var S=0;S<l;S++){var b=y*(S/l),C=0,M=new x;b<p?(M.x=f.x1+(f.x2-f.x1)*(C=b/p),M.y=f.y1+(f.y2-f.y1)*C):b>p+d?(M.x=c.x1+(c.x2-c.x1)*(C=(b-=p+d)/v),M.y=c.y1+(c.y2-c.y1)*C):(M.x=a.x1+(a.x2-a.x1)*(C=(b-=p)/d),M.y=a.y1+(a.y2-a.y1)*C),o.push(M)}return o}},39757:(T,A,i)=>{var m=i(2141);function x(u,l,s,o){var f=u-s,a=l-o;return Math.sqrt(f*f+a*a)}T.exports=function(u,l){void 0===l&&(l=new m);var s=u.x1,o=u.y1,f=u.x2,a=u.y2,c=u.x3,p=u.y3,d=x(c,p,f,a),v=x(s,o,c,p),y=x(f,a,s,o),S=d+v+y;return l.x=(s*d+f*v+c*y)/S,l.y=(o*d+a*v+p*y)/S,l}},13584:T=>{T.exports=function(i,m,x){return i.x1+=m,i.y1+=x,i.x2+=m,i.y2+=x,i.x3+=m,i.y3+=x,i}},1376:(T,A,i)=>{var m=i(35001);T.exports=function(h){var u=h.getLineA(),l=h.getLineB(),s=h.getLineC();return m(u)+m(l)+m(s)}},90260:(T,A,i)=>{var m=i(2141);T.exports=function(h,u){void 0===u&&(u=new m);var l=h.x2-h.x1,s=h.y2-h.y1,o=h.x3-h.x1,f=h.y3-h.y1,a=Math.random(),c=Math.random();return a+c>=1&&(a=1-a,c=1-c),u.x=h.x1+(l*a+o*c),u.y=h.y1+(s*a+f*c),u}},52172:(T,A,i)=>{var m=i(99614),x=i(39757);T.exports=function(u,l){var s=x(u);return m(u,s.x,s.y,l)}},49907:(T,A,i)=>{var m=i(99614);T.exports=function(h,u,l){return m(h,u.x,u.y,l)}},99614:T=>{T.exports=function(i,m,x,h){var u=Math.cos(h),l=Math.sin(h),s=i.x1-m,o=i.y1-x;return i.x1=s*u-o*l+m,i.y1=s*l+o*u+x,i.x2=(s=i.x2-m)*u-(o=i.y2-x)*l+m,i.y2=s*l+o*u+x,i.x3=(s=i.x3-m)*u-(o=i.y3-x)*l+m,i.y3=s*l+o*u+x,i}},16483:(T,A,i)=>{var m=i(83419),x=i(10690),h=i(20437),u=i(80672),l=i(23777),s=i(23031),o=i(90260),f=new m({initialize:function(c,p,d,v,y,S){void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=0),void 0===y&&(y=0),void 0===S&&(S=0),this.type=l.TRIANGLE,this.x1=c,this.y1=p,this.x2=d,this.y2=v,this.x3=y,this.y3=S},contains:function(a,c){return x(this,a,c)},getPoint:function(a,c){return h(this,a,c)},getPoints:function(a,c,p){return u(this,a,c,p)},getRandomPoint:function(a){return o(this,a)},setTo:function(a,c,p,d,v,y){return void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=0),void 0===y&&(y=0),this.x1=a,this.y1=c,this.x2=p,this.y2=d,this.x3=v,this.y3=y,this},getLineA:function(a){return void 0===a&&(a=new s),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return void 0===a&&(a=new s),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return void 0===a&&(a=new s),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var c;this.x1-=c=this.x1<=this.x2&&this.x1<=this.x3?this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?this.x2-a:this.x3-a,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var c;this.x1-=c=this.x1>=this.x2&&this.x1>=this.x3?this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?this.x2-a:this.x3-a,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var c;this.y1-=c=this.y1<=this.y2&&this.y1<=this.y3?this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?this.y2-a:this.y3-a,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var c;this.y1-=c=this.y1>=this.y2&&this.y1>=this.y3?this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?this.y2-a:this.y3-a,this.y2-=c,this.y3-=c}}});T.exports=f},84435:(T,A,i)=>{var m=i(16483);m.Area=i(41658),m.BuildEquilateral=i(39208),m.BuildFromPolygon=i(39545),m.BuildRight=i(90301),m.CenterOn=i(23707),m.Centroid=i(97523),m.CircumCenter=i(24951),m.CircumCircle=i(85614),m.Clone=i(74422),m.Contains=i(10690),m.ContainsArray=i(48653),m.ContainsPoint=i(96006),m.CopyFrom=i(71326),m.Decompose=i(71694),m.Equals=i(33522),m.GetPoint=i(20437),m.GetPoints=i(80672),m.InCenter=i(39757),m.Perimeter=i(1376),m.Offset=i(13584),m.Random=i(90260),m.Rotate=i(52172),m.RotateAroundPoint=i(49907),m.RotateAroundXY=i(99614),T.exports=m},74457:T=>{T.exports=function(i,m,x){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:m,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},84409:T=>{T.exports=function(i,m){return function(x,h,u,l){var s=i.getPixelAlpha(h,u,l.texture.key,l.frame.name);return s&&s>=m}}},7003:(T,A,i)=>{var m=i(83419),x=i(93301),h=i(50792),u=i(8214),l=i(8443),s=i(78970),o=i(85098),f=i(42515),a=i(36210),c=i(61340),p=i(85955),d=new m({initialize:function(y,S){this.game=y,this.config=S,this.enabled=!0,this.events=new h,this.isOver=!0,this.defaultCursor="",this.keyboard=S.inputKeyboard?new s(this):null,this.mouse=S.inputMouse?new o(this):null,this.touch=S.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=S.inputActivePointers,S.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var b=0;b<=this.pointersTotal;b++){var C=new f(this,b);C.smoothFactor=S.inputSmoothFactor,this.pointers.push(C)}this.mousePointer=S.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],y.events.once(l.BOOT,this.boot,this)},boot:function(){var v=this.game,y=v.events;this.canvas=v.canvas,this.scaleManager=v.scale,this.events.emit(u.MANAGER_BOOT),y.on(l.PRE_RENDER,this.preRender,this),y.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(v){this.isOver=!0,this.events.emit(u.GAME_OVER,v)},setCanvasOut:function(v){this.isOver=!1,this.events.emit(u.GAME_OUT,v)},preRender:function(){var v=this.game.loop.now,y=this.game.loop.delta,S=this.game.scene.getScenes(!0,!0);this.time=v,this.events.emit(u.MANAGER_UPDATE);for(var b=0;b<S.length;b++){var C=S[b];if(C.sys.input&&C.sys.input.updatePoll(v,y)&&this.globalTopOnly)return}},setDefaultCursor:function(v){this.defaultCursor=v,this.canvas.style.cursor!==v&&(this.canvas.style.cursor=v)},setCursor:function(v){v.cursor&&(this.canvas.style.cursor=v.cursor)},resetCursor:function(v){v.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(v){void 0===v&&(v=1);var y=[];this.pointersTotal+v>10&&(v=10-this.pointersTotal);for(var S=0;S<v;S++){var C=new f(this,this.pointers.length);C.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(C),this.pointersTotal++,y.push(C)}return y},updateInputPlugins:function(v,y){var S=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var b=0;b<S.length;b++){var C=S[b];if(C.sys.input&&(C.sys.input.update(v,y)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(v){for(var y=this.pointers,S=[],b=0;b<v.changedTouches.length;b++)for(var C=v.changedTouches[b],M=1;M<this.pointersTotal;M++){var w=y[M];if(!w.active){w.touchstart(C,v),this.activePointer=w,S.push(w);break}}this.updateInputPlugins(x.TOUCH_START,S)},onTouchMove:function(v){for(var y=this.pointers,S=[],b=0;b<v.changedTouches.length;b++)for(var C=v.changedTouches[b],M=1;M<this.pointersTotal;M++){var w=y[M];if(w.active&&w.identifier===C.identifier){var I=document.elementFromPoint(C.clientX,C.clientY)===this.canvas;!this.isOver&&I?this.setCanvasOver(v):this.isOver&&!I&&this.setCanvasOut(v),this.isOver&&(w.touchmove(C,v),this.activePointer=w,S.push(w));break}}this.updateInputPlugins(x.TOUCH_MOVE,S)},onTouchEnd:function(v){for(var y=this.pointers,S=[],b=0;b<v.changedTouches.length;b++)for(var C=v.changedTouches[b],M=1;M<this.pointersTotal;M++){var w=y[M];if(w.active&&w.identifier===C.identifier){w.touchend(C,v),S.push(w);break}}this.updateInputPlugins(x.TOUCH_END,S)},onTouchCancel:function(v){for(var y=this.pointers,S=[],b=0;b<v.changedTouches.length;b++)for(var C=v.changedTouches[b],M=1;M<this.pointersTotal;M++){var w=y[M];if(w.active&&w.identifier===C.identifier){w.touchcancel(C,v),S.push(w);break}}this.updateInputPlugins(x.TOUCH_CANCEL,S)},onMouseDown:function(v){var y=this.mousePointer;y.down(v),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(v){var y=this.mousePointer;y.move(v),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(v){var y=this.mousePointer;y.up(v),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(v){var y=this.mousePointer;y.wheel(v),this.activePointer=y,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(v){var y=this.mouse.locked;this.mousePointer.locked=y,this.events.emit(u.POINTERLOCK_CHANGE,v,y)},inputCandidate:function(v,y){var S=v.input;if(!S||!S.enabled||!v.willRender(y))return!1;var b=!0,C=v.parentContainer;if(C)do{if(!C.willRender(y)){b=!1;break}C=C.parentContainer}while(C);return b},hitTest:function(v,y,S,b){void 0===b&&(b=this._tempHitTest);var C=this._tempPoint,M=S.scrollX,w=S.scrollY;b.length=0,S.getWorldPoint(v.x,v.y,C),v.worldX=C.x,v.worldY=C.y;for(var L={x:0,y:0},F=this._tempMatrix,G=this._tempMatrix2,z=0;z<y.length;z++){var B=y[z];if(this.inputCandidate(B,S)){var V=C.x+M*B.scrollFactorX-M,Y=C.y+w*B.scrollFactorY-w;B.parentContainer?(B.getWorldTransformMatrix(F,G),F.applyInverse(V,Y,L)):p(V,Y,B.x,B.y,B.rotation,B.scaleX,B.scaleY,L),this.pointWithinHitArea(B,L.x,L.y)&&b.push(B)}}return b},pointWithinHitArea:function(v,y,S){y+=v.displayOriginX,S+=v.displayOriginY;var b=v.input;return!(!b||!b.hitAreaCallback(b.hitArea,y,S,v)||(b.localX=y,b.localY=S,0))},pointWithinInteractiveObject:function(v,y,S){return!!v.hitArea&&(S+=v.gameObject.displayOriginY,v.localX=y+=v.gameObject.displayOriginX,v.localY=S,v.hitAreaCallback(v.hitArea,y,S,v))},transformPointer:function(v,y,S,b){var C=v.position,M=v.prevPosition;M.x=C.x,M.y=C.y;var w=this.scaleManager.transformX(y),R=this.scaleManager.transformY(S),I=v.smoothFactor;b&&0!==I?(C.x=w*I+M.x*(1-I),C.y=R*I+M.y*(1-I)):(C.x=w,C.y=R)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var v=0;v<this.pointers.length;v++)this.pointers[v].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});T.exports=d},48205:(T,A,i)=>{var m=i(96503),x=i(87902),h=i(83419),u=i(93301),l=i(74457),s=i(84409),o=i(20339),f=i(8497),a=i(81154),c=i(8214),p=i(50792),d=i(95540),v=i(23777),y=i(89639),S=i(41212),b=i(37277),C=i(87841),M=i(37303),w=i(44594),R=i(16483),I=i(10690),L=new h({Extends:p,initialize:function(G){p.call(this),this.scene=G,this.systems=G.sys,this.settings=G.sys.settings,this.manager=G.sys.game.input,this.pluginEvents=new p,this.enabled=!0,y.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var z={cancelled:!1};this._eventContainer={stopPropagation:function(){z.cancelled=!0}},this._eventData=z,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,G.sys.events.once(w.BOOT,this.boot,this),G.sys.events.on(w.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(w.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var F=this.systems.events;F.on(w.TRANSITION_START,this.transitionIn,this),F.on(w.TRANSITION_OUT,this.transitionOut,this),F.on(w.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(w.PRE_UPDATE,this.preUpdate,this),F.once(w.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(F){this.isActive()&&this.emit(c.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(c.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var F=this._pendingRemoval,G=this._pendingInsertion,z=F.length;if(0!==z||0!==G.length){for(var V=this._list,Y=0;Y<z;Y++){var $=F[Y],J=V.indexOf($);J>-1&&(V.splice(J,1),this.clear($,!0))}this._pendingRemoval.length=0,this._list=V.concat(G.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(F,G){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,F,G),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var z,B=this.manager,V=B.pointers,Y=B.pointersTotal;for(z=0;z<Y;z++)V[z].updateMotion();if(0===this._list.length)return!1;var $=this.pollRate;if(-1===$)return!1;if($>0){if(this._pollTimer-=G,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var J=!1;for(z=0;z<Y;z++){var W=0,k=V[z];this._tempZones=[],this._temp=this.hitTestPointer(k),this.sortGameObjects(this._temp,k),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),W+=this.processOverOutEvents(k),2===this.getDragState(k)&&this.processDragThresholdEvent(k,F),W>0&&(J=!0)}return J},update:function(F,G){if(!this.isActive())return!1;for(var z=G.length,B=!1,V=0;V<z;V++){var Y=0,$=G[V];switch(this._tempZones=[],this._temp=this.hitTestPointer($),this.sortGameObjects(this._temp,$),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case u.MOUSE_DOWN:Y+=this.processDragDownEvent($),Y+=this.processDownEvents($),Y+=this.processOverOutEvents($);break;case u.MOUSE_UP:Y+=this.processDragUpEvent($),Y+=this.processUpEvents($),Y+=this.processOverOutEvents($);break;case u.TOUCH_START:Y+=this.processDragDownEvent($),Y+=this.processDownEvents($),Y+=this.processOverEvents($);break;case u.TOUCH_END:case u.TOUCH_CANCEL:Y+=this.processDragUpEvent($),Y+=this.processUpEvents($),Y+=this.processOutEvents($);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:Y+=this.processDragMoveEvent($),Y+=this.processMoveEvents($),Y+=this.processOverOutEvents($);break;case u.MOUSE_WHEEL:Y+=this.processWheelEvent($)}Y>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(F,G){void 0===G&&(G=!1),this.disable(F);var z=F.input;z&&(this.removeDebug(F),this.manager.resetCursor(z),z.gameObject=void 0,z.target=void 0,z.hitArea=void 0,z.hitAreaCallback=void 0,z.callbackContext=void 0,F.input=null),G||this.queueForRemoval(F);var B=this._draggable.indexOf(F);return B>-1&&this._draggable.splice(B,1),F},disable:function(F){var G=F.input;G&&(G.enabled=!1,G.dragState=0);for(var $,z=this._drag,B=this._over,V=this.manager,Y=0;Y<V.pointersTotal;Y++)($=z[Y].indexOf(F))>-1&&z[Y].splice($,1),($=B[Y].indexOf(F))>-1&&B[Y].splice($,1);return this},enable:function(F,G,z,B){return void 0===B&&(B=!1),F.input?F.input.enabled=!0:this.setHitArea(F,G,z),F.input&&B&&!F.input.dropZone&&(F.input.dropZone=B),this},hitTestPointer:function(F){for(var G=this.cameras.getCamerasBelowPointer(F),z=0;z<G.length;z++){for(var B=G[z],V=this.manager.hitTest(F,this._list,B),Y=0;Y<V.length;Y++){var $=V[Y];$.input.dropZone&&this._tempZones.push($)}if(V.length>0)return F.camera=B,V}return F.camera=G[0],[]},processDownEvents:function(F){var G=0,z=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var Y=!1,$=0;$<z.length;$++){var J=z[$];if(J.input&&J.input.enabled){if(G++,J.emit(c.GAMEOBJECT_POINTER_DOWN,F,J.input.localX,J.input.localY,V),B.cancelled||!J.input||!J.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,F,J,V),B.cancelled||!J.input){Y=!0;break}}}return!Y&&this.manager&&(F.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,F,z):this.emit(c.POINTER_DOWN_OUTSIDE,F)),G},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,G){this._dragState[F.id]=G},processDragThresholdEvent:function(F,G){var z=!1,B=this.dragTimeThreshold,V=this.dragDistanceThreshold;if((V>0&&o(F.x,F.y,F.downX,F.downY)>=V||B>0&&G>=F.downTime+B)&&(z=!0),z)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(3!==this.getDragState(F))return 0;for(var G=this._drag[F.id],z=0;z<G.length;z++){var B=G[z],V=B.input;V.dragState=2,V.dragStartX=B.x,V.dragStartY=B.y,V.dragStartXGlobal=F.worldX,V.dragStartYGlobal=F.worldY,V.dragX=V.dragStartXGlobal-V.dragStartX,V.dragY=V.dragStartYGlobal-V.dragStartY,B.emit(c.GAMEOBJECT_DRAG_START,F,V.dragX,V.dragY),this.emit(c.DRAG_START,F,B)}return this.setDragState(F,4),G.length},processDragDownEvent:function(F){var G=this._temp;if(0===this._draggable.length||0===G.length||!F.primaryDown||0!==this.getDragState(F))return 0;this.setDragState(F,1);for(var z=[],B=0;B<G.length;B++){var V=G[B];V.input.draggable&&0===V.input.dragState&&z.push(V)}return 0===z.length?(this.setDragState(F,0),0):(z.length>1&&(this.sortGameObjects(z,F),this.topOnly&&z.splice(1)),this._drag[F.id]=z,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(2===this.getDragState(F)&&this.processDragThresholdEvent(F,this.manager.game.loop.now),4!==this.getDragState(F))return 0;for(var G=this._tempZones,z=this._drag[F.id],B=0;B<z.length;B++){var W,k,V=z[B],Y=V.input,$=Y.target;if($){var J=G.indexOf($);0===J?(V.emit(c.GAMEOBJECT_DRAG_OVER,F,$),this.emit(c.DRAG_OVER,F,V,$)):J>0?(V.emit(c.GAMEOBJECT_DRAG_LEAVE,F,$),this.emit(c.DRAG_LEAVE,F,V,$),Y.target=G[0],V.emit(c.GAMEOBJECT_DRAG_ENTER,F,$=Y.target),this.emit(c.DRAG_ENTER,F,V,$)):(V.emit(c.GAMEOBJECT_DRAG_LEAVE,F,$),this.emit(c.DRAG_LEAVE,F,V,$),G[0]?(Y.target=G[0],V.emit(c.GAMEOBJECT_DRAG_ENTER,F,$=Y.target),this.emit(c.DRAG_ENTER,F,V,$)):Y.target=null)}else!$&&G[0]&&(Y.target=G[0],V.emit(c.GAMEOBJECT_DRAG_ENTER,F,$=Y.target),this.emit(c.DRAG_ENTER,F,V,$));if(V.parentContainer){var N=F.worldX-Y.dragStartXGlobal,H=F.worldY-Y.dragStartYGlobal,X=V.getParentRotation(),K=N*Math.cos(X)+H*Math.sin(X),Q=H*Math.cos(X)-N*Math.sin(X);W=(K*=1/V.parentContainer.scaleX)+Y.dragStartX,k=(Q*=1/V.parentContainer.scaleY)+Y.dragStartY}else W=F.worldX-Y.dragX,k=F.worldY-Y.dragY;V.emit(c.GAMEOBJECT_DRAG,F,W,k),this.emit(c.DRAG,F,V,W,k)}return z.length},processDragUpEvent:function(F){for(var G=this._drag[F.id],z=0;z<G.length;z++){var B=G[z],V=B.input;if(V&&2===V.dragState){V.dragState=0,V.dragX=V.localX-B.displayOriginX,V.dragY=V.localY-B.displayOriginY;var Y=!1,$=V.target;$&&(B.emit(c.GAMEOBJECT_DROP,F,$),this.emit(c.DROP,F,B,$),V.target=null,Y=!0),B.input&&B.input.enabled&&(B.emit(c.GAMEOBJECT_DRAG_END,F,V.dragX,V.dragY,Y),this.emit(c.DRAG_END,F,B,Y))}}return this.setDragState(F,0),G.splice(0),0},processMoveEvents:function(F){var G=0,z=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var Y=!1,$=0;$<z.length;$++){var J=z[$];if(J.input&&J.input.enabled){if(G++,J.emit(c.GAMEOBJECT_POINTER_MOVE,F,J.input.localX,J.input.localY,V),B.cancelled||!J.input||!J.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,F,J,V),B.cancelled||!J.input||!J.input.enabled){Y=!0;break}if(this.topOnly)break}}return Y||this.emit(c.POINTER_MOVE,F,z),G},processWheelEvent:function(F){var G=0,z=this._temp,B=this._eventData,V=this._eventContainer;B.cancelled=!1;for(var Y=!1,$=F.deltaX,J=F.deltaY,W=F.deltaZ,k=0;k<z.length;k++){var N=z[k];if(N.input&&N.input.enabled){if(G++,N.emit(c.GAMEOBJECT_POINTER_WHEEL,F,$,J,W,V),B.cancelled||!N.input||!N.input.enabled){Y=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,F,N,$,J,W,V),B.cancelled||!N.input||!N.input.enabled){Y=!0;break}}}return Y||this.emit(c.POINTER_WHEEL,F,z,$,J,W),G},processOverEvents:function(F){var G=this._temp,z=0,B=G.length,V=[];if(B>0){var Y=this.manager,$=this._eventData,J=this._eventContainer;$.cancelled=!1;for(var W=!1,k=0;k<B;k++){var N=G[k];if(N.input&&N.input.enabled){if(V.push(N),Y.setCursor(N.input),N.emit(c.GAMEOBJECT_POINTER_OVER,F,N.input.localX,N.input.localY,J),z++,$.cancelled||!N.input||!N.input.enabled){W=!0;break}if(this.emit(c.GAMEOBJECT_OVER,F,N,J),$.cancelled||!N.input||!N.input.enabled){W=!0;break}}}W||this.emit(c.POINTER_OVER,F,V)}return this._over[F.id]=V,z},processOutEvents:function(F){var G=this._over[F.id],z=0,B=G.length;if(B>0){var V=this.manager,Y=this._eventData,$=this._eventContainer;Y.cancelled=!1;var J=!1;this.sortGameObjects(G,F);for(var W=0;W<B;W++){var k=G[W];if((k=G[W]).input&&k.input.enabled){if(V.resetCursor(k.input),k.emit(c.GAMEOBJECT_POINTER_OUT,F,$),z++,Y.cancelled||!k.input||!k.input.enabled){J=!0;break}if(this.emit(c.GAMEOBJECT_OUT,F,k,$),Y.cancelled||!k.input||!k.input.enabled){J=!0;break}J||this.emit(c.POINTER_OUT,F,G)}}this._over[F.id]=[]}return z},processOverOutEvents:function(F){var z,B,G=this._temp,V=[],Y=[],$=[],J=this._over[F.id],W=this._drag[F.id],k=this.manager;for(z=0;z<J.length;z++)-1===G.indexOf(B=J[z])&&-1===W.indexOf(B)?V.push(B):$.push(B);for(z=0;z<G.length;z++)-1===J.indexOf(B=G[z])&&Y.push(B);var N=V.length,H=0,X=this._eventData,K=this._eventContainer;X.cancelled=!1;var Q=!1;if(N>0){for(this.sortGameObjects(V,F),z=0;z<N;z++)if((B=V[z]).input&&B.input.enabled){if(k.resetCursor(B.input),B.emit(c.GAMEOBJECT_POINTER_OUT,F,K),H++,X.cancelled||!B.input||!B.input.enabled){Q=!0;break}if(this.emit(c.GAMEOBJECT_OUT,F,B,K),X.cancelled||!B.input||!B.input.enabled){Q=!0;break}}Q||this.emit(c.POINTER_OUT,F,V)}if(N=Y.length,X.cancelled=!1,Q=!1,N>0){for(this.sortGameObjects(Y,F),z=0;z<N;z++)if((B=Y[z]).input&&B.input.enabled){if(k.setCursor(B.input),B.emit(c.GAMEOBJECT_POINTER_OVER,F,B.input.localX,B.input.localY,K),H++,X.cancelled||!B.input||!B.input.enabled){Q=!0;break}if(this.emit(c.GAMEOBJECT_OVER,F,B,K),X.cancelled||!B.input||!B.input.enabled){Q=!0;break}}Q||this.emit(c.POINTER_OVER,F,Y)}return J=$.concat(Y),this._over[F.id]=this.sortGameObjects(J,F),H},processUpEvents:function(F){var G=this._temp,z=this._eventData,B=this._eventContainer;z.cancelled=!1;for(var V=!1,Y=0;Y<G.length;Y++){var $=G[Y];if($.input&&$.input.enabled){if($.emit(c.GAMEOBJECT_POINTER_UP,F,$.input.localX,$.input.localY,B),z.cancelled||!$.input||!$.input.enabled){V=!0;break}if(this.emit(c.GAMEOBJECT_UP,F,$,B),z.cancelled||!$.input||!$.input.enabled){V=!0;break}}}return!V&&this.manager&&(F.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,F,G):this.emit(c.POINTER_UP_OUTSIDE,F)),G.length},queueForInsertion:function(F){return-1===this._pendingInsertion.indexOf(F)&&-1===this._list.indexOf(F)&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,G){void 0===G&&(G=!0),Array.isArray(F)||(F=[F]);for(var z=0;z<F.length;z++){var B=F[z];B.input.draggable=G;var V=this._draggable.indexOf(B);G&&-1===V?this._draggable.push(B):!G&&V>-1&&this._draggable.splice(V,1)}return this},makePixelPerfect:function(F){return void 0===F&&(F=1),s(this.systems.textures,F)},setHitArea:function(F,G,z){if(void 0===G)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var B=!1,V=!1,Y=!1,$=!1,J=!1,W=!0;if(S(G)&&Object.keys(G).length){var k=G;if(!F.some(function(q){return q.hasOwnProperty("faces")})){G=d(k,"hitArea",null),z=d(k,"hitAreaCallback",null),J=d(k,"pixelPerfect",!1);var H=d(k,"alphaTolerance",1);J&&(G={},z=this.makePixelPerfect(H))}B=d(k,"draggable",!1),V=d(k,"dropZone",!1),Y=d(k,"cursor",!1),$=d(k,"useHandCursor",!1),(!G||!z)&&(this.setHitAreaFromTexture(F),W=!1)}else"function"==typeof G&&!z&&(z=G,G={});for(var X=0;X<F.length;X++){var K=F[X];if(J&&"Container"===K.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var Q=K.input?K.input:l(K,G,z);Q.customHitArea=W,Q.dropZone=V,Q.cursor=$?"pointer":Y,K.input=Q,B&&this.setDraggable(K),this.queueForInsertion(K)}}return this},setHitAreaCircle:function(F,G,z,B,V){void 0===V&&(V=x);var Y=new m(G,z,B);return this.setHitArea(F,Y,V)},setHitAreaEllipse:function(F,G,z,B,V,Y){void 0===Y&&(Y=a);var $=new f(G,z,B,V);return this.setHitArea(F,$,Y)},setHitAreaFromTexture:function(F,G){void 0===G&&(G=M),Array.isArray(F)||(F=[F]);for(var z=0;z<F.length;z++){var B=F[z],V=B.frame,Y=0,$=0;B.width?(Y=B.width,$=B.height):V&&(Y=V.realWidth,$=V.realHeight),"Container"!==B.type||0!==Y&&0!==$?0!==Y&&0!==$&&(B.input=l(B,new C(0,0,Y,$),G),this.queueForInsertion(B)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(F,G,z,B,V,Y){void 0===Y&&(Y=M);var $=new C(G,z,B,V);return this.setHitArea(F,$,Y)},setHitAreaTriangle:function(F,G,z,B,V,Y,$,J){void 0===J&&(J=I);var W=new R(G,z,B,V,Y,$);return this.setHitArea(F,W,J)},enableDebug:function(F,G){void 0===G&&(G=65280);var z=F.input;if(!z||!z.hitArea)return this;var B=z.hitArea,V=B.type,Y=z.hitAreaDebug,$=this.systems.add,J=this.systems.updateList;Y&&(J.remove(Y),Y.destroy(),Y=null);var W=0,k=0;switch(V){case v.CIRCLE:Y=$.arc(0,0,B.radius),W=B.x-B.radius,k=B.y-B.radius;break;case v.ELLIPSE:Y=$.ellipse(0,0,B.width,B.height),W=B.x-B.width/2,k=B.y-B.height/2;break;case v.LINE:Y=$.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case v.POLYGON:Y=$.polygon(0,0,B.points);break;case v.RECTANGLE:Y=$.rectangle(0,0,B.width,B.height),W=B.x,k=B.y;break;case v.TRIANGLE:Y=$.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3)}return Y&&(Y.isFilled=!1,Y.strokeColor=G,Y.preUpdate=function(){Y.setVisible(F.visible),Y.setStrokeStyle(1/F.scale,Y.strokeColor),Y.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var N=F.x,H=F.y,X=F.rotation,K=F.scaleX,Q=F.scaleY;if(F.parentContainer){var q=F.getWorldTransformMatrix();N=q.tx,H=q.ty,X=q.rotation,K=q.scaleX,Q=q.scaleY}Y.setRotation(X),Y.setScale(K,Q),Y.setPosition(N+W*K,H+k*Q),Y.setScrollFactor(F.scrollFactorX,F.scrollFactorY),Y.setDepth(F.depth)},J.add(Y),z.hitAreaDebug=Y),this},removeDebug:function(F){var G=F.input;return G&&G.hitAreaDebug&&(G.hitAreaDebug.destroy(),G.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,G){if(F.length<2||!G.camera)return F;var z=G.camera.renderList;return F.sort(function(B,V){var Y=Math.max(z.indexOf(B),0);return Math.max(z.indexOf(V),0)-Y})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,G){if(!F.parentContainer&&!G.parentContainer)return this.displayList.getIndex(G)-this.displayList.getIndex(F);if(F.parentContainer===G.parentContainer)return G.parentContainer.getIndex(G)-F.parentContainer.getIndex(F);if(F.parentContainer===G)return-1;if(G.parentContainer===F)return 1;for(var z=F.getIndexList(),B=G.getIndexList(),V=Math.min(z.length,B.length),Y=0;Y<V;Y++){var $=z[Y],J=B[Y];if($!==J)return J-$}return B.length-z.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var G=this.manager;G.canvas.style.cursor=G.defaultCursor;var z=this.systems.events;z.off(w.TRANSITION_START,this.transitionIn,this),z.off(w.TRANSITION_OUT,this.transitionOut,this),z.off(w.TRANSITION_COMPLETE,this.transitionComplete,this),z.off(w.PRE_UPDATE,this.preUpdate,this),G.events.off(c.GAME_OUT,this.onGameOut,this),G.events.off(c.GAME_OVER,this.onGameOver,this),z.off(w.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,G=0;G<F.length;G++)F[G].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});b.register("InputPlugin",L,"input"),T.exports=L},89639:(T,A,i)=>{var m=i(35154),x={};T.exports={register:function(u,l,s,o,f){x[u]={plugin:l,mapping:s,settingsKey:o,configKey:f}},getPlugin:function(u){return x[u]},install:function(u){var l=u.scene.sys,s=l.settings.input,o=l.game.config;for(var f in x){var a=x[f].plugin,c=x[f].mapping;m(s,x[f].settingsKey,o[x[f].configKey])&&(u[c]=new a(u))}},remove:function(u){x.hasOwnProperty(u)&&delete x[u]}}},42515:(T,A,i)=>{var m=i(31040),x=i(83419),h=i(20339),u=i(43855),l=i(47235),s=i(26099),o=i(25892),f=new x({initialize:function(c,p){this.manager=c,this.id=p,this.camera=null,this.button=0,this.buttons=0,this.position=new s,this.prevPosition=new s,this.midPoint=new s(-1,-1),this.velocity=new s,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===p,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var c=a.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(a,c){return a.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var a=this.position.x,c=this.position.y,p=this.midPoint.x,d=this.midPoint.y;if(a!==p||c!==d){var v=l(this.motionFactor,p,a),y=l(this.motionFactor,d,c);u(v,a,.1)&&(v=a),u(y,c,.1)&&(y=c),this.midPoint.set(v,y);var S=a-v,b=c-y;this.velocity.set(S,b),this.angle=m(v,y,a,c),this.distance=Math.sqrt(S*S+b*b)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),0===a.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),0===a.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),o.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,c){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,c){this.event=c,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?m(this.downX,this.downY,this.x,this.y):m(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,c){void 0===a&&(a=10),void 0===c&&(c=[]);for(var p=this.prevPosition.x,d=this.prevPosition.y,v=this.position.x,y=this.position.y,S=0;S<a;S++){var b=1/a*S;c[S]={x:l(b,p,v),y:l(b,d,y)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});T.exports=f},93301:T=>{T.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:T=>{T.exports="boot"},85375:T=>{T.exports="destroy"},39843:T=>{T.exports="dragend"},23388:T=>{T.exports="dragenter"},16133:T=>{T.exports="drag"},27829:T=>{T.exports="dragleave"},53904:T=>{T.exports="dragover"},56058:T=>{T.exports="dragstart"},2642:T=>{T.exports="drop"},88171:T=>{T.exports="gameobjectdown"},36147:T=>{T.exports="dragend"},71692:T=>{T.exports="dragenter"},96149:T=>{T.exports="drag"},81285:T=>{T.exports="dragleave"},74048:T=>{T.exports="dragover"},21322:T=>{T.exports="dragstart"},49378:T=>{T.exports="drop"},86754:T=>{T.exports="gameobjectmove"},86433:T=>{T.exports="gameobjectout"},60709:T=>{T.exports="gameobjectover"},24081:T=>{T.exports="pointerdown"},11172:T=>{T.exports="pointermove"},18907:T=>{T.exports="pointerout"},95579:T=>{T.exports="pointerover"},35368:T=>{T.exports="pointerup"},26972:T=>{T.exports="wheel"},47078:T=>{T.exports="gameobjectup"},73802:T=>{T.exports="gameobjectwheel"},56718:T=>{T.exports="gameout"},25936:T=>{T.exports="gameover"},27503:T=>{T.exports="boot"},50852:T=>{T.exports="process"},96438:T=>{T.exports="update"},59152:T=>{T.exports="pointerlockchange"},47777:T=>{T.exports="pointerdown"},27957:T=>{T.exports="pointerdownoutside"},19444:T=>{T.exports="pointermove"},54251:T=>{T.exports="pointerout"},18667:T=>{T.exports="pointerover"},27192:T=>{T.exports="pointerup"},24652:T=>{T.exports="pointerupoutside"},45132:T=>{T.exports="wheel"},44512:T=>{T.exports="preupdate"},15757:T=>{T.exports="shutdown"},41637:T=>{T.exports="start"},93802:T=>{T.exports="update"},8214:(T,A,i)=>{T.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l){this.pad=u,this.events=u.events,this.index=l,this.value=0,this.threshold=.1},update:function(h){this.value=h},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});T.exports=x},28884:(T,A,i)=>{var m=i(83419),x=i(92734),h=new m({initialize:function(l,s){this.pad=l,this.events=l.manager,this.index=s,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var l=this.pad,s=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,l,this,u),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,s,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,l,this,u),this.pad.emit(x.GAMEPAD_BUTTON_UP,s,u,this))},destroy:function(){this.pad=null,this.events=null}});T.exports=h},99125:(T,A,i)=>{var m=i(97421),x=i(28884),h=i(83419),u=i(50792),l=i(26099),s=new h({Extends:u,initialize:function(f,a){u.call(this),this.manager=f,this.pad=a,this.id=a.id,this.index=a.index;for(var c=[],p=0;p<a.buttons.length;p++)c.push(new x(this,p));this.buttons=c;var d=[];for(p=0;p<a.axes.length;p++)d.push(new m(this,p));this.axes=d,this.vibration=a.vibrationActuator;var v={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:v,this._LCRight=c[15]?c[15]:v,this._LCTop=c[12]?c[12]:v,this._LCBottom=c[13]?c[13]:v,this._RCLeft=c[2]?c[2]:v,this._RCRight=c[1]?c[1]:v,this._RCTop=c[3]?c[3]:v,this._RCBottom=c[0]?c[0]:v,this._FBLeftTop=c[4]?c[4]:v,this._FBLeftBottom=c[6]?c[6]:v,this._FBRightTop=c[5]?c[5]:v,this._FBRightBottom=c[7]?c[7]:v;var y={value:0};this._HAxisLeft=d[0]?d[0]:y,this._VAxisLeft=d[1]?d[1]:y,this._HAxisRight=d[2]?d[2]:y,this._VAxisRight=d[3]?d[3]:y,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(o){return this.axes[o].getValue()},setAxisThreshold:function(o){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=o},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(o){return this.buttons[o].value},isButtonDown:function(o){return this.buttons[o].pressed},update:function(o){if(!(o.timestamp<this._created)){var f,a=this.buttons,c=o.buttons,p=a.length;for(f=0;f<p;f++)a[f].update(c[f].value);var d=this.axes,v=o.axes;for(p=d.length,f=0;f<p;f++)d[f].update(v[f]);p>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),p>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){var o;for(this.removeAllListeners(),this.manager=null,this.pad=null,o=0;o<this.buttons.length;o++)this.buttons[o].destroy();for(o=0;o<this.axes.length;o++)this.axes[o].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});T.exports=s},56654:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(92734),u=i(99125),l=i(35154),s=i(89639),o=i(8214),f=new m({Extends:x,initialize:function(c){x.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.gamepads=[],this.queue=[],c.pluginEvents.once(o.BOOT,this.boot,this),c.pluginEvents.on(o.START,this.start,this)},boot:function(){var a=this.scene.sys.game,c=this.settings.input,p=a.config;this.enabled=l(c,"gamepad",p.inputGamepad)&&a.device.input.gamepads,this.target=l(c,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,c=this.target,p=function(d){d.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(d))};this.onGamepadHandler=p,c.addEventListener("gamepadconnected",p,!1),c.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(o.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(o.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(a)for(var c=this.gamepads,p=0;p<a.length;p++){var d=a[p];if(d){var y=d.index,S=c[y];if(S)S.id!==d.id?(S.destroy(),c[y]=new u(this,d)):S.update(d);else{var b=new u(this,d);c[y]=b,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=b):this._pad3=b:this._pad2=b:this._pad1=b}}}else this.disconnectAll()},getAll:function(){for(var a=[],c=this.gamepads,p=0;p<c.length;p++)c[p]&&a.push(c[p]);return a},getPad:function(a){for(var c=this.gamepads,p=0;p<c.length;p++)if(c[p]&&c[p].index===a)return c[p]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(0!==a)for(var c=this.queue.splice(0,a),p=0;p<a;p++){var d=c[p],v=this.getPad(d.gamepad.index);"gamepadconnected"===d.type?this.emit(h.CONNECTED,v,d):"gamepaddisconnected"===d.type&&this.emit(h.DISCONNECTED,v,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});s.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),T.exports=f},89651:T=>{T.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:T=>{T.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:T=>{T.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(T,A,i)=>{T.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:T=>{T.exports="down"},7629:T=>{T.exports="up"},42206:T=>{T.exports="connected"},86544:T=>{T.exports="disconnected"},94784:T=>{T.exports="down"},14325:T=>{T.exports="up"},92734:(T,A,i)=>{T.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(T,A,i)=>{T.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(T,A,i)=>{var m=i(93301),x=i(79291),h={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};h=x(!1,h,m),T.exports=h},78970:(T,A,i)=>{var m=i(72905),x=i(83419),h=i(8443),u=i(8214),l=i(46032),s=i(29747),o=new x({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=s,this.onKeyUp=s,a.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(h.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(c){!c.defaultPrevented&&f.enabled&&f.manager&&(f.queue.push(c),f.manager.events.emit(u.MANAGER_PROCESS),f.preventDefault&&!(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)&&f.captures.indexOf(c.keyCode)>-1&&c.preventDefault())},this.onKeyUp=function(c){!c.defaultPrevented&&f.enabled&&f.manager&&(f.queue.push(c),f.manager.events.emit(u.MANAGER_PROCESS),f.preventDefault&&!(c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)&&f.captures.indexOf(c.keyCode)>-1&&c.preventDefault())};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){"string"==typeof f&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var a=this.captures,c=0;c<f.length;c++){var p=f[c];"string"==typeof p&&(p=l[p.trim().toUpperCase()]),-1===a.indexOf(p)&&a.push(p)}this.preventDefault=a.length>0},removeCapture:function(f){"string"==typeof f&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var a=this.captures,c=0;c<f.length;c++){var p=f[c];"string"==typeof p&&(p=l[p.toUpperCase()]),m(a,p)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(h.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});T.exports=o},28846:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(95922),u=i(8443),l=i(35154),s=i(8214),o=i(89639),f=i(30472),a=i(46032),c=i(87960),p=i(74600),d=i(44594),v=i(56583),y=new m({Extends:x,initialize:function(b){x.call(this),this.game=b.systems.game,this.scene=b.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=b,this.manager=b.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,b.pluginEvents.once(s.BOOT,this.boot,this),b.pluginEvents.on(s.START,this.start,this)},boot:function(){var S=this.settings.input;this.enabled=l(S,"keyboard",!0);var b=l(S,"keyboard.capture",null);b&&this.addCaptures(b),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(s.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(S){return this.manager.addCapture(S),this},removeCapture:function(S){return this.manager.removeCapture(S),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(S,b,C){void 0===b&&(b=!0),void 0===C&&(C=!1);var M={};if("string"==typeof S){S=S.split(",");for(var w=0;w<S.length;w++){var R=S[w].trim();R&&(M[R]=this.addKey(R,b,C))}}else for(var I in S)M[I]=this.addKey(S[I],b,C);return M},addKey:function(S,b,C){void 0===b&&(b=!0),void 0===C&&(C=!1);var M=this.keys;if(S instanceof f){var w=M.indexOf(S);return w>-1?M[w]=S:M[S.keyCode]=S,b&&this.addCapture(S.keyCode),S.setEmitOnRepeat(C),S}return"string"==typeof S&&(S=a[S.toUpperCase()]),M[S]||(M[S]=new f(this,S),b&&this.addCapture(S),M[S].setEmitOnRepeat(C)),M[S]},removeKey:function(S,b,C){void 0===b&&(b=!1),void 0===C&&(C=!1);var w,M=this.keys;if(S instanceof f){var R=M.indexOf(S);R>-1&&(w=this.keys[R],this.keys[R]=void 0)}else"string"==typeof S&&(S=a[S.toUpperCase()]);return M[S]&&(w=M[S],M[S]=void 0),w&&(w.plugin=null,C&&this.removeCapture(w.keyCode),b&&w.destroy()),this},removeAllKeys:function(S,b){void 0===S&&(S=!1),void 0===b&&(b=!1);for(var C=this.keys,M=0;M<C.length;M++){var w=C[M];w&&(C[M]=void 0,b&&this.removeCapture(w.keyCode),S&&w.destroy())}return this},createCombo:function(S,b){return new c(this,S,b)},checkDown:function(S,b){if(void 0===b&&(b=0),this.enabled&&S.isDown){var C=v(this.time-S.timeDown,b);if(C>S._tick)return S._tick=C,!0}return!1},update:function(){var S=this.manager.queue,b=S.length;if(this.isActive()&&0!==b)for(var C=this.keys,M=0;M<b;M++){var w=S[M],R=w.keyCode,I=C[R],L=!1;void 0===w.cancelled&&(w.cancelled=0,w.stopImmediatePropagation=function(){w.cancelled=1},w.stopPropagation=function(){w.cancelled=-1}),-1!==w.cancelled&&(R===this.prevCode&&w.timeStamp===this.prevTime&&w.type===this.prevType||(this.prevCode=R,this.prevTime=w.timeStamp,this.prevType=w.type,"keydown"===w.type?(I&&(L=I.isDown,I.onDown(w)),!w.cancelled&&(!I||!L)&&(p[R]&&this.emit(h.KEY_DOWN+p[R],w),w.cancelled||this.emit(h.ANY_KEY_DOWN,w))):(I&&I.onUp(w),w.cancelled||(p[R]&&this.emit(h.KEY_UP+p[R],w),w.cancelled||this.emit(h.ANY_KEY_UP,w))),1===w.cancelled&&(w.cancelled=0)))}},resetKeys:function(){for(var S=this.keys,b=0;b<S.length;b++)S[b]&&S[b].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(s.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var S=this.keys,b=0;b<S.length;b++)S[b]&&S[b].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});o.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),T.exports=y},66970:T=>{T.exports=function(i,m){return m.timeLastMatched=i.timeStamp,m.index++,m.index===m.size||(m.current=m.keyCodes[m.index],!1)}},87960:(T,A,i)=>{var m=i(83419),x=i(95922),h=i(95540),u=i(68769),l=i(92803),s=new m({initialize:function(f,a,c){if(void 0===c&&(c={}),a.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var p=0;p<a.length;p++){var d=a[p];"string"==typeof d?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):"number"==typeof d?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=h(c,"resetOnWrongKey",!0),this.maxKeyDelay=h(c,"maxKeyDelay",0),this.resetOnMatch=h(c,"resetOnMatch",!1),this.deleteOnMatch=h(c,"deleteOnMatch",!1);var v=this;this.onKeyDown=function(S){!v.matched&&v.enabled&&u(S,v)&&(v.manager.emit(x.COMBO_MATCH,v,S),v.resetOnMatch?l(v):v.deleteOnMatch&&v.destroy())},this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});T.exports=s},68769:(T,A,i)=>{var m=i(66970);T.exports=function(h,u){if(u.matched)return!0;var l=!1,s=!1;return h.keyCode===u.current&&(u.index>0&&u.maxKeyDelay>0?h.timeStamp<=u.timeLastMatched+u.maxKeyDelay&&(s=!0,l=m(h,u)):(s=!0,l=m(h,u))),!s&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),l&&(u.timeLastMatched=h.timeStamp,u.matched=!0,u.timeMatched=h.timeStamp),l}},92803:T=>{T.exports=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i}},92612:T=>{T.exports="keydown"},23345:T=>{T.exports="keyup"},21957:T=>{T.exports="keycombomatch"},44743:T=>{T.exports="down"},3771:T=>{T.exports="keydown-"},46358:T=>{T.exports="keyup-"},75674:T=>{T.exports="up"},95922:(T,A,i)=>{T.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(T,A,i)=>{T.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:T=>{T.exports=function(i,m){return void 0===m&&(m=50),i.isDown&&i.plugin.game.loop.time-i.timeDown<m}},90229:T=>{T.exports=function(i){return!!i._justDown&&(i._justDown=!1,!0)}},38796:T=>{T.exports=function(i){return!!i._justUp&&(i._justUp=!1,!0)}},30472:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(95922),u=new m({Extends:x,initialize:function(s,o){x.call(this),this.plugin=s,this.keyCode=o,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(h.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(h.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(h.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});T.exports=u},46032:T=>{T.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(T,A,i)=>{var m=i(46032),x={};for(var h in m)x[m[h]]=h;T.exports=x},41170:T=>{T.exports=function(i,m){return void 0===m&&(m=50),i.isUp&&i.plugin.game.loop.time-i.timeUp<m}},85098:(T,A,i)=>{var m=i(83419),x=i(89357),h=i(8214),u=i(29747),l=new m({initialize:function(o){this.manager=o,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,o.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputMouse,this.target=s.inputMouseEventTarget,this.passive=s.inputMousePassive,this.preventDefaultDown=s.inputMousePreventDefaultDown,this.preventDefaultUp=s.inputMousePreventDefaultUp,this.preventDefaultMove=s.inputMousePreventDefaultMove,this.preventDefaultWheel=s.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var s=this.target;s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock||s.webkitRequestPointerLock,s.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var s=this.target;if(s){var o=this,f=this.manager,a=f.canvas,c=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&o.enabled&&f&&f.enabled&&(f.onMouseMove(d),o.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){c&&window.focus(),!d.defaultPrevented&&o.enabled&&f&&f.enabled&&(f.onMouseDown(d),o.preventDefaultDown&&d.target===a&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&o.enabled&&f&&f.enabled&&d.target!==a&&f.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&o.enabled&&f&&f.enabled&&(f.onMouseUp(d),o.preventDefaultUp&&d.target===a&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&o.enabled&&f&&f.enabled&&d.target!==a&&f.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&o.enabled&&f&&f.enabled&&f.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&o.enabled&&f&&f.enabled&&f.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&o.enabled&&f&&f.enabled&&f.onMouseWheel(d),o.preventDefaultWheel&&d.target===a&&d.preventDefault()};var p={passive:!0};if(s.addEventListener("mousemove",this.onMouseMove),s.addEventListener("mousedown",this.onMouseDown),s.addEventListener("mouseup",this.onMouseUp),s.addEventListener("mouseover",this.onMouseOver,p),s.addEventListener("mouseout",this.onMouseOut,p),s.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:p),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(d){var v=o.target;o.locked=document.pointerLockElement===v||document.mozPointerLockElement===v||document.webkitPointerLockElement===v,f.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("mousemove",this.onMouseMove),s.removeEventListener("mousedown",this.onMouseDown),s.removeEventListener("mouseup",this.onMouseUp),s.removeEventListener("mouseover",this.onMouseOver),s.removeEventListener("mouseout",this.onMouseOut),window&&((s=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),s.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});T.exports=l},87078:(T,A,i)=>{T.exports={MouseManager:i(85098)}},36210:(T,A,i)=>{var m=i(83419),x=i(8214),h=i(29747),u=new m({initialize:function(s){this.manager=s,this.capture=!0,this.enabled=!1,this.onTouchStart=h,this.onTouchStartWindow=h,this.onTouchMove=h,this.onTouchEnd=h,this.onTouchEndWindow=h,this.onTouchCancel=h,this.onTouchCancelWindow=h,this.isTop=!0,s.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var s=this,o=this.manager,f=o.canvas,a=window&&window.focus&&o.game.config.autoFocus;this.onTouchMove=function(v){!v.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onTouchMove(v),s.capture&&v.cancelable&&v.preventDefault())},this.onTouchStart=function(v){a&&window.focus(),!v.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onTouchStart(v),s.capture&&v.cancelable&&v.target===f&&v.preventDefault())},this.onTouchStartWindow=function(v){!v.defaultPrevented&&s.enabled&&o&&o.enabled&&v.target!==f&&o.onTouchStart(v)},this.onTouchEnd=function(v){!v.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onTouchEnd(v),s.capture&&v.cancelable&&v.target===f&&v.preventDefault())},this.onTouchEndWindow=function(v){!v.defaultPrevented&&s.enabled&&o&&o.enabled&&v.target!==f&&o.onTouchEnd(v)},this.onTouchCancel=function(v){!v.defaultPrevented&&s.enabled&&o&&o.enabled&&(o.onTouchCancel(v),s.capture&&v.preventDefault())},this.onTouchCancelWindow=function(v){!v.defaultPrevented&&s.enabled&&o&&o.enabled&&o.onTouchCancel(v)};var c=this.capture,p={passive:!0},d={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,c?d:p),l.addEventListener("touchmove",this.onTouchMove,c?d:p),l.addEventListener("touchend",this.onTouchEnd,c?d:p),l.addEventListener("touchcancel",this.onTouchCancel,c?d:p),window&&o.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&((l=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});T.exports=u},95618:(T,A,i)=>{T.exports={TouchManager:i(36210)}},41299:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(54899),u=i(95540),l=i(98356),s=i(3374),o=i(84376),f=i(92638),a=new m({initialize:function(p,d){if(this.loader=p,this.cache=u(d,"cache",!1),this.type=u(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(d,"key",!1);var v=this.key;if(p.prefix&&""!==p.prefix&&(this.key=p.prefix+v),!this.key)throw new Error("Invalid File key: "+this.key);var y=u(d,"url");void 0===y?y=p.path+v+"."+u(d,"extension",""):"string"==typeof y&&!y.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(y=p.path+y),this.url=y,this.src="",this.xhrSettings=f(u(d,"responseType",void 0)),u(d,"xhrSettings",!1)&&(this.xhrSettings=s(this.xhrSettings,u(d,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(d,"config",{}),this.base64="string"==typeof y&&0===y.indexOf("data:")},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===x.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=x.FILE_LOADING,this.src=l(this,this.loader.baseURL),0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=o(this,this.loader.xhr))},onLoad:function(c,p){var d=c.responseURL&&this.loader.localSchemes.some(function(S){return 0===c.responseURL.indexOf(S)}),y=!(p.target&&200!==p.target.status)||d&&0===p.target.status;4===c.readyState&&c.status>=400&&c.status<=599&&(y=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,y)},onBase64Load:function(c){this.xhrLoader=c,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(h.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==x.FILE_PENDING_DESTROY){void 0===c&&(c=this.data);var p=this.key,d=this.type;this.loader.emit(h.FILE_COMPLETE,p,d,c),this.loader.emit(h.FILE_KEY_COMPLETE+d+"-"+p,p,d,c),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(c,p,d){if("function"==typeof URL)c.src=URL.createObjectURL(p);else{var v=new FileReader;v.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(p.type||d)+";base64,"+v.result.split(",")[1]},v.onerror=c.onerror,v.readAsDataURL(p)}},a.revokeObjectURL=function(c){"function"==typeof URL&&URL.revokeObjectURL(c.src)},T.exports=a},74099:T=>{var A={};T.exports={install:function(m){for(var x in A)m[x]=A[x]},register:function(m,x){A[m]=x},destroy:function(){A={}}}},98356:T=>{T.exports=function(i,m){return!!i.url&&(i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:m+i.url)}},74261:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(35072),u=i(50792),l=i(54899),s=i(74099),o=i(95540),f=i(35154),a=i(37277),c=i(44594),p=i(92638),d=new m({Extends:u,initialize:function(y){u.call(this);var S=y.sys.game.config,b=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,s.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(o(b,"baseURL",S.loaderBaseURL)),this.setPath(o(b,"path",S.loaderPath)),this.setPrefix(o(b,"prefix",S.loaderPrefix)),this.maxParallelDownloads=o(b,"maxParallelDownloads",S.loaderMaxParallelDownloads),this.xhr=p(o(b,"responseType",S.loaderResponseType),o(b,"async",S.loaderAsync),o(b,"user",S.loaderUser),o(b,"password",S.loaderPassword),o(b,"timeout",S.loaderTimeout),o(b,"withCredentials",S.loaderWithCredentials)),this.crossOrigin=o(b,"crossOrigin",S.loaderCrossOrigin),this.imageLoadType=o(b,"imageLoadType",S.loaderImageLoadType),this.localSchemes=o(b,"localScheme",S.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new h,this.inflight=new h,this.queue=new h,this._deleteQueue=new h,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,y.sys.events.once(c.BOOT,this.boot,this),y.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return void 0===v&&(v=""),""!==v&&"/"!==v.substr(-1)&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return void 0===v&&(v=""),""!==v&&"/"!==v.substr(-1)&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return void 0===v&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++){var S=v[y];this.keyExists(S)||(this.list.set(S),this.emit(l.ADD,S.key,S.type,this,S),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var y=v.hasCacheConflict();return y||this.list.iterate(function(S){if(S.type===v.type&&S.key===v.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(S){if(S.type===v.type&&S.key===v.key)return y=!0,!1}),this.queue.iterate(function(S){if(S.type===v.type&&S.key===v.key)return y=!0,!1})),y},addPack:function(v,y){if("string"==typeof y){var S=f(v,y);S&&(v={packKey:S})}var b=0,C=this.baseURL,M=this.path,w=this.prefix;for(var R in v)if(Object.prototype.hasOwnProperty.call(v,R)){var I=v[R],L=o(I,"baseURL",C),F=o(I,"path",M),G=o(I,"prefix",w),z=o(I,"files",null),B=o(I,"defaultType","void");if(Array.isArray(z)){this.setBaseURL(L),this.setPath(F),this.setPrefix(G);for(var V=0;V<z.length;V++){var Y=z[V],$=Y.hasOwnProperty("type")?Y.type:B;this[$]&&(this[$](Y),b++)}}}return this.setBaseURL(C),this.setPath(M),this.setPrefix(w),b>0},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),0===this.list.size?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===x.FILE_POPULATED||v.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,y){this.inflight&&(this.inflight.delete(v),this.updateProgress(),y?(this.totalComplete++,this.queue.set(v),this.emit(l.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(l.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===x.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===x.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&(v.multiFile.addToCache(),v.multiFile.pendingDestroy()):(v.addToCache(),v.pendingDestroy())),this.queue.delete(v),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,y){return this.save(JSON.stringify(v),y)},save:function(v,y,S){void 0===y&&(y="file.json"),void 0===S&&(S="application/json");var b=new Blob([v],{type:S}),C=URL.createObjectURL(b),M=document.createElement("a");return M.download=y,M.textContent="Download "+y,M.href=C,M.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(o(y,"baseURL",v.loaderBaseURL)),this.setPath(o(y,"path",v.loaderPath)),this.setPrefix(o(y,"prefix",v.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});a.register("Loader",d,"load"),T.exports=d},3374:(T,A,i)=>{var m=i(79291),x=i(92638);T.exports=function(u,l){var s=void 0===u?x():m({},u);if(l)for(var o in l)void 0!==l[o]&&(s[o]=l[o]);return s}},26430:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(54899),u=new m({initialize:function(s,o,f,a){var c=[];a.forEach(function(v){v&&c.push(v)}),this.loader=s,this.type=o,this.key=f,s.prefix&&""!==s.prefix&&(this.key=s.prefix+this.key),this.multiKeyIndex=s.multiKeyIndex++,this.files=c,this.state=x.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=s.baseURL,this.path=s.path,this.prefix=s.prefix;for(var d=0;d<c.length;d++)c[d].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){-1!==this.files.indexOf(l)&&this.pending--},onFileFailed:function(l){-1!==this.files.indexOf(l)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var l=this.key,s=this.type;this.loader.emit(h.FILE_COMPLETE,l,s),this.loader.emit(h.FILE_KEY_COMPLETE+s+"-"+l,l,s),this.loader.flagForRemoval(this);for(var o=0;o<this.files.length;o++)this.files[o].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});T.exports=u},84376:(T,A,i)=>{var m=i(3374);T.exports=function(h,u){var l=m(u,h.xhrSettings);if(!h.base64){var f=new XMLHttpRequest;if(f.open("GET",h.src,l.async,l.user,l.password),f.responseType=h.xhrSettings.responseType,f.timeout=l.timeout,l.headers)for(var a in l.headers)f.setRequestHeader(a,l.headers[a]);return l.header&&l.headerValue&&f.setRequestHeader(l.header,l.headerValue),l.requestedWith&&f.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&f.overrideMimeType(l.overrideMimeType),l.withCredentials&&(f.withCredentials=!0),f.onload=h.onLoad.bind(h,f),f.onerror=h.onError.bind(h,f),f.onprogress=h.onProgress.bind(h),f.ontimeout=h.onError.bind(h,f),f.send(),f}var s=h.url.split(";base64,").pop()||h.url.split(",").pop(),o={responseText:atob(s)};h.onBase64Load(o)}},92638:T=>{T.exports=function(i,m,x,h,u,l){return void 0===i&&(i=""),void 0===m&&(m=!0),void 0===x&&(x=""),void 0===h&&(h=""),void 0===u&&(u=0),void 0===l&&(l=!1),{responseType:i,async:m,user:x,password:h,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}}},23906:T=>{T.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:T=>{T.exports="addfile"},38991:T=>{T.exports="complete"},27540:T=>{T.exports="filecomplete"},87464:T=>{T.exports="filecomplete-"},94486:T=>{T.exports="loaderror"},13035:T=>{T.exports="load"},38144:T=>{T.exports="fileprogress"},97520:T=>{T.exports="postprocess"},85595:T=>{T.exports="progress"},55680:T=>{T.exports="start"},54899:(T,A,i)=>{T.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(518),u=i(54899),l=new m({Extends:h,initialize:function(o,f,a,c,p){h.call(this,o,f,a,c,p),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),h.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(s,o,f,a){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,o,a,f));return this}),T.exports=l},76272:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(19550),l=i(41212),s=i(518),o=i(26430),f=new m({Extends:o,initialize:function(c,p,d,v,y,S){var b,C;if(l(p)){var M=p;p=h(M,"key"),b=new u(c,{key:p,url:h(M,"textureURL"),extension:h(M,"textureExtension","png"),normalMap:h(M,"normalMap"),xhrSettings:h(M,"textureXhrSettings")}),C=new s(c,{key:p,url:h(M,"atlasURL"),extension:h(M,"atlasExtension","json"),xhrSettings:h(M,"atlasXhrSettings")})}else b=new u(c,p,d,y),C=new s(c,p,v,S);o.call(this,c,"atlasjson",p,b.linkFile?[b,C,b.linkFile]:[b,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];this.loader.textureManager.addAtlas(a.key,a.data,c.data,this.files[2]?this.files[2].data:null),c.addToCache(),this.complete=!0}}});x.register("aseprite",function(a,c,p,d,v){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,c,p,d,v),this.addFile(y.files);return this}),T.exports=f},38734:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(19550),l=i(41212),s=i(518),o=i(26430),f=new m({Extends:o,initialize:function(c,p,d,v,y,S){var b,C;if(l(p)){var M=p;p=h(M,"key"),b=new u(c,{key:p,url:h(M,"textureURL"),extension:h(M,"textureExtension","png"),normalMap:h(M,"normalMap"),xhrSettings:h(M,"textureXhrSettings")}),C=new s(c,{key:p,url:h(M,"atlasURL"),extension:h(M,"atlasExtension","json"),xhrSettings:h(M,"atlasXhrSettings")})}else b=new u(c,p,d,y),C=new s(c,p,v,S);o.call(this,c,"atlasjson",p,b.linkFile?[b,C,b.linkFile]:[b,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0];this.loader.textureManager.addAtlas(a.key,a.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});x.register("atlas",function(a,c,p,d,v){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,c,p,d,v),this.addFile(y.files);return this}),T.exports=f},74599:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(19550),l=i(41212),s=i(26430),o=i(57318),f=new m({Extends:s,initialize:function(c,p,d,v,y,S){var b,C;if(l(p)){var M=p;p=h(M,"key"),b=new u(c,{key:p,url:h(M,"textureURL"),extension:h(M,"textureExtension","png"),normalMap:h(M,"normalMap"),xhrSettings:h(M,"textureXhrSettings")}),C=new o(c,{key:p,url:h(M,"atlasURL"),extension:h(M,"atlasExtension","xml"),xhrSettings:h(M,"atlasXhrSettings")})}else b=new u(c,p,d,y),C=new o(c,p,v,S);s.call(this,c,"atlasxml",p,b.linkFile?[b,C,b.linkFile]:[b,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0];this.loader.textureManager.addAtlasXML(a.key,a.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});x.register("atlasXML",function(a,c,p,d,v){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,c,p,d,v),this.addFile(y.files);return this}),T.exports=f},21097:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(89749),o=i(41212),f=new m({Extends:h,initialize:function(c,p,d,v,y){if(o(p)){var S=p;p=l(S,"key"),v=l(S,"xhrSettings"),y=l(S,"context",y)}h.call(this,c,{type:"audio",cache:c.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:p,url:d.url,xhrSettings:v,config:{context:y}})},onProcess:function(){this.state=x.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){a.data=c,a.onProcessComplete()},function(c){console.error("Error decoding audio: "+a.key+" - ",c?c.message:null),a.onProcessError()}),this.config.context=null}});f.create=function(a,c,p,d,v){var y=a.systems.game,S=y.config.audio,b=y.device.audio;o(c)&&(p=l(c,"url",[]),d=l(c,"config",{}));var C=f.getAudioURL(y,p);return C?b.webAudio&&!S.disableWebAudio?new f(a,c,C,v,y.sound.context):new s(a,c,C,d):(console.warn('No audio URLs for "%s" matched this device',c),null)},f.getAudioURL=function(a,c){Array.isArray(c)||(c=[c]);for(var p=0;p<c.length;p++){var d=l(c[p],"url",c[p]);if(0===d.indexOf("blob:")||0===d.indexOf("data:"))return{url:d,type:""};var v=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(v=l(c[p],"type",v?v[1]:"").toLowerCase(),a.device.audio[v])return{url:d,type:v}}return null},u.register("audio",function(a,c,p,d){var b,v=this.systems.game,S=v.device.audio;if(v.config.audio.noAudio||!S.webAudio&&!S.audioData)return this;if(Array.isArray(a))for(var C=0;C<a.length;C++)(b=f.create(this,a[C]))&&this.addFile(b);else(b=f.create(this,a,c,p,d))&&this.addFile(b);return this}),T.exports=f},89524:(T,A,i)=>{var m=i(21097),x=i(83419),h=i(74099),u=i(95540),l=i(41212),s=i(518),o=i(26430),f=new x({Extends:o,initialize:function(c,p,d,v,y,S,b){if(l(p)){var C=p;p=u(C,"key"),d=u(C,"jsonURL"),v=u(C,"audioURL"),y=u(C,"audioConfig"),S=u(C,"audioXhrSettings"),b=u(C,"jsonXhrSettings")}var M;if(v){var w=m.create(c,p,v,y,S);w&&(M=new s(c,p,d,b),o.call(this,c,"audiosprite",p,[w,M]),this.config.resourceLoad=!1)}else M=new s(c,p,d,b),o.call(this,c,"audiosprite",p,[M]),this.config.resourceLoad=!0,this.config.audioConfig=y,this.config.audioXhrSettings=S},onFileComplete:function(a){if(-1!==this.files.indexOf(a)&&(this.pending--,this.config.resourceLoad&&"json"===a.type&&a.data.hasOwnProperty("resources"))){var p=a.data.resources,d=u(this.config,"audioConfig"),v=u(this.config,"audioXhrSettings"),y=m.create(this.loader,a.key,p,d,v);y&&(this.addToMultiFile(y),this.loader.addFile(y))}},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[1];this.files[0].addToCache(),c.addToCache(),this.complete=!0}}});h.register("audioSprite",function(a,c,p,d,v,y){var M,S=this.systems.game,b=S.config.audio,C=S.device.audio;if(b&&b.noAudio||!C.webAudio&&!C.audioData)return this;if(Array.isArray(a))for(var w=0;w<a.length;w++)(M=new f(this,a[w])).files&&this.addFile(M.files);else(M=new f(this,a,c,p,d,v,y)).files&&this.addFile(M.files);return this})},85722:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d,v){var y="bin";if(s(c)){var S=c;c=l(S,"key"),p=l(S,"url"),d=l(S,"xhrSettings"),y=l(S,"extension",y),v=l(S,"dataType",v)}h.call(this,a,{type:"binary",cache:a.cacheManager.binary,extension:y,responseType:"arraybuffer",key:c,url:p,xhrSettings:d,config:{dataType:v}})},onProcess:function(){this.state=x.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(f,a,c,p){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new o(this,f[d]));else this.addFile(new o(this,f,a,p,c));return this}),T.exports=o},97025:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(19550),l=i(41212),s=i(26430),o=i(21859),f=i(57318),a=new m({Extends:s,initialize:function(p,d,v,y,S,b){var C,M;if(l(d)){var w=d;d=h(w,"key"),C=new u(p,{key:d,url:h(w,"textureURL"),extension:h(w,"textureExtension","png"),normalMap:h(w,"normalMap"),xhrSettings:h(w,"textureXhrSettings")}),M=new f(p,{key:d,url:h(w,"fontDataURL"),extension:h(w,"fontDataExtension","xml"),xhrSettings:h(w,"fontDataXhrSettings")})}else C=new u(p,d,v,S),M=new f(p,d,y,b);s.call(this,p,"bitmapfont",d,C.linkFile?[C,M,C.linkFile]:[C,M])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache();var d=c.cache.get(c.key),v=o(p.data,c.cache.getFrame(c.key),0,0,d);this.loader.cacheManager.bitmapFont.add(c.key,{data:v,texture:c.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(c,p,d,v,y){var S;if(Array.isArray(c))for(var b=0;b<c.length;b++)S=new a(this,c[b]),this.addFile(S.files);else S=new a(this,c,p,d,v,y),this.addFile(S.files);return this}),T.exports=a},16024:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d){var v="css";if(s(c)){var y=c;c=l(y,"key"),p=l(y,"url"),d=l(y,"xhrSettings"),v=l(y,"extension",v)}h.call(this,a,{type:"script",cache:!1,extension:v,responseType:"text",key:c,url:p,xhrSettings:d})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new o(this,f[p]));else this.addFile(new o(this,f,a,c));return this}),T.exports=o},69559:(T,A,i)=>{var m=i(38734),x=i(85722),h=i(83419),u=i(74099),l=i(95540),s=i(19550),o=i(41212),f=i(518),a=i(31403),c=i(46975),p=i(59327),d=i(26430),v=i(82038),y=i(55222),S=new h({Extends:d,initialize:function(C,M,w,R){if(w.multiAtlasURL){var I=new f(C,{key:M,url:w.multiAtlasURL,xhrSettings:R,config:w});d.call(this,C,"texture",M,[I])}else{var L=w.textureURL.substr(w.textureURL.length-3);w.type||(w.type="ktx"===L.toLowerCase()?"KTX":"PVR");var F=new x(C,{key:M,url:w.textureURL,extension:L,xhrSettings:R,config:w});if(w.atlasURL){var G=new f(C,{key:M,url:w.atlasURL,xhrSettings:R,config:w});d.call(this,C,"texture",M,[F,G])}else d.call(this,C,"texture",M,[F])}this.config=w},onFileComplete:function(b){if(-1!==this.files.indexOf(b)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===b.type&&b.data.hasOwnProperty("textures")){var M=b.data.textures,w=this.config,R=this.loader,I=R.baseURL,L=R.path,F=R.prefix,G=l(w,"multiBaseURL",this.baseURL),z=l(w,"multiPath",this.path),B=l(w,"prefix",this.prefix),V=l(w,"textureXhrSettings");G&&R.setBaseURL(G),z&&R.setPath(z),B&&R.setPrefix(B);for(var Y=0;Y<M.length;Y++){var $=M[Y].image,J="CMA"+this.multiKeyIndex+"_"+$,W=new x(R,J,$,V);if(this.addToMultiFile(W),R.addFile(W),M[Y].normalMap){var k=new x(R,J,M[Y].normalMap,V);k.type="normalMap",W.setLink(k),this.addToMultiFile(k),R.addFile(k)}}R.setBaseURL(I),R.setPath(L),R.setPrefix(F)}}},addToCache:function(){function b(G){console.warn('Compressed Texture Invalid: "'+I.key+'". '+G)}if(this.isReadyToProcess()){var C=this.config;if(C.multiAtlasURL)this.addMultiToCache();else{var R,M=this.loader.systems.renderer,w=this.loader.textureManager,I=this.files[0],L=this.files[1];"PVR"===C.type?R=v(I.data):"KTX"===C.type&&((R=a(I.data))||b("KTX file contains unsupported format.")),R&&!y(R)&&(b("Texture dimensions failed verification. Check the texture format specifications for "+C.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!M.supportsCompressedTexture(C.format,R.internalFormat)&&(b("Texture format "+C.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R&&(R.format=M.getCompressedTextureName(C.format,R.internalFormat),w.addCompressedTexture(I.key,R,L&&L.data?L.data:null))}this.complete=!0}},addMultiToCache:function(){for(var F,b=this.config,C=this.files[0],M=[],w=[],R=[],I=this.loader.systems.renderer,L=this.loader.textureManager,G=1;G<this.files.length;G++){var z=this.files[G];if("normalMap"!==z.type)for(var B=z.key.indexOf("_"),V=z.key.substr(B+1),Y=z.data,$=0;$<C.data.textures.length;$++){var J=C.data.textures[$];if(J.image===V){"PVR"===b.type?F=v(Y):"KTX"===b.type&&(F=a(Y)),F&&I.supportsCompressedTexture(b.format,F.internalFormat)&&(F.format=I.getCompressedTextureName(b.format,F.internalFormat),w.push(F),M.push(J),z.linkFile&&R.push(z.linkFile.data));break}}}0===R.length&&(R=void 0),L.addAtlasJSONArray(this.key,w,M,R),this.complete=!0}});u.register("texture",function(b,C,M){var w=this.systems.renderer,R=function(L,F,G,z){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(o(F)){var V=F;F=l(V,"key"),G=l(V,"url"),z=l(V,"xhrSettings")}var Y=!1;for(var $ in G)if(w.supportsCompressedTexture($)){var J=G[$];"string"==typeof J?B.textureURL=J:B=c(J,B),B.format=$.toUpperCase(),Y=!0;break}if(Y)if("IMG"===B.format){var W;W=B.multiAtlasURL?new p(L,F,B.multiAtlasURL,B.multiPath,B.multiBaseURL,z).files:B.atlasURL?new m(L,F,B.textureURL,B.atlasURL,z).files:new s(L,F,B.textureURL,z),L.addFile(W)}else{var N=new S(L,F,B,z);L.addFile(N.files)}else console.warn("No supported compressed texture format or IMG fallback",F)};if(Array.isArray(b))for(var I=0;I<b.length;I++)R(this,b[I]);else R(this,b,C,M);return this}),T.exports=S},47931:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=i(73894),f=new m({Extends:h,initialize:function(c,p,d,v,y){var S="glsl";if(s(p)){var b=p;p=l(b,"key"),d=l(b,"url"),v=l(b,"shaderType","fragment"),y=l(b,"xhrSettings"),S=l(b,"extension",S)}else void 0===v&&(v="fragment");h.call(this,c,{type:"glsl",cache:c.cacheManager.shader,extension:S,responseType:"text",key:p,url:d,config:{shaderType:v},xhrSettings:y})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split("\n"),c=this.extractBlock(a,0);if(c)for(;c;){var p=this.getShaderName(c.header),d=this.getShaderType(c.header),v=this.getShaderUniforms(c.header),y=c.shader;if(this.cache.has(p)){var S=this.cache.get(p);"fragment"===d?S.fragmentSrc=y:S.vertexSrc=y,S.uniforms||(S.uniforms=v)}else this.cache.add(p,"fragment"===d?new o(p,y,"",v):new o(p,"",y,v));c=this.extractBlock(a,c.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new o(this.key,this.data):new o(this.key,"",this.data))},getShaderName:function(a){for(var c=0;c<a.length;c++){var p=a[c].trim();if("name:"===p.substring(0,5))return p.substring(5).trim()}return this.key},getShaderType:function(a){for(var c=0;c<a.length;c++){var p=a[c].trim();if("type:"===p.substring(0,5))return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var c={},p=0;p<a.length;p++){var d=a[p].trim();if("uniform."===d.substring(0,8)){var v=d.indexOf(":");if(v){var y=d.substring(8,v);try{c[y]=JSON.parse(d.substring(v+1))}catch{console.warn("Invalid uniform JSON: "+y)}}}}return c},extractBlock:function(a,c){for(var p=-1,d=-1,v=-1,y=!1,S=!1,b=[],C=[],M=c;M<a.length;M++){var w=a[M].trim();if("---"===w)if(-1===p)p=M,y=!0;else{if(!y){S=!1;break}d=M,y=!1,S=!0}else y?b.push(w):S&&(C.push(w),v=M)}return y||-1===d?null:{header:b,shader:C.join("\n"),offset:v}}});u.register("glsl",function(a,c,p,d){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new f(this,a[v]));else this.addFile(new f(this,a,c,p,d));return this}),T.exports=f},89749:(T,A,i)=>{var m=i(83419),x=i(54899),h=i(41299),u=i(95540),l=i(98356),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d){if(s(c)){var v=c;c=u(v,"key"),d=u(v,"config",d)}h.call(this,a,{type:"audio",cache:a.cacheManager.audio,extension:p.type,key:c,url:p.url,config:d}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var a=this.data[f];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var a=f.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<f;a++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+a).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(a=0;a<this.data.length;a++)(c=this.data[a]).src=l(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});T.exports=o},88470:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d){var v="html";if(s(c)){var y=c;c=l(y,"key"),p=l(y,"url"),d=l(y,"xhrSettings"),v=l(y,"extension",v)}h.call(this,a,{type:"text",cache:a.cacheManager.html,extension:v,responseType:"text",key:c,url:p,xhrSettings:d})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new o(this,f[p]));else this.addFile(new o(this,f,a,c));return this}),T.exports=o},14643:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d,v,y){void 0===d&&(d=512),void 0===v&&(v=512);var S="html";if(s(c)){var b=c;c=l(b,"key"),p=l(b,"url"),y=l(b,"xhrSettings"),S=l(b,"extension",S),d=l(b,"width",d),v=l(b,"height",v)}h.call(this,a,{type:"html",cache:a.textureManager,extension:S,responseType:"text",key:c,url:p,xhrSettings:y,config:{width:d,height:v}})},onProcess:function(){this.state=x.FILE_PROCESSING;var f=this.config.width,a=this.config.height,c=[];c.push('<svg width="'+f+'px" height="'+a+'px" viewBox="0 0 '+f+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var p=[c.join("\n")],d=this;try{var v=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{return d.state=x.FILE_ERRORED,void d.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){h.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(d.data),d.onProcessError()},h.createObjectURL(this.data,v,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(f,a,c,p,d){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new o(this,f[v]));else this.addFile(new o(this,f,a,c,p,d));return this}),T.exports=o},19550:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=i(98356),f=new m({Extends:h,initialize:function a(c,p,d,v,y){var b,S="png";if(s(p)){var C=p;p=l(C,"key"),d=l(C,"url"),b=l(C,"normalMap"),v=l(C,"xhrSettings"),S=l(C,"extension",S),y=l(C,"frameConfig")}if(Array.isArray(d)&&(b=d[1],d=d[0]),h.call(this,c,{type:"image",cache:c.textureManager,extension:S,responseType:"blob",key:p,url:d,xhrSettings:v,config:y}),b){var w=new a(c,this.key,b,v,y);w.type="normalMap",this.setLink(w),c.addFile(w)}this.useImageElementLoad="HTMLImageElement"===c.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){h.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){h.revokeObjectURL(a.data),a.onProcessError()},h.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=x.FILE_PROCESSING,a===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=o(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=x.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src},addToCache:function(){var a=this.linkFile;a?a.state>=x.FILE_COMPLETE&&("spritesheet"===a.type?a.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(a,c,p){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new f(this,a[d]));else this.addFile(new f(this,a,c,p));return this}),T.exports=f},518:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(35154),o=i(41212),f=new m({Extends:h,initialize:function(c,p,d,v,y){var S="json";if(o(p)){var b=p;p=l(b,"key"),d=l(b,"url"),v=l(b,"xhrSettings"),S=l(b,"extension",S),y=l(b,"dataKey",y)}h.call(this,c,{type:"json",cache:c.cacheManager.json,extension:S,responseType:"text",key:p,url:d,xhrSettings:v,config:y}),o(d)&&(this.data=y?s(d,y):d,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var c=this.config;this.data="string"==typeof c?s(a,c,a):a}this.onProcessComplete()}});u.register("json",function(a,c,p,d){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new f(this,a[v]));else this.addFile(new f(this,a,c,d,p));return this}),T.exports=f},59327:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(19550),l=i(41212),s=i(518),o=i(26430),f=new m({Extends:o,initialize:function(c,p,d,v,y,S,b){if(l(p)){var C=p;p=h(C,"key"),d=h(C,"url",!1)?h(C,"url"):h(C,"atlasURL"),S=h(C,"xhrSettings"),v=h(C,"path"),y=h(C,"baseURL"),b=h(C,"textureXhrSettings")}var M=new s(c,p,d,S);o.call(this,c,"multiatlas",p,[M]),this.config.path=v,this.config.baseURL=y,this.config.textureXhrSettings=b},onFileComplete:function(a){if(-1!==this.files.indexOf(a)&&(this.pending--,"json"===a.type&&a.data.hasOwnProperty("textures"))){var p=a.data.textures,d=this.config,v=this.loader,y=v.baseURL,S=v.path,b=v.prefix,C=h(d,"baseURL",this.baseURL),M=h(d,"path",this.path),w=h(d,"prefix",this.prefix),R=h(d,"textureXhrSettings");v.setBaseURL(C),v.setPath(M),v.setPrefix(w);for(var I=0;I<p.length;I++){var L=p[I].image,F="MA"+this.multiKeyIndex+"_"+L,G=new u(v,F,L,R);if(this.addToMultiFile(G),v.addFile(G),p[I].normalMap){var z=new u(v,F,p[I].normalMap,R);z.type="normalMap",G.setLink(z),this.addToMultiFile(z),v.addFile(z)}}v.setBaseURL(y),v.setPath(S),v.setPrefix(b)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],c=[],p=[],d=[],v=1;v<this.files.length;v++){var y=this.files[v];if("normalMap"!==y.type)for(var S=y.key.indexOf("_"),b=y.key.substr(S+1),C=y.data,M=0;M<a.data.textures.length;M++){var w=a.data.textures[M];if(w.image===b){p.push(C),c.push(w),y.linkFile&&d.push(y.linkFile.data);break}}}0===d.length&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,c,d),this.complete=!0}}});x.register("multiatlas",function(a,c,p,d,v){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,c,p,d,v),this.addFile(y.files);return this}),T.exports=f},99297:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(41212),l=i(26430),s=i(34328),o=new m({Extends:l,initialize:function(a,c,p,d){var v="js",y=[];if(u(c)){var S=c;c=h(S,"key"),p=h(S,"url"),d=h(S,"xhrSettings"),v=h(S,"extension",v)}Array.isArray(p)||(p=[p]);for(var b=0;b<p.length;b++){var C=new s(a,{key:c+"_"+b.toString(),url:p[b],extension:v,xhrSettings:d});C.onProcess=function(){this.onProcessComplete()},y.push(C)}l.call(this,a,"scripts",c,y)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var a=this.files[f];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});x.register("scripts",function(f,a,c){var p;if(Array.isArray(f))for(var d=0;d<f.length;d++)p=new o(this,f[d]),this.addFile(p.files);else p=new o(this,f,a,c),this.addFile(p.files);return this}),T.exports=o},41846:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(41212),l=i(26430),s=i(85048),o=i(61485),f=i(78776),a=new m({Extends:l,initialize:function(p,d,v,y,S,b){var C,M,w=p.cacheManager.obj;if(u(d)){var R=d;d=h(R,"key"),C=new f(p,{key:d,type:"obj",cache:w,url:h(R,"url"),extension:h(R,"extension","obj"),xhrSettings:h(R,"xhrSettings"),config:{flipUV:h(R,"flipUV",S)}}),(y=h(R,"matURL"))&&(M=new f(p,{key:d,type:"mat",cache:w,url:y,extension:h(R,"matExtension","mat"),xhrSettings:h(R,"xhrSettings")}))}else C=new f(p,{key:d,url:v,type:"obj",cache:w,extension:"obj",xhrSettings:b,config:{flipUV:S}}),y&&(M=new f(p,{key:d,url:y,type:"mat",cache:w,extension:"mat",xhrSettings:b}));l.call(this,p,"obj",d,[C,M])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],d=s(c.data,c.config.flipUV);p&&(d.materials=o(p.data)),c.cache.add(c.key,d),this.complete=!0}}});x.register("obj",function(c,p,d,v,y){var S;if(Array.isArray(c))for(var b=0;b<c.length;b++)S=new a(this,c[b]),this.addFile(S.files);else S=new a(this,c,p,d,v,y),this.addFile(S.files);return this}),T.exports=a},58610:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(74099),u=i(518),l=new m({Extends:u,initialize:function(o,f,a,c,p){u.call(this,o,f,a,c,p),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var s={};s[this.config]=this.data,this.data=s}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});h.register("pack",function(s,o,f,a){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,o,a,f));return this}),T.exports=l},48988:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d,v,y){var S="js";if(s(c)){var b=c;c=l(b,"key"),p=l(b,"url"),y=l(b,"xhrSettings"),S=l(b,"extension",S),d=l(b,"start"),v=l(b,"mapping")}h.call(this,a,{type:"plugin",cache:!1,extension:S,responseType:"text",key:c,url:p,xhrSettings:y,config:{start:d,mapping:v}}),"function"==typeof p&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,a=this.config,c=l(a,"start",!1),p=l(a,"mapping",null);if(this.state===x.FILE_POPULATED)f.install(this.key,this.data,c,p);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=f.install(this.key,window[this.key],c,p);(c||p)&&(this.loader.systems[p]=d,this.loader.scene[p]=d)}this.onProcessComplete()}});u.register("plugin",function(f,a,c,p,d){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new o(this,f[v]));else this.addFile(new o(this,f,a,c,p,d));return this}),T.exports=o},67397:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d,v){var y="svg";if(s(c)){var S=c;c=l(S,"key"),p=l(S,"url"),d=l(S,"svgConfig",{}),v=l(S,"xhrSettings"),y=l(S,"extension",y)}var b={type:"svg",cache:a.textureManager,extension:y,responseType:"text",key:c,url:p,xhrSettings:v,config:{width:l(d,"width"),height:l(d,"height"),scale:l(d,"scale")}};h.call(this,a,b)},onProcess:function(){this.state=x.FILE_PROCESSING;var f=this.xhrLoader.responseText,a=[f],c=this.config.width,p=this.config.height,d=this.config.scale;t:if(c&&p||d){var S=(new DOMParser).parseFromString(f,"text/xml").getElementsByTagName("svg")[0],b=S.hasAttribute("viewBox"),C=parseFloat(S.getAttribute("width")),M=parseFloat(S.getAttribute("height"));if(!b&&C&&M)S.setAttribute("viewBox","0  0 "+C+" "+M);else if(b&&!C&&!M){var w=S.getAttribute("viewBox").split(/\s+|,/);C=w[2],M=w[3]}if(d){if(!C||!M)break t;c=C*d,p=M*d}S.setAttribute("width",c.toString()+"px"),S.setAttribute("height",p.toString()+"px"),a=[(new XMLSerializer).serializeToString(S)]}try{var R=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var I=this,L=!1;this.data.onload=function(){L||h.revokeObjectURL(I.data),I.onProcessComplete()},this.data.onerror=function(){L?I.onProcessError():(L=!0,h.revokeObjectURL(I.data),I.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},h.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(f,a,c,p){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new o(this,f[d]));else this.addFile(new o(this,f,a,c,p));return this}),T.exports=o},88423:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d){var v="js";if(s(c)){var y=c;c=l(y,"key"),p=l(y,"url"),d=l(y,"xhrSettings"),v=l(y,"extension",v)}h.call(this,a,{type:"text",extension:v,responseType:"text",key:c,url:p,xhrSettings:d})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),a=eval;this.loader.sceneManager.add(this.key,a(f)),this.complete=!0}});u.register("sceneFile",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new o(this,f[p]));else this.addFile(new o(this,f,a,c));return this}),T.exports=o},56812:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d,v,y){var S="js";if(s(c)){var b=c;c=l(b,"key"),p=l(b,"url"),y=l(b,"xhrSettings"),S=l(b,"extension",S),d=l(b,"systemKey"),v=l(b,"sceneKey")}h.call(this,a,{type:"scenePlugin",cache:!1,extension:S,responseType:"text",key:c,url:p,xhrSettings:y,config:{systemKey:d,sceneKey:v}}),"function"==typeof p&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,a=this.config,c=this.key,p=l(a,"systemKey",c),d=l(a,"sceneKey",c);this.state===x.FILE_POPULATED?f.installScenePlugin(p,this.data,d,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(p,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(f,a,c,p,d){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new o(this,f[v]));else this.addFile(new o(this,f,a,c,p,d));return this}),T.exports=o},34328:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d,v){var y="js";if(s(c)){var S=c;c=l(S,"key"),p=l(S,"url"),d=l(S,"type","script"),v=l(S,"xhrSettings"),y=l(S,"extension",y)}else void 0===d&&(d="script");h.call(this,a,{type:d,cache:!1,extension:y,responseType:"text",key:c,url:p,xhrSettings:v})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(f,a,c,p){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new o(this,f[d]));else this.addFile(new o(this,f,a,c,p));return this}),T.exports=o},85035:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(74099),u=i(19550),l=new m({Extends:u,initialize:function(o,f,a,c,p){u.call(this,o,f,a,p,c),this.type="spritesheet"},addToCache:function(){var s=this.linkFile;s?s.state>=x.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,s.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,s.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});h.register("spritesheet",function(s,o,f,a){if(Array.isArray(s))for(var c=0;c<s.length;c++)this.addFile(new l(this,s[c]));else this.addFile(new l(this,s,o,f,a));return this}),T.exports=l},78776:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=new m({Extends:h,initialize:function(a,c,p,d){var v="text",y="txt",S=a.cacheManager.text;if(s(c)){var b=c;c=l(b,"key"),p=l(b,"url"),d=l(b,"xhrSettings"),y=l(b,"extension",y),v=l(b,"type",v),S=l(b,"cache",S)}h.call(this,a,{type:v,cache:S,extension:y,responseType:"text",key:c,url:p,xhrSettings:d})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(f,a,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new o(this,f[p]));else this.addFile(new o(this,f,a,c));return this}),T.exports=o},49477:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=i(80341),f=new m({Extends:h,initialize:function(c,p,d,v){var y="csv";if(s(p)){var S=p;p=l(S,"key"),d=l(S,"url"),v=l(S,"xhrSettings"),y=l(S,"extension",y)}h.call(this,c,{type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:y,responseType:"text",key:p,url:d,xhrSettings:v}),this.tilemapFormat=o.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){this.cache.add(this.key,{format:this.tilemapFormat,data:this.data})}});u.register("tilemapCSV",function(a,c,p){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new f(this,a[d]));else this.addFile(new f(this,a,c,p));return this}),T.exports=f},40807:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(518),u=i(80341),l=new m({Extends:h,initialize:function(o,f,a,c){h.call(this,o,f,a,c),this.type="tilemapJSON",this.cache=o.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:u.WELTMEISTER,data:this.data})}});x.register("tilemapImpact",function(s,o,f){if(Array.isArray(s))for(var a=0;a<s.length;a++)this.addFile(new l(this,s[a]));else this.addFile(new l(this,s,o,f));return this}),T.exports=l},56775:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(518),u=i(80341),l=new m({Extends:h,initialize:function(o,f,a,c){h.call(this,o,f,a,c),this.type="tilemapJSON",this.cache=o.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:u.TILED_JSON,data:this.data})}});x.register("tilemapTiledJSON",function(s,o,f){if(Array.isArray(s))for(var a=0;a<s.length;a++)this.addFile(new l(this,s[a]));else this.addFile(new l(this,s,o,f));return this}),T.exports=l},25771:(T,A,i)=>{var m=i(83419),x=i(74099),h=i(95540),u=i(19550),l=i(41212),s=i(26430),o=i(78776),f=new m({Extends:s,initialize:function(c,p,d,v,y,S){var b,C;if(l(p)){var M=p;p=h(M,"key"),b=new u(c,{key:p,url:h(M,"textureURL"),extension:h(M,"textureExtension","png"),normalMap:h(M,"normalMap"),xhrSettings:h(M,"textureXhrSettings")}),C=new o(c,{key:p,url:h(M,"atlasURL"),extension:h(M,"atlasExtension","txt"),xhrSettings:h(M,"atlasXhrSettings")})}else b=new u(c,p,d,y),C=new o(c,p,v,S);s.call(this,c,"unityatlas",p,b.linkFile?[b,C,b.linkFile]:[b,C])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0];this.loader.textureManager.addUnityAtlas(a.key,a.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});x.register("unityAtlas",function(a,c,p,d,v){var y;if(Array.isArray(a))for(var S=0;S<a.length;S++)y=new f(this,a[S]),this.addFile(y.files);else y=new f(this,a,c,p,d,v),this.addFile(y.files);return this}),T.exports=f},33720:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(98356),s=i(95540),o=i(41212),f=new m({Extends:h,initialize:function(c,p,d,v){if(void 0===v&&(v=!1),o(p)){var y=p;p=s(y,"key"),d=s(y,"url",[]),v=s(y,"noAudio",!1)}var S=c.systems.game.device.video.getVideoURL(d);S||console.warn("VideoFile: No supported format for "+p),h.call(this,c,{type:"video",cache:c.cacheManager.video,extension:S.type,key:p,url:S.url,config:{noAudio:v}})},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(a,c,p){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new f(this,a[d]));else this.addFile(new f(this,a,c,p));return this}),T.exports=f},57318:(T,A,i)=>{var m=i(83419),x=i(23906),h=i(41299),u=i(74099),l=i(95540),s=i(41212),o=i(56836),f=new m({Extends:h,initialize:function(c,p,d,v){var y="xml";if(s(p)){var S=p;p=l(S,"key"),d=l(S,"url"),v=l(S,"xhrSettings"),y=l(S,"extension",y)}h.call(this,c,{type:"xml",cache:c.cacheManager.xml,extension:y,responseType:"text",key:p,url:d,xhrSettings:v})},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=o(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(a,c,p){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new f(this,a[d]));else this.addFile(new f(this,a,c,p));return this}),T.exports=f},64589:(T,A,i)=>{T.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(T,A,i)=>{var m=i(23906),x=i(79291),h={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};h=x(!1,h,m),T.exports=h},53307:T=>{T.exports=function(i){for(var m=0,x=0;x<i.length;x++)m+=+i[x];return m/i.length}},85710:(T,A,i)=>{var m=i(6411);T.exports=function(h,u){return m(h)/m(u)/m(h-u)}},30976:T=>{T.exports=function(i,m){return Math.floor(Math.random()*(m-i+1)+i)}},87842:T=>{T.exports=function(i,m,x,h,u){var l=.5*(h-m),s=.5*(u-x),o=i*i;return(2*x-2*h+l+s)*(i*o)+(-3*x+3*h-2*l-s)*o+l*i+x}},26302:T=>{T.exports=function(i,m,x){void 0===m&&(m=0),void 0===x&&(x=10);var h=Math.pow(x,-m);return Math.ceil(i*h)/h}},45319:T=>{T.exports=function(i,m,x){return Math.max(m,Math.min(x,i))}},39506:(T,A,i)=>{var m=i(36383);T.exports=function(h){return h*m.DEG_TO_RAD}},61241:T=>{T.exports=function(i,m){return Math.abs(i-m)}},38857:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(37867),u=i(29747),l=new h,s=new x({initialize:function o(f,a,c,p){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p=o.DefaultOrder),this._x=f,this._y=a,this._z=c,this._order=p,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(o){this._x=o,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(o){this._y=o,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(o){this._z=o,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(o){this._order=o,this.onChangeCallback(this)}},set:function(o,f,a,c){return void 0===c&&(c=this._order),this._x=o,this._y=f,this._z=a,this._order=c,this.onChangeCallback(this),this},copy:function(o){return this.set(o.x,o.y,o.z,o.order)},setFromQuaternion:function(o,f,a){return void 0===f&&(f=this._order),void 0===a&&(a=!1),l.fromQuat(o),this.setFromRotationMatrix(l,f,a)},setFromRotationMatrix:function(o,f,a){void 0===f&&(f=this._order),void 0===a&&(a=!1);var c=o.val,p=c[0],d=c[4],v=c[8],y=c[1],S=c[5],b=c[9],C=c[2],M=c[6],w=c[10],R=0,I=0,L=0,F=.99999;switch(f){case"XYZ":I=Math.asin(m(v,-1,1)),Math.abs(v)<F?(R=Math.atan2(-b,w),L=Math.atan2(-d,p)):R=Math.atan2(M,S);break;case"YXZ":R=Math.asin(-m(b,-1,1)),Math.abs(b)<F?(I=Math.atan2(v,w),L=Math.atan2(y,S)):I=Math.atan2(-C,p);break;case"ZXY":R=Math.asin(m(M,-1,1)),Math.abs(M)<F?(I=Math.atan2(-C,w),L=Math.atan2(-d,S)):L=Math.atan2(y,p);break;case"ZYX":I=Math.asin(-m(C,-1,1)),Math.abs(C)<F?(R=Math.atan2(M,w),L=Math.atan2(y,p)):L=Math.atan2(-d,S);break;case"YZX":L=Math.asin(m(y,-1,1)),Math.abs(y)<F?(R=Math.atan2(-b,S),I=Math.atan2(-C,p)):I=Math.atan2(v,w);break;case"XZY":L=Math.asin(-m(d,-1,1)),Math.abs(d)<F?(R=Math.atan2(M,S),I=Math.atan2(v,p)):R=Math.atan2(-b,w)}return this._x=R,this._y=I,this._z=L,this._order=f,a&&this.onChangeCallback(this),this}});s.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],s.DefaultOrder="XYZ",T.exports=s},6411:T=>{T.exports=function(i){if(0===i)return 1;for(var m=i;--i;)m*=i;return m}},99472:T=>{T.exports=function(i,m){return Math.random()*(m-i)+i}},77623:T=>{T.exports=function(i,m,x){void 0===m&&(m=0),void 0===x&&(x=10);var h=Math.pow(x,-m);return Math.floor(i*h)/h}},62945:(T,A,i)=>{var m=i(45319);T.exports=function(h,u,l){return(l-u)*(h=m(h,0,1))+u}},38265:T=>{T.exports=function(i,m){return i/m/1e3}},78702:T=>{T.exports=function(i){return i==parseFloat(i)?!(i%2):void 0}},94883:T=>{T.exports=function(i){return i===parseFloat(i)?!(i%2):void 0}},28915:T=>{T.exports=function(i,m,x){return(m-i)*x+i}},94908:T=>{T.exports=function(i,m,x){return void 0===x&&(x=0),i.clone().lerp(m,x)}},94434:(T,A,i)=>{var x=new(i(83419))({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new x(this)},set:function(h){return this.copy(h)},copy:function(h){var u=this.val,l=h.val;return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=l[6],u[7]=l[7],u[8]=l[8],this},fromMat4:function(h){var u=h.val,l=this.val;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[4],l[4]=u[5],l[5]=u[6],l[6]=u[8],l[7]=u[9],l[8]=u[10],this},fromArray:function(h){var u=this.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=h[6],u[7]=h[7],u[8]=h[8],this},identity:function(){var h=this.val;return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,this},transpose:function(){var h=this.val,u=h[1],l=h[2],s=h[5];return h[1]=h[3],h[2]=h[6],h[3]=u,h[5]=h[7],h[6]=l,h[7]=s,this},invert:function(){var h=this.val,u=h[0],l=h[1],s=h[2],o=h[3],f=h[4],a=h[5],c=h[6],p=h[7],d=h[8],v=d*f-a*p,y=-d*o+a*c,S=p*o-f*c,b=u*v+l*y+s*S;return b?(h[0]=v*(b=1/b),h[1]=(-d*l+s*p)*b,h[2]=(a*l-s*f)*b,h[3]=y*b,h[4]=(d*u-s*c)*b,h[5]=(-a*u+s*o)*b,h[6]=S*b,h[7]=(-p*u+l*c)*b,h[8]=(f*u-l*o)*b,this):null},adjoint:function(){var h=this.val,u=h[0],l=h[1],s=h[2],o=h[3],f=h[4],a=h[5],c=h[6],p=h[7],d=h[8];return h[0]=f*d-a*p,h[1]=s*p-l*d,h[2]=l*a-s*f,h[3]=a*c-o*d,h[4]=u*d-s*c,h[5]=s*o-u*a,h[6]=o*p-f*c,h[7]=l*c-u*p,h[8]=u*f-l*o,this},determinant:function(){var h=this.val,o=h[3],f=h[4],a=h[5],c=h[6],p=h[7],d=h[8];return h[0]*(d*f-a*p)+h[1]*(-d*o+a*c)+h[2]*(p*o-f*c)},multiply:function(h){var u=this.val,l=u[0],s=u[1],o=u[2],f=u[3],a=u[4],c=u[5],p=u[6],d=u[7],v=u[8],y=h.val,S=y[0],b=y[1],C=y[2],M=y[3],w=y[4],R=y[5],I=y[6],L=y[7],F=y[8];return u[0]=S*l+b*f+C*p,u[1]=S*s+b*a+C*d,u[2]=S*o+b*c+C*v,u[3]=M*l+w*f+R*p,u[4]=M*s+w*a+R*d,u[5]=M*o+w*c+R*v,u[6]=I*l+L*f+F*p,u[7]=I*s+L*a+F*d,u[8]=I*o+L*c+F*v,this},translate:function(h){var u=this.val,l=h.x,s=h.y;return u[6]=l*u[0]+s*u[3]+u[6],u[7]=l*u[1]+s*u[4]+u[7],u[8]=l*u[2]+s*u[5]+u[8],this},rotate:function(h){var u=this.val,l=u[0],s=u[1],o=u[2],f=u[3],a=u[4],c=u[5],p=Math.sin(h),d=Math.cos(h);return u[0]=d*l+p*f,u[1]=d*s+p*a,u[2]=d*o+p*c,u[3]=d*f-p*l,u[4]=d*a-p*s,u[5]=d*c-p*o,this},scale:function(h){var u=this.val,l=h.x,s=h.y;return u[0]=l*u[0],u[1]=l*u[1],u[2]=l*u[2],u[3]=s*u[3],u[4]=s*u[4],u[5]=s*u[5],this},fromQuat:function(h){var u=h.x,l=h.y,s=h.z,o=h.w,f=u+u,a=l+l,c=s+s,p=u*f,d=u*a,v=u*c,y=l*a,S=l*c,b=s*c,C=o*f,M=o*a,w=o*c,R=this.val;return R[0]=1-(y+b),R[3]=d+w,R[6]=v-M,R[1]=d-w,R[4]=1-(p+b),R[7]=S+C,R[2]=v+M,R[5]=S-C,R[8]=1-(p+y),this},normalFromMat4:function(h){var u=h.val,l=this.val,s=u[0],o=u[1],f=u[2],a=u[3],c=u[4],p=u[5],d=u[6],v=u[7],y=u[8],S=u[9],b=u[10],C=u[11],M=u[12],w=u[13],R=u[14],I=u[15],L=s*p-o*c,F=s*d-f*c,G=s*v-a*c,z=o*d-f*p,B=o*v-a*p,V=f*v-a*d,Y=y*w-S*M,$=y*R-b*M,J=y*I-C*M,W=S*R-b*w,k=S*I-C*w,N=b*I-C*R,H=L*N-F*k+G*W+z*J-B*$+V*Y;return H?(l[0]=(p*N-d*k+v*W)*(H=1/H),l[1]=(d*J-c*N-v*$)*H,l[2]=(c*k-p*J+v*Y)*H,l[3]=(f*k-o*N-a*W)*H,l[4]=(s*N-f*J+a*$)*H,l[5]=(o*J-s*k-a*Y)*H,l[6]=(w*V-R*B+I*z)*H,l[7]=(R*G-M*V-I*F)*H,l[8]=(M*B-w*G+I*L)*H,this):null}});T.exports=x},37867:(T,A,i)=>{var m=i(83419),x=i(25836),h=1e-6,u=new m({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new u(this)},set:function(c){return this.copy(c)},setValues:function(c,p,d,v,y,S,b,C,M,w,R,I,L,F,G,z){var B=this.val;return B[0]=c,B[1]=p,B[2]=d,B[3]=v,B[4]=y,B[5]=S,B[6]=b,B[7]=C,B[8]=M,B[9]=w,B[10]=R,B[11]=I,B[12]=L,B[13]=F,B[14]=G,B[15]=z,this},copy:function(c){var p=c.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,p,d){var y=l.fromQuat(d).val,S=p.x,b=p.y,C=p.z;return this.setValues(y[0]*S,y[1]*S,y[2]*S,0,y[4]*b,y[5]*b,y[6]*b,0,y[8]*C,y[9]*C,y[10]*C,0,c.x,c.y,c.z,1)},xyz:function(c,p,d){this.identity();var v=this.val;return v[12]=c,v[13]=p,v[14]=d,this},scaling:function(c,p,d){this.zero();var v=this.val;return v[0]=c,v[5]=p,v[10]=d,v[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,p=c[1],d=c[2],v=c[3],y=c[6],S=c[7],b=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=p,c[6]=c[9],c[7]=c[13],c[8]=d,c[9]=y,c[11]=c[14],c[12]=v,c[13]=S,c[14]=b,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,p=c[0],d=c[1],v=c[2],y=c[3],S=c[4],b=c[5],C=c[6],M=c[7],w=c[8],R=c[9],I=c[10],L=c[11],F=c[12],G=c[13],z=c[14],B=c[15],V=p*b-d*S,Y=p*C-v*S,$=p*M-y*S,J=d*C-v*b,W=d*M-y*b,k=v*M-y*C,N=w*G-R*F,H=w*z-I*F,X=w*B-L*F,K=R*z-I*G,Q=R*B-L*G,q=I*B-L*z,_=V*q-Y*Q+$*K+J*X-W*H+k*N;return _?this.setValues((b*q-C*Q+M*K)*(_=1/_),(v*Q-d*q-y*K)*_,(G*k-z*W+B*J)*_,(I*W-R*k-L*J)*_,(C*X-S*q-M*H)*_,(p*q-v*X+y*H)*_,(z*$-F*k-B*Y)*_,(w*k-I*$+L*Y)*_,(S*Q-b*X+M*N)*_,(d*X-p*Q-y*N)*_,(F*W-G*$+B*V)*_,(R*$-w*W-L*V)*_,(b*H-S*K-C*N)*_,(p*K-d*H+v*N)*_,(G*Y-F*J-z*V)*_,(w*J-R*Y+I*V)*_):this},adjoint:function(){var c=this.val,p=c[0],d=c[1],v=c[2],y=c[3],S=c[4],b=c[5],C=c[6],M=c[7],w=c[8],R=c[9],I=c[10],L=c[11],F=c[12],G=c[13],z=c[14],B=c[15];return this.setValues(b*(I*B-L*z)-R*(C*B-M*z)+G*(C*L-M*I),-(d*(I*B-L*z)-R*(v*B-y*z)+G*(v*L-y*I)),d*(C*B-M*z)-b*(v*B-y*z)+G*(v*M-y*C),-(d*(C*L-M*I)-b*(v*L-y*I)+R*(v*M-y*C)),-(S*(I*B-L*z)-w*(C*B-M*z)+F*(C*L-M*I)),p*(I*B-L*z)-w*(v*B-y*z)+F*(v*L-y*I),-(p*(C*B-M*z)-S*(v*B-y*z)+F*(v*M-y*C)),p*(C*L-M*I)-S*(v*L-y*I)+w*(v*M-y*C),S*(R*B-L*G)-w*(b*B-M*G)+F*(b*L-M*R),-(p*(R*B-L*G)-w*(d*B-y*G)+F*(d*L-y*R)),p*(b*B-M*G)-S*(d*B-y*G)+F*(d*M-y*b),-(p*(b*L-M*R)-S*(d*L-y*R)+w*(d*M-y*b)),-(S*(R*z-I*G)-w*(b*z-C*G)+F*(b*I-C*R)),p*(R*z-I*G)-w*(d*z-v*G)+F*(d*I-v*R),-(p*(b*z-C*G)-S*(d*z-v*G)+F*(d*C-v*b)),p*(b*I-C*R)-S*(d*I-v*R)+w*(d*C-v*b))},determinant:function(){var c=this.val,p=c[0],d=c[1],v=c[2],y=c[3],S=c[4],b=c[5],C=c[6],M=c[7],w=c[8],R=c[9],I=c[10],L=c[11],F=c[12],G=c[13],z=c[14],B=c[15];return(p*b-d*S)*(I*B-L*z)-(p*C-v*S)*(R*B-L*G)+(p*M-y*S)*(R*z-I*G)+(d*C-v*b)*(w*B-L*F)-(d*M-y*b)*(w*z-I*F)+(v*M-y*C)*(w*G-R*F)},multiply:function(c){var p=this.val,d=p[0],v=p[1],y=p[2],S=p[3],b=p[4],C=p[5],M=p[6],w=p[7],R=p[8],I=p[9],L=p[10],F=p[11],G=p[12],z=p[13],B=p[14],V=p[15],Y=c.val,$=Y[0],J=Y[1],W=Y[2],k=Y[3];return p[0]=$*d+J*b+W*R+k*G,p[1]=$*v+J*C+W*I+k*z,p[2]=$*y+J*M+W*L+k*B,p[3]=$*S+J*w+W*F+k*V,p[4]=($=Y[4])*d+(J=Y[5])*b+(W=Y[6])*R+(k=Y[7])*G,p[5]=$*v+J*C+W*I+k*z,p[6]=$*y+J*M+W*L+k*B,p[7]=$*S+J*w+W*F+k*V,p[8]=($=Y[8])*d+(J=Y[9])*b+(W=Y[10])*R+(k=Y[11])*G,p[9]=$*v+J*C+W*I+k*z,p[10]=$*y+J*M+W*L+k*B,p[11]=$*S+J*w+W*F+k*V,p[12]=($=Y[12])*d+(J=Y[13])*b+(W=Y[14])*R+(k=Y[15])*G,p[13]=$*v+J*C+W*I+k*z,p[14]=$*y+J*M+W*L+k*B,p[15]=$*S+J*w+W*F+k*V,this},multiplyLocal:function(c){var p=this.val,d=c.val;return this.setValues(p[0]*d[0]+p[1]*d[4]+p[2]*d[8]+p[3]*d[12],p[0]*d[1]+p[1]*d[5]+p[2]*d[9]+p[3]*d[13],p[0]*d[2]+p[1]*d[6]+p[2]*d[10]+p[3]*d[14],p[0]*d[3]+p[1]*d[7]+p[2]*d[11]+p[3]*d[15],p[4]*d[0]+p[5]*d[4]+p[6]*d[8]+p[7]*d[12],p[4]*d[1]+p[5]*d[5]+p[6]*d[9]+p[7]*d[13],p[4]*d[2]+p[5]*d[6]+p[6]*d[10]+p[7]*d[14],p[4]*d[3]+p[5]*d[7]+p[6]*d[11]+p[7]*d[15],p[8]*d[0]+p[9]*d[4]+p[10]*d[8]+p[11]*d[12],p[8]*d[1]+p[9]*d[5]+p[10]*d[9]+p[11]*d[13],p[8]*d[2]+p[9]*d[6]+p[10]*d[10]+p[11]*d[14],p[8]*d[3]+p[9]*d[7]+p[10]*d[11]+p[11]*d[15],p[12]*d[0]+p[13]*d[4]+p[14]*d[8]+p[15]*d[12],p[12]*d[1]+p[13]*d[5]+p[14]*d[9]+p[15]*d[13],p[12]*d[2]+p[13]*d[6]+p[14]*d[10]+p[15]*d[14],p[12]*d[3]+p[13]*d[7]+p[14]*d[11]+p[15]*d[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,p){var d=c.val,v=p.val,y=d[0],S=d[4],b=d[8],C=d[12],M=d[1],w=d[5],R=d[9],I=d[13],L=d[2],F=d[6],G=d[10],z=d[14],B=d[3],V=d[7],Y=d[11],$=d[15],J=v[0],W=v[4],k=v[8],N=v[12],H=v[1],X=v[5],K=v[9],Q=v[13],q=v[2],_=v[6],nt=v[10],st=v[14],at=v[3],lt=v[7],ht=v[11],ut=v[15];return this.setValues(y*J+S*H+b*q+C*at,M*J+w*H+R*q+I*at,L*J+F*H+G*q+z*at,B*J+V*H+Y*q+$*at,y*W+S*X+b*_+C*lt,M*W+w*X+R*_+I*lt,L*W+F*X+G*_+z*lt,B*W+V*X+Y*_+$*lt,y*k+S*K+b*nt+C*ht,M*k+w*K+R*nt+I*ht,L*k+F*K+G*nt+z*ht,B*k+V*K+Y*nt+$*ht,y*N+S*Q+b*st+C*ut,M*N+w*Q+R*st+I*ut,L*N+F*Q+G*st+z*ut,B*N+V*Q+Y*st+$*ut)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,p,d){var v=this.val;return v[12]=v[0]*c+v[4]*p+v[8]*d+v[12],v[13]=v[1]*c+v[5]*p+v[9]*d+v[13],v[14]=v[2]*c+v[6]*p+v[10]*d+v[14],v[15]=v[3]*c+v[7]*p+v[11]*d+v[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,p,d){var v=this.val;return v[0]=v[0]*c,v[1]=v[1]*c,v[2]=v[2]*c,v[3]=v[3]*c,v[4]=v[4]*p,v[5]=v[5]*p,v[6]=v[6]*p,v[7]=v[7]*p,v[8]=v[8]*d,v[9]=v[9]*d,v[10]=v[10]*d,v[11]=v[11]*d,this},makeRotationAxis:function(c,p){var d=Math.cos(p),v=Math.sin(p),y=1-d,S=c.x,b=c.y,C=c.z,M=y*S,w=y*b;return this.setValues(M*S+d,M*b-v*C,M*C+v*b,0,M*b+v*C,w*b+d,w*C-v*S,0,M*C-v*b,w*C+v*S,y*C*C+d,0,0,0,0,1)},rotate:function(c,p){var d=this.val,v=p.x,y=p.y,S=p.z,b=Math.sqrt(v*v+y*y+S*S);if(Math.abs(b)<h)return this;v*=b=1/b,y*=b,S*=b;var C=Math.sin(c),M=Math.cos(c),w=1-M,R=d[0],I=d[1],L=d[2],F=d[3],G=d[4],z=d[5],B=d[6],V=d[7],Y=d[8],$=d[9],J=d[10],W=d[11],K=v*v*w+M,Q=y*v*w+S*C,q=S*v*w-y*C,_=v*y*w-S*C,nt=y*y*w+M,st=S*y*w+v*C,at=v*S*w+y*C,lt=y*S*w-v*C,ht=S*S*w+M;return this.setValues(R*K+G*Q+Y*q,I*K+z*Q+$*q,L*K+B*Q+J*q,F*K+V*Q+W*q,R*_+G*nt+Y*st,I*_+z*nt+$*st,L*_+B*nt+J*st,F*_+V*nt+W*st,R*at+G*lt+Y*ht,I*at+z*lt+$*ht,L*at+B*lt+J*ht,F*at+V*lt+W*ht,d[12],d[13],d[14],d[15])},rotateX:function(c){var p=this.val,d=Math.sin(c),v=Math.cos(c),y=p[4],S=p[5],b=p[6],C=p[7],M=p[8],w=p[9],R=p[10],I=p[11];return p[4]=y*v+M*d,p[5]=S*v+w*d,p[6]=b*v+R*d,p[7]=C*v+I*d,p[8]=M*v-y*d,p[9]=w*v-S*d,p[10]=R*v-b*d,p[11]=I*v-C*d,this},rotateY:function(c){var p=this.val,d=Math.sin(c),v=Math.cos(c),y=p[0],S=p[1],b=p[2],C=p[3],M=p[8],w=p[9],R=p[10],I=p[11];return p[0]=y*v-M*d,p[1]=S*v-w*d,p[2]=b*v-R*d,p[3]=C*v-I*d,p[8]=y*d+M*v,p[9]=S*d+w*v,p[10]=b*d+R*v,p[11]=C*d+I*v,this},rotateZ:function(c){var p=this.val,d=Math.sin(c),v=Math.cos(c),y=p[0],S=p[1],b=p[2],C=p[3],M=p[4],w=p[5],R=p[6],I=p[7];return p[0]=y*v+M*d,p[1]=S*v+w*d,p[2]=b*v+R*d,p[3]=C*v+I*d,p[4]=M*v-y*d,p[5]=w*v-S*d,p[6]=R*v-b*d,p[7]=I*v-C*d,this},fromRotationTranslation:function(c,p){var d=c.x,v=c.y,y=c.z,S=c.w,b=d+d,C=v+v,M=y+y,w=d*b,R=d*C,I=d*M,L=v*C,F=v*M,G=y*M,z=S*b,B=S*C,V=S*M;return this.setValues(1-(L+G),R+V,I-B,0,R-V,1-(w+G),F+z,0,I+B,F-z,1-(w+L),0,p.x,p.y,p.z,1)},fromQuat:function(c){var p=c.x,d=c.y,v=c.z,y=c.w,S=p+p,b=d+d,C=v+v,M=p*S,w=p*b,R=p*C,I=d*b,L=d*C,F=v*C,G=y*S,z=y*b,B=y*C;return this.setValues(1-(I+F),w+B,R-z,0,w-B,1-(M+F),L+G,0,R+z,L-G,1-(M+I),0,0,0,0,1)},frustum:function(c,p,d,v,y,S){var b=1/(p-c),C=1/(v-d),M=1/(y-S);return this.setValues(2*y*b,0,0,0,0,2*y*C,0,0,(p+c)*b,(v+d)*C,(S+y)*M,-1,0,0,S*y*2*M,0)},perspective:function(c,p,d,v){var y=1/Math.tan(c/2),S=1/(d-v);return this.setValues(y/p,0,0,0,0,y,0,0,0,0,(v+d)*S,-1,0,0,2*v*d*S,0)},perspectiveLH:function(c,p,d,v){return this.setValues(2*d/c,0,0,0,0,2*d/p,0,0,0,0,-v/(d-v),1,0,0,d*v/(d-v),0)},ortho:function(c,p,d,v,y,S){var b=c-p,C=d-v,M=y-S;return this.setValues(-2*(b=0===b?b:1/b),0,0,0,0,-2*(C=0===C?C:1/C),0,0,0,0,2*(M=0===M?M:1/M),0,(c+p)*b,(v+d)*C,(S+y)*M,1)},lookAtRH:function(c,p,d){var v=this.val;return a.subVectors(c,p),0===a.getLengthSquared()&&(a.z=1),a.normalize(),o.crossVectors(d,a),0===o.getLengthSquared()&&(1===Math.abs(d.z)?a.x+=1e-4:a.z+=1e-4,a.normalize(),o.crossVectors(d,a)),o.normalize(),f.crossVectors(a,o),v[0]=o.x,v[1]=o.y,v[2]=o.z,v[4]=f.x,v[5]=f.y,v[6]=f.z,v[8]=a.x,v[9]=a.y,v[10]=a.z,this},lookAt:function(c,p,d){var v=c.x,y=c.y,S=c.z,b=d.x,C=d.y,M=d.z,w=p.x,R=p.y,I=p.z;if(Math.abs(v-w)<h&&Math.abs(y-R)<h&&Math.abs(S-I)<h)return this.identity();var L=v-w,F=y-R,G=S-I,z=1/Math.sqrt(L*L+F*F+G*G),B=C*(G*=z)-M*(F*=z),V=M*(L*=z)-b*G,Y=b*F-C*L;(z=Math.sqrt(B*B+V*V+Y*Y))?(B*=z=1/z,V*=z,Y*=z):(B=0,V=0,Y=0);var $=F*Y-G*V,J=G*B-L*Y,W=L*V-F*B;return(z=Math.sqrt($*$+J*J+W*W))?($*=z=1/z,J*=z,W*=z):($=0,J=0,W=0),this.setValues(B,$,L,0,V,J,F,0,Y,W,G,0,-(B*v+V*y+Y*S),-($*v+J*y+W*S),-(L*v+F*y+G*S),1)},yawPitchRoll:function(c,p,d){this.zero(),l.zero(),s.zero();var v=this.val,y=l.val,S=s.val,b=Math.sin(d),C=Math.cos(d);return v[10]=1,v[15]=1,v[0]=C,v[1]=b,v[4]=-b,v[5]=C,b=Math.sin(p),C=Math.cos(p),y[0]=1,y[15]=1,y[5]=C,y[10]=C,y[9]=-b,y[6]=b,b=Math.sin(c),C=Math.cos(c),S[5]=1,S[15]=1,S[0]=C,S[2]=-b,S[8]=b,S[10]=C,this.multiplyLocal(l),this.multiplyLocal(s),this},setWorldMatrix:function(c,p,d,v,y){return this.yawPitchRoll(c.y,c.x,c.z),l.scaling(d.x,d.y,d.z),s.xyz(p.x,p.y,p.z),this.multiplyLocal(l),this.multiplyLocal(s),v&&this.multiplyLocal(v),y&&this.multiplyLocal(y),this},multiplyToMat4:function(c,p){var d=this.val,v=c.val,y=d[0],S=d[1],b=d[2],C=d[3],M=d[4],w=d[5],R=d[6],I=d[7],L=d[8],F=d[9],G=d[10],z=d[11],B=d[12],V=d[13],Y=d[14],$=d[15],W=v[1],k=v[2],N=v[3],H=v[4],X=v[5],K=v[6],Q=v[7],q=v[8],_=v[9],nt=v[10],st=v[11],at=v[12],lt=v[13],ht=v[14],ut=v[15];return p.setValues(v[0]*y+W*M+k*L+N*B,W*S+W*w+k*F+N*V,k*b+W*R+k*G+N*Y,N*C+W*I+k*z+N*$,H*y+X*M+K*L+Q*B,H*S+X*w+K*F+Q*V,H*b+X*R+K*G+Q*Y,H*C+X*I+K*z+Q*$,q*y+_*M+nt*L+st*B,q*S+_*w+nt*F+st*V,q*b+_*R+nt*G+st*Y,q*C+_*I+nt*z+st*$,at*y+lt*M+ht*L+ut*B,at*S+lt*w+ht*F+ut*V,at*b+lt*R+ht*G+ut*Y,at*C+lt*I+ht*z+ut*$)},fromRotationXYTranslation:function(c,p,d){var v=p.x,y=p.y,S=p.z,b=Math.sin(c.x),C=Math.cos(c.x),M=Math.sin(c.y),w=Math.cos(c.y),R=v,I=y,L=S,F=-b,G=0-F*M,z=0-C*M,B=F*w,V=C*w;return d||(R=w*v+M*S,I=G*v+C*y+B*S,L=z*v+b*y+V*S),this.setValues(w,G,z,0,0,C,b,0,M,B,V,0,R,I,L,1)},getMaxScaleOnAxis:function(){var c=this.val;return Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],c[4]*c[4]+c[5]*c[5]+c[6]*c[6],c[8]*c[8]+c[9]*c[9]+c[10]*c[10]))}}),l=new u,s=new u,o=new x,f=new x,a=new x;T.exports=u},86883:T=>{T.exports=function(i,m,x){return Math.min(i+m,x)}},50040:T=>{T.exports=function(i){var m=i.length;if(0===m)return 0;i.sort(function(h,u){return h-u});var x=Math.floor(m/2);return m%2==0?(i[x]+i[x-1])/2:i[x]}},37204:T=>{T.exports=function(i,m,x){return Math.max(i-m,x)}},65201:T=>{T.exports=function(i,m,x,h){void 0===x&&(x=m+1);var u=(i-m)/(x-m);return u>1?void 0!==h?(u=(h-i)/(h-x))<0&&(u=0):u=1:u<0&&(u=0),u}},15746:(T,A,i)=>{var m=i(83419),x=i(94434),h=i(29747),u=i(25836),l=1e-6,s=new Int8Array([1,2,0]),o=new Float32Array([0,0,0]),f=new u(1,0,0),a=new u(0,1,0),c=new u,p=new x,d=new m({initialize:function(y,S,b,C){this.onChangeCallback=h,this.set(y,S,b,C)},x:{get:function(){return this._x},set:function(v){this._x=v,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(v){this._y=v,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(v){this._z=v,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(v){this._w=v,this.onChangeCallback(this)}},copy:function(v){return this.set(v)},set:function(v,y,S,b,C){return void 0===C&&(C=!0),"object"==typeof v?(this._x=v.x||0,this._y=v.y||0,this._z=v.z||0,this._w=v.w||0):(this._x=v||0,this._y=y||0,this._z=S||0,this._w=b||0),C&&this.onChangeCallback(this),this},add:function(v){return this._x+=v.x,this._y+=v.y,this._z+=v.z,this._w+=v.w,this.onChangeCallback(this),this},subtract:function(v){return this._x-=v.x,this._y-=v.y,this._z-=v.z,this._w-=v.w,this.onChangeCallback(this),this},scale:function(v){return this._x*=v,this._y*=v,this._z*=v,this._w*=v,this.onChangeCallback(this),this},length:function(){var v=this.x,y=this.y,S=this.z,b=this.w;return Math.sqrt(v*v+y*y+S*S+b*b)},lengthSq:function(){var v=this.x,y=this.y,S=this.z,b=this.w;return v*v+y*y+S*S+b*b},normalize:function(){var v=this.x,y=this.y,S=this.z,b=this.w,C=v*v+y*y+S*S+b*b;return C>0&&(C=1/Math.sqrt(C),this._x=v*C,this._y=y*C,this._z=S*C,this._w=b*C),this.onChangeCallback(this),this},dot:function(v){return this.x*v.x+this.y*v.y+this.z*v.z+this.w*v.w},lerp:function(v,y){void 0===y&&(y=0);var S=this.x,b=this.y,C=this.z,M=this.w;return this.set(S+y*(v.x-S),b+y*(v.y-b),C+y*(v.z-C),M+y*(v.w-M))},rotationTo:function(v,y){var S=v.x*y.x+v.y*y.y+v.z*y.z;return S<-.999999?(c.copy(f).cross(v).length()<l&&c.copy(a).cross(v),c.normalize(),this.setAxisAngle(c,Math.PI)):S>.999999?this.set(0,0,0,1):(c.copy(v).cross(y),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+S,this.normalize())},setAxes:function(v,y,S){var b=p.val;return b[0]=y.x,b[3]=y.y,b[6]=y.z,b[1]=S.x,b[4]=S.y,b[7]=S.z,b[2]=-v.x,b[5]=-v.y,b[8]=-v.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(v,y){y*=.5;var S=Math.sin(y);return this.set(S*v.x,S*v.y,S*v.z,Math.cos(y))},multiply:function(v){var y=this.x,S=this.y,b=this.z,C=this.w,M=v.x,w=v.y,R=v.z,I=v.w;return this.set(y*I+C*M+S*R-b*w,S*I+C*w+b*M-y*R,b*I+C*R+y*w-S*M,C*I-y*M-S*w-b*R)},slerp:function(v,y){var S=this.x,b=this.y,C=this.z,M=this.w,w=v.x,R=v.y,I=v.z,L=v.w,F=S*w+b*R+C*I+M*L;F<0&&(F=-F,w=-w,R=-R,I=-I,L=-L);var G=1-y,z=y;if(1-F>l){var B=Math.acos(F),V=Math.sin(B);G=Math.sin((1-y)*B)/V,z=Math.sin(y*B)/V}return this.set(G*S+z*w,G*b+z*R,G*C+z*I,G*M+z*L)},invert:function(){var v=this.x,y=this.y,S=this.z,b=this.w,C=v*v+y*y+S*S+b*b,M=C?1/C:0;return this.set(-v*M,-y*M,-S*M,b*M)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(v){v*=.5;var y=this.x,S=this.y,b=this.z,C=this.w,M=Math.sin(v),w=Math.cos(v);return this.set(y*w+C*M,S*w+b*M,b*w-S*M,C*w-y*M)},rotateY:function(v){v*=.5;var y=this.x,S=this.y,b=this.z,C=this.w,M=Math.sin(v),w=Math.cos(v);return this.set(y*w-b*M,S*w+C*M,b*w+y*M,C*w-S*M)},rotateZ:function(v){v*=.5;var y=this.x,S=this.y,b=this.z,C=this.w,M=Math.sin(v),w=Math.cos(v);return this.set(y*w+S*M,S*w-y*M,b*w+C*M,C*w-b*M)},calculateW:function(){var v=this.x,y=this.y,S=this.z;return this.w=-Math.sqrt(1-v*v-y*y-S*S),this},setFromEuler:function(v,y){var S=v.x/2,b=v.y/2,C=v.z/2,M=Math.cos(S),w=Math.cos(b),R=Math.cos(C),I=Math.sin(S),L=Math.sin(b),F=Math.sin(C);switch(v.order){case"XYZ":this.set(I*w*R+M*L*F,M*L*R-I*w*F,M*w*F+I*L*R,M*w*R-I*L*F,y);break;case"YXZ":this.set(I*w*R+M*L*F,M*L*R-I*w*F,M*w*F-I*L*R,M*w*R+I*L*F,y);break;case"ZXY":this.set(I*w*R-M*L*F,M*L*R+I*w*F,M*w*F+I*L*R,M*w*R-I*L*F,y);break;case"ZYX":this.set(I*w*R-M*L*F,M*L*R+I*w*F,M*w*F-I*L*R,M*w*R+I*L*F,y);break;case"YZX":this.set(I*w*R+M*L*F,M*L*R+I*w*F,M*w*F-I*L*R,M*w*R-I*L*F,y);break;case"XZY":this.set(I*w*R-M*L*F,M*L*R-I*w*F,M*w*F+I*L*R,M*w*R+I*L*F,y)}return this},setFromRotationMatrix:function(v){var z,y=v.val,S=y[0],b=y[4],C=y[8],M=y[1],w=y[5],R=y[9],I=y[2],L=y[6],F=y[10],G=S+w+F;return G>0?(z=.5/Math.sqrt(G+1),this.set((L-R)*z,(C-I)*z,(M-b)*z,.25/z)):S>w&&S>F?(z=2*Math.sqrt(1+S-w-F),this.set(.25*z,(b+M)/z,(C+I)/z,(L-R)/z)):w>F?(z=2*Math.sqrt(1+w-S-F),this.set((b+M)/z,.25*z,(R+L)/z,(C-I)/z)):(z=2*Math.sqrt(1+F-S-w),this.set((C+I)/z,(R+L)/z,.25*z,(M-b)/z)),this},fromMat3:function(v){var b,y=v.val,S=y[0]+y[4]+y[8];if(S>0)b=Math.sqrt(S+1),this.w=.5*b,this._x=(y[7]-y[5])*(b=.5/b),this._y=(y[2]-y[6])*b,this._z=(y[3]-y[1])*b;else{var C=0;y[4]>y[0]&&(C=1),y[8]>y[3*C+C]&&(C=2);var M=s[C],w=s[M];b=Math.sqrt(y[3*C+C]-y[3*M+M]-y[3*w+w]+1),o[C]=.5*b,o[M]=(y[3*M+C]+y[3*C+M])*(b=.5/b),o[w]=(y[3*w+C]+y[3*C+w])*b,this._x=o[0],this._y=o[1],this._z=o[2],this._w=(y[3*w+M]-y[3*M+w])*b}return this.onChangeCallback(this),this}});T.exports=d},43396:(T,A,i)=>{var m=i(36383);T.exports=function(h){return h*m.RAD_TO_DEG}},74362:T=>{T.exports=function(i,m){void 0===m&&(m=1);var x=2*Math.random()*Math.PI;return i.x=Math.cos(x)*m,i.y=Math.sin(x)*m,i}},60706:T=>{T.exports=function(i,m){void 0===m&&(m=1);var x=2*Math.random()*Math.PI,h=2*Math.random()-1,u=Math.sqrt(1-h*h)*m;return i.x=Math.cos(x)*u,i.y=Math.sin(x)*u,i.z=h*m,i}},67421:T=>{T.exports=function(i,m){return void 0===m&&(m=1),i.x=(2*Math.random()-1)*m,i.y=(2*Math.random()-1)*m,i.z=(2*Math.random()-1)*m,i.w=(2*Math.random()-1)*m,i}},36305:T=>{T.exports=function(i,m){var x=i.x,h=i.y;return i.x=x*Math.cos(m)-h*Math.sin(m),i.y=x*Math.sin(m)+h*Math.cos(m),i}},11520:T=>{T.exports=function(i,m,x,h){var u=Math.cos(h),l=Math.sin(h),s=i.x-m,o=i.y-x;return i.x=s*u-o*l+m,i.y=s*l+o*u+x,i}},1163:T=>{T.exports=function(i,m,x,h,u){var l=h+Math.atan2(i.y-x,i.x-m);return i.x=m+u*Math.cos(l),i.y=x+u*Math.sin(l),i}},70336:T=>{T.exports=function(i,m,x,h,u){return i.x=m+u*Math.cos(h),i.y=x+u*Math.sin(h),i}},72678:(T,A,i)=>{var m=i(25836),x=i(37867),h=i(15746),u=new x,l=new h,s=new m;T.exports=function(f,a,c){return l.setAxisAngle(a,c),u.fromRotationTranslation(l,s.set(0,0,0)),f.transformMat4(u)}},2284:T=>{T.exports=function(i){return i>0?Math.ceil(i):Math.floor(i)}},41013:T=>{T.exports=function(i,m,x){void 0===m&&(m=0),void 0===x&&(x=10);var h=Math.pow(x,-m);return Math.round(i*h)/h}},16922:T=>{T.exports=function(i,m,x,h){void 0===m&&(m=1),void 0===x&&(x=1),void 0===h&&(h=1),h*=Math.PI/i;for(var u=[],l=[],s=0;s<i;s++)m+=(x-=m*h)*h,u[s]=x,l[s]=m;return{sin:l,cos:u,length:i}}},7602:T=>{T.exports=function(i,m,x){return i<=m?0:i>=x?1:(i=(i-m)/(x-m))*i*(3-2*i)}},54261:T=>{T.exports=function(i,m,x){return(i=Math.max(0,Math.min(1,(i-m)/(x-m))))*i*i*(i*(6*i-15)+10)}},44408:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s){void 0===s&&(s=new m);var o=0,f=0;return h>0&&h<=u*l&&(o=h>u-1?h-(f=Math.floor(h/u))*u:h),s.set(o,f)}},85955:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o,f,a,c){void 0===c&&(c=new m);var p=Math.sin(o),d=Math.cos(o),v=d*f,y=p*f,S=-p*a,b=d*a,C=1/(v*b+S*-y);return c.x=b*C*h+-S*C*u+(s*S-l*b)*C,c.y=v*C*u+-y*C*h+(-s*v+l*y)*C,c}},26099:(T,A,i)=>{var m=i(83419),x=i(43855),h=new m({initialize:function(l,s){this.x=0,this.y=0,"object"==typeof l?(this.x=l.x||0,this.y=l.y||0):(void 0===s&&(s=l),this.x=l||0,this.y=s||0)},clone:function(){return new h(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,l){return void 0===l&&(l=u),this.x=u,this.y=l,this},setTo:function(u,l){return this.set(u,l)},setToPolar:function(u,l){return null==l&&(l=1),this.x=Math.cos(u)*l,this.y=Math.sin(u)*l,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,l){return x(this.x,u.x,l)&&x(this.y,u.y,l)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var l=u.x-this.x,s=u.y-this.y;return Math.sqrt(l*l+s*s)},distanceSq:function(u){var l=u.x-this.x,s=u.y-this.y;return l*l+s*s},length:function(){var u=this.x,l=this.y;return Math.sqrt(u*u+l*l)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,l=this.y;return u*u+l*l},normalize:function(){var u=this.x,l=this.y,s=u*u+l*l;return s>0&&(s=1/Math.sqrt(s),this.x=u*s,this.y=l*s),this},normalizeRightHand:function(){var u=this.x;return this.x=-1*this.y,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=-1*u,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,l){void 0===l&&(l=0);var s=this.x,o=this.y;return this.x=s+l*(u.x-s),this.y=o+l*(u.y-o),this},transformMat3:function(u){var l=this.x,s=this.y,o=u.val;return this.x=o[0]*l+o[3]*s+o[6],this.y=o[1]*l+o[4]*s+o[7],this},transformMat4:function(u){var l=this.x,s=this.y,o=u.val;return this.x=o[0]*l+o[4]*s+o[12],this.y=o[1]*l+o[5]*s+o[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var l=this.length();return l&&l>u&&this.scale(u/l),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var l=Math.cos(u),s=Math.sin(u);return this.set(l*this.x-s*this.y,s*this.x+l*this.y)},project:function(u){var l=this.dot(u)/u.dot(u);return this.copy(u).scale(l)}});h.ZERO=new h,h.RIGHT=new h(1,0),h.LEFT=new h(-1,0),h.UP=new h(0,-1),h.DOWN=new h(0,1),h.ONE=new h(1,1),T.exports=h},25836:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s){this.x=0,this.y=0,this.z=0,"object"==typeof u?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=l||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(h){return this.x=Math.min(this.x,h.x),this.y=Math.min(this.y,h.y),this.z=Math.min(this.z,h.z),this},max:function(h){return this.x=Math.max(this.x,h.x),this.y=Math.max(this.y,h.y),this.z=Math.max(this.z,h.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(h,u){return this.x=h.x+u.x,this.y=h.y+u.y,this.z=h.z+u.z,this},crossVectors:function(h,u){var l=h.x,s=h.y,o=h.z,f=u.x,a=u.y,c=u.z;return this.x=s*c-o*a,this.y=o*f-l*c,this.z=l*a-s*f,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this},set:function(h,u,l){return"object"==typeof h?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=u||0,this.z=l||0),this},setFromMatrixPosition:function(h){return this.fromArray(h.val,12)},setFromMatrixColumn:function(h,u){return this.fromArray(h.val,4*u)},fromArray:function(h,u){return void 0===u&&(u=0),this.x=h[u],this.y=h[u+1],this.z=h[u+2],this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this},addScalar:function(h){return this.x+=h,this.y+=h,this.z+=h,this},addScale:function(h,u){return this.x+=h.x*u,this.y+=h.y*u,this.z+=h.z*u||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h,this.z*=h):(this.x=0,this.y=0,this.z=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(h){var u=h.x-this.x,l=h.y-this.y,s=h.z-this.z||0;return Math.sqrt(u*u+l*l+s*s)},distanceSq:function(h){var u=h.x-this.x,l=h.y-this.y,s=h.z-this.z||0;return u*u+l*l+s*s},length:function(){var h=this.x,u=this.y,l=this.z;return Math.sqrt(h*h+u*u+l*l)},lengthSq:function(){var h=this.x,u=this.y,l=this.z;return h*h+u*u+l*l},normalize:function(){var h=this.x,u=this.y,l=this.z,s=h*h+u*u+l*l;return s>0&&(s=1/Math.sqrt(s),this.x=h*s,this.y=u*s,this.z=l*s),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z},cross:function(h){var u=this.x,l=this.y,s=this.z,o=h.x,f=h.y,a=h.z;return this.x=l*a-s*f,this.y=s*o-u*a,this.z=u*f-l*o,this},lerp:function(h,u){void 0===u&&(u=0);var l=this.x,s=this.y,o=this.z;return this.x=l+u*(h.x-l),this.y=s+u*(h.y-s),this.z=o+u*(h.z-o),this},applyMatrix3:function(h){var u=this.x,l=this.y,s=this.z,o=h.val;return this.x=o[0]*u+o[3]*l+o[6]*s,this.y=o[1]*u+o[4]*l+o[7]*s,this.z=o[2]*u+o[5]*l+o[8]*s,this},applyMatrix4:function(h){var u=this.x,l=this.y,s=this.z,o=h.val,f=1/(o[3]*u+o[7]*l+o[11]*s+o[15]);return this.x=(o[0]*u+o[4]*l+o[8]*s+o[12])*f,this.y=(o[1]*u+o[5]*l+o[9]*s+o[13])*f,this.z=(o[2]*u+o[6]*l+o[10]*s+o[14])*f,this},transformMat3:function(h){var u=this.x,l=this.y,s=this.z,o=h.val;return this.x=u*o[0]+l*o[3]+s*o[6],this.y=u*o[1]+l*o[4]+s*o[7],this.z=u*o[2]+l*o[5]+s*o[8],this},transformMat4:function(h){var u=this.x,l=this.y,s=this.z,o=h.val;return this.x=o[0]*u+o[4]*l+o[8]*s+o[12],this.y=o[1]*u+o[5]*l+o[9]*s+o[13],this.z=o[2]*u+o[6]*l+o[10]*s+o[14],this},transformCoordinates:function(h){var u=this.x,l=this.y,s=this.z,o=h.val,a=u*o[1]+l*o[5]+s*o[9]+o[13],c=u*o[2]+l*o[6]+s*o[10]+o[14],p=u*o[3]+l*o[7]+s*o[11]+o[15];return this.x=(u*o[0]+l*o[4]+s*o[8]+o[12])/p,this.y=a/p,this.z=c/p,this},transformQuat:function(h){var u=this.x,l=this.y,s=this.z,o=h.x,f=h.y,a=h.z,c=h.w,p=c*u+f*s-a*l,d=c*l+a*u-o*s,v=c*s+o*l-f*u,y=-o*u-f*l-a*s;return this.x=p*c+y*-o+d*-a-v*-f,this.y=d*c+y*-f+v*-o-p*-a,this.z=v*c+y*-a+p*-f-d*-o,this},project:function(h){var u=this.x,l=this.y,s=this.z,o=h.val,a=o[1],c=o[2],v=o[5],y=o[6],C=o[9],M=o[10],I=o[13],L=o[14],G=1/(u*o[3]+l*o[7]+s*o[11]+o[15]);return this.x=(u*o[0]+l*o[4]+s*o[8]+o[12])*G,this.y=(u*a+l*v+s*C+I)*G,this.z=(u*c+l*y+s*M+L)*G,this},projectViewMatrix:function(h,u){return this.applyMatrix4(h).applyMatrix4(u)},unprojectViewMatrix:function(h,u){return this.applyMatrix4(h).applyMatrix4(u)},unproject:function(h,u){var f=h.w,c=f-this.y-1-h.y,p=this.z;return this.x=2*(this.x-h.x)/h.z-1,this.y=2*c/f-1,this.z=2*p-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),T.exports=x},61369:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof u?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=l||0,this.z=s||0,this.w=o||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(h){return this.x=h.x,this.y=h.y,this.z=h.z||0,this.w=h.w||0,this},equals:function(h){return this.x===h.x&&this.y===h.y&&this.z===h.z&&this.w===h.w},set:function(h,u,l,s){return"object"==typeof h?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=u||0,this.z=l||0,this.w=s||0),this},add:function(h){return this.x+=h.x,this.y+=h.y,this.z+=h.z||0,this.w+=h.w||0,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this.z-=h.z||0,this.w-=h.w||0,this},scale:function(h){return this.x*=h,this.y*=h,this.z*=h,this.w*=h,this},length:function(){var h=this.x,u=this.y,l=this.z,s=this.w;return Math.sqrt(h*h+u*u+l*l+s*s)},lengthSq:function(){var h=this.x,u=this.y,l=this.z,s=this.w;return h*h+u*u+l*l+s*s},normalize:function(){var h=this.x,u=this.y,l=this.z,s=this.w,o=h*h+u*u+l*l+s*s;return o>0&&(o=1/Math.sqrt(o),this.x=h*o,this.y=u*o,this.z=l*o,this.w=s*o),this},dot:function(h){return this.x*h.x+this.y*h.y+this.z*h.z+this.w*h.w},lerp:function(h,u){void 0===u&&(u=0);var l=this.x,s=this.y,o=this.z,f=this.w;return this.x=l+u*(h.x-l),this.y=s+u*(h.y-s),this.z=o+u*(h.z-o),this.w=f+u*(h.w-f),this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this.z*=h.z||1,this.w*=h.w||1,this},divide:function(h){return this.x/=h.x,this.y/=h.y,this.z/=h.z||1,this.w/=h.w||1,this},distance:function(h){var u=h.x-this.x,l=h.y-this.y,s=h.z-this.z||0,o=h.w-this.w||0;return Math.sqrt(u*u+l*l+s*s+o*o)},distanceSq:function(h){var u=h.x-this.x,l=h.y-this.y,s=h.z-this.z||0,o=h.w-this.w||0;return u*u+l*l+s*s+o*o},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(h){var u=this.x,l=this.y,s=this.z,o=this.w,f=h.val;return this.x=f[0]*u+f[4]*l+f[8]*s+f[12]*o,this.y=f[1]*u+f[5]*l+f[9]*s+f[13]*o,this.z=f[2]*u+f[6]*l+f[10]*s+f[14]*o,this.w=f[3]*u+f[7]*l+f[11]*s+f[15]*o,this},transformQuat:function(h){var u=this.x,l=this.y,s=this.z,o=h.x,f=h.y,a=h.z,c=h.w,p=c*u+f*s-a*l,d=c*l+a*u-o*s,v=c*s+o*l-f*u,y=-o*u-f*l-a*s;return this.x=p*c+y*-o+d*-a-v*-f,this.y=d*c+y*-f+v*-o-p*-a,this.z=v*c+y*-a+p*-f-d*-o,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,T.exports=x},60417:T=>{T.exports=function(i,m,x){return Math.abs(i-m)<=x}},15994:T=>{T.exports=function(i,m,x){var h=x-m;return m+((i-m)%h+h)%h}},31040:T=>{T.exports=function(i,m,x,h){return Math.atan2(h-m,x-i)}},55495:T=>{T.exports=function(i,m){return Math.atan2(m.y-i.y,m.x-i.x)}},128:T=>{T.exports=function(i,m){return Math.atan2(m.x-i.x,m.y-i.y)}},41273:T=>{T.exports=function(i,m,x,h){return Math.atan2(x-i,h-m)}},1432:(T,A,i)=>{var m=i(36383);T.exports=function(h){return h>Math.PI&&(h-=m.PI2),Math.abs(((h+m.TAU)%m.PI2-m.PI2)%m.PI2)}},12407:T=>{T.exports=function(i){return(i%=2*Math.PI)>=0?i:i+2*Math.PI}},53993:(T,A,i)=>{var m=i(99472);T.exports=function(){return m(-Math.PI,Math.PI)}},86564:(T,A,i)=>{var m=i(99472);T.exports=function(){return m(-180,180)}},90154:(T,A,i)=>{var m=i(12407);T.exports=function(h){return m(h+Math.PI)}},48736:(T,A,i)=>{var m=i(36383);T.exports=function(h,u,l){return void 0===l&&(l=.05),h===u||(Math.abs(u-h)<=l||Math.abs(u-h)>=m.PI2-l?h=u:(Math.abs(u-h)>Math.PI&&(u<h?u+=m.PI2:u-=m.PI2),u>h?h+=l:u<h&&(h-=l))),h}},61430:T=>{T.exports=function(i,m){var x=m-i;return 0===x?0:x-360*Math.floor((x- -180)/360)}},86554:(T,A,i)=>{var m=i(15994);T.exports=function(h){return m(h,-Math.PI,Math.PI)}},30954:(T,A,i)=>{var m=i(15994);T.exports=function(h){return m(h,-180,180)}},25588:(T,A,i)=>{T.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:T=>{var A={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};T.exports=A},20339:T=>{T.exports=function(i,m,x,h){var u=i-x,l=m-h;return Math.sqrt(u*u+l*l)}},52816:T=>{T.exports=function(i,m){var x=i.x-m.x,h=i.y-m.y;return Math.sqrt(x*x+h*h)}},64559:T=>{T.exports=function(i,m){var x=i.x-m.x,h=i.y-m.y;return x*x+h*h}},82340:T=>{T.exports=function(i,m,x,h){return Math.max(Math.abs(i-x),Math.abs(m-h))}},14390:T=>{T.exports=function(i,m,x,h,u){return void 0===u&&(u=2),Math.sqrt(Math.pow(x-i,u)+Math.pow(h-m,u))}},2243:T=>{T.exports=function(i,m,x,h){return Math.abs(i-x)+Math.abs(m-h)}},89774:T=>{T.exports=function(i,m,x,h){var u=i-x,l=m-h;return u*u+l*l}},50994:(T,A,i)=>{T.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(T,A,i)=>{var m=i(54178),x=i(41521),h=i(79980),u=i(85433),l=i(99140),s=i(48857),o=i(81596),f=i(59133),a=i(98516),c=i(35248),p=i(82500),d=i(49752);T.exports={Power0:o,Power1:f.Out,Power2:u.Out,Power3:a.Out,Power4:c.Out,Linear:o,Quad:f.Out,Cubic:u.Out,Quart:a.Out,Quint:c.Out,Sine:p.Out,Expo:s.Out,Circ:h.Out,Elastic:l.Out,Back:m.Out,Bounce:x.Out,Stepped:d,"Quad.easeIn":f.In,"Cubic.easeIn":u.In,"Quart.easeIn":a.In,"Quint.easeIn":c.In,"Sine.easeIn":p.In,"Expo.easeIn":s.In,"Circ.easeIn":h.In,"Elastic.easeIn":l.In,"Back.easeIn":m.In,"Bounce.easeIn":x.In,"Quad.easeOut":f.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":a.Out,"Quint.easeOut":c.Out,"Sine.easeOut":p.Out,"Expo.easeOut":s.Out,"Circ.easeOut":h.Out,"Elastic.easeOut":l.Out,"Back.easeOut":m.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":s.InOut,"Circ.easeInOut":h.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":m.InOut,"Bounce.easeInOut":x.InOut}},1639:T=>{T.exports=function(i,m){return void 0===m&&(m=1.70158),i*i*((m+1)*i-m)}},50099:T=>{T.exports=function(i,m){void 0===m&&(m=1.70158);var x=1.525*m;return(i*=2)<1?i*i*((x+1)*i-x)*.5:.5*((i-=2)*i*((x+1)*i+x)+2)}},41286:T=>{T.exports=function(i,m){return void 0===m&&(m=1.70158),--i*i*((m+1)*i+m)+1}},54178:(T,A,i)=>{T.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:T=>{T.exports=function(i){return(i=1-i)<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)}},41788:T=>{T.exports=function(i){var m=!1;return i<.5?(i=1-2*i,m=!0):i=2*i-1,i<.36363636363636365?i*=7.5625*i:i=i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375,m?.5*(1-i):.5*i+.5}},69905:T=>{T.exports=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375}},41521:(T,A,i)=>{T.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:T=>{T.exports=function(i){return 1-Math.sqrt(1-i*i)}},4177:T=>{T.exports=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}},57512:T=>{T.exports=function(i){return Math.sqrt(1- --i*i)}},79980:(T,A,i)=>{T.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:T=>{T.exports=function(i){return i*i*i}},82820:T=>{T.exports=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)}},35033:T=>{T.exports=function(i){return--i*i*i+1}},85433:(T,A,i)=>{T.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:T=>{T.exports=function(i,m,x){if(void 0===m&&(m=.1),void 0===x&&(x=.1),0===i)return 0;if(1===i)return 1;var h=x/4;return m<1?m=1:h=x*Math.asin(1/m)/(2*Math.PI),-m*Math.pow(2,10*(i-=1))*Math.sin((i-h)*(2*Math.PI)/x)}},50665:T=>{T.exports=function(i,m,x){if(void 0===m&&(m=.1),void 0===x&&(x=.1),0===i)return 0;if(1===i)return 1;var h=x/4;return m<1?m=1:h=x*Math.asin(1/m)/(2*Math.PI),(i*=2)<1?m*Math.pow(2,10*(i-=1))*Math.sin((i-h)*(2*Math.PI)/x)*-.5:m*Math.pow(2,-10*(i-=1))*Math.sin((i-h)*(2*Math.PI)/x)*.5+1}},7744:T=>{T.exports=function(i,m,x){if(void 0===m&&(m=.1),void 0===x&&(x=.1),0===i)return 0;if(1===i)return 1;var h=x/4;return m<1?m=1:h=x*Math.asin(1/m)/(2*Math.PI),m*Math.pow(2,-10*i)*Math.sin((i-h)*(2*Math.PI)/x)+1}},99140:(T,A,i)=>{T.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:T=>{T.exports=function(i){return Math.pow(2,10*(i-1))-.001}},87844:T=>{T.exports=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))}},89433:T=>{T.exports=function(i){return 1-Math.pow(2,-10*i)}},48857:(T,A,i)=>{T.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(T,A,i)=>{T.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:T=>{T.exports=function(i){return i}},81596:(T,A,i)=>{T.exports=i(7147)},34826:T=>{T.exports=function(i){return i*i}},20544:T=>{T.exports=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)}},92029:T=>{T.exports=function(i){return i*(2-i)}},59133:(T,A,i)=>{T.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:T=>{T.exports=function(i){return i*i*i*i}},78137:T=>{T.exports=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)}},45840:T=>{T.exports=function(i){return 1- --i*i*i*i}},98516:(T,A,i)=>{T.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:T=>{T.exports=function(i){return i*i*i*i*i}},16509:T=>{T.exports=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)}},17868:T=>{T.exports=function(i){return--i*i*i*i*i+1}},35248:(T,A,i)=>{T.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:T=>{T.exports=function(i){return 0===i?0:1===i?1:1-Math.cos(i*Math.PI/2)}},34025:T=>{T.exports=function(i){return 0===i?0:1===i?1:.5*(1-Math.cos(Math.PI*i))}},52768:T=>{T.exports=function(i){return 0===i?0:1===i?1:Math.sin(i*Math.PI/2)}},82500:(T,A,i)=>{T.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:T=>{T.exports=function(i,m){return void 0===m&&(m=1),i<=0?0:i>=1?1:1/m*(1+(m*i|0))}},49752:(T,A,i)=>{T.exports=i(72251)},75698:T=>{T.exports=function(i,m){return void 0===m&&(m=1e-4),Math.ceil(i-m)}},43855:T=>{T.exports=function(i,m,x){return void 0===x&&(x=1e-4),Math.abs(i-m)<x}},25777:T=>{T.exports=function(i,m){return void 0===m&&(m=1e-4),Math.floor(i+m)}},5470:T=>{T.exports=function(i,m,x){return void 0===x&&(x=1e-4),i>m-x}},94977:T=>{T.exports=function(i,m,x){return void 0===x&&(x=1e-4),i<m+x}},48379:(T,A,i)=>{T.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(T,A,i)=>{var m=i(36383),x=i(79291),h={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};h=x(!1,h,m),T.exports=h},89318:(T,A,i)=>{var m=i(85710);T.exports=function(h,u){for(var l=0,s=h.length-1,o=0;o<=s;o++)l+=Math.pow(1-u,s-o)*Math.pow(u,o)*h[o]*m(s,o);return l}},77259:(T,A,i)=>{var m=i(87842);T.exports=function(h,u){var l=h.length-1,s=l*u,o=Math.floor(s);return h[0]===h[l]?(u<0&&(o=Math.floor(s=l*(1+u))),m(s-o,h[(o-1+l)%l],h[o],h[(o+1)%l],h[(o+2)%l])):u<0?h[0]-(m(-s,h[0],h[0],h[1],h[1])-h[0]):u>1?h[l]-(m(s-l,h[l],h[l],h[l-1],h[l-1])-h[l]):m(s-o,h[o?o-1:0],h[o],h[l<o+1?l:o+1],h[l<o+2?l:o+2])}},36316:T=>{T.exports=function(u,l,s,o,f){return function A(u,l){var s=1-u;return s*s*s*l}(u,l)+function i(u,l){var s=1-u;return 3*s*s*u*l}(u,s)+function m(u,l){return 3*(1-u)*u*u*l}(u,o)+function x(u,l){return u*u*u*l}(u,f)}},28392:(T,A,i)=>{var m=i(28915);T.exports=function(h,u){var l=h.length-1,s=l*u,o=Math.floor(s);return u<0?m(h[0],h[1],s):u>1?m(h[l],h[l-1],l-s):m(h[o],h[o+1>l?l:o+1],s-o)}},32112:T=>{T.exports=function(h,u,l,s){return function A(h,u){var l=1-h;return l*l*u}(h,u)+function i(h,u){return 2*(1-h)*h*u}(h,l)+function m(h,u){return h*h*u}(h,s)}},47235:(T,A,i)=>{var m=i(7602);T.exports=function(h,u,l){return u+(l-u)*m(h,0,1)}},50178:(T,A,i)=>{var m=i(54261);T.exports=function(h,u,l){return u+(l-u)*m(h,0,1)}},38289:(T,A,i)=>{T.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:T=>{T.exports=function(i){var m=Math.log(i)/.6931471805599453;return 1<<Math.ceil(m)}},50030:T=>{T.exports=function(i,m){return i>0&&!(i&i-1)&&m>0&&!(m&m-1)}},81230:T=>{T.exports=function(i){return i>0&&!(i&i-1)}},49001:(T,A,i)=>{T.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(T,A,i)=>{var x=new(i(83419))({initialize:function(u){void 0===u&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var h=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|h,this.s0=this.s1,this.s1=this.s2,this.s2=h-this.c,this.s2},hash:function(h){var u,l=this.n;h=h.toString();for(var s=0;s<h.length;s++)u=.02519603282416938*(l+=h.charCodeAt(s)),u-=l=u>>>0,l=(u*=l)>>>0,l+=4294967296*(u-=l);return this.n=l,2.3283064365386963e-10*(l>>>0)},init:function(h){"string"==typeof h?this.state(h):this.sow(h)},sow:function(h){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,h)for(var u=0;u<h.length&&null!=h[u];u++){var l=h[u];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(h,u){return Math.floor(this.realInRange(0,u-h+1)+h)},between:function(h,u){return Math.floor(this.realInRange(0,u-h+1)+h)},realInRange:function(h,u){return this.frac()*(u-h)+h},normal:function(){return 1-2*this.frac()},uuid:function(){var h="",u="";for(u=h="";h++<36;u+=~h%5|3*h&4?(15^h?8^this.frac()*(20^h?16:4):4).toString(16):"-");return u},pick:function(h){return h[this.integerInRange(0,h.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(h){return h[~~(Math.pow(this.frac(),2)*(h.length-.5)+.5)]},timestamp:function(h,u){return this.realInRange(h||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(h){return"string"==typeof h&&h.match(/^!rnd/)&&(h=h.split(","),this.c=parseFloat(h[1]),this.s0=parseFloat(h[2]),this.s1=parseFloat(h[3]),this.s2=parseFloat(h[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(h){for(var l=h.length-1;l>0;l--){var s=Math.floor(this.frac()*(l+1)),o=h[s];h[s]=h[l],h[l]=o}return h}});T.exports=x},63448:T=>{T.exports=function(i,m,x,h){return void 0===x&&(x=0),0===m?i:(i-=x,i=m*Math.ceil(i/m),h?(x+i)/m:x+i)}},56583:T=>{T.exports=function(i,m,x,h){return void 0===x&&(x=0),0===m?i:(i-=x,i=m*Math.floor(i/m),h?(x+i)/m:x+i)}},77720:T=>{T.exports=function(i,m,x,h){return void 0===x&&(x=0),0===m?i:(i-=x,i=m*Math.round(i/m),h?(x+i)/m:x+i)}},73697:(T,A,i)=>{T.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(T,A,i)=>{i(63595);var m=i(8054),x=i(79291),h={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};h.Sound=i(23717),h=x(!1,h,m),T.exports=h,i.g.Phaser=h},71289:(T,A,i)=>{var m=i(83419),x=i(92209),h=i(88571),u=new m({Extends:h,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(s,o,f,a,c){h.call(this,s,o,f,a,c),this.body=null}});T.exports=u},86689:(T,A,i)=>{var m=i(83419),x=i(39506),h=i(20339),u=i(89774),l=i(66022),s=i(95540),o=i(46975),f=i(72441),a=i(47956),c=i(37277),p=i(44594),d=i(26099),v=i(82248),y=new m({initialize:function(b){this.scene=b,this.systems=b.sys,this.config=this.getConfig(),this._category=1,b.sys.events.once(p.BOOT,this.boot,this),b.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new l(this.world));var S=this.systems.events;s(this.config,"customUpdate",!1)||S.on(p.UPDATE,this.world.update,this.world),S.on(p.POST_UPDATE,this.world.postUpdate,this.world),S.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var S=this.systems.game.config.physics;return o(s(this.systems.settings.physics,"arcade",{}),s(S,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(S,b,C,M,w){return void 0===C&&(C=null),void 0===M&&(M=null),void 0===w&&(w=C),this.world.collideObjects(S,b,C,M,w,!0)},collide:function(S,b,C,M,w){return void 0===C&&(C=null),void 0===M&&(M=null),void 0===w&&(w=C),this.world.collideObjects(S,b,C,M,w,!1)},collideTiles:function(S,b,C,M,w){return this.world.collideTiles(S,b,C,M,w)},overlapTiles:function(S,b,C,M,w){return this.world.overlapTiles(S,b,C,M,w)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(S,b,C,M,w,R){void 0===M&&(M=60);var I=Math.atan2(C-S.y,b-S.x);return S.body.acceleration.setToPolar(I,M),void 0!==w&&void 0!==R&&S.body.maxVelocity.set(w,R),I},accelerateToObject:function(S,b,C,M,w){return this.accelerateTo(S,b.x,b.y,C,M,w)},closest:function(S,b){b||(b=this.world.bodies.entries);for(var C=Number.MAX_VALUE,M=null,w=S.x,R=S.y,I=b.length,L=0;L<I;L++){var F=b[L],G=F.body||F;if(S!==F&&S!==G&&S!==G.gameObject&&S!==G.center){var z=u(w,R,G.center.x,G.center.y);z<C&&(M=F,C=z)}}return M},furthest:function(S,b){b||(b=this.world.bodies.entries);for(var C=-1,M=null,w=S.x,R=S.y,I=b.length,L=0;L<I;L++){var F=b[L],G=F.body||F;if(S!==F&&S!==G&&S!==G.gameObject&&S!==G.center){var z=u(w,R,G.center.x,G.center.y);z>C&&(M=F,C=z)}}return M},moveTo:function(S,b,C,M,w){void 0===M&&(M=60),void 0===w&&(w=0);var R=Math.atan2(C-S.y,b-S.x);return w>0&&(M=h(S.x,S.y,b,C)/(w/1e3)),S.body.velocity.setToPolar(R,M),R},moveToObject:function(S,b,C,M){return this.moveTo(S,b.x,b.y,C,M)},velocityFromAngle:function(S,b,C){return void 0===b&&(b=60),void 0===C&&(C=new d),C.setToPolar(x(S),b)},velocityFromRotation:function(S,b,C){return void 0===b&&(b=60),void 0===C&&(C=new d),C.setToPolar(S,b)},overlapRect:function(S,b,C,M,w,R){return a(this.world,S,b,C,M,w,R)},overlapCirc:function(S,b,C,M,w){return f(this.world,S,b,C,M,w)},shutdown:function(){if(this.world){var S=this.systems.events;S.off(p.UPDATE,this.world.update,this.world),S.off(p.POST_UPDATE,this.world.postUpdate,this.world),S.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",y,"arcadePhysics"),T.exports=y},13759:(T,A,i)=>{var m=i(83419),x=i(92209),h=i(68287),u=new m({Extends:h,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(s,o,f,a,c){h.call(this,s,o,f,a,c),this.body=null}});T.exports=u},37742:(T,A,i)=>{var m=i(83419),x=i(78389),h=i(37747),u=i(63012),l=i(43396),s=i(87841),o=i(37303),f=i(95829),a=i(26099),c=new m({Mixins:[x],initialize:function(d,v){var y=64,S=64,C=void 0!==v;C&&v.displayWidth&&(y=v.displayWidth,S=v.displayHeight),C||(v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=d,this.gameObject=C?v:void 0,this.isBody=!0,this.transform={x:v.x,y:v.y,rotation:v.angle,scaleX:v.scaleX,scaleY:v.scaleY,displayOriginX:v.displayOriginX,displayOriginY:v.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(v.x-v.scaleX*v.displayOriginX,v.y-v.scaleY*v.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=v.angle,this.preRotation=v.angle,this.width=y,this.height=S,this.sourceWidth=y,this.sourceHeight=S,v.frame&&(this.sourceWidth=v.frame.realWidth,this.sourceHeight=v.frame.realHeight),this.halfWidth=Math.abs(y/2),this.halfHeight=Math.abs(S/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=h.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new a(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=f(!1),this.touching=f(!0),this.wasTouching=f(!0),this.blocked=f(!0),this.syncBounds=!1,this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=v.scaleX,this._sy=v.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,d=this.transform;if(p.parentContainer){var v=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=v.tx,d.y=v.ty,d.rotation=l(v.rotation),d.scaleX=v.scaleX,d.scaleY=v.scaleY,d.displayOriginX=p.displayOriginX,d.displayOriginY=p.displayOriginY}else d.x=p.x,d.y=p.y,d.rotation=p.angle,d.scaleX=p.scaleX,d.scaleY=p.scaleY,d.displayOriginX=p.displayOriginX,d.displayOriginY=p.displayOriginY;var y=!1;if(this.syncBounds){var S=p.getBounds(this._bounds);this.width=S.width,this.height=S.height,y=!0}else{var b=Math.abs(d.scaleX),C=Math.abs(d.scaleY);(this._sx!==b||this._sy!==C)&&(this.width=this.sourceWidth*b,this.height=this.sourceHeight*C,this._sx=b,this._sy=C,y=!0)}y&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){void 0===p&&(p=!1);var d=this.wasTouching,v=this.touching,y=this.blocked;p?f(!0,d):(d.none=v.none,d.up=v.up,d.down=v.down,d.left=v.left,d.right=v.right),f(!0,v),f(!0,y),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,d){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var v=this.position;this.prev.x=v.x,this.prev.y=v.y,this.prevFrame.x=v.x,this.prevFrame.y=v.y}p&&this.update(d)},update:function(p){var d=this.prev,v=this.position,y=this.velocity;if(d.set(v.x,v.y),!this.moves)return this._dx=v.x-d.x,void(this._dy=v.y-d.y);if(this.directControl){var S=this.autoFrame;y.set((v.x-S.x)/p,(v.y-S.y)/p),this.world.updateMotion(this,p),this._dx=v.x-S.x,this._dy=v.y-S.y}else this.world.updateMotion(this,p),this.newVelocity.set(y.x*p,y.y*p),v.add(this.newVelocity),this._dx=v.x-d.x,this._dy=v.y-d.y;var b=y.x,C=y.y;if(this.updateCenter(),this.angle=Math.atan2(C,b),this.speed=Math.sqrt(b*b+C*C),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var M=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,M.up,M.down,M.left,M.right)}},postUpdate:function(){var p=this.position,d=p.x-this.prevFrame.x,v=p.y-this.prevFrame.y,y=this.gameObject;if(this.moves){var S=this.deltaMax.x,b=this.deltaMax.y;0!==S&&0!==d&&(d<0&&d<-S?d=-S:d>0&&d>S&&(d=S)),0!==b&&0!==v&&(v<0&&v<-b?v=-b:v>0&&v>b&&(v=b)),y&&(y.x+=d,y.y+=v)}d<0?this.facing=h.FACING_LEFT:d>0&&(this.facing=h.FACING_RIGHT),v<0?this.facing=h.FACING_UP:v>0&&(this.facing=h.FACING_DOWN),this.allowRotation&&y&&(y.angle+=this.deltaZ()),this._tx=d,this._ty=v,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,d=this.velocity,v=this.blocked,y=this.customBoundsRectangle,S=this.world.checkCollision,b=this.worldBounce?-this.worldBounce.x:-this.bounce.x,C=this.worldBounce?-this.worldBounce.y:-this.bounce.y,M=!1;return p.x<y.x&&S.left?(p.x=y.x,d.x*=b,v.left=!0,M=!0):this.right>y.right&&S.right&&(p.x=y.right-this.width,d.x*=b,v.right=!0,M=!0),p.y<y.y&&S.up?(p.y=y.y,d.y*=C,v.up=!0,M=!0):this.bottom>y.bottom&&S.down&&(p.y=y.bottom-this.height,d.y*=C,v.down=!0,M=!0),M&&(this.blocked.none=!1,this.updateCenter()),M},setOffset:function(p,d){return void 0===d&&(d=p),this.offset.set(p,d),this},setGameObject:function(p,d){return void 0===d&&(d=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=p,p.body&&(p.body=this),this.setSize(),this.world.add(this),this.enable=d,this},setSize:function(p,d,v){void 0===v&&(v=!0);var y=this.gameObject;return y&&(!p&&y.frame&&(p=y.frame.realWidth),!d&&y.frame&&(d=y.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),v&&y&&y.getCenter&&this.offset.set((y.width-p)/2,(y.height-d)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(p,d,v){return void 0===d&&(d=this.offset.x),void 0===v&&(v=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=2*p,this.sourceHeight=2*p,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,v),this.updateCenter()):this.isCircle=!1,this},reset:function(p,d){this.stop();var v=this.gameObject;v&&(v.setPosition(p,d),this.rotation=v.angle,this.preRotation=v.angle);var y=this.position;v&&v.getTopLeft?v.getTopLeft(y):y.set(p,d),this.prev.copy(y),this.prevFrame.copy(y),this.autoFrame.copy(y),v&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,d){return this.isCircle?this.radius>0&&p>=this.left&&p<=this.right&&d>=this.top&&d<=this.bottom&&(this.center.x-p)*(this.center.x-p)+(this.center.y-d)*(this.center.y-d)<=this.radius*this.radius:o(this,p,d)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var d=this.position,v=d.x+this.halfWidth,y=d.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(v,y,this.width/2):(this.checkCollision.up&&p.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&p.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&p.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&p.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(v,y,v+this.velocity.x/2,y+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return void 0===p&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,d,v,y){void 0===p&&(p=!0),this.collideWorldBounds=p;var S=void 0!==d,b=void 0!==v;return(S||b)&&(this.worldBounce||(this.worldBounce=new a),S&&(this.worldBounce.x=d),b&&(this.worldBounce.y=v)),void 0!==y&&(this.onWorldBounds=y),this},setVelocity:function(p,d){return this.velocity.set(p,d),p=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(p*p+d*d),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,d){return this.maxVelocity.set(p,d),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,d){return this.slideFactor.set(p,d),this},setBounce:function(p,d){return this.bounce.set(p,d),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,d){return this.acceleration.set(p,d),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return void 0===p&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return void 0===p&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return void 0===p&&(p=!0),this.allowRotation=p,this},setDrag:function(p,d){return this.drag.set(p,d),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,d){return this.gravity.set(p,d),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,d){return this.friction.set(p,d),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return void 0===p&&(p=!0),this.immovable=p,this},setEnable:function(p){return void 0===p&&(p=!0),this.enable=p,this},processX:function(p,d,v,y){this.x+=p,this.updateCenter(),null!==d&&(this.velocity.x=d*this.slideFactor.x);var S=this.blocked;v&&(S.left=!0,S.none=!1),y&&(S.right=!0,S.none=!1)},processY:function(p,d,v,y){this.y+=p,this.updateCenter(),null!==d&&(this.velocity.y=d*this.slideFactor.y);var S=this.blocked;v&&(S.up=!0,S.none=!1),y&&(S.down=!0,S.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});T.exports=c},79342:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o,f,a,c){this.world=u,this.name="",this.active=!0,this.overlapOnly=l,this.object1=s,this.object2=o,this.collideCallback=f,this.processCallback=a,this.callbackContext=c},setName:function(h){return this.name=h,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});T.exports=x},66022:(T,A,i)=>{var m=i(71289),x=i(13759),h=i(37742),u=i(83419),l=i(37747),s=i(60758),o=i(72624),f=i(71464),a=new u({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(c,p,d,v,y){return this.world.addCollider(c,p,d,v,y)},overlap:function(c,p,d,v,y){return this.world.addOverlap(c,p,d,v,y)},existing:function(c,p){return this.world.enableBody(c,p?l.STATIC_BODY:l.DYNAMIC_BODY),c},staticImage:function(c,p,d,v){var y=new m(this.scene,c,p,d,v);return this.sys.displayList.add(y),this.world.enableBody(y,l.STATIC_BODY),y},image:function(c,p,d,v){var y=new m(this.scene,c,p,d,v);return this.sys.displayList.add(y),this.world.enableBody(y,l.DYNAMIC_BODY),y},staticSprite:function(c,p,d,v){var y=new x(this.scene,c,p,d,v);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,l.STATIC_BODY),y},sprite:function(c,p,d,v){var y=new x(this.scene,c,p,d,v);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,l.DYNAMIC_BODY),y},staticGroup:function(c,p){return this.sys.updateList.add(new f(this.world,this.world.scene,c,p))},group:function(c,p){return this.sys.updateList.add(new s(this.world,this.world.scene,c,p))},body:function(c,p,d,v){var y=new h(this.world);return y.position.set(c,p),d&&v&&y.setSize(d,v),this.world.add(y,l.DYNAMIC_BODY),y},staticBody:function(c,p,d,v){var y=new o(this.world);return y.position.set(c,p),d&&v&&y.setSize(d,v),this.world.add(y,l.STATIC_BODY),y},destroy:function(){this.world=null,this.scene=null,this.sys=null}});T.exports=a},79599:T=>{T.exports=function(i){var m=0;if(Array.isArray(i))for(var x=0;x<i.length;x++)m|=i[x];else m=i;return m}},64897:(T,A,i)=>{var m=i(37747);T.exports=function(h,u,l,s){var o=0,f=h.deltaAbsX()+u.deltaAbsX()+s;return 0===h._dx&&0===u._dx?(h.embedded=!0,u.embedded=!0):h._dx>u._dx?(o=h.right-u.x)>f&&!l||!1===h.checkCollision.right||!1===u.checkCollision.left?o=0:(h.touching.none=!1,h.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===m.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0),h.physicsType===m.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.left=!0)):h._dx<u._dx&&(-(o=h.x-u.width-u.x)>f&&!l||!1===h.checkCollision.left||!1===u.checkCollision.right?o=0:(h.touching.none=!1,h.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===m.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0),h.physicsType===m.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.right=!0))),h.overlapX=o,u.overlapX=o,o}},45170:(T,A,i)=>{var m=i(37747);T.exports=function(h,u,l,s){var o=0,f=h.deltaAbsY()+u.deltaAbsY()+s;return 0===h._dy&&0===u._dy?(h.embedded=!0,u.embedded=!0):h._dy>u._dy?(o=h.bottom-u.y)>f&&!l||!1===h.checkCollision.down||!1===u.checkCollision.up?o=0:(h.touching.none=!1,h.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===m.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0),h.physicsType===m.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.up=!0)):h._dy<u._dy&&(-(o=h.y-u.bottom)>f&&!l||!1===h.checkCollision.up||!1===u.checkCollision.down?o=0:(h.touching.none=!1,h.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===m.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0),h.physicsType===m.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.down=!0))),h.overlapY=o,u.overlapY=o,o}},60758:(T,A,i)=>{var m=i(13759),x=i(83419),h=i(78389),u=i(37747),l=i(95540),s=i(26479),o=i(41212),f=new x({Extends:s,Mixins:[h],initialize:function(c,p,d,v){if(d||v)if(o(d))v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&o(d[0])){var y=this;d.forEach(function(S){S.internalCreateCallback=y.createCallbackHandler,S.internalRemoveCallback=y.removeCallbackHandler,S.classType=l(S,"classType",m)}),v=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c,v&&(v.classType=l(v,"classType",m)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:l(v,"collideWorldBounds",!1),setBoundsRectangle:l(v,"customBoundsRectangle",null),setAccelerationX:l(v,"accelerationX",0),setAccelerationY:l(v,"accelerationY",0),setAllowDrag:l(v,"allowDrag",!0),setAllowGravity:l(v,"allowGravity",!0),setAllowRotation:l(v,"allowRotation",!0),setDamping:l(v,"useDamping",!1),setBounceX:l(v,"bounceX",0),setBounceY:l(v,"bounceY",0),setDragX:l(v,"dragX",0),setDragY:l(v,"dragY",0),setEnable:l(v,"enable",!0),setGravityX:l(v,"gravityX",0),setGravityY:l(v,"gravityY",0),setFrictionX:l(v,"frictionX",0),setFrictionY:l(v,"frictionY",0),setMaxSpeed:l(v,"maxSpeed",-1),setMaxVelocityX:l(v,"maxVelocityX",1e4),setMaxVelocityY:l(v,"maxVelocityY",1e4),setVelocityX:l(v,"velocityX",0),setVelocityY:l(v,"velocityY",0),setAngularVelocity:l(v,"angularVelocity",0),setAngularAcceleration:l(v,"angularAcceleration",0),setAngularDrag:l(v,"angularDrag",0),setMass:l(v,"mass",1),setImmovable:l(v,"immovable",!1)},s.call(this,p,d,v),this.type="PhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,u.DYNAMIC_BODY);var c=a.body;for(var p in this.defaults)c[p](this.defaults[p])},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},setVelocity:function(a,c,p){void 0===p&&(p=0);for(var d=this.getChildren(),v=0;v<d.length;v++)d[v].body.velocity.set(a+v*p,c+v*p);return this},setVelocityX:function(a,c){void 0===c&&(c=0);for(var p=this.getChildren(),d=0;d<p.length;d++)p[d].body.velocity.x=a+d*c;return this},setVelocityY:function(a,c){void 0===c&&(c=0);for(var p=this.getChildren(),d=0;d<p.length;d++)p[d].body.velocity.y=a+d*c;return this}});T.exports=f},3017:T=>{var A,i,m,x,h,u,l,s,o,f,a,c,p,d,v,y,S,C=function(){return f&&v&&i.blocked.right?(A.processX(-S,l,!1,!0),1):o&&y&&i.blocked.left?(A.processX(S,l,!0),1):p&&y&&A.blocked.right?(i.processX(-S,s,!1,!0),2):c&&v&&A.blocked.left?(i.processX(S,s,!0),2):0},w=function(L){if(m&&x)S*=.5,0===L||3===L?(A.processX(S,h),i.processX(-S,u)):(A.processX(-S,h),i.processX(S,u));else if(m&&!x)0===L||3===L?A.processX(S,l,!0):A.processX(-S,l,!1,!0);else if(!m&&x)0===L||3===L?i.processX(-S,s,!1,!0):i.processX(S,s,!0);else{var F=.5*S;0===L?d?(A.processX(S,0,!0),i.processX(0,null,!1,!0)):p?(A.processX(F,0,!0),i.processX(-F,0,!1,!0)):(A.processX(F,i.velocity.x,!0),i.processX(-F,null,!1,!0)):1===L?a?(A.processX(0,null,!1,!0),i.processX(S,0,!0)):f?(A.processX(-F,0,!1,!0),i.processX(F,0,!0)):(A.processX(-F,null,!1,!0),i.processX(F,A.velocity.x,!0)):2===L?d?(A.processX(-S,0,!1,!0),i.processX(0,null,!0)):c?(A.processX(-F,0,!1,!0),i.processX(F,0,!0)):(A.processX(-F,i.velocity.x,!1,!0),i.processX(F,null,!0)):3===L&&(a?(A.processX(0,null,!0),i.processX(-S,0,!1,!0)):o?(A.processX(F,0,!0),i.processX(-F,0,!1,!0)):(A.processX(F,i.velocity.y,!0),i.processX(-F,null,!1,!0)))}return!0};T.exports={BlockCheck:C,Check:function(){var L=A.velocity.x,F=i.velocity.x,G=Math.sqrt(F*F*i.mass/A.mass)*(F>0?1:-1),z=Math.sqrt(L*L*A.mass/i.mass)*(L>0?1:-1),B=.5*(G+z);return h=B+(G-=B)*A.bounce.x,u=B+(z-=B)*i.bounce.x,o&&y?w(0):c&&v?w(1):f&&v?w(2):!(!p||!y)&&w(3)},Set:function(L,F,G){var z=(A=L).velocity.x,B=(i=F).velocity.x;return m=A.pushable,o=A._dx<0,f=A._dx>0,a=0===A._dx,v=Math.abs(A.right-i.x)<=Math.abs(i.right-A.x),l=B-z*A.bounce.x,x=i.pushable,c=i._dx<0,p=i._dx>0,d=0===i._dx,y=!v,s=z-B*i.bounce.x,S=Math.abs(G),C()},Run:w,RunImmovableBody1:function(L){1===L?i.velocity.x=0:v?i.processX(S,s,!0):i.processX(-S,s,!1,!0),A.moves&&(i.y+=(A.y-A.prev.y)*A.friction.y,i._dy=i.y-i.prev.y)},RunImmovableBody2:function(L){2===L?A.velocity.x=0:y?A.processX(S,l,!0):A.processX(-S,l,!1,!0),i.moves&&(A.y+=(i.y-i.prev.y)*i.friction.y,A._dy=A.y-A.prev.y)}}},47962:T=>{var A,i,m,x,h,u,l,s,o,f,a,c,p,d,v,y,S,C=function(){return f&&v&&i.blocked.down?(A.processY(-S,l,!1,!0),1):o&&y&&i.blocked.up?(A.processY(S,l,!0),1):p&&y&&A.blocked.down?(i.processY(-S,s,!1,!0),2):c&&v&&A.blocked.up?(i.processY(S,s,!0),2):0},w=function(L){if(m&&x)S*=.5,0===L||3===L?(A.processY(S,h),i.processY(-S,u)):(A.processY(-S,h),i.processY(S,u));else if(m&&!x)0===L||3===L?A.processY(S,l,!0):A.processY(-S,l,!1,!0);else if(!m&&x)0===L||3===L?i.processY(-S,s,!1,!0):i.processY(S,s,!0);else{var F=.5*S;0===L?d?(A.processY(S,0,!0),i.processY(0,null,!1,!0)):p?(A.processY(F,0,!0),i.processY(-F,0,!1,!0)):(A.processY(F,i.velocity.y,!0),i.processY(-F,null,!1,!0)):1===L?a?(A.processY(0,null,!1,!0),i.processY(S,0,!0)):f?(A.processY(-F,0,!1,!0),i.processY(F,0,!0)):(A.processY(-F,null,!1,!0),i.processY(F,A.velocity.y,!0)):2===L?d?(A.processY(-S,0,!1,!0),i.processY(0,null,!0)):c?(A.processY(-F,0,!1,!0),i.processY(F,0,!0)):(A.processY(-F,i.velocity.y,!1,!0),i.processY(F,null,!0)):3===L&&(a?(A.processY(0,null,!0),i.processY(-S,0,!1,!0)):o?(A.processY(F,0,!0),i.processY(-F,0,!1,!0)):(A.processY(F,i.velocity.y,!0),i.processY(-F,null,!1,!0)))}return!0};T.exports={BlockCheck:C,Check:function(){var L=A.velocity.y,F=i.velocity.y,G=Math.sqrt(F*F*i.mass/A.mass)*(F>0?1:-1),z=Math.sqrt(L*L*A.mass/i.mass)*(L>0?1:-1),B=.5*(G+z);return h=B+(G-=B)*A.bounce.y,u=B+(z-=B)*i.bounce.y,o&&y?w(0):c&&v?w(1):f&&v?w(2):!(!p||!y)&&w(3)},Set:function(L,F,G){var z=(A=L).velocity.y,B=(i=F).velocity.y;return m=A.pushable,o=A._dy<0,f=A._dy>0,a=0===A._dy,v=Math.abs(A.bottom-i.y)<=Math.abs(i.bottom-A.y),l=B-z*A.bounce.y,x=i.pushable,c=i._dy<0,p=i._dy>0,d=0===i._dy,y=!v,s=z-B*i.bounce.y,S=Math.abs(G),C()},Run:w,RunImmovableBody1:function(L){1===L?i.velocity.y=0:v?i.processY(S,s,!0):i.processY(-S,s,!1,!0),A.moves&&(i.x+=(A.x-A.prev.x)*A.friction.x,i._dx=i.x-i.prev.x)},RunImmovableBody2:function(L){2===L?A.velocity.y=0:y?A.processY(S,l,!0):A.processY(-S,l,!1,!0),i.moves&&(A.x+=(i.x-i.prev.x)*i.friction.x,A._dx=A.x-A.prev.x)}}},14087:(T,A,i)=>{var m=i(64897),x=i(3017);T.exports=function(u,l,s,o,f){void 0===f&&(f=m(u,l,s,o));var a=u.immovable,c=l.immovable;if(s||0===f||a&&c||u.customSeparateX||l.customSeparateX)return 0!==f||u.embedded&&l.embedded;var p=x.Set(u,l,f);return a||c?(a?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0):p>0||x.Check()}},89936:(T,A,i)=>{var m=i(45170),x=i(47962);T.exports=function(u,l,s,o,f){void 0===f&&(f=m(u,l,s,o));var a=u.immovable,c=l.immovable;if(s||0===f||a&&c||u.customSeparateY||l.customSeparateY)return 0!==f||u.embedded&&l.embedded;var p=x.Set(u,l,f);return a||c?(a?x.RunImmovableBody1(p):c&&x.RunImmovableBody2(p),!0):p>0||x.Check()}},95829:T=>{T.exports=function(i,m){return void 0===m&&(m={}),m.none=i,m.up=!1,m.down=!1,m.left=!1,m.right=!1,i||(m.up=!0,m.down=!0,m.left=!0,m.right=!0),m}},72624:(T,A,i)=>{var m=i(87902),x=i(83419),h=i(78389),u=i(37747),l=i(37303),s=i(95829),o=i(26099),f=new x({Mixins:[h],initialize:function(c,p){var d=64,v=64,S=void 0!==p;S&&p.displayWidth&&(d=p.displayWidth,v=p.displayHeight),S||(p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=c,this.gameObject=S?p:void 0,this.isBody=!0,this.debugShowBody=c.defaults.debugShowStaticBody,this.debugBodyColor=c.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(p.x-d*p.originX,p.y-v*p.originY),this.width=d,this.height=v,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=o.ZERO,this.allowGravity=!1,this.gravity=o.ZERO,this.bounce=o.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=s(!1),this.touching=s(!0),this.wasTouching=s(!0),this.blocked=s(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(a,c){return a&&a!==this.gameObject&&(this.gameObject.body=null,a.body=this,this.gameObject=a),c&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,c){return void 0===c&&(c=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,c),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,c,p){void 0===p&&(p=!0);var d=this.gameObject;if(d&&d.frame&&(a||(a=d.frame.realWidth),c||(c=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=a,this.height=c,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(c/2),p&&d&&d.getCenter){var v=d.displayWidth/2,y=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(v-this.halfWidth,y-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,c,p){return void 0===c&&(c=this.offset.x),void 0===p&&(p=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=2*a,this.height=2*a,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,c){var p=this.gameObject;void 0===a&&(a=p.x),void 0===c&&(c=p.y),this.world.staticTree.remove(this),p.setPosition(a,c),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,c){return this.isCircle?m(this,a,c):l(this,a,c)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var c=this.position,p=c.x+this.halfWidth,d=c.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(p,d,this.width/2):a.strokeRect(c.x,c.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});T.exports=f},71464:(T,A,i)=>{var m=i(13759),x=i(83419),h=i(78389),u=i(37747),l=i(95540),s=i(26479),o=i(41212),f=new x({Extends:s,Mixins:[h],initialize:function(c,p,d,v){d||v?o(d)?(v=d,d=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=l(v,"classType",m)):Array.isArray(d)&&o(d[0])?(v=d,d=null,v.forEach(function(y){y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=l(y,"classType",m)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:m},this.world=c,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,s.call(this,p,d,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,u.STATIC_BODY)},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var a=this.children.entries,c=0;c<a.length;c++)a[c].body.reset();return this}});T.exports=f},82248:(T,A,i)=>{var m=i(55495),x=i(37742),h=i(45319),u=i(83419),l=i(79342),s=i(37747),o=i(20339),f=i(52816),a=i(50792),c=i(63012),p=i(43855),d=i(5470),v=i(94977),y=i(64897),S=i(45170),b=i(96523),C=i(35154),M=i(36383),w=i(25774),R=i(96602),I=i(87841),L=i(59542),F=i(40012),G=i(14087),z=i(89936),B=i(35072),V=i(72624),Y=i(2483),$=i(61340),J=i(26099),W=i(15994),k=new u({Extends:a,initialize:function(H,X){a.call(this),this.scene=H,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new w,this.gravity=new J(C(X,"gravity.x",0),C(X,"gravity.y",0)),this.bounds=new I(C(X,"x",0),C(X,"y",0),C(X,"width",H.sys.scale.width),C(X,"height",H.sys.scale.height)),this.checkCollision={up:C(X,"checkCollision.up",!0),down:C(X,"checkCollision.down",!0),left:C(X,"checkCollision.left",!0),right:C(X,"checkCollision.right",!0)},this.fps=C(X,"fps",60),this.fixedStep=C(X,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=C(X,"timeScale",1),this.OVERLAP_BIAS=C(X,"overlapBias",4),this.TILE_BIAS=C(X,"tileBias",16),this.forceX=C(X,"forceX",!1),this.isPaused=C(X,"isPaused",!1),this._total=0,this.drawDebug=C(X,"debug",!1),this.defaults={debugShowBody:C(X,"debugShowBody",!0),debugShowStaticBody:C(X,"debugShowStaticBody",!0),debugShowVelocity:C(X,"debugShowVelocity",!0),bodyDebugColor:C(X,"debugBodyColor",16711935),staticBodyDebugColor:C(X,"debugStaticBodyColor",255),velocityDebugColor:C(X,"debugVelocityColor",65280)},this.maxEntries=C(X,"maxEntries",16),this.useTree=C(X,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new $,this._tempMatrix2=new $,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,H){void 0===H&&(H=s.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var X=0;X<N.length;X++){var K=N[X];if(K.isParent)for(var Q=K.getChildren(),q=0;q<Q.length;q++){var _=Q[q];_.isParent?this.enable(_,H):this.enableBody(_,H)}else this.enableBody(K,H)}},enableBody:function(N,H){return void 0===H&&(H=s.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(H===s.DYNAMIC_BODY?N.body=new x(this,N):H===s.STATIC_BODY&&(N.body=new V(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===s.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===s.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var H=0;H<N.length;H++){var X=N[H];if(X.isParent)for(var K=X.getChildren(),Q=0;Q<K.length;Q++){var q=K[Q];q.isParent?this.disable(q):this.disableBody(q.body)}else this.disableBody(X.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===s.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,H,X,K,Q,q,_,nt){return this.bounds.setTo(N,H,X,K),void 0!==Q&&this.setBoundsCollision(Q,q,_,nt),this},setBoundsCollision:function(N,H,X,K){return void 0===N&&(N=!0),void 0===H&&(H=!0),void 0===X&&(X=!0),void 0===K&&(K=!0),this.checkCollision.left=N,this.checkCollision.right=H,this.checkCollision.up=X,this.checkCollision.down=K,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(N,H,X,K,Q){void 0===X&&(X=null),void 0===K&&(K=null),void 0===Q&&(Q=X);var q=new l(this,!1,N,H,X,K,Q);return this.colliders.add(q),q},addOverlap:function(N,H,X,K,Q){void 0===X&&(X=null),void 0===K&&(K=null),void 0===Q&&(Q=X);var q=new l(this,!0,N,H,X,K,Q);return this.colliders.add(q),q},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,H){if(!this.isPaused&&0!==this.bodies.size){var X,K=this._frameTime,Q=this._frameTimeMS*this.timeScale;this._elapsed+=H;var q,_=this.bodies.entries,nt=this._elapsed>=Q;for(this.fixedStep||(K=.001*H,nt=!0,this._elapsed=0),X=0;X<_.length;X++)(q=_[X]).enable&&q.preUpdate(nt,K);if(nt){this._elapsed-=Q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(_));var st=this.colliders.update();for(X=0;X<st.length;X++){var at=st[X];at.active&&at.update()}this.emit(c.WORLD_STEP,K)}for(;this._elapsed>=Q;)this._elapsed-=Q,this.step(K)}},step:function(N){var H,X,K=this.bodies.entries,Q=K.length;for(H=0;H<Q;H++)(X=K[H]).enable&&X.update(N);this.useTree&&(this.tree.clear(),this.tree.load(K));var q=this.colliders.update();for(H=0;H<q.length;H++){var _=q[H];_.active&&_.update()}this.emit(c.WORLD_STEP,N),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var N,H,X=this.bodies.entries,K=X.length,Q=this.bodies,q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<K;N++)(H=X[N]).enable&&H.postUpdate();if(this.drawDebug){var _=this.debugGraphic;for(_.clear(),N=0;N<K;N++)(H=X[N]).willDrawDebug()&&H.drawDebug(_);for(K=(X=q.entries).length,N=0;N<K;N++)(H=X[N]).willDrawDebug()&&H.drawDebug(_)}var nt=this.pendingDestroy;if(nt.size>0){var st=this.tree,at=this.staticTree;for(K=(X=nt.entries).length,N=0;N<K;N++)(H=X[N]).physicsType===s.DYNAMIC_BODY?(st.remove(H),Q.delete(H)):H.physicsType===s.STATIC_BODY&&(at.remove(H),q.delete(H)),H.world=void 0,H.gameObject=void 0;nt.clear()}},updateMotion:function(N,H){N.allowRotation&&this.computeAngularVelocity(N,H),this.computeVelocity(N,H)},computeAngularVelocity:function(N,H){var X=N.angularVelocity,K=N.angularAcceleration,Q=N.angularDrag,q=N.maxAngular;K?X+=K*H:N.allowDrag&&Q&&(d(X-(Q*=H),0,.1)?X-=Q:v(X+Q,0,.1)?X+=Q:X=0),X=h(X,-q,q),N.angularVelocity+=X-N.angularVelocity,N.rotation+=N.angularVelocity*H},computeVelocity:function(N,H){var X=N.velocity.x,K=N.acceleration.x,Q=N.drag.x,q=N.maxVelocity.x,_=N.velocity.y,nt=N.acceleration.y,st=N.drag.y,at=N.maxVelocity.y,lt=N.speed,ht=N.maxSpeed,ut=N.allowDrag,mt=N.useDamping;N.allowGravity&&(X+=(this.gravity.x+N.gravity.x)*H,_+=(this.gravity.y+N.gravity.y)*H),K?X+=K*H:ut&&Q&&(mt?(X*=Q=Math.pow(Q,H),lt=Math.sqrt(X*X+_*_),p(lt,0,.001)&&(X=0)):d(X-(Q*=H),0,.01)?X-=Q:v(X+Q,0,.01)?X+=Q:X=0),nt?_+=nt*H:ut&&st&&(mt?(_*=st=Math.pow(st,H),lt=Math.sqrt(X*X+_*_),p(lt,0,.001)&&(_=0)):d(_-(st*=H),0,.01)?_-=st:v(_+st,0,.01)?_+=st:_=0),X=h(X,-q,q),_=h(_,-at,at),N.velocity.set(X,_),ht>-1&&N.velocity.length()>ht&&(N.velocity.normalize().scale(ht),lt=ht),N.speed=lt},separate:function(N,H,X,K,Q){var q,_,nt=!1,st=!0;if(!N.enable||!H.enable||N.checkCollision.none||H.checkCollision.none||!this.intersects(N,H)||X&&!1===X.call(K,N.gameObject,H.gameObject))return nt;if(N.isCircle||H.isCircle){var at=this.separateCircle(N,H,Q);at.result?(nt=!0,st=!1):(q=at.x,_=at.y,st=!0)}if(st){var lt=!1,ht=!1,ut=this.OVERLAP_BIAS;Q?(lt=G(N,H,Q,ut,q),ht=z(N,H,Q,ut,_)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(lt=G(N,H,Q,ut,q),this.intersects(N,H)&&(ht=z(N,H,Q,ut,_))):(ht=z(N,H,Q,ut,_),this.intersects(N,H)&&(lt=G(N,H,Q,ut,q))),nt=lt||ht}return nt&&(Q?(N.onOverlap||H.onOverlap)&&this.emit(c.OVERLAP,N.gameObject,H.gameObject,N,H):(N.onCollide||H.onCollide)&&this.emit(c.COLLIDE,N.gameObject,H.gameObject,N,H)),nt},separateCircle:function(N,H,X){y(N,H,!1,0),S(N,H,!1,0);var Q=H.isCircle,q=N.center,_=H.center,nt=N.immovable,st=H.immovable,at=N.velocity,lt=H.velocity,ht=0,ut=!0;if(N.isCircle!==Q){ut=!1;var mt=q.x,Mt=q.y,Et=N.halfWidth,At=H.position.x,vt=H.position.y,St=H.right,xt=H.bottom;Q&&(mt=_.x,Mt=_.y,Et=H.halfWidth,At=N.position.x,vt=N.position.y,St=N.right,xt=N.bottom),Mt<vt?mt<At?ht=o(mt,Mt,At,vt)-Et:mt>St&&(ht=o(mt,Mt,St,vt)-Et):Mt>xt&&(mt<At?ht=o(mt,Mt,At,xt)-Et:mt>St&&(ht=o(mt,Mt,St,xt)-Et)),ht*=-1}else ht=N.halfWidth+H.halfWidth-f(q,_);N.overlapR=ht,H.overlapR=ht;var zt=m(q,_),Ht=(ht+M.EPSILON)*Math.cos(zt),fe=(ht+M.EPSILON)*Math.sin(zt),me={overlap:ht,result:!1,x:Ht,y:fe};if(X&&(!ut||ut&&0!==ht))return me.result=!0,me;if(!ut&&0===ht||nt&&st||N.customSeparateX||H.customSeparateX)return me.x=void 0,me.y=void 0,me;var _t=!N.pushable&&!H.pushable;if(ut){var Me=q.y-_.y,te=Math.sqrt(Math.pow(q.x-_.x,2)+Math.pow(Me,2)),Re=(_.x-q.x)/te||0,je=(_.y-q.y)/te||0,si=2*(at.x*Re+at.y*je-lt.x*Re-lt.y*je)/(N.mass+H.mass);(nt||st)&&(si*=2),nt||(at.x=at.x-si/N.mass*Re,at.y=at.y-si/N.mass*je,at.multiply(N.bounce)),st||(lt.x=lt.x+si/H.mass*Re,lt.y=lt.y+si/H.mass*je,lt.multiply(H.bounce)),!nt&&!st&&(Ht*=.5,fe*=.5),nt||(N.x-=Ht,N.y-=fe,N.updateCenter()),st||(H.x+=Ht,H.y+=fe,H.updateCenter()),me.result=!0}else!nt||N.pushable||_t?(N.x-=Ht,N.y-=fe,N.updateCenter()):(!st||H.pushable||_t)&&(H.x+=Ht,H.y+=fe,H.updateCenter()),me.x=void 0,me.y=void 0;return me},intersects:function(N,H){return N!==H&&(N.isCircle||H.isCircle?N.isCircle?H.isCircle?f(N.center,H.center)<=N.halfWidth+H.halfWidth:this.circleBodyIntersects(N,H):this.circleBodyIntersects(H,N):!(N.right<=H.left||N.bottom<=H.top||N.left>=H.right||N.top>=H.bottom))},circleBodyIntersects:function(N,H){var X=h(N.center.x,H.left,H.right),K=h(N.center.y,H.top,H.bottom);return(N.center.x-X)*(N.center.x-X)+(N.center.y-K)*(N.center.y-K)<=N.halfWidth*N.halfWidth},overlap:function(N,H,X,K,Q){return void 0===X&&(X=null),void 0===K&&(K=null),void 0===Q&&(Q=X),this.collideObjects(N,H,X,K,Q,!0)},collide:function(N,H,X,K,Q){return void 0===X&&(X=null),void 0===K&&(K=null),void 0===Q&&(Q=X),this.collideObjects(N,H,X,K,Q,!1)},collideObjects:function(N,H,X,K,Q,q){var _,nt;N.isParent&&(void 0===N.physicsType||void 0===H||N===H)&&(N=N.children.entries),H&&H.isParent&&void 0===H.physicsType&&(H=H.children.entries);var st=Array.isArray(N),at=Array.isArray(H);if(this._total=0,st||at)if(!st&&at)for(_=0;_<H.length;_++)this.collideHandler(N,H[_],X,K,Q,q);else if(st&&!at)if(H)for(_=0;_<N.length;_++)this.collideHandler(N[_],H,X,K,Q,q);else for(_=0;_<N.length;_++){var lt=N[_];for(nt=_+1;nt<N.length;nt++)_!==nt&&this.collideHandler(lt,N[nt],X,K,Q,q)}else for(_=0;_<N.length;_++)for(nt=0;nt<H.length;nt++)this.collideHandler(N[_],H[nt],X,K,Q,q);else this.collideHandler(N,H,X,K,Q,q);return this._total>0},collideHandler:function(N,H,X,K,Q,q){if(void 0===H&&N.isParent)return this.collideGroupVsGroup(N,N,X,K,Q,q);if(!N||!H)return!1;if(N.body||N.isBody){if(H.body||H.isBody)return this.collideSpriteVsSprite(N,H,X,K,Q,q);if(H.isParent)return this.collideSpriteVsGroup(N,H,X,K,Q,q);if(H.isTilemap)return this.collideSpriteVsTilemapLayer(N,H,X,K,Q,q)}else if(N.isParent){if(H.body||H.isBody)return this.collideSpriteVsGroup(H,N,X,K,Q,q);if(H.isParent)return this.collideGroupVsGroup(N,H,X,K,Q,q);if(H.isTilemap)return this.collideGroupVsTilemapLayer(N,H,X,K,Q,q)}else if(N.isTilemap){if(H.body||H.isBody)return this.collideSpriteVsTilemapLayer(H,N,X,K,Q,q);if(H.isParent)return this.collideGroupVsTilemapLayer(H,N,X,K,Q,q)}},canCollide:function(N,H){return N&&H&&!!(N.collisionMask&H.collisionCategory)&&!!(H.collisionMask&N.collisionCategory)},collideSpriteVsSprite:function(N,H,X,K,Q,q){var _=N.isBody?N:N.body,nt=H.isBody?H:H.body;return!!this.canCollide(_,nt)&&(this.separate(_,nt,K,Q,q)&&(X&&X.call(Q,N,H),this._total++),!0)},collideSpriteVsGroup:function(N,H,X,K,Q,q){var nt,st,at,_=N.isBody?N:N.body;if(0!==H.length&&_&&_.enable&&!_.checkCollision.none&&this.canCollide(_,H))if(this.useTree||H.physicsType===s.STATIC_BODY){var lt=this.treeMinMax;lt.minX=_.left,lt.minY=_.top,lt.maxX=_.right,lt.maxY=_.bottom;var ht=H.physicsType===s.DYNAMIC_BODY?this.tree.search(lt):this.staticTree.search(lt);for(st=ht.length,nt=0;nt<st;nt++)_!==(at=ht[nt])&&at.enable&&!at.checkCollision.none&&H.contains(at.gameObject)&&this.separate(_,at,K,Q,q)&&(X&&X.call(Q,_.gameObject,at.gameObject),this._total++)}else{var ut=H.getChildren(),mt=H.children.entries.indexOf(N);for(st=ut.length,nt=0;nt<st;nt++)(at=ut[nt].body)&&nt!==mt&&at.enable&&this.separate(_,at,K,Q,q)&&(X&&X.call(Q,_.gameObject,at.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(N,H,X,K,Q,q){if(!this.canCollide(N,H))return!1;var _=N.getChildren();if(0===_.length)return!1;for(var nt=!1,st=0;st<_.length;st++)(_[st].body||_[st].isBody)&&this.collideSpriteVsTilemapLayer(_[st],H,X,K,Q,q)&&(nt=!0);return nt},collideTiles:function(N,H,X,K,Q){return!(0===H.length||N.body&&!N.body.enable||N.isBody&&!N.enable)&&this.collideSpriteVsTilesHandler(N,H,X,K,Q,!1,!1)},overlapTiles:function(N,H,X,K,Q){return!(0===H.length||N.body&&!N.body.enable||N.isBody&&!N.enable)&&this.collideSpriteVsTilesHandler(N,H,X,K,Q,!0,!1)},collideSpriteVsTilemapLayer:function(N,H,X,K,Q,q){var _=N.isBody?N:N.body;if(!_.enable||_.checkCollision.none||!this.canCollide(_,H))return!1;var nt=H.layer,mt=b(_.x-nt.tileWidth*H.scaleX,_.y-nt.tileHeight*H.scaleY,_.width+nt.tileWidth*H.scaleX,_.height+nt.tileHeight*H.scaleY,q?null:this.tileFilterOptions,H.scene.cameras.main,H.layer);return 0!==mt.length&&this.collideSpriteVsTilesHandler(N,mt,X,K,Q,q,!0)},collideSpriteVsTilesHandler:function(N,H,X,K,Q,q,_){for(var st,lt,nt=N.isBody?N:N.body,at={left:0,right:0,top:0,bottom:0},ht=!1,ut=0;ut<H.length;ut++){var mt=(lt=(st=H[ut]).tilemapLayer).tileToWorldXY(st.x,st.y);at.left=mt.x,at.top=mt.y,at.right=at.left+st.width*lt.scaleX,at.bottom=at.top+st.height*lt.scaleY,Y(at,nt)&&(!K||K.call(Q,N,st))&&R(st,N)&&(q||F(ut,nt,st,at,lt,this.TILE_BIAS,_))&&(this._total++,ht=!0,X&&X.call(Q,N,st),q&&nt.onOverlap?this.emit(c.TILE_OVERLAP,N,st,nt):nt.onCollide&&this.emit(c.TILE_COLLIDE,N,st,nt))}return ht},collideGroupVsGroup:function(N,H,X,K,Q,q){if(0!==N.length&&0!==H.length&&this.canCollide(N,H))for(var _=N.getChildren(),nt=0;nt<_.length;nt++)this.collideSpriteVsGroup(_[nt],H,X,K,Q,q)},wrap:function(N,H){N.body?this.wrapObject(N,H):N.getChildren?this.wrapArray(N.getChildren(),H):Array.isArray(N)?this.wrapArray(N,H):this.wrapObject(N,H)},wrapArray:function(N,H){for(var X=0;X<N.length;X++)this.wrapObject(N[X],H)},wrapObject:function(N,H){void 0===H&&(H=0),N.x=W(N.x,this.bounds.left-H,this.bounds.right+H),N.y=W(N.y,this.bounds.top-H,this.bounds.bottom+H)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});T.exports=k},1093:T=>{T.exports={setAcceleration:function(i,m){return this.body.acceleration.set(i,m),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}}},59023:T=>{T.exports={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}}},62069:T=>{T.exports={setBounce:function(i,m){return this.body.bounce.set(i,m),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,m,x,h){return this.body.setCollideWorldBounds(i,m,x,h),this}}},78389:(T,A,i)=>{var m=i(79599);T.exports={setCollisionCategory:function(h){return(this.body?this.body:this).collisionCategory=h,this},willCollideWith:function(h){return!!((this.body?this.body:this).collisionMask&h)},addCollidesWith:function(h){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|h,this},removeCollidesWith:function(h){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~h,this},setCollidesWith:function(h){return(this.body?this.body:this).collisionMask=m(h),this},resetCollisionCategory:function(){var h=this.body?this.body:this;return h.collisionCategory=1,h.collisionMask=1,this}}},87118:T=>{T.exports={setDebug:function(i,m,x){return this.debugShowBody=i,this.debugShowVelocity=m,this.debugBodyColor=x,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}}},52819:T=>{T.exports={setDrag:function(i,m){return this.body.drag.set(i,m),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}}},4074:T=>{T.exports={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,m,x,h,u){return i&&this.body.reset(m,x),h&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,m){return void 0===i&&(i=!1),void 0===m&&(m=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),m&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:T=>{T.exports={setFriction:function(i,m){return this.body.friction.set(i,m),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}}},26775:T=>{T.exports={setGravity:function(i,m){return this.body.gravity.set(i,m),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}}},9437:T=>{T.exports={setImmovable:function(i){return void 0===i&&(i=!0),this.body.immovable=i,this}}},30621:T=>{T.exports={setMass:function(i){return this.body.mass=i,this}}},72441:(T,A,i)=>{var m=i(47956),x=i(96503),h=i(2044),u=i(81491);T.exports=function(s,o,f,a,c,p){var d=m(s,o-a,f-a,2*a,2*a,c,p);if(0===d.length)return d;for(var v=new x(o,f,a),y=new x,S=[],b=0;b<d.length;b++){var C=d[b];C.isCircle?(y.setTo(C.center.x,C.center.y,C.halfWidth),h(v,y)&&S.push(C)):u(v,C)&&S.push(C)}return S}},47956:T=>{T.exports=function(i,m,x,h,u,l,s){void 0===l&&(l=!0),void 0===s&&(s=!1);var o=[],f=[],a=i.treeMinMax;if(a.minX=m,a.minY=x,a.maxX=m+h,a.maxY=x+u,s&&(f=i.staticTree.search(a)),l&&i.useTree)o=i.tree.search(a);else if(l){var p={position:{x:m,y:x},left:m,top:x,right:m+h,bottom:x+u,isCircle:!1},d=i.intersects;i.bodies.iterate(function(v){d(v,p)&&o.push(v)})}return f.concat(o)}},62121:T=>{T.exports={setPushable:function(i){return void 0===i&&(i=!0),this.body.pushable=i,this}}},29384:T=>{T.exports={setOffset:function(i,m){return this.body.setOffset(i,m),this},setSize:function(i,m,x){return this.body.setSize(i,m,x),this},setBodySize:function(i,m,x){return this.body.setSize(i,m,x),this},setCircle:function(i,m,x){return this.body.setCircle(i,m,x),this}}},15098:T=>{T.exports={setVelocity:function(i,m){return this.body.setVelocity(i,m),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,m){return this.body.maxVelocity.set(i,m),this}}},92209:(T,A,i)=>{T.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:T=>{T.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:T=>{T.exports="collide"},36768:T=>{T.exports="overlap"},60473:T=>{T.exports="pause"},89954:T=>{T.exports="resume"},61804:T=>{T.exports="tilecollide"},7161:T=>{T.exports="tileoverlap"},34689:T=>{T.exports="worldbounds"},16006:T=>{T.exports="worldstep"},63012:(T,A,i)=>{T.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(T,A,i)=>{var m=i(37747),x=i(79291),h={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};h=x(!1,h,m),T.exports=h},96602:T=>{T.exports=function(i,m){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,m,i):!i.layer.callbacks[i.index]||!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,m,i)}},36294:T=>{T.exports=function(i,m){m<0?(i.blocked.none=!1,i.blocked.left=!0):m>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=m,i.updateCenter(),i.velocity.x=0===i.bounce.x?0:-i.velocity.x*i.bounce.x}},67013:T=>{T.exports=function(i,m){m<0?(i.blocked.none=!1,i.blocked.up=!0):m>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=m,i.updateCenter(),i.velocity.y=0===i.bounce.y?0:-i.velocity.y*i.bounce.y}},40012:(T,A,i)=>{var m=i(21329),x=i(53442),h=i(2483);T.exports=function(l,s,o,f,a,c,p){var d=f.left,v=f.top,y=f.right,S=f.bottom,b=o.faceLeft||o.faceRight,C=o.faceTop||o.faceBottom;if(p||(b=!0,C=!0),!b&&!C)return!1;var M=0,w=0,R=0,I=1;if(s.deltaAbsX()>s.deltaAbsY()?R=-1:s.deltaAbsX()<s.deltaAbsY()&&(I=-1),0!==s.deltaX()&&0!==s.deltaY()&&b&&C&&(R=Math.min(Math.abs(s.position.x-y),Math.abs(s.right-d)),I=Math.min(Math.abs(s.position.y-S),Math.abs(s.bottom-v))),R<I){if(b&&0!==(M=m(s,o,d,y,c,p))&&!h(f,s))return!0;C&&(w=x(s,o,v,S,c,p))}else{if(C&&0!==(w=x(s,o,v,S,c,p))&&!h(f,s))return!0;b&&(M=m(s,o,d,y,c,p))}return 0!==M||0!==w}},21329:(T,A,i)=>{var m=i(36294);T.exports=function(h,u,l,s,o,f){var a=0,c=u.faceLeft,p=u.faceRight,d=u.collideLeft,v=u.collideRight;return f||(c=!0,p=!0,d=!0,v=!0),h.deltaX()<0&&v&&h.checkCollision.left?p&&h.x<s&&(a=h.x-s)<-o&&(a=0):h.deltaX()>0&&d&&h.checkCollision.right&&c&&h.right>l&&(a=h.right-l)>o&&(a=0),0!==a&&(h.customSeparateX?h.overlapX=a:m(h,a)),a}},53442:(T,A,i)=>{var m=i(67013);T.exports=function(h,u,l,s,o,f){var a=0,c=u.faceTop,p=u.faceBottom,d=u.collideUp,v=u.collideDown;return f||(c=!0,p=!0,d=!0,v=!0),h.deltaY()<0&&v&&h.checkCollision.up?p&&h.y<s&&(a=h.y-s)<-o&&(a=0):h.deltaY()>0&&d&&h.checkCollision.down&&c&&h.bottom>l&&(a=h.bottom-l)>o&&(a=0),0!==a&&(h.customSeparateY?h.overlapY=a:m(h,a)),a}},2483:T=>{T.exports=function(i,m){return!(m.right<=i.left||m.bottom<=i.top||m.position.x>=i.right||m.position.y>=i.bottom)}},55173:(T,A,i)=>{var m={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};T.exports=m},44563:(T,A,i)=>{T.exports={Arcade:i(27064),Matter:i(3875)}},68174:(T,A,i)=>{var m=i(83419),x=i(26099),h=new m({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(u){if(!(u=u.hasOwnProperty("body")?u.body:u).hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,s=this.centerDiff,o=u.bounds.max.x-u.bounds.min.x,f=u.bounds.max.y-u.bounds.min.y,a=o*u.centerOfMass.x,c=f*u.centerOfMass.y;return l.set(o/2,f/2),s.set(a-l.x,c-l.y),!0},getTopLeft:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var o=this.boundsCenter,f=this.centerDiff;return new x(l+o.x+f.x,s+o.y+f.y)}return!1},getTopCenter:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var f=this.centerDiff;return new x(l+f.x,s+this.boundsCenter.y+f.y)}return!1},getTopRight:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var o=this.boundsCenter,f=this.centerDiff;return new x(l-(o.x-f.x),s+o.y+f.y)}return!1},getLeftCenter:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var f=this.centerDiff;return new x(l+this.boundsCenter.x+f.x,s+f.y)}return!1},getCenter:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var o=this.centerDiff;return new x(l+o.x,s+o.y)}return!1},getRightCenter:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var f=this.centerDiff;return new x(l-(this.boundsCenter.x-f.x),s+f.y)}return!1},getBottomLeft:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var o=this.boundsCenter,f=this.centerDiff;return new x(l+o.x+f.x,s-(o.y-f.y))}return!1},getBottomCenter:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var f=this.centerDiff;return new x(l+f.x,s-(this.boundsCenter.y-f.y))}return!1},getBottomRight:function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),this.parseBody(u)){var o=this.boundsCenter,f=this.centerDiff;return new x(l-(o.x-f.x),s-(o.y-f.y))}return!1}});T.exports=h},19933:(T,A,i)=>{var m=i(6790);m.Body=i(22562),m.Composite=i(69351),m.World=i(4372),m.Collision=i(52284),m.Detector=i(81388),m.Pairs=i(99561),m.Pair=i(4506),m.Query=i(73296),m.Resolver=i(66272),m.Constraint=i(48140),m.Common=i(53402),m.Engine=i(48413),m.Events=i(35810),m.Sleeping=i(53614),m.Plugin=i(73832),m.Bodies=i(66280),m.Composites=i(74116),m.Axes=i(66615),m.Bounds=i(15647),m.Svg=i(74058),m.Vector=i(31725),m.Vertices=i(41598),m.World.add=m.Composite.add,m.World.remove=m.Composite.remove,m.World.addComposite=m.Composite.addComposite,m.World.addBody=m.Composite.addBody,m.World.addConstraint=m.Composite.addConstraint,m.World.clear=m.Composite.clear,T.exports=m},28137:(T,A,i)=>{var m=i(66280),x=i(83419),h=i(74116),u=i(48140),l=i(74058),s=i(75803),o=i(23181),f=i(34803),a=i(73834),c=i(19496),p=i(85791),d=i(98713),v=i(41598),y=new x({initialize:function(b){this.world=b,this.scene=b.scene,this.sys=b.scene.sys},rectangle:function(S,b,C,M,w){var R=m.rectangle(S,b,C,M,w);return this.world.add(R),R},trapezoid:function(S,b,C,M,w,R){var I=m.trapezoid(S,b,C,M,w,R);return this.world.add(I),I},circle:function(S,b,C,M,w){var R=m.circle(S,b,C,M,w);return this.world.add(R),R},polygon:function(S,b,C,M,w){var R=m.polygon(S,b,C,M,w);return this.world.add(R),R},fromVertices:function(S,b,C,M,w,R,I){"string"==typeof C&&(C=v.fromPath(C));var L=m.fromVertices(S,b,C,M,w,R,I);return this.world.add(L),L},fromPhysicsEditor:function(S,b,C,M,w){void 0===w&&(w=!0);var R=c.parseBody(S,b,C,M);return w&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(S,b,C,M,w,R){void 0===M&&(M=1),void 0===w&&(w={}),void 0===R&&(R=!0);for(var I=C.getElementsByTagName("path"),L=[],F=0;F<I.length;F++){var G=l.pathToVertices(I[F],30);1!==M&&v.scale(G,M,M),L.push(G)}var z=m.fromVertices(S,b,L,w);return R&&this.world.add(z),z},fromJSON:function(S,b,C,M,w){void 0===M&&(M={}),void 0===w&&(w=!0);var R=p.parseBody(S,b,C,M);return R&&w&&this.world.add(R),R},imageStack:function(S,b,C,M,w,R,I,L,F){void 0===I&&(I=0),void 0===L&&(L=0),void 0===F&&(F={});var G=this.world,z=this.sys.displayList;F.addToWorld=!1;var B=h.stack(C,M,w,R,I,L,function(V,Y){var $=new o(G,V,Y,S,b,F);return z.add($),$.body});return G.add(B),B},stack:function(S,b,C,M,w,R,I){var L=h.stack(S,b,C,M,w,R,I);return this.world.add(L),L},pyramid:function(S,b,C,M,w,R,I){var L=h.pyramid(S,b,C,M,w,R,I);return this.world.add(L),L},chain:function(S,b,C,M,w,R){return h.chain(S,b,C,M,w,R)},mesh:function(S,b,C,M,w){return h.mesh(S,b,C,M,w)},newtonsCradle:function(S,b,C,M,w){var R=h.newtonsCradle(S,b,C,M,w);return this.world.add(R),R},car:function(S,b,C,M,w){var R=h.car(S,b,C,M,w);return this.world.add(R),R},softBody:function(S,b,C,M,w,R,I,L,F,G){var z=h.softBody(S,b,C,M,w,R,I,L,F,G);return this.world.add(z),z},joint:function(S,b,C,M,w){return this.constraint(S,b,C,M,w)},spring:function(S,b,C,M,w){return this.constraint(S,b,C,M,w)},constraint:function(S,b,C,M,w){void 0===M&&(M=1),void 0===w&&(w={}),w.bodyA="body"===S.type?S:S.body,w.bodyB="body"===b.type?b:b.body,isNaN(C)||(w.length=C),w.stiffness=M;var R=u.create(w);return this.world.add(R),R},worldConstraint:function(S,b,C,M){void 0===C&&(C=1),void 0===M&&(M={}),M.bodyB="body"===S.type?S:S.body,isNaN(b)||(M.length=b),M.stiffness=C;var w=u.create(M);return this.world.add(w),w},mouseSpring:function(S){return this.pointerConstraint(S)},pointerConstraint:function(S){void 0===S&&(S={}),S.hasOwnProperty("render")||(S.render={visible:!1});var b=new d(this.scene,this.world,S);return this.world.add(b.constraint),b},image:function(S,b,C,M,w){var R=new o(this.world,S,b,C,M,w);return this.sys.displayList.add(R),R},tileBody:function(S,b){return new a(this.world,S,b)},sprite:function(S,b,C,M,w){var R=new f(this.world,S,b,C,M,w);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(S,b,C){return s(this.world,S,b,C)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});T.exports=y},75803:(T,A,i)=>{var m=i(31884),x=i(95540),h=i(26099);function u(s){return!!s.get&&"function"==typeof s.get||!!s.set&&"function"==typeof s.set}T.exports=function(s,o,f,a){void 0===f&&(f={}),void 0===a&&(a=!0);var c=o.x,p=o.y;if(o.body={temp:!0,position:{x:c,y:p}},[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity].forEach(function(y){for(var S in y)u(y[S])?Object.defineProperty(o,S,{get:y[S].get,set:y[S].set}):Object.defineProperty(o,S,{value:y[S]})}),o.world=s,o._tempVec2=new h(c,p),f.hasOwnProperty("type")&&"body"===f.type)o.setExistingBody(f,a);else{var v=x(f,"shape",null);v||(v="rectangle"),f.addToWorld=a,o.setBody(v,f)}return o}},23181:(T,A,i)=>{var m=i(83419),x=i(31884),h=i(95643),u=i(95540),l=i(88571),s=i(72699),o=i(26099),f=new m({Extends:l,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,s],initialize:function(c,p,d,v,y,S){h.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,y),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new o(p,d);var b=u(S,"shape",null);b?this.setBody(b,S):this.setRectangle(this.width,this.height,S),this.setPosition(p,d),this.initPipeline(),this.initPostPipeline(!0)}});T.exports=f},42045:(T,A,i)=>{var m=i(60461),x=i(66615),h=i(66280),u=i(22562),l=i(68174),s=i(15647),o=i(83419),f=i(52284),a=i(53402),c=i(69351),p=i(74116),d=i(48140),v=i(81388),y=i(20339),S=i(28137),b=i(95540),C=i(35154),M=i(18210),w=i(40178),R=i(6790),I=i(74507),L=i(46975),F=i(4506),G=i(99561),z=i(73832),B=i(37277),V=i(73296),Y=i(66272),$=i(44594),J=i(74058),W=i(31725),k=i(41598),N=i(68243);a.setDecomp(i(55973));var H=new o({initialize:function(K){this.scene=K,this.systems=K.sys,this.config=this.getConfig(),this.body=u,this.composite=c,this.collision=f,this.detector=v,this.pair=F,this.pairs=G,this.query=V,this.resolver=Y,this.constraint=d,this.bodies=h,this.composites=p,this.axes=x,this.bounds=s,this.svg=J,this.vector=W,this.vertices=k,this.verts=k,this._tempVec2=W.create(),C(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),C(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),C(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),Y._restingThresh=C(this.config,"restingThresh",4),Y._restingThreshTangent=C(this.config,"restingThreshTangent",6),Y._positionDampen=C(this.config,"positionDampen",.9),Y._positionWarming=C(this.config,"positionWarming",.8),Y._frictionNormalMultiplier=C(this.config,"frictionNormalMultiplier",5),K.sys.events.once($.BOOT,this.boot,this),K.sys.events.on($.START,this.start,this)},boot:function(){this.world=new N(this.scene,this.config),this.add=new S(this.world),this.bodyBounds=new l,this.systems.events.once($.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new N(this.scene,this.config),this.add=new S(this.world));var X=this.systems.events;X.on($.UPDATE,this.world.update,this.world),X.on($.POST_UPDATE,this.world.postUpdate,this.world),X.once($.SHUTDOWN,this.shutdown,this)},getConfig:function(){var X=this.systems.game.config.physics;return L(b(this.systems.settings.physics,"matter",{}),b(X,"matter",{}))},enableAttractorPlugin:function(){return z.register(M),z.use(R,M),this},enableWrapPlugin:function(){return z.register(I),z.use(R,I),this},enableCollisionEventsPlugin:function(){return z.register(w),z.use(R,w),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(X,K){this.world.step(X,K)},containsPoint:function(X,K,Q){X=this.getMatterBodies(X);var q=W.create(K,Q);return V.point(X,q).length>0},intersectPoint:function(X,K,Q){Q=this.getMatterBodies(Q);var q=W.create(X,K),_=[];return V.point(Q,q).forEach(function(st){-1===_.indexOf(st)&&_.push(st)}),_},intersectRect:function(X,K,Q,q,_,nt){void 0===_&&(_=!1),nt=this.getMatterBodies(nt);var at=[];return V.region(nt,{min:{x:X,y:K},max:{x:X+Q,y:K+q}},_).forEach(function(ht){-1===at.indexOf(ht)&&at.push(ht)}),at},intersectRay:function(X,K,Q,q,_,nt){void 0===_&&(_=1),nt=this.getMatterBodies(nt);for(var st=[],at=V.ray(nt,W.create(X,K),W.create(Q,q),_),lt=0;lt<at.length;lt++)st.push(at[lt].body);return st},intersectBody:function(X,K){K=this.getMatterBodies(K);for(var Q=[],q=V.collides(X,K),_=0;_<q.length;_++){var nt=q[_];Q.push(nt.bodyA===X?nt.bodyB:nt.bodyA)}return Q},overlap:function(X,K,Q,q,_){void 0===Q&&(Q=null),void 0===q&&(q=null),void 0===_&&(_=Q),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),K=this.getMatterBodies(K);for(var nt=!1,st=0;st<X.length;st++)for(var at=X[st],lt=V.collides(at,K),ht=0;ht<lt.length;ht++){var ut=lt[ht],mt=ut.bodyA.id===at.id?ut.bodyB:ut.bodyA;if(!q||q.call(_,at,mt,ut))if(nt=!0,Q)Q.call(_,at,mt,ut);else if(!q)return!0}return nt},setCollisionCategory:function(X,K){return(X=this.getMatterBodies(X)).forEach(function(Q){Q.collisionFilter.category=K}),this},setCollisionGroup:function(X,K){return(X=this.getMatterBodies(X)).forEach(function(Q){Q.collisionFilter.group=K}),this},setCollidesWith:function(X,K){X=this.getMatterBodies(X);var Q=0;if(Array.isArray(K))for(var q=0;q<K.length;q++)Q|=K[q];else Q=K;return X.forEach(function(_){_.collisionFilter.mask=Q}),this},getMatterBodies:function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var K=[],Q=0;Q<X.length;Q++){var q=X[Q].hasOwnProperty("body")?X[Q].body:X[Q];K.push(q)}return K},setVelocity:function(X,K,Q){X=this.getMatterBodies(X);var q=this._tempVec2;return q.x=K,q.y=Q,X.forEach(function(_){u.setVelocity(_,q)}),this},setVelocityX:function(X,K){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.x=K,X.forEach(function(q){Q.y=q.velocity.y,u.setVelocity(q,Q)}),this},setVelocityY:function(X,K){X=this.getMatterBodies(X);var Q=this._tempVec2;return Q.y=K,X.forEach(function(q){Q.x=q.velocity.x,u.setVelocity(q,Q)}),this},setAngularVelocity:function(X,K){return(X=this.getMatterBodies(X)).forEach(function(Q){u.setAngularVelocity(Q,K)}),this},applyForce:function(X,K){X=this.getMatterBodies(X);var Q=this._tempVec2;return X.forEach(function(q){Q.x=q.position.x,Q.y=q.position.y,u.applyForce(q,Q,K)}),this},applyForceFromPosition:function(X,K,Q,q){X=this.getMatterBodies(X);var _=this._tempVec2;return X.forEach(function(nt){void 0===q&&(q=nt.angle),_.x=Q*Math.cos(q),_.y=Q*Math.sin(q),u.applyForce(nt,K,_)}),this},applyForceFromAngle:function(X,K,Q){X=this.getMatterBodies(X);var q=this._tempVec2;return X.forEach(function(_){void 0===Q&&(Q=_.angle),q.x=K*Math.cos(Q),q.y=K*Math.sin(Q),u.applyForce(_,{x:_.position.x,y:_.position.y},q)}),this},getConstraintLength:function(X){var K=X.pointA.x,Q=X.pointA.y,q=X.pointB.x,_=X.pointB.y;return X.bodyA&&(K+=X.bodyA.position.x,Q+=X.bodyA.position.y),X.bodyB&&(q+=X.bodyB.position.x,_+=X.bodyB.position.y),y(K,Q,q,_)},alignBody:function(X,K,Q,q){var _;switch(X=X.hasOwnProperty("body")?X.body:X,q){case m.TOP_LEFT:case m.LEFT_TOP:_=this.bodyBounds.getTopLeft(X,K,Q);break;case m.TOP_CENTER:_=this.bodyBounds.getTopCenter(X,K,Q);break;case m.TOP_RIGHT:case m.RIGHT_TOP:_=this.bodyBounds.getTopRight(X,K,Q);break;case m.LEFT_CENTER:_=this.bodyBounds.getLeftCenter(X,K,Q);break;case m.CENTER:_=this.bodyBounds.getCenter(X,K,Q);break;case m.RIGHT_CENTER:_=this.bodyBounds.getRightCenter(X,K,Q);break;case m.LEFT_BOTTOM:case m.BOTTOM_LEFT:_=this.bodyBounds.getBottomLeft(X,K,Q);break;case m.BOTTOM_CENTER:_=this.bodyBounds.getBottomCenter(X,K,Q);break;case m.BOTTOM_RIGHT:case m.RIGHT_BOTTOM:_=this.bodyBounds.getBottomRight(X,K,Q)}return _&&u.setPosition(X,_),this},shutdown:function(){var X=this.systems.events;this.world&&(X.off($.UPDATE,this.world.update,this.world),X.off($.POST_UPDATE,this.world.postUpdate,this.world)),X.off($.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off($.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",H,"matterPhysics"),T.exports=H},34803:(T,A,i)=>{var m=i(9674),x=i(83419),h=i(31884),u=i(95643),l=i(95540),s=i(72699),o=i(68287),f=i(26099),a=new x({Extends:o,Mixins:[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity,s],initialize:function(p,d,v,y,S,b){u.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new m(this),this.setTexture(y,S),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new f(d,v);var C=l(b,"shape",null);C?this.setBody(C,b):this.setRectangle(this.width,this.height,b),this.setPosition(d,v),this.initPipeline(),this.initPostPipeline(!0)}});T.exports=a},73834:(T,A,i)=>{var m=i(66280),x=i(22562),h=i(83419),u=i(31884),l=i(62644),s=i(50792),o=i(95540),f=i(97022),a=i(41598),c=new h({Extends:s,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(d,v,y){s.call(this),this.tile=v,this.world=d,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var S=o(y,"body",null),b=o(y,"addToWorld",!0);if(S)this.setBody(S,b);else{var C=v.getCollisionGroup();o(C,"objects",[]).length>0?this.setFromTileCollision(y):this.setFromTileRectangle(y)}if(v.flipX||v.flipY){var w={x:v.getCenterX(),y:v.getCenterY()};x.scale(S,v.flipX?-1:1,v.flipY?-1:1,w)}},setFromTileRectangle:function(p){void 0===p&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);var d=this.tile.getBounds(),S=m.rectangle(d.x+d.width/2,d.y+d.height/2,d.width,d.height,p);return this.setBody(S,p.addToWorld),this},setFromTileCollision:function(p){void 0===p&&(p={}),f(p,"isStatic")||(p.isStatic=!0),f(p,"addToWorld")||(p.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,y=this.tile.getLeft(),S=this.tile.getTop(),b=this.tile.getCollisionGroup(),C=o(b,"objects",[]),M=[],w=0;w<C.length;w++){var R=C[w],I=y+R.x*d,L=S+R.y*v,F=R.width*d,G=R.height*v,z=null;if(R.rectangle)z=m.rectangle(I+F/2,L+G/2,F,G,p);else if(R.ellipse)z=m.circle(I+F/2,L+G/2,F/2,p);else if(R.polygon||R.polyline){var V=(R.polygon?R.polygon:R.polyline).map(function(W){return{x:W.x*d,y:W.y*v}}),Y=a.create(V),$=a.centre(Y);z=m.fromVertices(I+=$.x,L+=$.y,Y,p)}z&&M.push(z)}if(1===M.length)this.setBody(M[0],p.addToWorld);else if(M.length>1){var J=l(p);J.parts=M,this.setBody(x.create(J),J.addToWorld)}return this},setBody:function(p,d){return void 0===d&&(d=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});T.exports=c},19496:(T,A,i)=>{var m=i(66280),x=i(22562),h=i(53402),u=i(95540),l=i(41598);T.exports={parseBody:function(o,f,a,c){void 0===c&&(c={});for(var p=u(a,"fixtures",[]),d=[],v=0;v<p.length;v++)for(var y=this.parseFixture(p[v]),S=0;S<y.length;S++)d.push(y[S]);var b=h.clone(a,!0);h.extend(b,c,!0),delete b.fixtures,delete b.type;var C=x.create(b);return x.setParts(C,d),x.setPosition(C,{x:o,y:f}),C},parseFixture:function(o){var a,f=h.extend({},!1,o);if(delete f.circle,delete f.vertices,o.circle){var c=u(o.circle,"x"),p=u(o.circle,"y"),d=u(o.circle,"radius");a=[m.circle(c,p,d,f)]}else o.vertices&&(a=this.parseVertices(o.vertices,f));return a},parseVertices:function(o,f){void 0===f&&(f={});for(var a=[],c=0;c<o.length;c++)l.clockwiseSort(o[c]),a.push(x.create(h.extend({position:l.centre(o[c]),vertices:o[c]},f)));return m.flagCoincidentParts(a)}}},85791:(T,A,i)=>{var m=i(66280),x=i(22562);T.exports={parseBody:function(u,l,s,o){void 0===o&&(o={});var f,a=s.vertices;if(1===a.length)o.vertices=a[0],f=x.create(o),m.flagCoincidentParts(f.parts);else{for(var c=[],p=0;p<a.length;p++){var d=x.create({vertices:a[p]});c.push(d)}m.flagCoincidentParts(c),o.parts=c,f=x.create(o)}return f.label=s.label,x.setPosition(f,{x:u,y:l}),f}}},98713:(T,A,i)=>{var m=i(15647),x=i(83419),h=i(69351),u=i(48140),l=i(81388),s=i(1121),o=i(8214),f=i(46975),a=i(53614),c=i(26099),p=i(41598),d=new x({initialize:function(y,S,b){void 0===b&&(b={}),this.scene=y,this.world=S,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=u.create(f(b,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(s.BEFORE_UPDATE,this.update,this),y.sys.input.on(o.POINTER_DOWN,this.onDown,this),y.sys.input.on(o.POINTER_UP,this.onUp,this)},onDown:function(v){this.pointer||(this.pointer=v,this.camera=v.camera)},onUp:function(v){v===this.pointer&&(this.pointer=null)},getBody:function(v){var y=this.position,S=this.constraint;this.camera.getWorldPoint(v.x,v.y,y);for(var b=h.allBodies(this.world.localWorld),C=0;C<b.length;C++){var M=b[C];if(!M.ignorePointer&&m.contains(M.bounds,y)&&l.canCollide(M.collisionFilter,S.collisionFilter)&&this.hitTestBody(M,y))return this.world.emit(s.DRAG_START,M,this.part,this),!0}return!1},hitTestBody:function(v,y){for(var S=this.constraint,b=v.parts.length,M=b>1?1:0;M<b;M++){var w=v.parts[M];if(p.contains(w.vertices,y))return S.pointA=y,S.pointB={x:y.x-v.position.x,y:y.y-v.position.y},S.bodyB=v,S.angleB=v.angle,a.set(v,!1),this.part=w,this.body=v,!0}return!1},update:function(){var v=this.pointer,y=this.body;if(this.active&&v)if(v.isDown||!y){if(v.isDown){if(!this.camera||!y&&!this.getBody(v))return;y=this.body;var S=this.position,b=this.constraint;this.camera.getWorldPoint(v.x,v.y,S),b.pointA.x=S.x,b.pointA.y=S.y,a.set(y,!1),this.world.emit(s.DRAG,y,this)}}else this.stopDrag();else y&&this.stopDrag()},stopDrag:function(){var v=this.body,y=this.constraint;y.bodyB=null,y.pointB=null,this.pointer=null,this.body=null,this.part=null,v&&this.world.emit(s.DRAG_END,v,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(s.BEFORE_UPDATE,this.update),this.scene.sys.input.off(o.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(o.POINTER_UP,this.onUp,this)}});T.exports=d},68243:(T,A,i)=>{var m=i(66280),x=i(22562),h=i(83419),u=i(53402),l=i(69351),s=i(48413),o=i(50792),f=i(1121),a=i(95540),c=i(35154),p=i(22562),d=i(35810),v=i(73834),y=i(4372),S=i(31725),b=new h({Extends:o,initialize:function(M,w){o.call(this),this.scene=M,this.engine=s.create(w),this.localWorld=this.engine.world;var R=c(w,"gravity",null);R?this.setGravity(R.x,R.y,R.scale):!1===R&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(w,"enabled",!0),this.getDelta=c(w,"getDelta",this.update60Hz);var I=a(w,"runner",{}),L=a(I,"fps",!1),F=a(I,"fps",60),G=a(I,"delta",1e3/F),z=a(I,"deltaMin",1e3/F),B=a(I,"deltaMax",1e3/(.5*F));L||(F=1e3/G),this.runner={fps:F,deltaSampleSize:a(I,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(I,"isFixed",!1),delta:G,deltaMin:z,deltaMax:B},this.autoUpdate=c(w,"autoUpdate",!0);var V=c(w,"debug",!1);if(this.drawDebug="object"==typeof V||V,this.debugConfig={showAxes:a(V,"showAxes",!1),showAngleIndicator:a(V,"showAngleIndicator",!1),angleColor:a(V,"angleColor",15208787),showBroadphase:a(V,"showBroadphase",!1),broadphaseColor:a(V,"broadphaseColor",16757760),showBounds:a(V,"showBounds",!1),boundsColor:a(V,"boundsColor",16777215),showVelocity:a(V,"showVelocity",!1),velocityColor:a(V,"velocityColor",44783),showCollisions:a(V,"showCollisions",!1),collisionColor:a(V,"collisionColor",16094476),showSeparations:a(V,"showSeparations",!1),separationColor:a(V,"separationColor",16753920),showBody:a(V,"showBody",!0),showStaticBody:a(V,"showStaticBody",!0),showInternalEdges:a(V,"showInternalEdges",!1),renderFill:a(V,"renderFill",!1),renderLine:a(V,"renderLine",!0),fillColor:a(V,"fillColor",1075465),fillOpacity:a(V,"fillOpacity",1),lineColor:a(V,"lineColor",2678297),lineOpacity:a(V,"lineOpacity",1),lineThickness:a(V,"lineThickness",1),staticFillColor:a(V,"staticFillColor",857979),staticLineColor:a(V,"staticLineColor",1255396),showSleeping:a(V,"showSleeping",!1),staticBodySleepOpacity:a(V,"staticBodySleepOpacity",.7),sleepFillColor:a(V,"sleepFillColor",4605510),sleepLineColor:a(V,"sleepLineColor",10066585),showSensors:a(V,"showSensors",!0),sensorFillColor:a(V,"sensorFillColor",857979),sensorLineColor:a(V,"sensorLineColor",1255396),showPositions:a(V,"showPositions",!0),positionSize:a(V,"positionSize",4),positionColor:a(V,"positionColor",14697178),showJoint:a(V,"showJoint",!0),jointColor:a(V,"jointColor",14737474),jointLineOpacity:a(V,"jointLineOpacity",1),jointLineThickness:a(V,"jointLineThickness",2),pinSize:a(V,"pinSize",4),pinColor:a(V,"pinColor",4382944),springColor:a(V,"springColor",14697184),anchorColor:a(V,"anchorColor",15724527),anchorSize:a(V,"anchorSize",4),showConvexHulls:a(V,"showConvexHulls",!1),hullColor:a(V,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(w,"setBounds",!1)){var Y=w.setBounds;if("boolean"==typeof Y)this.setBounds();else{var $=a(Y,"x",0),J=a(Y,"y",0),W=a(Y,"width",M.sys.scale.width),k=a(Y,"height",M.sys.scale.height),N=a(Y,"thickness",64),H=a(Y,"left",!0),X=a(Y,"right",!0),K=a(Y,"top",!0),Q=a(Y,"bottom",!0);this.setBounds($,J,W,k,N,H,X,K,Q)}}},setCompositeRenderStyle:function(C){var I,L,F,M=C.bodies,w=C.constraints,R=C.composites;for(I=0;I<M.length;I++)this.setBodyRenderStyle(L=M[I],(F=L.render).lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(I=0;I<w.length;I++)this.setConstraintRenderStyle(L=w[I],(F=L.render).lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(I=0;I<R.length;I++)this.setCompositeRenderStyle(L=R[I]);return this},setBodyRenderStyle:function(C,M,w,R,I,L){var F=C.render,G=this.debugConfig;return F?(null==M&&(M=C.isStatic?G.staticLineColor:G.lineColor),null==w&&(w=G.lineOpacity),null==R&&(R=G.lineThickness),null==I&&(I=C.isStatic?G.staticFillColor:G.fillColor),null==L&&(L=G.fillOpacity),!1!==M&&(F.lineColor=M),!1!==w&&(F.lineOpacity=w),!1!==R&&(F.lineThickness=R),!1!==I&&(F.fillColor=I),!1!==L&&(F.fillOpacity=L),this):this},setConstraintRenderStyle:function(C,M,w,R,I,L,F){var G=C.render,z=this.debugConfig;if(!G)return this;if(null==M){var B=G.type;"line"===B?M=z.jointColor:"pin"===B?M=z.pinColor:"spring"===B&&(M=z.springColor)}return null==w&&(w=z.jointLineOpacity),null==R&&(R=z.jointLineThickness),null==I&&(I=z.pinSize),null==L&&(L=z.anchorColor),null==F&&(F=z.anchorSize),!1!==M&&(G.lineColor=M),!1!==w&&(G.lineOpacity=w),!1!==R&&(G.lineThickness=R),!1!==I&&(G.pinSize=I),!1!==L&&(G.anchorColor=L),!1!==F&&(G.anchorSize=F),this},setEventsProxy:function(){var C=this,M=this.engine,w=this.localWorld;this.drawDebug&&(d.on(w,"compositeModified",function(R){C.setCompositeRenderStyle(R)}),d.on(w,"beforeAdd",function(R){for(var I=[].concat(R.object),L=0;L<I.length;L++){var F=I[L],G=F.render;"body"===F.type?C.setBodyRenderStyle(F,G.lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity):"composite"===F.type?C.setCompositeRenderStyle(F):"constraint"===F.type&&C.setConstraintRenderStyle(F,G.lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize)}})),d.on(w,"beforeAdd",function(R){C.emit(f.BEFORE_ADD,R)}),d.on(w,"afterAdd",function(R){C.emit(f.AFTER_ADD,R)}),d.on(w,"beforeRemove",function(R){C.emit(f.BEFORE_REMOVE,R)}),d.on(w,"afterRemove",function(R){C.emit(f.AFTER_REMOVE,R)}),d.on(M,"beforeUpdate",function(R){C.emit(f.BEFORE_UPDATE,R)}),d.on(M,"afterUpdate",function(R){C.emit(f.AFTER_UPDATE,R)}),d.on(M,"collisionStart",function(R){var L,F,I=R.pairs;I.length>0&&(L=I[0].bodyA,F=I[0].bodyB),C.emit(f.COLLISION_START,R,L,F)}),d.on(M,"collisionActive",function(R){var L,F,I=R.pairs;I.length>0&&(L=I[0].bodyA,F=I[0].bodyB),C.emit(f.COLLISION_ACTIVE,R,L,F)}),d.on(M,"collisionEnd",function(R){var L,F,I=R.pairs;I.length>0&&(L=I[0].bodyA,F=I[0].bodyB),C.emit(f.COLLISION_END,R,L,F)})},setBounds:function(C,M,w,R,I,L,F,G,z){return void 0===C&&(C=0),void 0===M&&(M=0),void 0===w&&(w=this.scene.sys.scale.width),void 0===R&&(R=this.scene.sys.scale.height),void 0===I&&(I=64),void 0===L&&(L=!0),void 0===F&&(F=!0),void 0===G&&(G=!0),void 0===z&&(z=!0),this.updateWall(L,"left",C-I,M-I,I,R+2*I),this.updateWall(F,"right",C+w,M-I,I,R+2*I),this.updateWall(G,"top",C,M-I,w,I),this.updateWall(z,"bottom",C,M+R,w,I),this},updateWall:function(C,M,w,R,I,L){var F=this.walls[M];C?(F&&y.remove(this.localWorld,F),this.walls[M]=this.create(w+=I/2,R+=L/2,I,L,{isStatic:!0,friction:0,frictionStatic:0})):(F&&y.remove(this.localWorld,F),this.walls[M]=null)},createDebugGraphic:function(){var C=this.scene.sys.add.graphics({x:0,y:0});return C.setDepth(Number.MAX_VALUE),this.debugGraphic=C,this.drawDebug=!0,C},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(C,M,w){return void 0===C&&(C=0),void 0===M&&(M=1),void 0===w&&(w=.001),this.localWorld.gravity.x=C,this.localWorld.gravity.y=M,this.localWorld.gravity.scale=w,this},create:function(C,M,w,R,I){var L=m.rectangle(C,M,w,R,I);return y.add(this.localWorld,L),L},add:function(C){return y.add(this.localWorld,C),this},remove:function(C,M){Array.isArray(C)||(C=[C]);for(var w=0;w<C.length;w++){var R=C[w];l.remove(this.localWorld,R.body?R.body:R,M)}return this},removeConstraint:function(C,M){return l.remove(this.localWorld,C,M),this},convertTilemapLayer:function(C,M){var w=C.layer,R=C.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(R,M),this},convertTiles:function(C,M){if(0===C.length)return this;for(var w=0;w<C.length;w++)new v(this,C[w],M);return this},nextGroup:function(C){return p.nextGroup(C)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(C,M){if(this.enabled&&this.autoUpdate){var w=this.engine,R=this.runner,I=w.timing;R.isFixed?M=this.getDelta(C,M):(M=C-R.timePrev||R.delta,R.timePrev=C,R.deltaHistory.push(M),R.deltaHistory=R.deltaHistory.slice(-R.deltaSampleSize),M=Math.min.apply(null,R.deltaHistory),R.delta=M=(M=M<R.deltaMin?R.deltaMin:M)>R.deltaMax?R.deltaMax:M),R.timeScalePrev=I.timeScale,R.frameCounter+=1,C-R.counterTimestamp>=1e3&&(R.fps=R.frameCounter*((C-R.counterTimestamp)/1e3),R.counterTimestamp=C,R.frameCounter=0),s.update(w,M)}},step:function(C){s.update(this.engine,C)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(C){var M=C.hasOwnProperty("body")?C.body:C;return null!==l.get(this.localWorld,M.id,M.type)},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var C=this.debugConfig,M=this.engine,w=this.debugGraphic,R=l.allBodies(this.localWorld);this.debugGraphic.clear(),C.showBroadphase&&M.broadphase.controller&&this.renderGrid(M.broadphase,w,C.broadphaseColor,.5),C.showBounds&&this.renderBodyBounds(R,w,C.boundsColor,.5),(C.showBody||C.showStaticBody)&&this.renderBodies(R),C.showJoint&&this.renderJoints(),(C.showAxes||C.showAngleIndicator)&&this.renderBodyAxes(R,w,C.showAxes,C.angleColor,.5),C.showVelocity&&this.renderBodyVelocity(R,w,C.velocityColor,1,2),C.showSeparations&&this.renderSeparations(M.pairs.list,w,C.separationColor),C.showCollisions&&this.renderCollisions(M.pairs.list,w,C.collisionColor)}},renderGrid:function(C,M,w,R){M.lineStyle(1,w,R);for(var I=u.keys(C.buckets),L=0;L<I.length;L++){var F=I[L];if(!(C.buckets[F].length<2)){var G=F.split(/C|R/);M.strokeRect(parseInt(G[1],10)*C.bucketWidth,parseInt(G[2],10)*C.bucketHeight,C.bucketWidth,C.bucketHeight)}}return this},renderSeparations:function(C,M,w){M.lineStyle(1,w,1);for(var R=0;R<C.length;R++){var I=C[R];if(I.isActive){var L=I.collision,F=L.bodyA,G=L.bodyB,z=F.position,B=G.position,V=L.penetration,Y=F.isStatic||G.isStatic?1:4;G.isStatic&&(Y=0),M.lineBetween(B.x,B.y,B.x-V.x*Y,B.y-V.y*Y),Y=F.isStatic||G.isStatic?1:4,F.isStatic&&(Y=0),M.lineBetween(z.x,z.y,z.x-V.x*Y,z.y-V.y*Y)}}return this},renderCollisions:function(C,M,w){var R,I;for(M.lineStyle(1,w,.5),M.fillStyle(w,1),R=0;R<C.length;R++)if((I=C[R]).isActive)for(var L=0;L<I.activeContacts.length;L++){var G=I.activeContacts[L].vertex;M.fillRect(G.x-2,G.y-2,5,5)}for(R=0;R<C.length;R++)if((I=C[R]).isActive){var z=I.collision,B=I.activeContacts;if(B.length>0){var V=B[0].vertex.x,Y=B[0].vertex.y;2===B.length&&(V=(B[0].vertex.x+B[1].vertex.x)/2,Y=(B[0].vertex.y+B[1].vertex.y)/2),z.bodyB===z.supports[0].body||z.bodyA.isStatic?M.lineBetween(V-8*z.normal.x,Y-8*z.normal.y,V,Y):M.lineBetween(V+8*z.normal.x,Y+8*z.normal.y,V,Y)}}return this},renderBodyBounds:function(C,M,w,R){M.lineStyle(1,w,R);for(var I=0;I<C.length;I++){var L=C[I];if(L.render.visible){var F=L.bounds;if(F)M.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var G=L.parts,z=G.length>1?1:0;z<G.length;z++){var B=G[z];M.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(C,M,w,R,I){M.lineStyle(1,R,I);for(var L=0;L<C.length;L++){var z,B,V,F=C[L],G=F.parts;if(F.render.visible)if(w)for(B=G.length>1?1:0;B<G.length;B++)for(z=G[B],V=0;V<z.axes.length;V++){var Y=z.axes[V];M.lineBetween(z.position.x,z.position.y,z.position.x+20*Y.x,z.position.y+20*Y.y)}else for(B=G.length>1?1:0;B<G.length;B++)for(z=G[B],V=0;V<z.axes.length;V++)M.lineBetween(z.position.x,z.position.y,(z.vertices[0].x+z.vertices[z.vertices.length-1].x)/2,(z.vertices[0].y+z.vertices[z.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(C,M,w,R,I){M.lineStyle(I,w,R);for(var L=0;L<C.length;L++){var F=C[L];F.render.visible&&M.lineBetween(F.position.x,F.position.y,F.position.x+2*(F.position.x-F.positionPrev.x),F.position.y+2*(F.position.y-F.positionPrev.y))}return this},renderBodies:function(C){for(var M=this.debugGraphic,w=this.debugConfig,R=w.showBody,I=w.showStaticBody,L=w.showSleeping,F=w.showInternalEdges,G=w.showConvexHulls,z=w.renderFill,B=w.renderLine,V=w.staticBodySleepOpacity,Y=w.sleepFillColor,$=w.sleepLineColor,J=w.hullColor,W=0;W<C.length;W++){var k=C[W];if(k.render.visible&&(I||!k.isStatic)&&(R||k.isStatic)){var N=k.render.lineColor,H=k.render.lineOpacity,X=k.render.lineThickness,K=k.render.fillColor,Q=k.render.fillOpacity;L&&k.isSleeping&&(k.isStatic?(H*=V,Q*=V):(N=$,K=Y)),z||(K=null),B||(N=null),this.renderBody(k,M,F,N,H,X,K,Q),G&&k.parts.length>1&&this.renderConvexHull(k,M,J,X)}}},renderBody:function(C,M,w,R,I,L,F,G){void 0===R&&(R=null),void 0===I&&(I=null),void 0===L&&(L=1),void 0===F&&(F=null),void 0===G&&(G=null);for(var z=this.debugConfig,B=z.sensorFillColor,V=z.sensorLineColor,Y=C.parts,$=Y.length,J=$>1?1:0;J<$;J++){var W=Y[J],k=W.render,N=k.opacity;if(k.visible&&0!==N&&(!W.isSensor||z.showSensors)){var H=W.circleRadius;if(M.beginPath(),W.isSensor?(null!==F&&M.fillStyle(B,G*N),null!==R&&M.lineStyle(L,V,I*N)):(null!==F&&M.fillStyle(F,G*N),null!==R&&M.lineStyle(L,R,I*N)),H)M.arc(W.position.x,W.position.y,H,0,2*Math.PI);else{var X=W.vertices,K=X.length;M.moveTo(X[0].x,X[0].y);for(var Q=1;Q<K;Q++){var q=X[Q];if(!X[Q-1].isInternal||w?M.lineTo(q.x,q.y):M.moveTo(q.x,q.y),Q<K&&q.isInternal&&!w){var _=(Q+1)%K;M.moveTo(X[_].x,X[_].y)}}M.closePath()}null!==F&&M.fillPath(),null!==R&&M.strokePath()}}if(z.showPositions&&!C.isStatic){var nt=C.position.x,st=C.position.y,at=Math.ceil(z.positionSize/2);M.fillStyle(z.positionColor,1),M.fillRect(nt-at,st-at,z.positionSize,z.positionSize)}return this},renderConvexHull:function(C,M,w,R){if(void 0===R&&(R=1),C.parts.length>1){var F=C.vertices;M.lineStyle(R,w),M.beginPath(),M.moveTo(F[0].x,F[0].y);for(var G=1;G<F.length;G++)M.lineTo(F[G].x,F[G].y);M.lineTo(F[0].x,F[0].y),M.strokePath()}return this},renderJoints:function(){for(var C=this.debugGraphic,M=l.allConstraints(this.localWorld),w=0;w<M.length;w++){var R=M[w].render;this.renderConstraint(M[w],C,R.lineColor,R.lineOpacity,R.lineThickness,R.pinSize,R.anchorColor,R.anchorSize)}},renderConstraint:function(C,M,w,R,I,L,F,G){var z=C.render;if(!z.visible||!C.pointA||!C.pointB)return this;M.lineStyle(I,w,R);var Y,$,B=C.bodyA,V=C.bodyB;if(Y=B?S.add(B.position,C.pointA):C.pointA,"pin"===z.type)M.strokeCircle(Y.x,Y.y,L);else{if($=V?S.add(V.position,C.pointB):C.pointB,M.beginPath(),M.moveTo(Y.x,Y.y),"spring"===z.type)for(var N,J=S.sub($,Y),W=S.perp(S.normalise(J)),k=Math.ceil(u.clamp(C.length/5,12,20)),H=1;H<k;H+=1)M.lineTo(Y.x+J.x*(H/k)+W.x*(N=H%2==0?1:-1)*4,Y.y+J.y*(H/k)+W.y*N*4);M.lineTo($.x,$.y)}return M.strokePath(),z.anchors&&G>0&&(M.fillStyle(F),M.fillCircle(Y.x,Y.y,G),M.fillCircle($.x,$.y,G)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),s.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});T.exports=b},70410:T=>{T.exports={setBounce:function(i){return this.body.restitution=i,this}}},66968:T=>{T.exports={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var m=0;if(Array.isArray(i))for(var x=0;x<i.length;x++)m|=i[x];else m=i;return this.body.collisionFilter.mask=m,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,m){Array.isArray(i)||(i=[i]);for(var x=0;x<i.length;x++){var h=i[x].hasOwnProperty("body")?i[x].body:i[x];this.body.setOnCollideWith(h,m)}return this}}},51607:(T,A,i)=>{var m=i(22562);T.exports={applyForce:function(h){return this._tempVec2.set(this.body.position.x,this.body.position.y),m.applyForce(this.body,this._tempVec2,h),this},applyForceFrom:function(h,u){return m.applyForce(this.body,h,u),this},thrust:function(h){var u=this.body.angle;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(h){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(h){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(h){var u=this.body.angle-Math.PI;return this._tempVec2.set(h*Math.cos(u),h*Math.sin(u)),m.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:T=>{T.exports={setFriction:function(i,m,x){return this.body.friction=i,void 0!==m&&(this.body.frictionAir=m),void 0!==x&&(this.body.frictionStatic=x),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}}},39858:T=>{T.exports={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}}},37302:(T,A,i)=>{var m=i(22562),x=i(26099);T.exports={setMass:function(u){return m.setMass(this.body,u),this},setDensity:function(u){return m.setDensity(this.body,u),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:T=>{T.exports={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}}},57772:(T,A,i)=>{var m=i(66280),x=i(22562),h=i(43855),u=i(95540),l=i(19496),s=i(85791),o=i(41598);T.exports={setRectangle:function(a,c,p){return this.setBody({type:"rectangle",width:a,height:c},p)},setCircle:function(a,c){return this.setBody({type:"circle",radius:a},c)},setPolygon:function(a,c,p){return this.setBody({type:"polygon",sides:c,radius:a},p)},setTrapezoid:function(a,c,p,d){return this.setBody({type:"trapezoid",width:a,height:c,slope:p},d)},setExistingBody:function(a,c){void 0===c&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var p=0;p<a.parts.length;p++)a.parts[p].gameObject=this;var d=this;if(a.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},c&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var v=a.render.sprite.xOffset,y=a.render.sprite.yOffset,b=a.centerOfMass.y;h(a.centerOfMass.x,.5)&&h(b,.5)?this.setOrigin(v+.5,y+.5):this.setOrigin(v+a.centerOffset.x/this.displayWidth,y+a.centerOffset.y/this.displayHeight)}return this},setBody:function(a,c){if(!a)return this;var p;"string"==typeof a&&(a={type:a});var d=u(a,"type","rectangle"),v=u(a,"x",this._tempVec2.x),y=u(a,"y",this._tempVec2.y),S=u(a,"width",this.width),b=u(a,"height",this.height);switch(d){case"rectangle":p=m.rectangle(v,y,S,b,c);break;case"circle":var C=u(a,"radius",Math.max(S,b)/2),M=u(a,"maxSides",25);p=m.circle(v,y,C,c,M);break;case"trapezoid":var w=u(a,"slope",.5);p=m.trapezoid(v,y,S,b,w,c);break;case"polygon":var R=u(a,"sides",5),I=u(a,"radius",Math.max(S,b)/2);p=m.polygon(v,y,R,I,c);break;case"fromVertices":case"fromVerts":var L=u(a,"verts",null);if(L)if("string"==typeof L&&(L=o.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,L),p=this.body;else{var F=u(a,"flagInternal",!1),G=u(a,"removeCollinear",.01),z=u(a,"minimumArea",10);p=m.fromVertices(v,y,L,c,F,G,z)}break;case"fromPhysicsEditor":p=l.parseBody(v,y,a,c);break;case"fromPhysicsTracer":p=s.parseBody(v,y,a,c)}return p&&this.setExistingBody(p,a.addToWorld),this}}},38083:(T,A,i)=>{var m=i(1121),x=i(53614),h=i(35810);T.exports={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(l){return void 0===l&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,s){return this.setSleepStartEvent(l),this.setSleepEndEvent(s),this},setSleepStartEvent:function(l){if(l){var s=this.world;h.on(this.body,"sleepStart",function(o){s.emit(m.SLEEP_START,o,this)})}else h.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var s=this.world;h.on(this.body,"sleepEnd",function(o){s.emit(m.SLEEP_END,o,this)})}else h.off(this.body,"sleepEnd");return this}}},90556:(T,A,i)=>{var m=i(22562);T.exports={setStatic:function(h){return m.setStatic(this.body,h),this},isStatic:function(){return this.body.isStatic}}},85436:(T,A,i)=>{var m=i(22562),x=i(36383),h=i(86554),u=i(30954);T.exports={x:{get:function(){return this.body.position.x},set:function(o){this._tempVec2.set(o,this.y),m.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(o){this._tempVec2.set(this.x,o),m.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(o){var f=1/this._scaleX,a=1/this._scaleY;this._scaleX=o,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,m.scale(this.body,f,a),m.scale(this.body,o,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(o){var f=1/this._scaleX,a=1/this._scaleY;this._scaleY=o,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,m.scale(this.body,f,a),m.scale(this.body,this._scaleX,o)}},angle:{get:function(){return u(this.body.angle*x.RAD_TO_DEG)},set:function(o){this.rotation=u(o)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(o){this._rotation=h(o),m.setAngle(this.body,this._rotation)}},setPosition:function(o,f){return void 0===o&&(o=0),void 0===f&&(f=o),this._tempVec2.set(o,f),m.setPosition(this.body,this._tempVec2),this},setRotation:function(o){return void 0===o&&(o=0),this._rotation=h(o),m.setAngle(this.body,o),this},setFixedRotation:function(){return m.setInertia(this.body,1/0),this},setAngle:function(o){return void 0===o&&(o=0),this.angle=o,m.setAngle(this.body,this.rotation),this},setScale:function(o,f,a){void 0===o&&(o=1),void 0===f&&(f=o);var c=1/this._scaleX,p=1/this._scaleY;return this._scaleX=o,this._scaleY=f,m.scale(this.body,c,p,a),m.scale(this.body,o,f,a),this}}},42081:(T,A,i)=>{var m=i(22562);T.exports={setVelocityX:function(h){return this._tempVec2.set(h,this.body.velocity.y),m.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(h){return this._tempVec2.set(this.body.velocity.x,h),m.setVelocity(this.body,this._tempVec2),this},setVelocity:function(h,u){return this._tempVec2.set(h,u),m.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return m.getVelocity(this.body)},setAngularVelocity:function(h){return m.setAngularVelocity(this.body,h),this},getAngularVelocity:function(){return m.getAngularVelocity(this.body)},setAngularSpeed:function(h){return m.setAngularSpeed(this.body,h),this},getAngularSpeed:function(){return m.getAngularSpeed(this.body)}}},31884:(T,A,i)=>{T.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:T=>{T.exports="afteradd"},1213:T=>{T.exports="afterremove"},25968:T=>{T.exports="afterupdate"},67205:T=>{T.exports="beforeadd"},39438:T=>{T.exports="beforeremove"},44823:T=>{T.exports="beforeupdate"},92593:T=>{T.exports="collisionactive"},60128:T=>{T.exports="collisionend"},76861:T=>{T.exports="collisionstart"},92362:T=>{T.exports="dragend"},76408:T=>{T.exports="drag"},93971:T=>{T.exports="dragstart"},5656:T=>{T.exports="pause"},47861:T=>{T.exports="resume"},79099:T=>{T.exports="sleepend"},35906:T=>{T.exports="sleepstart"},1121:(T,A,i)=>{T.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(T,A,i)=>{T.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(T,A,i)=>{var m={};T.exports=m;var x=i(41598),h=i(31725),u=i(53614),l=i(53402),s=i(15647),o=i(66615);!function(){m._timeCorrection=!0,m._inertiaScale=4,m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,m._baseDelta=16.666666666666668,m.create=function(a){var c={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=x.centre(a.vertices):a.hasOwnProperty("vertices")||(c.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=l.extend(c,a);return f(p,a),p.setOnCollideWith=function(d,v){return v?this.onCollideWith[d.id]=v:delete this.onCollideWith[d.id],this},p},m.nextGroup=function(a){return a?m._nextNonCollidingGroupId--:m._nextCollidingGroupId++},m.nextCategory=function(){return m._nextCategory=m._nextCategory<<1,m._nextCategory};var f=function(a,c){if(c=c||{},m.set(a,{bounds:a.bounds||s.create(a.vertices),positionPrev:a.positionPrev||h.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),x.rotate(a.vertices,a.angle,a.position),o.rotate(a.axes,a.angle),s.update(a.bounds,a.vertices,a.velocity),m.set(a,{axes:c.axes||a.axes,area:c.area||a.area,mass:c.mass||a.mass,inertia:c.inertia||a.inertia}),1===a.parts.length){var p=a.bounds,d=a.centerOfMass,v=a.centerOffset,y=p.max.x-p.min.x,S=p.max.y-p.min.y;d.x=-(p.min.x-a.position.x)/y,d.y=-(p.min.y-a.position.y)/S,v.x=y*d.x,v.y=S*d.y}};m.set=function(a,c,p){var d;for(d in"string"==typeof c&&(d=c,(c={})[d]=p),c)if(Object.prototype.hasOwnProperty.call(c,d))switch(p=c[d],d){case"isStatic":m.setStatic(a,p);break;case"isSleeping":u.set(a,p);break;case"mass":m.setMass(a,p);break;case"density":m.setDensity(a,p);break;case"inertia":m.setInertia(a,p);break;case"vertices":m.setVertices(a,p);break;case"position":m.setPosition(a,p);break;case"angle":m.setAngle(a,p);break;case"velocity":m.setVelocity(a,p);break;case"angularVelocity":m.setAngularVelocity(a,p);break;case"speed":m.setSpeed(a,p);break;case"angularSpeed":m.setAngularSpeed(a,p);break;case"parts":m.setParts(a,p);break;case"centre":m.setCentre(a,p);break;default:a[d]=p}},m.setStatic=function(a,c){for(var p=0;p<a.parts.length;p++){var d=a.parts[p];c?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=c}},m.setMass=function(a,c){a.inertia=a.inertia/(a.mass/6)*(c/6),a.inverseInertia=1/a.inertia,a.mass=c,a.inverseMass=1/a.mass,a.density=a.mass/a.area},m.setDensity=function(a,c){m.setMass(a,c*a.area),a.density=c},m.setInertia=function(a,c){a.inertia=c,a.inverseInertia=1/a.inertia},m.setVertices=function(a,c){a.vertices=c[0].body===a?c:x.create(c,a),a.axes=o.fromVertices(a.vertices),a.area=x.area(a.vertices),m.setMass(a,a.density*a.area);var p=x.centre(a.vertices);x.translate(a.vertices,p,-1),m.setInertia(a,m._inertiaScale*x.inertia(a.vertices,a.mass)),x.translate(a.vertices,a.position),s.update(a.bounds,a.vertices,a.velocity)},m.setParts=function(a,c,p){var d;for(c=c.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,d=0;d<c.length;d++){var v=c[d];v!==a&&(v.parent=a,a.parts.push(v))}if(1!==a.parts.length){if(p=!(typeof p<"u")||p){var y=[];for(d=0;d<c.length;d++)y=y.concat(c[d].vertices);x.clockwiseSort(y);var S=x.hull(y),b=x.centre(S);m.setVertices(a,S),x.translate(a.vertices,b)}var C=m._totalProperties(a),M=C.centre.x,w=C.centre.y,R=a.bounds,I=a.centerOfMass,L=a.centerOffset;s.update(R,a.vertices,a.velocity),I.x=-(R.min.x-M)/(R.max.x-R.min.x),I.y=-(R.min.y-w)/(R.max.y-R.min.y),L.x=M,L.y=w,a.area=C.area,a.parent=a,a.position.x=M,a.position.y=w,a.positionPrev.x=M,a.positionPrev.y=w,m.setMass(a,C.mass),m.setInertia(a,C.inertia),m.setPosition(a,C.centre)}},m.setCentre=function(a,c,p){p?(a.positionPrev.x+=c.x,a.positionPrev.y+=c.y,a.position.x+=c.x,a.position.y+=c.y):(a.positionPrev.x=c.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=c.y-(a.position.y-a.positionPrev.y),a.position.x=c.x,a.position.y=c.y)},m.setPosition=function(a,c,p){var d=h.sub(c,a.position);p?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=d.x,a.velocity.y=d.y,a.speed=h.magnitude(d)):(a.positionPrev.x+=d.x,a.positionPrev.y+=d.y);for(var v=0;v<a.parts.length;v++){var y=a.parts[v];y.position.x+=d.x,y.position.y+=d.y,x.translate(y.vertices,d),s.update(y.bounds,y.vertices,a.velocity)}},m.setAngle=function(a,c,p){var d=c-a.angle;p?(a.anglePrev=a.angle,a.angularVelocity=d,a.angularSpeed=Math.abs(d)):a.anglePrev+=d;for(var v=0;v<a.parts.length;v++){var y=a.parts[v];y.angle+=d,x.rotate(y.vertices,d,a.position),o.rotate(y.axes,d),s.update(y.bounds,y.vertices,a.velocity),v>0&&h.rotateAbout(y.position,d,a.position,y.position)}},m.setVelocity=function(a,c){var p=a.deltaTime/m._baseDelta;a.positionPrev.x=a.position.x-c.x*p,a.positionPrev.y=a.position.y-c.y*p,a.velocity.x=(a.position.x-a.positionPrev.x)/p,a.velocity.y=(a.position.y-a.positionPrev.y)/p,a.speed=h.magnitude(a.velocity)},m.getVelocity=function(a){var c=m._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*c,y:(a.position.y-a.positionPrev.y)*c}},m.getSpeed=function(a){return h.magnitude(m.getVelocity(a))},m.setSpeed=function(a,c){m.setVelocity(a,h.mult(h.normalise(m.getVelocity(a)),c))},m.setAngularVelocity=function(a,c){var p=a.deltaTime/m._baseDelta;a.anglePrev=a.angle-c*p,a.angularVelocity=(a.angle-a.anglePrev)/p,a.angularSpeed=Math.abs(a.angularVelocity)},m.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*m._baseDelta/a.deltaTime},m.getAngularSpeed=function(a){return Math.abs(m.getAngularVelocity(a))},m.setAngularSpeed=function(a,c){m.setAngularVelocity(a,l.sign(m.getAngularVelocity(a))*c)},m.translate=function(a,c,p){m.setPosition(a,h.add(a.position,c),p)},m.rotate=function(a,c,p,d){if(p){var v=Math.cos(c),y=Math.sin(c),S=a.position.x-p.x,b=a.position.y-p.y;m.setPosition(a,{x:p.x+(S*v-b*y),y:p.y+(S*y+b*v)},d),m.setAngle(a,a.angle+c,d)}else m.setAngle(a,a.angle+c,d)},m.scale=function(a,c,p,d){var v=0,y=0;d=d||a.position;for(var S=a.inertia===1/0,b=0;b<a.parts.length;b++){var C=a.parts[b];C.scale.x=c,C.scale.y=p,x.scale(C.vertices,c,p,d),C.axes=o.fromVertices(C.vertices),C.area=x.area(C.vertices),m.setMass(C,a.density*C.area),x.translate(C.vertices,{x:-C.position.x,y:-C.position.y}),m.setInertia(C,m._inertiaScale*x.inertia(C.vertices,C.mass)),x.translate(C.vertices,{x:C.position.x,y:C.position.y}),b>0&&(v+=C.area,y+=C.inertia),C.position.x=d.x+(C.position.x-d.x)*c,C.position.y=d.y+(C.position.y-d.y)*p,s.update(C.bounds,C.vertices,a.velocity)}a.parts.length>1&&(a.area=v,a.isStatic||(m.setMass(a,a.density*v),m.setInertia(a,y))),a.circleRadius&&(c===p?a.circleRadius*=c:a.circleRadius=null),S&&m.setInertia(a,1/0)},m.update=function(a,c){var p=(c=(typeof c<"u"?c:16.666666666666668)*a.timeScale)*c,d=m._timeCorrection?c/(a.deltaTime||c):1,v=1-a.frictionAir*(c/l._baseDelta),S=(a.position.y-a.positionPrev.y)*d;a.velocity.x=(a.position.x-a.positionPrev.x)*d*v+a.force.x/a.mass*p,a.velocity.y=S*v+a.force.y/a.mass*p,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=c,a.angularVelocity=(a.angle-a.anglePrev)*v*d+a.torque/a.inertia*p,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=h.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var b=0;b<a.parts.length;b++){var C=a.parts[b];x.translate(C.vertices,a.velocity),b>0&&(C.position.x+=a.velocity.x,C.position.y+=a.velocity.y),0!==a.angularVelocity&&(x.rotate(C.vertices,a.angularVelocity,a.position),o.rotate(C.axes,a.angularVelocity),b>0&&h.rotateAbout(C.position,a.angularVelocity,a.position,C.position)),s.update(C.bounds,C.vertices,a.velocity)}},m.updateVelocities=function(a){var c=m._baseDelta/a.deltaTime,p=a.velocity;p.x=(a.position.x-a.positionPrev.x)*c,p.y=(a.position.y-a.positionPrev.y)*c,a.speed=Math.sqrt(p.x*p.x+p.y*p.y),a.angularVelocity=(a.angle-a.anglePrev)*c,a.angularSpeed=Math.abs(a.angularVelocity)},m.applyForce=function(a,c,p){var d_x=c.x-a.position.x,d_y=c.y-a.position.y;a.force.x+=p.x,a.force.y+=p.y,a.torque+=d_x*p.y-d_y*p.x},m._totalProperties=function(a){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=1===a.parts.length?0:1;p<a.parts.length;p++){var d=a.parts[p],v=d.mass!==1/0?d.mass:1;c.mass+=v,c.area+=d.area,c.inertia+=d.inertia,c.centre=h.add(c.centre,h.mult(d.position,v))}return c.centre=h.div(c.centre,c.mass),c}}()},69351:(T,A,i)=>{var m={};T.exports=m;var x=i(35810),h=i(53402),u=i(15647),l=i(22562);m.create=function(s){return h.extend({id:h.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},s)},m.setModified=function(s,o,f,a){if(x.trigger(s,"compositeModified",s),s.isModified=o,o&&s.cache&&(s.cache.allBodies=null,s.cache.allConstraints=null,s.cache.allComposites=null),f&&s.parent&&m.setModified(s.parent,o,f,a),a)for(var c=0;c<s.composites.length;c++)m.setModified(s.composites[c],o,f,a)},m.add=function(s,o){var f=[].concat(o);x.trigger(s,"beforeAdd",{object:o});for(var a=0;a<f.length;a++){var c=f[a];switch(c.type){case"body":if(c.parent!==c){h.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}m.addBody(s,c);break;case"constraint":m.addConstraint(s,c);break;case"composite":m.addComposite(s,c);break;case"mouseConstraint":m.addConstraint(s,c.constraint)}}return x.trigger(s,"afterAdd",{object:o}),s},m.remove=function(s,o,f){var a=[].concat(o);x.trigger(s,"beforeRemove",{object:o});for(var c=0;c<a.length;c++){var p=a[c];switch(p.type){case"body":m.removeBody(s,p,f);break;case"constraint":m.removeConstraint(s,p,f);break;case"composite":m.removeComposite(s,p,f);break;case"mouseConstraint":m.removeConstraint(s,p.constraint)}}return x.trigger(s,"afterRemove",{object:o}),s},m.addComposite=function(s,o){return s.composites.push(o),o.parent=s,m.setModified(s,!0,!0,!1),s},m.removeComposite=function(s,o,f){var a=h.indexOf(s.composites,o);if(-1!==a&&m.removeCompositeAt(s,a),f)for(var c=0;c<s.composites.length;c++)m.removeComposite(s.composites[c],o,!0);return s},m.removeCompositeAt=function(s,o){return s.composites.splice(o,1),m.setModified(s,!0,!0,!1),s},m.addBody=function(s,o){return s.bodies.push(o),m.setModified(s,!0,!0,!1),s},m.removeBody=function(s,o,f){var a=h.indexOf(s.bodies,o);if(-1!==a&&m.removeBodyAt(s,a),f)for(var c=0;c<s.composites.length;c++)m.removeBody(s.composites[c],o,!0);return s},m.removeBodyAt=function(s,o){return s.bodies.splice(o,1),m.setModified(s,!0,!0,!1),s},m.addConstraint=function(s,o){return s.constraints.push(o),m.setModified(s,!0,!0,!1),s},m.removeConstraint=function(s,o,f){var a=h.indexOf(s.constraints,o);if(-1!==a&&m.removeConstraintAt(s,a),f)for(var c=0;c<s.composites.length;c++)m.removeConstraint(s.composites[c],o,!0);return s},m.removeConstraintAt=function(s,o){return s.constraints.splice(o,1),m.setModified(s,!0,!0,!1),s},m.clear=function(s,o,f){if(f)for(var a=0;a<s.composites.length;a++)m.clear(s.composites[a],o,!0);return o?s.bodies=s.bodies.filter(function(c){return c.isStatic}):s.bodies.length=0,s.constraints.length=0,s.composites.length=0,m.setModified(s,!0,!0,!1),s},m.allBodies=function(s){if(s.cache&&s.cache.allBodies)return s.cache.allBodies;for(var o=[].concat(s.bodies),f=0;f<s.composites.length;f++)o=o.concat(m.allBodies(s.composites[f]));return s.cache&&(s.cache.allBodies=o),o},m.allConstraints=function(s){if(s.cache&&s.cache.allConstraints)return s.cache.allConstraints;for(var o=[].concat(s.constraints),f=0;f<s.composites.length;f++)o=o.concat(m.allConstraints(s.composites[f]));return s.cache&&(s.cache.allConstraints=o),o},m.allComposites=function(s){if(s.cache&&s.cache.allComposites)return s.cache.allComposites;for(var o=[].concat(s.composites),f=0;f<s.composites.length;f++)o=o.concat(m.allComposites(s.composites[f]));return s.cache&&(s.cache.allComposites=o),o},m.get=function(s,o,f){var a,c;switch(f){case"body":a=m.allBodies(s);break;case"constraint":a=m.allConstraints(s);break;case"composite":a=m.allComposites(s).concat(s)}return a?0===(c=a.filter(function(p){return p.id.toString()===o.toString()})).length?null:c[0]:null},m.move=function(s,o,f){return m.remove(s,o),m.add(f,o),s},m.rebase=function(s){for(var o=m.allBodies(s).concat(m.allConstraints(s)).concat(m.allComposites(s)),f=0;f<o.length;f++)o[f].id=h.nextId();return s},m.translate=function(s,o,f){for(var a=f?m.allBodies(s):s.bodies,c=0;c<a.length;c++)l.translate(a[c],o);return s},m.rotate=function(s,o,f,a){for(var c=Math.cos(o),p=Math.sin(o),d=a?m.allBodies(s):s.bodies,v=0;v<d.length;v++){var y=d[v],S=y.position.x-f.x,b=y.position.y-f.y;l.setPosition(y,{x:f.x+(S*c-b*p),y:f.y+(S*p+b*c)}),l.rotate(y,o)}return s},m.scale=function(s,o,f,a,c){for(var p=c?m.allBodies(s):s.bodies,d=0;d<p.length;d++){var v=p[d];l.setPosition(v,{x:a.x+(v.position.x-a.x)*o,y:a.y+(v.position.y-a.y)*f}),l.scale(v,o,f)}return s},m.bounds=function(s){for(var o=m.allBodies(s),f=[],a=0;a<o.length;a+=1){var c=o[a];f.push(c.bounds.min,c.bounds.max)}return u.create(f)}},4372:(T,A,i)=>{var m={};T.exports=m;var x=i(69351);m.create=x.create,m.add=x.add,m.remove=x.remove,m.clear=x.clear,m.addComposite=x.addComposite,m.addBody=x.addBody,m.addConstraint=x.addConstraint},52284:(T,A,i)=>{var m={};T.exports=m;var u,l,s,x=i(41598),h=i(4506);u=[],l={overlap:0,axis:null},s={overlap:0,axis:null},m.create=function(o,f){return{pair:null,collided:!1,bodyA:o,bodyB:f,parentA:o.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},m.collides=function(o,f,a){if(m._overlapAxes(l,o.vertices,f.vertices,o.axes),l.overlap<=0||(m._overlapAxes(s,f.vertices,o.vertices,f.axes),s.overlap<=0))return null;var p,d,c=a&&a.table[h.id(o,f)];c?p=c.collision:((p=m.create(o,f)).collided=!0,p.bodyA=o.id<f.id?o:f,p.bodyB=o.id<f.id?f:o,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent);var v=p.normal,y=p.supports,S=(d=l.overlap<s.overlap?l:s).axis,b=S.x,C=S.y;b*((f=p.bodyB).position.x-(o=p.bodyA).position.x)+C*(f.position.y-o.position.y)<0?(v.x=b,v.y=C):(v.x=-b,v.y=-C),p.tangent.x=-v.y,p.tangent.y=v.x,p.depth=d.overlap,p.penetration.x=v.x*p.depth,p.penetration.y=v.y*p.depth;var M=m._findSupports(o,f,v,1),w=0;if(x.contains(o.vertices,M[0])&&(y[w++]=M[0]),x.contains(o.vertices,M[1])&&(y[w++]=M[1]),w<2){var R=m._findSupports(f,o,v,-1);x.contains(f.vertices,R[0])&&(y[w++]=R[0]),w<2&&x.contains(f.vertices,R[1])&&(y[w++]=R[1])}return 0===w&&(y[w++]=M[0]),y.length=w,p},m._overlapAxes=function(o,f,a,c){var R,I,L,F,G,z,p=f.length,d=a.length,v=f[0].x,y=f[0].y,S=a[0].x,b=a[0].y,C=c.length,M=Number.MAX_VALUE,w=0;for(G=0;G<C;G++){var B=c[G],V=B.x,Y=B.y,$=v*V+y*Y,J=S*V+b*Y,W=$,k=J;for(z=1;z<p;z+=1)(F=f[z].x*V+f[z].y*Y)>W?W=F:F<$&&($=F);for(z=1;z<d;z+=1)(F=a[z].x*V+a[z].y*Y)>k?k=F:F<J&&(J=F);if((R=(I=W-J)<(L=k-$)?I:L)<M&&(M=R,w=G,R<=0))break}o.axis=c[w],o.overlap=M},m._projectToAxis=function(o,f,a){for(var c=f[0].x*a.x+f[0].y*a.y,p=c,d=1;d<f.length;d+=1){var v=f[d].x*a.x+f[d].y*a.y;v>p?p=v:v<c&&(c=v)}o.min=c,o.max=p},m._findSupports=function(o,f,a,c){var M,w,R,I,L,p=f.vertices,d=p.length,v=o.position.x,y=o.position.y,S=a.x*c,b=a.y*c,C=Number.MAX_VALUE;for(L=0;L<d;L+=1)(I=S*(v-(w=p[L]).x)+b*(y-w.y))<C&&(C=I,M=w);return S*(v-(w=p[(M.index+1)%d]).x)+b*(y-w.y)<(C=S*(v-(R=p[(d+M.index-1)%d]).x)+b*(y-R.y))?(u[0]=M,u[1]=w,u):(u[0]=M,u[1]=R,u)}},43424:T=>{var A={};T.exports=A,A.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}},81388:(T,A,i)=>{var m={};T.exports=m;var x=i(53402),h=i(52284);m.create=function(u){return x.extend({bodies:[],pairs:null},u)},m.setBodies=function(u,l){u.bodies=l.slice(0)},m.clear=function(u){u.bodies=[]},m.collisions=function(u){var p,d,l=[],s=u.pairs,o=u.bodies,f=o.length,a=m.canCollide,c=h.collides;for(o.sort(m._compareBoundsX),p=0;p<f;p++){var v=o[p],y=v.bounds,S=v.bounds.max.x,b=v.bounds.max.y,C=v.bounds.min.y,M=v.isStatic||v.isSleeping,w=v.parts.length,R=1===w;for(d=p+1;d<f;d++){var I=o[d];if((L=I.bounds).min.x>S)break;if(!(b<L.min.y||C>L.max.y)&&(!M||!I.isStatic&&!I.isSleeping)&&a(v.collisionFilter,I.collisionFilter)){var F=I.parts.length;if(R&&1===F)(G=c(v,I,s))&&l.push(G);else for(var B=F>1?1:0,V=w>1?1:0;V<w;V++)for(var Y=v.parts[V],$=(y=Y.bounds,B);$<F;$++){var L,G,J=I.parts[$];y.min.x>(L=J.bounds).max.x||y.max.x<L.min.x||y.max.y<L.min.y||y.min.y>L.max.y||(G=c(Y,J,s))&&l.push(G)}}}}return l},m.canCollide=function(u,l){return u.group===l.group&&0!==u.group?u.group>0:!!(u.mask&l.category)&&!!(l.mask&u.category)},m._compareBoundsX=function(u,l){return u.bounds.min.x-l.bounds.min.x}},4506:(T,A,i)=>{var m={};T.exports=m;var x=i(43424);m.create=function(h,u){var l=h.bodyA,s=h.bodyB,o={id:m.id(l,s),bodyA:l,bodyB:s,collision:h,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:l.isSensor||s.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return m.update(o,h,u),o},m.update=function(h,u,l){var s=h.contacts,o=u.supports,f=h.activeContacts,a=u.parentA,c=u.parentB,p=a.vertices.length;h.isActive=!0,h.timeUpdated=l,h.collision=u,h.separation=u.depth,h.inverseMass=a.inverseMass+c.inverseMass,h.friction=a.friction<c.friction?a.friction:c.friction,h.frictionStatic=a.frictionStatic>c.frictionStatic?a.frictionStatic:c.frictionStatic,h.restitution=a.restitution>c.restitution?a.restitution:c.restitution,h.slop=a.slop>c.slop?a.slop:c.slop,u.pair=h,f.length=0;for(var d=0;d<o.length;d++){var v=o[d],y=v.body===a?v.index:p+v.index;f.push(s[y]||(s[y]=x.create(v)))}},m.setActive=function(h,u,l){u?(h.isActive=!0,h.timeUpdated=l):(h.isActive=!1,h.activeContacts.length=0)},m.id=function(h,u){return h.id<u.id?"A"+h.id+"B"+u.id:"A"+u.id+"B"+h.id}},99561:(T,A,i)=>{var m={};T.exports=m;var x=i(4506),h=i(53402);m.create=function(u){return h.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},m.update=function(u,l,s){var y,S,b,C,o=u.list,f=o.length,a=u.table,c=l.length,p=u.collisionStart,d=u.collisionEnd,v=u.collisionActive;for(p.length=0,d.length=0,v.length=0,C=0;C<f;C++)o[C].confirmedActive=!1;for(C=0;C<c;C++)(b=(y=l[C]).pair)?(b.isActive?v.push(b):p.push(b),x.update(b,y,s),b.confirmedActive=!0):(a[(b=x.create(y,s)).id]=b,p.push(b),o.push(b));var M=[];for(f=o.length,C=0;C<f;C++)(b=o[C]).confirmedActive||(x.setActive(b,!1,s),d.push(b),!b.collision.bodyA.isSleeping&&!b.collision.bodyB.isSleeping&&M.push(C));for(C=0;C<M.length;C++)b=o[S=M[C]-C],o.splice(S,1),delete a[b.id]},m.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}},73296:(T,A,i)=>{var m={};T.exports=m;var x=i(31725),h=i(52284),u=i(15647),l=i(66280),s=i(41598);m.collides=function(o,f){for(var a=[],c=f.length,p=o.bounds,d=h.collides,v=u.overlaps,y=0;y<c;y++){var S=f[y],b=S.parts.length,C=1===b?0:1;if(o!==S&&v(S.bounds,p))for(var M=C;M<b;M++){var w=S.parts[M];if(v(w.bounds,p)){var R=d(w,o);if(R){a.push(R);break}}}}return a},m.ray=function(o,f,a,c){c=c||1e-100;for(var p=x.angle(f,a),d=x.magnitude(x.sub(f,a)),S=l.rectangle(.5*(a.x+f.x),.5*(a.y+f.y),d,c,{angle:p}),b=m.collides(S,o),C=0;C<b.length;C+=1){var M=b[C];M.body=M.bodyB=M.bodyA}return b},m.region=function(o,f,a){for(var c=[],p=0;p<o.length;p++){var d=o[p],v=u.overlaps(d.bounds,f);(v&&!a||!v&&a)&&c.push(d)}return c},m.point=function(o,f){for(var a=[],c=0;c<o.length;c++){var p=o[c];if(u.contains(p.bounds,f))for(var d=1===p.parts.length?0:1;d<p.parts.length;d++){var v=p.parts[d];if(u.contains(v.bounds,f)&&s.contains(v.vertices,f)){a.push(p);break}}}return a}},66272:(T,A,i)=>{var m={};T.exports=m;var x=i(41598),h=i(53402),u=i(15647);m._restingThresh=2,m._restingThreshTangent=Math.sqrt(6),m._positionDampen=.9,m._positionWarming=.8,m._frictionNormalMultiplier=5,m._frictionMaxStatic=Number.MAX_VALUE,m.preSolvePosition=function(l){var s,o,f,a=l.length;for(s=0;s<a;s++)(o=l[s]).isActive&&(o.collision.parentA.totalContacts+=f=o.activeContacts.length,o.collision.parentB.totalContacts+=f)},m.solvePosition=function(l,s,o){var f,a,c,p,d,v,y,S,b=m._positionDampen*(o||1),C=h.clamp(s/h._baseDelta,0,1),M=l.length;for(f=0;f<M;f++)(a=l[f]).isActive&&!a.isSensor&&(a.separation=(v=(c=a.collision).normal).x*((d=c.parentB).positionImpulse.x+c.penetration.x-(p=c.parentA).positionImpulse.x)+v.y*(d.positionImpulse.y+c.penetration.y-p.positionImpulse.y));for(f=0;f<M;f++)(a=l[f]).isActive&&!a.isSensor&&(d=(c=a.collision).parentB,v=c.normal,S=a.separation-a.slop*C,((p=c.parentA).isStatic||d.isStatic)&&(S*=2),p.isStatic||p.isSleeping||(p.positionImpulse.x+=v.x*S*(y=b/p.totalContacts),p.positionImpulse.y+=v.y*S*y),d.isStatic||d.isSleeping||(d.positionImpulse.x-=v.x*S*(y=b/d.totalContacts),d.positionImpulse.y-=v.y*S*y))},m.postSolvePosition=function(l){for(var s=m._positionWarming,o=l.length,f=x.translate,a=u.update,c=0;c<o;c++){var p=l[c],d=p.positionImpulse,v=d.x,y=d.y,S=p.velocity;if(p.totalContacts=0,0!==v||0!==y){for(var b=0;b<p.parts.length;b++){var C=p.parts[b];f(C.vertices,d),a(C.bounds,C.vertices,S),C.position.x+=v,C.position.y+=y}p.positionPrev.x+=v,p.positionPrev.y+=y,v*S.x+y*S.y<0?(d.x=0,d.y=0):(d.x*=s,d.y*=s)}}},m.preSolveVelocity=function(l){var o,f,s=l.length;for(o=0;o<s;o++){var a=l[o];if(a.isActive&&!a.isSensor){var c=a.activeContacts,p=c.length,d=a.collision,v=d.parentA,y=d.parentB,S=d.normal,b=d.tangent;for(f=0;f<p;f++){var C=c[f],M=C.vertex,w=C.normalImpulse,R=C.tangentImpulse;if(0!==w||0!==R){var I=S.x*w+b.x*R,L=S.y*w+b.y*R;v.isStatic||v.isSleeping||(v.positionPrev.x+=I*v.inverseMass,v.positionPrev.y+=L*v.inverseMass,v.anglePrev+=v.inverseInertia*((M.x-v.position.x)*L-(M.y-v.position.y)*I)),y.isStatic||y.isSleeping||(y.positionPrev.x-=I*y.inverseMass,y.positionPrev.y-=L*y.inverseMass,y.anglePrev-=y.inverseInertia*((M.x-y.position.x)*L-(M.y-y.position.y)*I))}}}}},m.solveVelocity=function(l,s){var S,b,C,M,o=s/h._baseDelta,a=o*o*o,c=-m._restingThresh*o,p=m._restingThreshTangent,d=m._frictionNormalMultiplier*o,v=m._frictionMaxStatic,y=l.length;for(C=0;C<y;C++){var w=l[C];if(w.isActive&&!w.isSensor){var R=w.collision,I=R.parentA,L=R.parentB,F=I.velocity,G=L.velocity,z=R.normal.x,B=R.normal.y,V=R.tangent.x,Y=R.tangent.y,$=w.activeContacts,J=$.length,W=1/J,k=I.inverseMass+L.inverseMass,N=w.friction*w.frictionStatic*d;for(F.x=I.position.x-I.positionPrev.x,F.y=I.position.y-I.positionPrev.y,G.x=L.position.x-L.positionPrev.x,G.y=L.position.y-L.positionPrev.y,I.angularVelocity=I.angle-I.anglePrev,L.angularVelocity=L.angle-L.anglePrev,M=0;M<J;M++){var H=$[M],X=H.vertex,K=X.x-I.position.x,Q=X.y-I.position.y,q=X.x-L.position.x,_=X.y-L.position.y,ht=F.x-Q*I.angularVelocity-(G.x-_*L.angularVelocity),ut=F.y+K*I.angularVelocity-(G.y+q*L.angularVelocity),mt=z*ht+B*ut,Mt=V*ht+Y*ut,Et=w.separation+mt,At=Math.min(Et,1),vt=(At=Et<0?0:At)*N;Mt<-vt||Mt>vt?(S=w.friction*(Mt>0?1:-1)*a)<-(b=Mt>0?Mt:-Mt)?S=-b:S>b&&(S=b):(S=Mt,b=v);var St=K*B-Q*z,xt=q*B-_*z,zt=W/(k+I.inverseInertia*St*St+L.inverseInertia*xt*xt),Ht=(1+w.restitution)*mt*zt;if(S*=zt,mt<c)H.normalImpulse=0;else{var fe=H.normalImpulse;H.normalImpulse+=Ht,H.normalImpulse>0&&(H.normalImpulse=0),Ht=H.normalImpulse-fe}if(Mt<-p||Mt>p)H.tangentImpulse=0;else{var me=H.tangentImpulse;H.tangentImpulse+=S,H.tangentImpulse<-b&&(H.tangentImpulse=-b),H.tangentImpulse>b&&(H.tangentImpulse=b),S=H.tangentImpulse-me}var _t=z*Ht+V*S,jt=B*Ht+Y*S;I.isStatic||I.isSleeping||(I.positionPrev.x+=_t*I.inverseMass,I.positionPrev.y+=jt*I.inverseMass,I.anglePrev+=(K*jt-Q*_t)*I.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=_t*L.inverseMass,L.positionPrev.y-=jt*L.inverseMass,L.anglePrev-=(q*jt-_*_t)*L.inverseInertia)}}}}},48140:(T,A,i)=>{var m={};T.exports=m;var x=i(41598),h=i(31725),u=i(53614),l=i(15647),s=i(66615),o=i(53402);m._warming=.4,m._torqueDampen=1,m._minLength=1e-6,m.create=function(f){var a=f;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var c=a.bodyA?h.add(a.bodyA.position,a.pointA):a.pointA,p=a.bodyB?h.add(a.bodyB.position,a.pointB):a.pointB,d=h.magnitude(h.sub(c,p));a.length=typeof a.length<"u"?a.length:d,a.id=a.id||o.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var v={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===a.length&&a.stiffness>.1?(v.type="pin",v.anchors=!1):a.stiffness<.9&&(v.type="spring"),a.render=o.extend(v,a.render),a},m.preSolveAll=function(f){for(var a=0;a<f.length;a+=1){var c=f[a],p=c.constraintImpulse;c.isStatic||0===p.x&&0===p.y&&0===p.angle||(c.position.x+=p.x,c.position.y+=p.y,c.angle+=p.angle)}},m.solveAll=function(f,a){for(var c=o.clamp(a/o._baseDelta,0,1),p=0;p<f.length;p+=1){var d=f[p],v=!d.bodyA||d.bodyA&&d.bodyA.isStatic,y=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(v||y)&&m.solve(f[p],c)}for(p=0;p<f.length;p+=1)y=!(d=f[p]).bodyB||d.bodyB&&d.bodyB.isStatic,!(v=!d.bodyA||d.bodyA&&d.bodyA.isStatic)&&!y&&m.solve(f[p],c)},m.solve=function(f,a){var c=f.bodyA,p=f.bodyB,d=f.pointA,v=f.pointB;if(c||p){c&&!c.isStatic&&(h.rotate(d,c.angle-f.angleA,d),f.angleA=c.angle),p&&!p.isStatic&&(h.rotate(v,p.angle-f.angleB,v),f.angleB=p.angle);var y=d,S=v;if(c&&(y=h.add(c.position,d)),p&&(S=h.add(p.position,v)),y&&S){var b=h.sub(y,S),C=h.magnitude(b);C<m._minLength&&(C=m._minLength);var B,V,Y,$,J,I=f.damping*a,L=h.mult(b,(C-f.length)/C*(f.stiffness>=1||0===f.length?f.stiffness*a:f.stiffness*a*a)),F=(c?c.inverseMass:0)+(p?p.inverseMass:0),z=F+((c?c.inverseInertia:0)+(p?p.inverseInertia:0));if(I>0){var W=h.create();Y=h.div(b,C),J=h.sub(p&&h.sub(p.position,p.positionPrev)||W,c&&h.sub(c.position,c.positionPrev)||W),$=h.dot(Y,J)}c&&!c.isStatic&&(c.constraintImpulse.x-=L.x*(V=c.inverseMass/F),c.constraintImpulse.y-=L.y*V,c.position.x-=L.x*V,c.position.y-=L.y*V,I>0&&(c.positionPrev.x-=I*Y.x*$*V,c.positionPrev.y-=I*Y.y*$*V),B=h.cross(d,L)/z*m._torqueDampen*c.inverseInertia*(1-f.angularStiffness),c.constraintImpulse.angle-=B,c.angle-=B),p&&!p.isStatic&&(p.constraintImpulse.x+=L.x*(V=p.inverseMass/F),p.constraintImpulse.y+=L.y*V,p.position.x+=L.x*V,p.position.y+=L.y*V,I>0&&(p.positionPrev.x+=I*Y.x*$*V,p.positionPrev.y+=I*Y.y*$*V),B=h.cross(v,L)/z*m._torqueDampen*p.inverseInertia*(1-f.angularStiffness),p.constraintImpulse.angle+=B,p.angle+=B)}}},m.postSolveAll=function(f){for(var a=0;a<f.length;a++){var c=f[a],p=c.constraintImpulse;if(!(c.isStatic||0===p.x&&0===p.y&&0===p.angle)){u.set(c,!1);for(var d=0;d<c.parts.length;d++){var v=c.parts[d];x.translate(v.vertices,p),d>0&&(v.position.x+=p.x,v.position.y+=p.y),0!==p.angle&&(x.rotate(v.vertices,p.angle,c.position),s.rotate(v.axes,p.angle),d>0&&h.rotateAbout(v.position,p.angle,c.position,v.position)),l.update(v.bounds,v.vertices,c.velocity)}p.angle*=m._warming,p.x*=m._warming,p.y*=m._warming}}},m.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},m.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},m.currentLength=function(f){var v=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0)-((f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0)),y=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)-((f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0));return Math.sqrt(v*v+y*y)}},53402:(T,A,i)=>{var m={};T.exports=m,function(){m._baseDelta=16.666666666666668,m._nextId=0,m._seed=0,m._nowStartTime=+new Date,m._warnedOnce={},m._decomp=null,m.extend=function(h,u){var l,o;"boolean"==typeof u?(l=2,o=u):(l=1,o=!0);for(var f=l;f<arguments.length;f++){var a=arguments[f];if(a)for(var c in a)!o||!a[c]||a[c].constructor!==Object||h[c]&&h[c].constructor!==Object?h[c]=a[c]:(h[c]=h[c]||{},m.extend(h[c],o,a[c]))}return h},m.clone=function(h,u){return m.extend({},u,h)},m.keys=function(h){if(Object.keys)return Object.keys(h);var u=[];for(var l in h)u.push(l);return u},m.values=function(h){var u=[];if(Object.keys){for(var l=Object.keys(h),s=0;s<l.length;s++)u.push(h[l[s]]);return u}for(var o in h)u.push(h[o]);return u},m.get=function(h,u,l,s){u=u.split(".").slice(l,s);for(var o=0;o<u.length;o+=1)h=h[u[o]];return h},m.set=function(h,u,l,s,o){var f=u.split(".").slice(s,o);return m.get(h,u,0,-1)[f[f.length-1]]=l,l},m.shuffle=function(h){for(var u=h.length-1;u>0;u--){var l=Math.floor(m.random()*(u+1)),s=h[u];h[u]=h[l],h[l]=s}return h},m.choose=function(h){return h[Math.floor(m.random()*h.length)]},m.isElement=function(h){return typeof HTMLElement<"u"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},m.isArray=function(h){return"[object Array]"===Object.prototype.toString.call(h)},m.isFunction=function(h){return"function"==typeof h},m.isPlainObject=function(h){return"object"==typeof h&&h.constructor===Object},m.isString=function(h){return"[object String]"===toString.call(h)},m.clamp=function(h,u,l){return h<u?u:h>l?l:h},m.sign=function(h){return h<0?-1:1},m.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-m._nowStartTime},m.random=function(h,u){return u=typeof u<"u"?u:1,(h=typeof h<"u"?h:0)+x()*(u-h)};var x=function(){return m._seed=(9301*m._seed+49297)%233280,m._seed/233280};m.colorToNumber=function(h){return 3==(h=h.replace("#","")).length&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},m.logLevel=1,m.log=function(){console&&m.logLevel>0&&m.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},m.info=function(){console&&m.logLevel>0&&m.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},m.warn=function(){console&&m.logLevel>0&&m.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},m.warnOnce=function(){var h=Array.prototype.slice.call(arguments).join(" ");m._warnedOnce[h]||(m.warn(h),m._warnedOnce[h]=!0)},m.deprecated=function(h,u,l){h[u]=m.chain(function(){m.warnOnce("\u{1f505} deprecated \u{1f505}",l)},h[u])},m.nextId=function(){return m._nextId++},m.indexOf=function(h,u){if(h.indexOf)return h.indexOf(u);for(var l=0;l<h.length;l++)if(h[l]===u)return l;return-1},m.map=function(h,u){if(h.map)return h.map(u);for(var l=[],s=0;s<h.length;s+=1)l.push(u(h[s]));return l},m.topologicalSort=function(h){var u=[],l=[],s=[];for(var o in h)!l[o]&&!s[o]&&m._topologicalSort(o,l,s,h,u);return u},m._topologicalSort=function(h,u,l,s,o){var f=s[h]||[];l[h]=!0;for(var a=0;a<f.length;a+=1){var c=f[a];l[c]||u[c]||m._topologicalSort(c,u,l,s,o)}l[h]=!1,u[h]=!0,o.push(h)},m.chain=function(){for(var h=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?h.push.apply(h,l._chained):h.push(l)}var s=function(){for(var o,f=new Array(arguments.length),a=0,c=arguments.length;a<c;a++)f[a]=arguments[a];for(a=0;a<h.length;a+=1){var p=h[a].apply(o,f);typeof p<"u"&&(o=p)}return o};return s._chained=h,s},m.chainPathBefore=function(h,u,l){return m.set(h,u,m.chain(l,m.get(h,u)))},m.chainPathAfter=function(h,u,l){return m.set(h,u,m.chain(m.get(h,u),l))},m.setDecomp=function(h){m._decomp=h},m.getDecomp=function(){var h=m._decomp;try{!h&&typeof window<"u"&&(h=window.decomp),!h&&typeof i.g<"u"&&(h=i.g.decomp)}catch{h=null}return h}}()},48413:(T,A,i)=>{var m={};T.exports=m;var x=i(53614),h=i(66272),u=i(81388),l=i(99561),s=i(35810),o=i(69351),f=i(48140),a=i(53402),c=i(22562);m.create=function(p){var v=a.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},p=p||{});return v.world=p.world||o.create({label:"World"}),v.pairs=p.pairs||l.create(),v.detector=p.detector||u.create(),v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},m.update=function(p,d){var w,v=a.now(),y=p.world,S=p.detector,b=p.pairs,C=p.timing,M=C.timestamp;d=typeof d<"u"?d:a._baseDelta,C.timestamp+=d*=C.timeScale,C.lastDelta=d;var R={timestamp:C.timestamp,delta:d};s.trigger(p,"beforeUpdate",R);var I=o.allBodies(y),L=o.allConstraints(y);for(y.isModified&&(u.setBodies(S,I),o.setModified(y,!1,!1,!0)),p.enableSleeping&&x.update(I,d),m._bodiesApplyGravity(I,p.gravity),d>0&&m._bodiesUpdate(I,d),s.trigger(p,"beforeSolve",R),f.preSolveAll(I),w=0;w<p.constraintIterations;w++)f.solveAll(L,d);f.postSolveAll(I),S.pairs=p.pairs;var F=u.collisions(S);l.update(b,F,M),p.enableSleeping&&x.afterCollisions(b.list),b.collisionStart.length>0&&s.trigger(p,"collisionStart",{pairs:b.collisionStart,timestamp:C.timestamp,delta:d});var G=a.clamp(20/p.positionIterations,0,1);for(h.preSolvePosition(b.list),w=0;w<p.positionIterations;w++)h.solvePosition(b.list,d,G);for(h.postSolvePosition(I),f.preSolveAll(I),w=0;w<p.constraintIterations;w++)f.solveAll(L,d);for(f.postSolveAll(I),h.preSolveVelocity(b.list),w=0;w<p.velocityIterations;w++)h.solveVelocity(b.list,d);return m._bodiesUpdateVelocities(I),b.collisionActive.length>0&&s.trigger(p,"collisionActive",{pairs:b.collisionActive,timestamp:C.timestamp,delta:d}),b.collisionEnd.length>0&&s.trigger(p,"collisionEnd",{pairs:b.collisionEnd,timestamp:C.timestamp,delta:d}),m._bodiesClearForces(I),s.trigger(p,"afterUpdate",R),p.timing.lastElapsed=a.now()-v,p},m.merge=function(p,d){if(a.extend(p,d),d.world){p.world=d.world,m.clear(p);for(var v=o.allBodies(p.world),y=0;y<v.length;y++){var S=v[y];x.set(S,!1),S.id=a.nextId()}}},m.clear=function(p){l.clear(p.pairs),u.clear(p.detector)},m._bodiesClearForces=function(p){for(var d=p.length,v=0;v<d;v++){var y=p[v];y.force.x=0,y.force.y=0,y.torque=0}},m._bodiesApplyGravity=function(p,d){var v=typeof d.scale<"u"?d.scale:.001,y=p.length;if((0!==d.x||0!==d.y)&&0!==v)for(var S=0;S<y;S++){var b=p[S];b.ignoreGravity||b.isStatic||b.isSleeping||(b.force.y+=b.mass*d.y*v,b.force.x+=b.mass*d.x*v)}},m._bodiesUpdate=function(p,d){for(var v=p.length,y=0;y<v;y++){var S=p[y];S.isStatic||S.isSleeping||c.update(S,d)}},m._bodiesUpdateVelocities=function(p){for(var d=p.length,v=0;v<d;v++)c.updateVelocities(p[v])}},35810:(T,A,i)=>{var m={};T.exports=m;var x=i(53402);m.on=function(h,u,l){for(var o,s=u.split(" "),f=0;f<s.length;f++)o=s[f],h.events=h.events||{},h.events[o]=h.events[o]||[],h.events[o].push(l);return l},m.off=function(h,u,l){if(u){"function"==typeof u&&(l=u,u=x.keys(h.events).join(" "));for(var s=u.split(" "),o=0;o<s.length;o++){var f=h.events[s[o]],a=[];if(l&&f)for(var c=0;c<f.length;c++)f[c]!==l&&a.push(f[c]);h.events[s[o]]=a}}else h.events={}},m.trigger=function(h,u,l){var s,o,f,a,c=h.events;if(c&&x.keys(c).length>0){l||(l={}),s=u.split(" ");for(var p=0;p<s.length;p++)if(f=c[o=s[p]]){(a=x.clone(l,!1)).name=o,a.source=h;for(var d=0;d<f.length;d++)f[d].apply(h,[a])}}}},6790:(T,A,i)=>{var m={};T.exports=m;var x=i(73832),h=i(53402);m.name="matter-js",m.version="0.19.0",m.uses=[],m.used=[],m.use=function(){x.use(m,Array.prototype.slice.call(arguments))},m.before=function(u,l){return u=u.replace(/^Matter./,""),h.chainPathBefore(m,u,l)},m.after=function(u,l){return u=u.replace(/^Matter./,""),h.chainPathAfter(m,u,l)}},73832:(T,A,i)=>{var m={};T.exports=m;var x=i(53402);m._registry={},m.register=function(h){if(m.isPlugin(h)||x.warn("Plugin.register:",m.toString(h),"does not implement all required fields."),h.name in m._registry){var u=m._registry[h.name],l=m.versionParse(h.version).number,s=m.versionParse(u.version).number;l>s?(x.warn("Plugin.register:",m.toString(u),"was upgraded to",m.toString(h)),m._registry[h.name]=h):l<s?x.warn("Plugin.register:",m.toString(u),"can not be downgraded to",m.toString(h)):h!==u&&x.warn("Plugin.register:",m.toString(h),"is already registered to different plugin object")}else m._registry[h.name]=h;return h},m.resolve=function(h){return m._registry[m.dependencyParse(h).name]},m.toString=function(h){return"string"==typeof h?h:(h.name||"anonymous")+"@"+(h.version||h.range||"0.0.0")},m.isPlugin=function(h){return h&&h.name&&h.version&&h.install},m.isUsed=function(h,u){return h.used.indexOf(u)>-1},m.isFor=function(h,u){var l=h.for&&m.dependencyParse(h.for);return!h.for||u.name===l.name&&m.versionSatisfies(u.version,l.range)},m.use=function(h,u){if(h.uses=(h.uses||[]).concat(u||[]),0!==h.uses.length){for(var l=m.dependencies(h),s=x.topologicalSort(l),o=[],f=0;f<s.length;f+=1)if(s[f]!==h.name){var a=m.resolve(s[f]);if(!a){o.push("\u274c "+s[f]);continue}m.isUsed(h,a.name)||(m.isFor(a,h)||(x.warn("Plugin.use:",m.toString(a),"is for",a.for,"but installed on",m.toString(h)+"."),a._warned=!0),a.install?a.install(h):(x.warn("Plugin.use:",m.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(o.push("\u{1f536} "+m.toString(a)),delete a._warned):o.push("\u2705 "+m.toString(a)),h.used.push(a.name))}o.length>0&&!a.silent&&x.info(o.join("  "))}else x.warn("Plugin.use:",m.toString(h),"does not specify any dependencies to install.")},m.dependencies=function(h,u){var l=m.dependencyParse(h),s=l.name;if(!(s in(u=u||{}))){h=m.resolve(h)||h,u[s]=x.map(h.uses||[],function(f){m.isPlugin(f)&&m.register(f);var a=m.dependencyParse(f),c=m.resolve(f);return c&&!m.versionSatisfies(c.version,a.range)?(x.warn("Plugin.dependencies:",m.toString(c),"does not satisfy",m.toString(a),"used by",m.toString(l)+"."),c._warned=!0,h._warned=!0):c||(x.warn("Plugin.dependencies:",m.toString(f),"used by",m.toString(l),"could not be resolved."),h._warned=!0),a.name});for(var o=0;o<u[s].length;o+=1)m.dependencies(u[s][o],u);return u}},m.dependencyParse=function(h){return x.isString(h)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(h)||x.warn("Plugin.dependencyParse:",h,"is not a valid dependency string."),{name:h.split("@")[0],range:h.split("@")[1]||"*"}):{name:h.name,range:h.range||h.version}},m.versionParse=function(h){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(h)||x.warn("Plugin.versionParse:",h,"is not a valid version or range.");var l=u.exec(h),s=Number(l[4]),o=Number(l[5]),f=Number(l[6]);return{isRange:!(!l[1]&&!l[2]),version:l[3],range:h,operator:l[1]||l[2]||"",major:s,minor:o,patch:f,parts:[s,o,f],prerelease:l[7],number:1e8*s+1e4*o+f}},m.versionSatisfies=function(h,u){var l=m.versionParse(u=u||"*"),s=m.versionParse(h);if(l.isRange){if("*"===l.operator||"*"===h)return!0;if(">"===l.operator)return s.number>l.number;if(">="===l.operator)return s.number>=l.number;if("~"===l.operator)return s.major===l.major&&s.minor===l.minor&&s.patch>=l.patch;if("^"===l.operator)return l.major>0?s.major===l.major&&s.number>=l.number:l.minor>0?s.minor===l.minor&&s.patch>=l.patch:s.patch===l.patch}return h===u||"*"===h}},53614:(T,A,i)=>{var m={};T.exports=m;var x=i(22562),h=i(35810),u=i(53402);m._motionWakeThreshold=.18,m._motionSleepThreshold=.08,m._minBias=.9,m.update=function(l,s){for(var o=s/u._baseDelta,f=m._motionSleepThreshold,a=0;a<l.length;a++){var c=l[a],p=x.getSpeed(c),d=x.getAngularSpeed(c),v=p*p+d*d;if(0===c.force.x&&0===c.force.y){var y=Math.min(c.motion,v),S=Math.max(c.motion,v);c.motion=m._minBias*y+(1-m._minBias)*S,c.sleepThreshold>0&&c.motion<f?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/o&&m.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}else m.set(c,!1)}},m.afterCollisions=function(l){for(var s=m._motionSleepThreshold,o=0;o<l.length;o++){var f=l[o];if(f.isActive){var a=f.collision,c=a.bodyA.parent,p=a.bodyB.parent;if(!(c.isSleeping&&p.isSleeping||c.isStatic||p.isStatic)&&(c.isSleeping||p.isSleeping)){var d=c.isSleeping&&!c.isStatic?c:p;!d.isStatic&&(d===c?p:c).motion>s&&m.set(d,!1)}}}},m.set=function(l,s){var o=l.isSleeping;s?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,o||h.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,o&&h.trigger(l,"sleepEnd"))}},66280:(T,A,i)=>{var m={};T.exports=m;var x=i(41598),h=i(53402),u=i(22562),l=i(15647),s=i(31725);m.rectangle=function(o,f,a,c,p){p=p||{};var d={label:"Rectangle Body",position:{x:o,y:f},vertices:x.fromPath("L 0 0 L "+a+" 0 L "+a+" "+c+" L 0 "+c)};if(p.chamfer){var v=p.chamfer;d.vertices=x.chamfer(d.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete p.chamfer}return u.create(h.extend({},d,p))},m.trapezoid=function(o,f,a,c,p,d){d=d||{};var y=a*(p*=.5),S=y+(1-2*p)*a,b=S+y,M={label:"Trapezoid Body",position:{x:o,y:f},vertices:x.fromPath(p<.5?"L 0 0 L "+y+" "+-c+" L "+S+" "+-c+" L "+b+" 0":"L 0 0 L "+S+" "+-c+" L "+b+" 0")};if(d.chamfer){var w=d.chamfer;M.vertices=x.chamfer(M.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete d.chamfer}return u.create(h.extend({},M,d))},m.circle=function(o,f,a,c,p){c=c||{};var d={label:"Circle Body",circleRadius:a};p=p||25;var v=Math.ceil(Math.max(10,Math.min(p,a)));return v%2==1&&(v+=1),m.polygon(o,f,v,a,h.extend({},d,c))},m.polygon=function(o,f,a,c,p){if(p=p||{},a<3)return m.circle(o,f,c,p);for(var d=2*Math.PI/a,v="",y=.5*d,S=0;S<a;S+=1){var b=y+S*d,C=Math.cos(b)*c,M=Math.sin(b)*c;v+="L "+C.toFixed(3)+" "+M.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:o,y:f},vertices:x.fromPath(v)};if(p.chamfer){var R=p.chamfer;w.vertices=x.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete p.chamfer}return u.create(h.extend({},w,p))},m.fromVertices=function(o,f,a,c,p,d,v,y){var b,C,M,w,I,L,F,G,z,B,S=h.getDecomp();for(b=!(!S||!S.quickDecomp),c=c||{},M=[],p=typeof p<"u"&&p,d=typeof d<"u"?d:.01,v=typeof v<"u"?v:10,y=typeof y<"u"?y:.01,h.isArray(a[0])||(a=[a]),z=0;z<a.length;z+=1)if(!(w=x.isConvex(I=a[z]))&&!b&&h.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!b)I=w?x.clockwiseSort(I):x.hull(I),M.push({position:{x:o,y:f},vertices:I});else{var V=I.map(function(q){return[q.x,q.y]});S.makeCCW(V),!1!==d&&S.removeCollinearPoints(V,d),!1!==y&&S.removeDuplicatePoints&&S.removeDuplicatePoints(V,y);var Y=S.quickDecomp(V);for(L=0;L<Y.length;L++){var J=Y[L].map(function(q){return{x:q[0],y:q[1]}});v>0&&x.area(J)<v||M.push({position:x.centre(J),vertices:J})}}for(L=0;L<M.length;L++)M[L]=u.create(h.extend(M[L],c));if(p)for(L=0;L<M.length;L++){var k=M[L];for(F=L+1;F<M.length;F++){var N=M[F];if(l.overlaps(k.bounds,N.bounds)){var H=k.vertices,X=N.vertices;for(G=0;G<k.vertices.length;G++)for(B=0;B<N.vertices.length;B++){var K=s.magnitudeSquared(s.sub(H[(G+1)%H.length],X[B])),Q=s.magnitudeSquared(s.sub(H[G],X[(B+1)%X.length]));K<5&&Q<5&&(H[G].isInternal=!0,X[B].isInternal=!0)}}}}return M.length>1?(C=u.create(h.extend({parts:M.slice(0)},c)),u.setPosition(C,{x:o,y:f}),C):M[0]},m.flagCoincidentParts=function(o,f){void 0===f&&(f=5);for(var a=0;a<o.length;a++)for(var c=o[a],p=a+1;p<o.length;p++){var d=o[p];if(l.overlaps(c.bounds,d.bounds))for(var v=c.vertices,y=d.vertices,S=0;S<c.vertices.length;S++)for(var b=0;b<d.vertices.length;b++){var C=s.magnitudeSquared(s.sub(v[(S+1)%v.length],y[b])),M=s.magnitudeSquared(s.sub(v[S],y[(b+1)%y.length]));C<f&&M<f&&(v[S].isInternal=!0,y[b].isInternal=!0)}}return o}},74116:(T,A,i)=>{var m={};T.exports=m;var x=i(69351),h=i(48140),u=i(53402),l=i(22562),s=i(66280);m.stack=function(o,f,a,c,p,d,v){for(var C,y=x.create({label:"Stack"}),S=o,b=f,M=0,w=0;w<c;w++){for(var R=0,I=0;I<a;I++){var L=v(S,b,I,w,C,M);if(L){var F=L.bounds.max.y-L.bounds.min.y;F>R&&(R=F),l.translate(L,{x:.5*(L.bounds.max.x-L.bounds.min.x),y:.5*F}),S=L.bounds.max.x+p,x.addBody(y,L),C=L,M+=1}else S+=p}b+=R+d,S=o}return y},m.chain=function(o,f,a,c,p,d){for(var v=o.bodies,y=1;y<v.length;y++){var S=v[y-1],b=v[y],L=u.extend({bodyA:S,pointA:{x:(S.bounds.max.x-S.bounds.min.x)*f,y:(S.bounds.max.y-S.bounds.min.y)*a},bodyB:b,pointB:{x:(b.bounds.max.x-b.bounds.min.x)*c,y:(b.bounds.max.y-b.bounds.min.y)*p}},d);x.addConstraint(o,h.create(L))}return o.label+=" Chain",o},m.mesh=function(o,f,a,c,p){var v,y,b,d=o.bodies;for(v=0;v<a;v++){for(y=1;y<f;y++)x.addConstraint(o,h.create(u.extend({bodyA:d[y-1+v*f],bodyB:b=d[y+v*f]},p)));if(v>0)for(y=0;y<f;y++)x.addConstraint(o,h.create(u.extend({bodyA:d[y+(v-1)*f],bodyB:b=d[y+v*f]},p))),c&&y>0&&x.addConstraint(o,h.create(u.extend({bodyA:d[y-1+(v-1)*f],bodyB:b},p))),c&&y<f-1&&x.addConstraint(o,h.create(u.extend({bodyA:d[y+1+(v-1)*f],bodyB:b},p)))}return o.label+=" Mesh",o},m.pyramid=function(o,f,a,c,p,d,v){return m.stack(o,f,a,c,p,d,function(y,S,b,C,M,w){var R=Math.min(c,Math.ceil(a/2)),I=M?M.bounds.max.x-M.bounds.min.x:0;if(!(C>R||b<(C=R-C)||b>a-1-C))return 1===w&&l.translate(M,{x:(b+(a%2==1?1:-1))*I,y:0}),v(o+(M?b*I:0)+b*p,S,b,C,M,w)})},m.newtonsCradle=function(o,f,a,c,p){for(var d=x.create({label:"Newtons Cradle"}),v=0;v<a;v++){var S=s.circle(o+v*(1.9*c),f+p,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),b=h.create({pointA:{x:o+v*(1.9*c),y:f},bodyB:S});x.addBody(d,S),x.addConstraint(d,b)}return d},m.car=function(o,f,a,c,p){var d=l.nextGroup(!0),y=.5*-a+20,S=.5*a-20,C=x.create({label:"Car"}),M=s.rectangle(o,f,a,c,{collisionFilter:{group:d},chamfer:{radius:.5*c},density:2e-4}),w=s.circle(o+y,f+0,p,{collisionFilter:{group:d},friction:.8}),R=s.circle(o+S,f+0,p,{collisionFilter:{group:d},friction:.8}),I=h.create({bodyB:M,pointB:{x:y,y:0},bodyA:w,stiffness:1,length:0}),L=h.create({bodyB:M,pointB:{x:S,y:0},bodyA:R,stiffness:1,length:0});return x.addBody(C,M),x.addBody(C,w),x.addBody(C,R),x.addConstraint(C,I),x.addConstraint(C,L),C},m.softBody=function(o,f,a,c,p,d,v,y,S,b){S=u.extend({inertia:1/0},S),b=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},b);var C=m.stack(o,f,a,c,p,d,function(M,w){return s.circle(M,w,y,S)});return m.mesh(C,a,c,v,b),C.label="Soft Body",C}},66615:(T,A,i)=>{var m={};T.exports=m;var x=i(31725),h=i(53402);m.fromVertices=function(u){for(var l={},s=0;s<u.length;s++){var o=(s+1)%u.length,f=x.normalise({x:u[o].y-u[s].y,y:u[s].x-u[o].x}),a=0===f.y?1/0:f.x/f.y;l[a=a.toFixed(3).toString()]=f}return h.values(l)},m.rotate=function(u,l){if(0!==l)for(var s=Math.cos(l),o=Math.sin(l),f=0;f<u.length;f++){var c,a=u[f];c=a.x*s-a.y*o,a.y=a.x*o+a.y*s,a.x=c}}},15647:T=>{var A={};T.exports=A,A.create=function(i){var m={min:{x:0,y:0},max:{x:0,y:0}};return i&&A.update(m,i),m},A.update=function(i,m,x){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var h=0;h<m.length;h++){var u=m[h];u.x>i.max.x&&(i.max.x=u.x),u.x<i.min.x&&(i.min.x=u.x),u.y>i.max.y&&(i.max.y=u.y),u.y<i.min.y&&(i.min.y=u.y)}x&&(x.x>0?i.max.x+=x.x:i.min.x+=x.x,x.y>0?i.max.y+=x.y:i.min.y+=x.y)},A.contains=function(i,m){return m.x>=i.min.x&&m.x<=i.max.x&&m.y>=i.min.y&&m.y<=i.max.y},A.overlaps=function(i,m){return i.min.x<=m.max.x&&i.max.x>=m.min.x&&i.max.y>=m.min.y&&i.min.y<=m.max.y},A.translate=function(i,m){i.min.x+=m.x,i.max.x+=m.x,i.min.y+=m.y,i.max.y+=m.y},A.shift=function(i,m){var x=i.max.x-i.min.x,h=i.max.y-i.min.y;i.min.x=m.x,i.max.x=m.x+x,i.min.y=m.y,i.max.y=m.y+h}},74058:(T,A,i)=>{var m={};T.exports=m,i(15647);var h=i(53402);m.pathToVertices=function(u,l){typeof window<"u"&&!("SVGPathSeg"in window)&&h.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var s,o,f,a,c,p,d,v,y,C,M,b=[],w=0,R=0,I=0;l=l||15;var L=function(G,z,B){var V=B%2==1&&B>1;if(!y||G!=y.x||z!=y.y){y&&V?(C=y.x,M=y.y):(C=0,M=0);var Y={x:C+G,y:M+z};(V||!y)&&(y=Y),b.push(Y),R=C+G,I=M+z}},F=function(G){var z=G.pathSegTypeAsLetter.toUpperCase();if("Z"!==z){switch(z){case"M":case"L":case"T":case"C":case"S":case"Q":R=G.x,I=G.y;break;case"H":R=G.x;break;case"V":I=G.y}L(R,I,G.pathSegType)}};for(m._svgPathToAbsolute(u),f=u.getTotalLength(),p=[],s=0;s<u.pathSegList.numberOfItems;s+=1)p.push(u.pathSegList.getItem(s));for(d=p.concat();w<f;){if((c=p[u.getPathSegAtLength(w)])!=v){for(;d.length&&d[0]!=c;)F(d.shift());v=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=u.getPointAtLength(w),L(a.x,a.y,0)}w+=l}for(s=0,o=d.length;s<o;++s)F(d[s]);return b},m._svgPathToAbsolute=function(u){for(var l,s,o,f,a,c,p=u.pathSegList,d=0,v=0,y=p.numberOfItems,S=0;S<y;++S){var b=p.getItem(S),C=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(C))"x"in b&&(d=b.x),"y"in b&&(v=b.y);else switch("x1"in b&&(o=d+b.x1),"x2"in b&&(a=d+b.x2),"y1"in b&&(f=v+b.y1),"y2"in b&&(c=v+b.y2),"x"in b&&(d+=b.x),"y"in b&&(v+=b.y),C){case"m":p.replaceItem(u.createSVGPathSegMovetoAbs(d,v),S);break;case"l":p.replaceItem(u.createSVGPathSegLinetoAbs(d,v),S);break;case"h":p.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(d),S);break;case"v":p.replaceItem(u.createSVGPathSegLinetoVerticalAbs(v),S);break;case"c":p.replaceItem(u.createSVGPathSegCurvetoCubicAbs(d,v,o,f,a,c),S);break;case"s":p.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(d,v,a,c),S);break;case"q":p.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(d,v,o,f),S);break;case"t":p.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(d,v),S);break;case"a":p.replaceItem(u.createSVGPathSegArcAbs(d,v,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),S);break;case"z":case"Z":d=l,v=s}("M"==C||"m"==C)&&(l=d,s=v)}}},31725:T=>{var A={};T.exports=A,A.create=function(i,m){return{x:i||0,y:m||0}},A.clone=function(i){return{x:i.x,y:i.y}},A.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},A.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},A.rotate=function(i,m,x){var h=Math.cos(m),u=Math.sin(m);x||(x={});var l=i.x*h-i.y*u;return x.y=i.x*u+i.y*h,x.x=l,x},A.rotateAbout=function(i,m,x,h){var u=Math.cos(m),l=Math.sin(m);h||(h={});var s=x.x+((i.x-x.x)*u-(i.y-x.y)*l);return h.y=x.y+((i.x-x.x)*l+(i.y-x.y)*u),h.x=s,h},A.normalise=function(i){var m=A.magnitude(i);return 0===m?{x:0,y:0}:{x:i.x/m,y:i.y/m}},A.dot=function(i,m){return i.x*m.x+i.y*m.y},A.cross=function(i,m){return i.x*m.y-i.y*m.x},A.cross3=function(i,m,x){return(m.x-i.x)*(x.y-i.y)-(m.y-i.y)*(x.x-i.x)},A.add=function(i,m,x){return x||(x={}),x.x=i.x+m.x,x.y=i.y+m.y,x},A.sub=function(i,m,x){return x||(x={}),x.x=i.x-m.x,x.y=i.y-m.y,x},A.mult=function(i,m){return{x:i.x*m,y:i.y*m}},A.div=function(i,m){return{x:i.x/m,y:i.y/m}},A.perp=function(i,m){return{x:(m=!0===m?-1:1)*-i.y,y:m*i.x}},A.neg=function(i){return{x:-i.x,y:-i.y}},A.angle=function(i,m){return Math.atan2(m.y-i.y,m.x-i.x)},A._temp=[A.create(),A.create(),A.create(),A.create(),A.create(),A.create()]},41598:(T,A,i)=>{var m={};T.exports=m;var x=i(31725),h=i(53402);m.create=function(u,l){for(var s=[],o=0;o<u.length;o++){var f=u[o];s.push({x:f.x,y:f.y,index:o,body:l,isInternal:!1})}return s},m.fromPath=function(u,l){var o=[];return u.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(f,a,c){o.push({x:parseFloat(a),y:parseFloat(c)})}),m.create(o,l)},m.centre=function(u){for(var o,f,a,l=m.area(u,!0),s={x:0,y:0},c=0;c<u.length;c++)o=x.cross(u[c],u[a=(c+1)%u.length]),f=x.mult(x.add(u[c],u[a]),o),s=x.add(s,f);return x.div(s,6*l)},m.mean=function(u){for(var l={x:0,y:0},s=0;s<u.length;s++)l.x+=u[s].x,l.y+=u[s].y;return x.div(l,u.length)},m.area=function(u,l){for(var s=0,o=u.length-1,f=0;f<u.length;f++)s+=(u[o].x-u[f].x)*(u[o].y+u[f].y),o=f;return l?s/2:Math.abs(s)/2},m.inertia=function(u,l){for(var a,c,s=0,o=0,f=u,p=0;p<f.length;p++)c=(p+1)%f.length,s+=(a=Math.abs(x.cross(f[c],f[p])))*(x.dot(f[c],f[c])+x.dot(f[c],f[p])+x.dot(f[p],f[p])),o+=a;return l/6*(s/o)},m.translate=function(u,l,s){var c,o=u.length,f=l.x*(s=typeof s<"u"?s:1),a=l.y*s;for(c=0;c<o;c++)u[c].x+=f,u[c].y+=a;return u},m.rotate=function(u,l,s){if(0!==l){var d,v,y,S,o=Math.cos(l),f=Math.sin(l),a=s.x,c=s.y,p=u.length;for(S=0;S<p;S++)(d=u[S]).x=a+((v=d.x-a)*o-(y=d.y-c)*f),d.y=c+(v*f+y*o);return u}},m.contains=function(u,l){for(var c,s=l.x,o=l.y,f=u.length,a=u[f-1],p=0;p<f;p++){if((s-a.x)*((c=u[p]).y-a.y)+(o-a.y)*(a.x-c.x)>0)return!1;a=c}return!0},m.scale=function(u,l,s,o){if(1===l&&1===s)return u;o=o||m.centre(u);for(var a,c=0;c<u.length;c++)a=x.sub(u[c],o),u[c].x=o.x+a.x*l,u[c].y=o.y+a.y*s;return u},m.chamfer=function(u,l,s,o,f){l="number"==typeof l?[l]:l||[8],s=typeof s<"u"?s:-1,o=o||2,f=f||14;for(var a=[],c=0;c<u.length;c++){var p=u[c-1>=0?c-1:u.length-1],d=u[c],v=u[(c+1)%u.length],y=l[c<l.length?c:l.length-1];if(0!==y){var S=x.normalise({x:d.y-p.y,y:p.x-d.x}),b=x.normalise({x:v.y-d.y,y:d.x-v.x}),C=Math.sqrt(2*Math.pow(y,2)),M=x.mult(h.clone(S),y),w=x.normalise(x.mult(x.add(S,b),.5)),R=x.sub(d,x.mult(w,C)),I=s;-1===s&&(I=1.75*Math.pow(y,.32)),(I=h.clamp(I,o,f))%2==1&&(I+=1);for(var F=Math.acos(x.dot(S,b))/I,G=0;G<I;G++)a.push(x.add(x.rotate(M,F*G),R))}else a.push(d)}return a},m.clockwiseSort=function(u){var l=m.mean(u);return u.sort(function(s,o){return x.angle(l,s)-x.angle(l,o)}),u},m.isConvex=function(u){var o,f,a,c,l=0,s=u.length;if(s<3)return null;for(o=0;o<s;o++)if(c=(u[f=(o+1)%s].x-u[o].x)*(u[a=(o+2)%s].y-u[f].y),(c-=(u[f].y-u[o].y)*(u[a].x-u[f].x))<0?l|=1:c>0&&(l|=2),3===l)return!1;return 0!==l||null},m.hull=function(u){var o,f,l=[],s=[];for((u=u.slice(0)).sort(function(a,c){var p=a.x-c.x;return 0!==p?p:a.y-c.y}),f=0;f<u.length;f+=1){for(o=u[f];s.length>=2&&x.cross3(s[s.length-2],s[s.length-1],o)<=0;)s.pop();s.push(o)}for(f=u.length-1;f>=0;f-=1){for(o=u[f];l.length>=2&&x.cross3(l[l.length-2],l[l.length-1],o)<=0;)l.pop();l.push(o)}return l.pop(),s.pop(),l.concat(s)}},18210:(T,A,i)=>{var m=i(19933),x={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(h){h.after("Body.create",function(){x.Body.init(this)}),h.before("Engine.update",function(u){x.Engine.update(u)})},Body:{init:function(h){h.plugin.attractors=h.plugin.attractors||[]}},Engine:{update:function(h){for(var u=m.Composite.allBodies(h.world),l=0;l<u.length;l++){var s=u[l],o=s.plugin.attractors;if(o&&o.length>0)for(var f=0;f<u.length;f++){var a=u[f];if(l!==f)for(var c=0;c<o.length;c++){var p=o[c],d=p;m.Common.isFunction(p)&&(d=p(s,a)),d&&m.Body.applyForce(a,a.position,d)}}}}},Attractors:{gravityConstant:.001,gravity:function(h,u){var l=m.Vector.sub(u.position,h.position),s=m.Vector.magnitudeSquared(l)||1e-4,o=m.Vector.normalise(l),a=m.Vector.mult(o,h.mass*u.mass/s*-x.Attractors.gravityConstant);m.Body.applyForce(h,h.position,m.Vector.neg(a)),m.Body.applyForce(u,u.position,a)}}};T.exports=x},40178:T=>{T.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(i){i.after("Engine.create",function(){i.Events.on(this,"collisionStart",function(m){m.pairs.map(function(x){var h=x.bodyA,u=x.bodyB;h.gameObject&&h.gameObject.emit("collide",h,u,x),u.gameObject&&u.gameObject.emit("collide",u,h,x),i.Events.trigger(h,"onCollide",{pair:x}),i.Events.trigger(u,"onCollide",{pair:x}),h.onCollideCallback&&h.onCollideCallback(x),u.onCollideCallback&&u.onCollideCallback(x),h.onCollideWith[u.id]&&h.onCollideWith[u.id](u,x),u.onCollideWith[h.id]&&u.onCollideWith[h.id](h,x)})}),i.Events.on(this,"collisionActive",function(m){m.pairs.map(function(x){var h=x.bodyA,u=x.bodyB;h.gameObject&&h.gameObject.emit("collideActive",h,u,x),u.gameObject&&u.gameObject.emit("collideActive",u,h,x),i.Events.trigger(h,"onCollideActive",{pair:x}),i.Events.trigger(u,"onCollideActive",{pair:x}),h.onCollideActiveCallback&&h.onCollideActiveCallback(x),u.onCollideActiveCallback&&u.onCollideActiveCallback(x)})}),i.Events.on(this,"collisionEnd",function(m){m.pairs.map(function(x){var h=x.bodyA,u=x.bodyB;h.gameObject&&h.gameObject.emit("collideEnd",h,u,x),u.gameObject&&u.gameObject.emit("collideEnd",u,h,x),i.Events.trigger(h,"onCollideEnd",{pair:x}),i.Events.trigger(u,"onCollideEnd",{pair:x}),h.onCollideEndCallback&&h.onCollideEndCallback(x),u.onCollideEndCallback&&u.onCollideEndCallback(x)})})})}}},74507:(T,A,i)=>{var m=i(19933),x={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(h){h.after("Engine.update",function(){x.Engine.update(this)})},Engine:{update:function(h){for(var u=h.world,l=m.Composite.allBodies(u),s=m.Composite.allComposites(u),o=0;o<l.length;o+=1){var f=l[o];f.plugin.wrap&&x.Body.wrap(f,f.plugin.wrap)}for(o=0;o<s.length;o+=1){var a=s[o];a.plugin.wrap&&x.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(h,u){var l=null,s=null;if(typeof u.min.x<"u"&&typeof u.max.x<"u"&&(h.min.x>u.max.x?l=u.min.x-h.max.x:h.max.x<u.min.x&&(l=u.max.x-h.min.x)),typeof u.min.y<"u"&&typeof u.max.y<"u"&&(h.min.y>u.max.y?s=u.min.y-h.max.y:h.max.y<u.min.y&&(s=u.max.y-h.min.y)),null!==l||null!==s)return{x:l||0,y:s||0}}},Body:{wrap:function(h,u){var l=x.Bounds.wrap(h.bounds,u);return l&&m.Body.translate(h,l),l}},Composite:{bounds:function(h){for(var u=m.Composite.allBodies(h),l=[],s=0;s<u.length;s+=1){var o=u[s];l.push(o.bounds.min,o.bounds.max)}return m.Bounds.create(l)},wrap:function(h,u){var l=x.Bounds.wrap(x.Composite.bounds(h),u);return l&&m.Composite.translate(h,l),l}}};T.exports=x},55973:T=>{function A(W,k,N){var X,K,Q,q,_,nt,st,H=[0,0];return Q=(X=W[1][1]-W[0][1])*W[0][0]+(K=W[0][0]-W[1][0])*W[0][1],nt=(q=k[1][1]-k[0][1])*k[0][0]+(_=k[0][0]-k[1][0])*k[0][1],$(st=X*_-q*K,0,N=N||0)||(H[0]=(_*Q-K*nt)/st,H[1]=(X*nt-q*Q)/st),H}function i(W,k,N,H){var X=k[0]-W[0],K=k[1]-W[1],Q=H[0]-N[0],q=H[1]-N[1];if(Q*K-q*X==0)return!1;var _=(X*(N[1]-W[1])+K*(W[0]-N[0]))/(Q*K-q*X),nt=(Q*(W[1]-N[1])+q*(N[0]-W[0]))/(q*X-Q*K);return _>=0&&_<=1&&nt>=0&&nt<=1}function m(W,k,N){return(k[0]-W[0])*(N[1]-W[1])-(N[0]-W[0])*(k[1]-W[1])}function x(W,k,N){return m(W,k,N)>0}function h(W,k,N){return m(W,k,N)>=0}function u(W,k,N){return m(W,k,N)<0}function l(W,k,N){return m(W,k,N)<=0}T.exports={decomp:function L(W){var k=I(W);return k.length>0?F(W,k):[W]},quickDecomp:function B(W,k,N,H,X,K,Q){Q=Q||0,X=X||25,k=typeof k<"u"?k:[],N=N||[],H=H||[];var q=[0,0],_=[0,0],nt=[0,0],st=0,at=0,lt=0,ht=0,ut=0,mt=0,Mt=0,Et=[],At=[],vt=W,St=W;if(St.length<3)return k;if(++Q>(K=K||100))return console.warn("quickDecomp: max level ("+K+") reached."),k;for(var xt=0;xt<W.length;++xt)if(S(vt,xt)){N.push(vt[xt]),st=at=Number.MAX_VALUE;for(var zt=0;zt<W.length;++zt)x(c(vt,xt-1),c(vt,xt),c(vt,zt))&&l(c(vt,xt-1),c(vt,xt),c(vt,zt-1))&&(nt=z(c(vt,xt-1),c(vt,xt),c(vt,zt),c(vt,zt-1)),u(c(vt,xt+1),c(vt,xt),nt)&&(lt=a(vt[xt],nt))<at&&(at=lt,_=nt,mt=zt)),x(c(vt,xt+1),c(vt,xt),c(vt,zt+1))&&l(c(vt,xt+1),c(vt,xt),c(vt,zt))&&(nt=z(c(vt,xt+1),c(vt,xt),c(vt,zt),c(vt,zt+1)),x(c(vt,xt-1),c(vt,xt),nt)&&(lt=a(vt[xt],nt))<st&&(st=lt,q=nt,ut=zt));if(mt===(ut+1)%W.length)nt[0]=(_[0]+q[0])/2,nt[1]=(_[1]+q[1])/2,H.push(nt),xt<ut?(d(Et,vt,xt,ut+1),Et.push(nt),At.push(nt),0!==mt&&d(At,vt,mt,vt.length),d(At,vt,0,xt+1)):(0!==xt&&d(Et,vt,xt,vt.length),d(Et,vt,0,ut+1),Et.push(nt),At.push(nt),d(At,vt,mt,xt+1));else{if(mt>ut&&(ut+=W.length),ht=Number.MAX_VALUE,ut<mt)return k;for(zt=mt;zt<=ut;++zt)h(c(vt,xt-1),c(vt,xt),c(vt,zt))&&l(c(vt,xt+1),c(vt,xt),c(vt,zt))&&(lt=a(c(vt,xt),c(vt,zt)))<ht&&w(vt,xt,zt)&&(ht=lt,Mt=zt%W.length);xt<Mt?(d(Et,vt,xt,Mt+1),0!==Mt&&d(At,vt,Mt,St.length),d(At,vt,0,xt+1)):(0!==xt&&d(Et,vt,xt,St.length),d(Et,vt,0,Mt+1),d(At,vt,Mt,xt+1))}return Et.length<At.length?(B(Et,k,N,H,X,K,Q),B(At,k,N,H,X,K,Q)):(B(At,k,N,H,X,K,Q),B(Et,k,N,H,X,K,Q)),k}return k.push(W),k},isSimple:function G(W){var N,k=W;for(N=0;N<k.length-1;N++)for(var H=0;H<N-1;H++)if(i(k[N],k[N+1],k[H],k[H+1]))return!1;for(N=1;N<k.length-2;N++)if(i(k[0],k[k.length-1],k[N],k[N+1]))return!1;return!0},removeCollinearPoints:function V(W,k){for(var N=0,H=W.length-1;W.length>3&&H>=0;--H)f(c(W,H-1),c(W,H),c(W,H+1),k)&&(W.splice(H%W.length,1),N++);return N},removeDuplicatePoints:function Y(W,k){for(var N=W.length-1;N>=1;--N)for(var H=W[N],X=N-1;X>=0;--X)if(J(H,W[X],k)){W.splice(N,1);continue}},makeCCW:function v(W){for(var k=0,N=W,H=1;H<W.length;++H)(N[H][1]<N[k][1]||N[H][1]===N[k][1]&&N[H][0]>N[k][0])&&(k=H);return!x(c(W,k-1),c(W,k),c(W,k+1))&&(function y(W){for(var k=[],N=W.length,H=0;H!==N;H++)k.push(W.pop());for(H=0;H!==N;H++)W[H]=k[H]}(W),!0)}};var s=[],o=[];function f(W,k,N,H){if(H){var X=s,K=o;X[0]=k[0]-W[0],X[1]=k[1]-W[1],K[0]=N[0]-k[0],K[1]=N[1]-k[1];var Q=X[0]*K[0]+X[1]*K[1],q=Math.sqrt(X[0]*X[0]+X[1]*X[1]),_=Math.sqrt(K[0]*K[0]+K[1]*K[1]);return Math.acos(Q/(q*_))<H}return 0===m(W,k,N)}function a(W,k){var N=k[0]-W[0],H=k[1]-W[1];return N*N+H*H}function c(W,k){var N=W.length;return W[k<0?k%N+N:k%N]}function d(W,k,N,H){for(var X=N;X<H;X++)W.push(k[X])}function S(W,k){return u(c(W,k-1),c(W,k),c(W,k+1))}var b=[],C=[];function M(W,k,N){var H,X,K=b,Q=C;if(h(c(W,k+1),c(W,k),c(W,N))&&l(c(W,k-1),c(W,k),c(W,N)))return!1;X=a(c(W,k),c(W,N));for(var q=0;q!==W.length;++q)if((q+1)%W.length!==k&&q!==k&&h(c(W,k),c(W,N),c(W,q+1))&&l(c(W,k),c(W,N),c(W,q))&&(K[0]=c(W,k),K[1]=c(W,N),Q[0]=c(W,q),Q[1]=c(W,q+1),H=A(K,Q),a(c(W,k),H)<X))return!1;return!0}function w(W,k,N){for(var H=0;H!==W.length;++H)if(H!==k&&H!==N&&(H+1)%W.length!==k&&(H+1)%W.length!==N&&i(c(W,k),c(W,N),c(W,H),c(W,H+1)))return!1;return!0}function R(W,k,N,H){var X=H||[];if(function p(W){W.length=0}(X),k<N)for(var K=k;K<=N;K++)X.push(W[K]);else{for(K=0;K<=N;K++)X.push(W[K]);for(K=k;K<W.length;K++)X.push(W[K])}return X}function I(W){for(var k=[],N=[],H=[],X=[],K=Number.MAX_VALUE,Q=0;Q<W.length;++Q)if(S(W,Q))for(var q=0;q<W.length;++q)if(M(W,Q,q)){N=I(R(W,Q,q,X)),H=I(R(W,q,Q,X));for(var _=0;_<H.length;_++)N.push(H[_]);N.length<K&&(K=N.length,(k=N).push([c(W,Q),c(W,q)]))}return k}function F(W,k){if(0===k.length)return[W];if(k instanceof Array&&k.length&&k[0]instanceof Array&&2===k[0].length&&k[0][0]instanceof Array){for(var N=[W],H=0;H<k.length;H++)for(var X=k[H],K=0;K<N.length;K++){var q=F(N[K],X);if(q){N.splice(K,1),N.push(q[0],q[1]);break}}return N}return H=W.indexOf((X=k)[0]),K=W.indexOf(X[1]),-1!==H&&-1!==K&&[R(W,H,K),R(W,K,H)]}function z(W,k,N,H,X){var K=k[1]-W[1],Q=W[0]-k[0],q=K*W[0]+Q*W[1],_=H[1]-N[1],nt=N[0]-H[0],st=_*N[0]+nt*N[1],at=K*nt-_*Q;return $(at,0,X=X||0)?[0,0]:[(nt*q-Q*st)/at,(K*st-_*q)/at]}function $(W,k,N){return N=N||0,Math.abs(W-k)<=N}function J(W,k,N){return $(W[0],k[0],N)&&$(W[1],k[1],N)}},52018:(T,A,i)=>{var x=new(i(83419))({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});T.exports=x},42363:T=>{T.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:T=>{var A={},i={};T.exports={register:function(x,h,u,l){void 0===l&&(l=!1),A[x]={plugin:h,mapping:u,custom:l}},registerCustom:function(x,h,u,l){i[x]={plugin:h,mapping:u,data:l}},hasCore:function(x){return A.hasOwnProperty(x)},hasCustom:function(x){return i.hasOwnProperty(x)},getCore:function(x){return A[x]},getCustom:function(x){return i[x]},getCustomClass:function(x){return i.hasOwnProperty(x)?i[x].plugin:null},remove:function(x){A.hasOwnProperty(x)&&delete A[x]},removeCustom:function(x){i.hasOwnProperty(x)&&delete i[x]},destroyCorePlugins:function(){for(var x in A)A.hasOwnProperty(x)&&delete A[x]},destroyCustomPlugins:function(){for(var x in i)i.hasOwnProperty(x)&&delete i[x]}}},77332:(T,A,i)=>{var m=i(83419),x=i(8443),h=i(50792),u=i(74099),l=i(44603),s=i(39429),o=i(95540),f=i(37277),a=i(72905),c=new m({Extends:h,initialize:function(d){h.call(this),this.game=d,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],d.isBooted?this.boot():d.events.once(x.BOOT,this.boot,this)},boot:function(){var p,d,v,y,S,b,C,M=this.game.config,w=M.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),p=0;p<w.length;p++)v=o(d=w[p],"key",null),y=o(d,"plugin",null),S=o(d,"start",!1),b=o(d,"mapping",null),C=o(d,"data",null),v&&(y?this.install(v,y,S,b,C):console.warn("Missing `plugin` for key: "+v));for(w=(w=M.installScenePlugins).concat(this._pendingScene),p=0;p<w.length;p++)v=o(d=w[p],"key",null),y=o(d,"plugin",null),b=o(d,"mapping",null),v&&(y?this.installScenePlugin(v,y,b):console.warn("Missing `plugin` for key: "+v));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(p,d,v){var y,S,b,C=this.game,M=p.scene,w=p.settings.map,R=p.settings.isBooted;for(y=0;y<d.length;y++)C[S=d[y]]?(p[S]=C[S],w.hasOwnProperty(S)&&(M[w[S]]=p[S])):"game"===S&&w.hasOwnProperty(S)&&(M[w[S]]=C);for(var I=0;I<v.length;I++)for(b=v[I],y=0;y<b.length;y++)if(f.hasCore(S=b[y])){var L=f.getCore(S),F=L.mapping,G=new L.plugin(M,this,F);p[F]=G,L.custom?M[F]=G:w.hasOwnProperty(F)&&(M[w[F]]=G),R&&G.boot()}for(b=this.plugins,y=0;y<b.length;y++){var z=b[y];z.mapping&&(M[z.mapping]=z.plugin)}},getDefaultScenePlugins:function(){var p=this.game.config.defaultPlugins;return p.concat(this.scenePlugins)},installScenePlugin:function(p,d,v,y,S){if(void 0===S&&(S=!1),"function"==typeof d){if(f.hasCore(p)||f.register(p,d,v,!0),-1===this.scenePlugins.indexOf(p))this.scenePlugins.push(p);else if(!S&&f.hasCore(p))return void console.warn("Scene Plugin key in use: "+p);if(y){var b=new d(y,this,p);y.sys[p]=b,v&&""!==v&&(y[v]=b),b.boot()}}else console.warn("Invalid Scene Plugin: "+p)},install:function(p,d,v,y,S){if(void 0===v&&(v=!1),void 0===y&&(y=null),void 0===S&&(S=null),"function"!=typeof d)return console.warn("Invalid Plugin: "+p),null;if(f.hasCustom(p))return console.warn("Plugin key in use: "+p),null;if(null!==y&&(v=!0),this.game.isBooted){if(f.registerCustom(p,d,y,S),v)return this.start(p)}else this._pendingGlobal.push({key:p,plugin:d,start:v,mapping:y,data:S});return null},getIndex:function(p){for(var d=this.plugins,v=0;v<d.length;v++)if(d[v].key===p)return v;return-1},getEntry:function(p){var d=this.getIndex(p);if(-1!==d)return this.plugins[d]},isActive:function(p){var d=this.getEntry(p);return d&&d.active},start:function(p,d){void 0===d&&(d=p);var v=this.getEntry(d);return v&&!v.active?(v.active=!0,v.plugin.start()):v||(v=this.createEntry(p,d)),v?v.plugin:null},createEntry:function(p,d){var v=f.getCustom(p);if(v){var y=new v.plugin(this);this.plugins.push(v={key:d,plugin:y,active:!0,mapping:v.mapping,data:v.data}),y.init(v.data),y.start()}return v},stop:function(p){var d=this.getEntry(p);return d&&d.active&&(d.active=!1,d.plugin.stop()),this},get:function(p,d){void 0===d&&(d=!0);var v=this.getEntry(p);if(v)return v.plugin;var y=this.getClass(p);return y&&d?(v=this.createEntry(p,p))?v.plugin:null:y||null},getClass:function(p){return f.getCustomClass(p)},removeGlobalPlugin:function(p){var d=this.getEntry(p);d&&a(this.plugins,d),f.removeCustom(p)},removeScenePlugin:function(p){a(this.scenePlugins,p),f.remove(p)},registerGameObject:function(p,d,v){return d&&s.register(p,d),v&&l.register(p,v),this},removeGameObject:function(p,d,v){return void 0===d&&(d=!0),void 0===v&&(v=!0),d&&s.remove(p),v&&l.remove(p),this},registerFileType:function(p,d,v){u.register(p,d),v&&v.sys.load&&(v.sys.load[p]=d)},destroy:function(){for(var p=0;p<this.plugins.length;p++)this.plugins[p].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});T.exports=c},45145:(T,A,i)=>{var m=i(52018),x=i(83419),h=i(44594),u=new x({Extends:m,initialize:function(s,o,f){m.call(this,o),this.scene=s,this.systems=s.sys,this.pluginKey=f,s.sys.events.once(h.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});T.exports=u},18922:(T,A,i)=>{T.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(T){const A=performance.now(),i=this.getVideoPlaybackQuality(),m=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,x=(h,u)=>{const l=this.getVideoPlaybackQuality(),s=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(s>m){const o=this.mozFrameDelay||l.totalFrameDelay-i.totalFrameDelay||0,f=u-h;T(u,{presentationTime:u+1e3*o,expectedDisplayTime:u+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:s,processingDuration:o}),delete this._rvfcpolyfillmap[A]}else this._rvfcpolyfillmap[A]=requestAnimationFrame(o=>x(u,o))};return this._rvfcpolyfillmap[A]=requestAnimationFrame(h=>x(A,h)),A},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(T){cancelAnimationFrame(this._rvfcpolyfillmap[T]),delete this._rvfcpolyfillmap[T]})},10312:T=>{T.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:T=>{T.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(T,A,i)=>{var m=i(19715),x=i(32880),h=i(83419),u=i(8054),l=i(50792),s=i(92503),o=i(56373),f=i(97480),a=i(69442),c=i(61340),p=new h({Extends:l,initialize:function(v){l.call(this);var y=v.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels},this.game=v,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=v.canvas,this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",{alpha:v.config.transparent,desynchronized:v.config.desynchronized,willReadFrequently:!1}),this.currentContext=this.gameContext,this.antialias=v.config.antialias,this.blendModes=o(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var d=this.game,v=d.scale.baseSize;this.width=v.width,this.height=v.height,this.isBooted=!0,d.scale.on(f.RESIZE,this.onResize,this),this.resize(v.width,v.height)},onResize:function(d,v){(v.width!==this.width||v.height!==this.height)&&this.resize(v.width,v.height)},resize:function(d,v){this.width=d,this.height=v,this.emit(s.RESIZE,d,v)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(d){return this.currentContext.globalCompositeOperation=d,this},setContext:function(d){return this.currentContext=d||this.gameContext,this},setAlpha:function(d){return this.currentContext.globalAlpha=d,this},preRender:function(){var d=this.gameContext,v=this.config,y=this.width,S=this.height;d.globalAlpha=1,d.globalCompositeOperation="source-over",d.setTransform(1,0,0,1,0,0),v.clearBeforeRender&&(d.clearRect(0,0,y,S),v.transparent||(d.fillStyle=v.backgroundColor.rgba,d.fillRect(0,0,y,S))),d.save(),this.drawCount=0,this.emit(s.PRE_RENDER)},render:function(d,v,y){var S=v.length;this.emit(s.RENDER,d,y);var b=y.x,C=y.y,M=y.width,w=y.height,R=y.renderToTexture?y.context:d.sys.context;R.save(),this.game.scene.customViewports&&(R.beginPath(),R.rect(b,C,M,w),R.clip()),y.emit(m.PRE_RENDER,y),this.currentContext=R;var I=y.mask;I&&I.preRenderCanvas(this,null,y._maskCamera),y.transparent||(R.fillStyle=y.backgroundColor.rgba,R.fillRect(b,C,M,w)),R.globalAlpha=y.alpha,R.globalCompositeOperation="source-over",this.drawCount+=S,y.renderToTexture&&y.emit(m.PRE_RENDER,y),y.matrix.copyToContext(R);for(var L=0;L<S;L++){var F=v[L];F.mask&&F.mask.preRenderCanvas(this,F,y),F.renderCanvas(this,F,y),F.mask&&F.mask.postRenderCanvas(this,F,y)}R.setTransform(1,0,0,1,0,0),R.globalCompositeOperation="source-over",R.globalAlpha=1,y.flashEffect.postRenderCanvas(R),y.fadeEffect.postRenderCanvas(R),y.dirty=!1,I&&I.postRenderCanvas(this),R.restore(),y.renderToTexture&&(y.emit(m.POST_RENDER,y),y.renderToGame&&d.sys.context.drawImage(y.canvas,b,C)),y.emit(m.POST_RENDER,y)},postRender:function(){this.gameContext.restore(),this.emit(s.POST_RENDER);var v=this.snapshotState;v.callback&&(x(this.gameCanvas,v),v.callback=null)},snapshotCanvas:function(d,v,y,S,b,C,M,w,R){void 0===y&&(y=!1),this.snapshotArea(S,b,C,M,v,w,R);var I=this.snapshotState;return I.getPixel=y,x(d,I),I.callback=null,this},snapshot:function(d,v,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,d,v,y)},snapshotArea:function(d,v,y,S,b,C,M){var w=this.snapshotState;return w.callback=b,w.type=C,w.encoder=M,w.getPixel=!1,w.x=d,w.y=v,w.width=Math.min(y,this.gameCanvas.width),w.height=Math.min(S,this.gameCanvas.height),this},snapshotPixel:function(d,v,y){return this.snapshotArea(d,v,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(d,v,y,S){var b=y.alpha*d.alpha;if(0!==b){var C=this.currentContext,M=this._tempMatrix1,w=this._tempMatrix2,R=v.canvasData,I=R.x,L=R.y,F=v.cutWidth,G=v.cutHeight,z=v.customPivot,B=v.source.resolution,V=d.displayOriginX,Y=d.displayOriginY,$=-V+v.x,J=-Y+v.y;if(d.isCropped){var W=d._crop;(W.flipX!==d.flipX||W.flipY!==d.flipY)&&v.updateCropUVs(W,d.flipX,d.flipY),F=W.cw,G=W.ch,I=W.cx,L=W.cy,$=-V+W.x,J=-Y+W.y,d.flipX&&($>=0?$=-($+F):$<0&&($=Math.abs($)-F)),d.flipY&&(J>=0?J=-(J+G):J<0&&(J=Math.abs(J)-G))}var k=1,N=1;d.flipX&&(z||($+=2*V-v.realWidth),k=-1),d.flipY&&(z||(J+=2*Y-v.realHeight),N=-1);var H=d.x,X=d.y;w.applyITRS(H,X,d.rotation,d.scaleX*k,d.scaleY*N),M.copyFrom(y.matrix),S?(M.multiplyWithOffset(S,-y.scrollX*d.scrollFactorX,-y.scrollY*d.scrollFactorY),w.e=H,w.f=X):(w.e-=y.scrollX*d.scrollFactorX,w.f-=y.scrollY*d.scrollFactorY),M.multiply(w),y.roundPixels&&(M.e=Math.round(M.e),M.f=Math.round(M.f)),C.save(),M.setToContext(C),C.globalCompositeOperation=this.blendModes[d.blendMode],C.globalAlpha=b,C.imageSmoothingEnabled=!v.source.scaleMode,d.mask&&d.mask.preRenderCanvas(this,d,y),F>0&&G>0&&(y.roundPixels?C.drawImage(v.source.image,I,L,F,G,Math.round($),Math.round(J),Math.round(F/B),Math.round(G/B)):C.drawImage(v.source.image,I,L,F,G,$,J,F/B,G/B)),d.mask&&d.mask.postRenderCanvas(this,d,y),C.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});T.exports=p},55830:(T,A,i)=>{T.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(T,A,i)=>{var m=i(10312),x=i(89289);T.exports=function(){var u=[],l=x.supportNewBlendModes,s="source-over";return u[m.NORMAL]=s,u[m.ADD]="lighter",u[m.MULTIPLY]=l?"multiply":s,u[m.SCREEN]=l?"screen":s,u[m.OVERLAY]=l?"overlay":s,u[m.DARKEN]=l?"darken":s,u[m.LIGHTEN]=l?"lighten":s,u[m.COLOR_DODGE]=l?"color-dodge":s,u[m.COLOR_BURN]=l?"color-burn":s,u[m.HARD_LIGHT]=l?"hard-light":s,u[m.SOFT_LIGHT]=l?"soft-light":s,u[m.DIFFERENCE]=l?"difference":s,u[m.EXCLUSION]=l?"exclusion":s,u[m.HUE]=l?"hue":s,u[m.SATURATION]=l?"saturation":s,u[m.COLOR]=l?"color":s,u[m.LUMINOSITY]=l?"luminosity":s,u[m.ERASE]="destination-out",u[m.SOURCE_IN]="source-in",u[m.SOURCE_OUT]="source-out",u[m.SOURCE_ATOP]="source-atop",u[m.DESTINATION_OVER]="destination-over",u[m.DESTINATION_IN]="destination-in",u[m.DESTINATION_OUT]="destination-out",u[m.DESTINATION_ATOP]="destination-atop",u[m.LIGHTER]="lighter",u[m.COPY]="copy",u[m.XOR]="xor",u}},20926:(T,A,i)=>{var m=i(91296);T.exports=function(h,u,l,s,o){var f=s.alpha*l.alpha;if(f<=0)return!1;var a=m(l,s,o).calc;return u.globalCompositeOperation=h.blendModes[l.blendMode],u.globalAlpha=f,u.save(),a.setToContext(u),u.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:h.antialias,!0}},63899:T=>{T.exports="losewebgl"},6119:T=>{T.exports="postrender"},48070:T=>{T.exports="prerender"},15640:T=>{T.exports="render"},8912:T=>{T.exports="resize"},87124:T=>{T.exports="restorewebgl"},92503:(T,A,i)=>{T.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(T,A,i)=>{T.exports={Events:i(92503),Snapshot:i(89966)},T.exports.Canvas=i(55830),T.exports.WebGL=i(4159)},32880:(T,A,i)=>{var m=i(27919),x=i(40987),h=i(95540);T.exports=function(l,s){var o=h(s,"callback"),f=h(s,"type","image/png"),a=h(s,"encoder",.92),c=Math.abs(Math.round(h(s,"x",0))),p=Math.abs(Math.round(h(s,"y",0))),d=Math.floor(h(s,"width",l.width)),v=Math.floor(h(s,"height",l.height));if(h(s,"getPixel",!1)){var C=l.getContext("2d",{willReadFrequently:!1}).getImageData(c,p,1,1).data;o.call(null,new x(C[0],C[1],C[2],C[3]))}else if(0!==c||0!==p||d!==l.width||v!==l.height){var M=m.createWebGL(this,d,v),w=M.getContext("2d",{willReadFrequently:!0});d>0&&v>0&&w.drawImage(l,c,p,d,v,0,0,d,v);var R=new Image;R.onerror=function(){o.call(null),m.remove(M)},R.onload=function(){o.call(null,R),m.remove(M)},R.src=M.toDataURL(f,a)}else{var I=new Image;I.onerror=function(){o.call(null)},I.onload=function(){o.call(null,I)},I.src=l.toDataURL(f,a)}}},88815:(T,A,i)=>{var m=i(27919),x=i(40987),h=i(95540);T.exports=function(l,s){var o=l,f=h(s,"callback"),a=h(s,"type","image/png"),c=h(s,"encoder",.92),p=Math.abs(Math.round(h(s,"x",0))),d=Math.abs(Math.round(h(s,"y",0))),v=h(s,"getPixel",!1),y=h(s,"isFramebuffer",!1),S=y?h(s,"bufferWidth",1):o.drawingBufferWidth,b=y?h(s,"bufferHeight",1):o.drawingBufferHeight;if(v){var C=new Uint8Array(4);o.readPixels(p,y?d:b-d,1,1,o.RGBA,o.UNSIGNED_BYTE,C),f.call(null,new x(C[0],C[1],C[2],C[3]))}else{var w=Math.floor(h(s,"width",S)),R=Math.floor(h(s,"height",b)),I=w*R*4,L=new Uint8Array(I);o.readPixels(p,b-d-R,w,R,o.RGBA,o.UNSIGNED_BYTE,L);for(var F=m.createWebGL(this,w,R),G=F.getContext("2d",{willReadFrequently:!0}),z=G.getImageData(0,0,w,R),B=z.data,V=0;V<R;V++)for(var Y=0;Y<w;Y++){var $=4*((R-V-1)*w+Y),J=y?I-4*(V*w+(w-Y)):4*(V*w+Y);B[J+0]=L[$+0],B[J+1]=L[$+1],B[J+2]=L[$+2],B[J+3]=L[$+3]}G.putImageData(z,0,0);var W=new Image;W.onerror=function(){f.call(null),m.remove(F)},W.onload=function(){f.call(null,W),m.remove(F)},W.src=F.toDataURL(a,c)}}},89966:(T,A,i)=>{T.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(T,A,i)=>{var m=i(83419),x=i(36060),h=i(90330),u=i(82264),l=i(95540),s=i(32302),o=i(63448),f=i(31302),a=i(58918),c=i(14811),p=i(92651),d=i(96569),v=i(56527),y=i(57516),S=i(43439),b=i(81041),C=i(12385),M=i(7589),w=i(95428),R=i(72905),I=new m({initialize:function(F){this.game=F.game,this.renderer=F,this.classes=new h([[x.UTILITY_PIPELINE,M],[x.MULTI_PIPELINE,y],[x.BITMAPMASK_PIPELINE,f],[x.SINGLE_PIPELINE,C],[x.ROPE_PIPELINE,b],[x.LIGHT_PIPELINE,d],[x.POINTLIGHT_PIPELINE,S],[x.MOBILE_PIPELINE,v]]),this.postPipelineClasses=new h,this.pipelines=new h,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(L,F,G){var z=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(l(L,"frameInc",32));var V=z.width,Y=z.height,$=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(c.BARREL),a.Barrel],[String(c.BLOOM),a.Bloom],[String(c.BLUR),a.Blur],[String(c.BOKEH),a.Bokeh],[String(c.CIRCLE),a.Circle],[String(c.COLOR_MATRIX),a.ColorMatrix],[String(c.DISPLACEMENT),a.Displacement],[String(c.GLOW),a.Glow],[String(c.GRADIENT),a.Gradient],[String(c.PIXELATE),a.Pixelate],[String(c.SHADOW),a.Shadow],[String(c.SHINE),a.Shine],[String(c.VIGNETTE),a.Vignette],[String(c.WIPE),a.Wipe]]),!$){this.classes.set(x.FX_PIPELINE,p);for(var W=Math.min(V,Y),k=Math.ceil(W/this.frameInc),N=1;N<k;N++){var H=N*this.frameInc;B.push(new s(z,H,H)),B.push(new s(z,H,H)),B.push(new s(z,H,H)),this.maxDimension=H}B.push(new s(z,V,Y,1,0,!0,!0)),B.push(new s(z,V,Y,1,0,!0,!0)),B.push(new s(z,V,Y,1,0,!0,!0))}var X,K,Q=this,q=this.game;if(this.classes.each(function(nt,st){X=Q.add(nt,new st({game:q})),nt===x.UTILITY_PIPELINE&&(Q.UTILITY_PIPELINE=X,Q.fullFrame1=X.fullFrame1,Q.fullFrame2=X.fullFrame2,Q.halfFrame1=X.halfFrame1,Q.halfFrame2=X.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),$||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),L)for(K in L){var _=L[K];(X=new _(q)).name=K,X.isPostFX?this.postPipelineClasses.set(K,_):this.has(K)||(this.classes.set(K,_),this.add(K,X))}this.default=this.get(F),G&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(L){var F=this.get(L);return F&&(this.default=F),F},add:function(L,F){if(!F.isPostFX){var G=this.pipelines,z=this.renderer;return G.has(L)?console.warn("Pipeline exists: "+L):(F.name=L,F.manager=this,G.set(L,F)),F.hasBooted||F.boot(),0!==z.width&&0!==z.height&&!F.isPreFX&&F.resize(z.width,z.height),F}console.warn(L+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(L,F){this.postPipelineClasses.has(L)||this.postPipelineClasses.set(L,F)},flush:function(){this.current&&this.current.flush()},has:function(L){var F=this.pipelines;return"string"==typeof L?F.has(L):!!F.contains(L)},get:function(L){var F=this.pipelines;return"string"==typeof L?F.get(L):F.contains(L)?L:void 0},getPostPipeline:function(L,F,G){var B,z=this.postPipelineClasses,V="",Y=typeof L;if("string"===Y||"number"===Y?(B=z.get(L),V=L):"function"===Y?(z.contains(L)&&(B=L),V=L.name):"object"===Y&&(B=z.get(L.name),V=L.name),B){var $=new B(this.game,G);return $.name=V,F&&($.gameObject=F),this.postPipelineInstances.push($),$}},removePostPipeline:function(L){R(this.postPipelineInstances,L)},remove:function(L,F,G){void 0===F&&(F=!0),void 0===G&&(G=!0),this.pipelines.delete(L),F&&this.classes.delete(L),G&&this.postPipelineClasses.delete(L)},set:function(L,F,G){if(!L.isPostFX)return this.isCurrent(L,G)||(this.flush(),this.current&&this.current.unbind(),this.current=L,L.bind(G)),L.updateProjectionMatrix(),L.onBind(F),L},preBatch:function(L){if(L.hasPostPipeline){this.flush();for(var F=L.postPipelines,G=F.length-1;G>=0;G--){var z=F[G];z.active&&z.preBatch(L)}}},postBatch:function(L){if(L.hasPostPipeline){this.flush();for(var F=L.postPipelines,G=0;G<F.length;G++){var z=F[G];z.active&&z.postBatch(L)}}},preBatchCamera:function(L){if(L.hasPostPipeline){this.flush();for(var F=L.postPipelines,G=F.length-1;G>=0;G--){var z=F[G];z.active&&z.preBatch(L)}}},postBatchCamera:function(L){if(L.hasPostPipeline){this.flush();for(var F=L.postPipelines,G=0;G<F.length;G++){var z=F[G];z.active&&z.postBatch(L)}}},isCurrent:function(L,F){var z=this.current;return z&&!F&&(F=z.currentShader),!(z!==L||F.program!==this.renderer.currentProgram)},copyFrame:function(L,F,G,z,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(L,F,G,z,B),this},copyToGame:function(L){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(L),this},drawFrame:function(L,F,G,z){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(L,F,G,z),this},blendFrames:function(L,F,G,z,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(L,F,G,z,B),this},blendFramesAdditive:function(L,F,G,z,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(L,F,G,z,B),this},clearFrame:function(L,F){return this.UTILITY_PIPELINE.clearFrame(L,F),this},blitFrame:function(L,F,G,z,B,V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(L,F,G,z,B,V),this},copyFrameRect:function(L,F,G,z,B,V,Y,$){return this.UTILITY_PIPELINE.copyFrameRect(L,F,G,z,B,V,Y,$),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(L){return this.UTILITY_PIPELINE.bind(L)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(L,F){F.restoreContext()}),w(this.postPipelineInstances,function(L){L.restoreContext()})},rebind:function(L){void 0===L&&this.previous&&(L=this.previous);var F=this.renderer,G=F.gl;G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),F.hasActiveStencilMask()?G.clear(G.DEPTH_BUFFER_BIT):(G.disable(G.STENCIL_TEST),G.clear(G.DEPTH_BUFFER_BIT|G.STENCIL_BUFFER_BIT)),G.viewport(0,0,F.width,F.height),F.currentProgram=null,F.setBlendMode(0,!0);var z=F.vaoExtension;z&&z.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var V in B)B[V].glReset=!0;L&&(this.current=L,L.rebind())},clear:function(){var L=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,L.currentProgram=null,L.setBlendMode(0,!0);var F=L.vaoExtension;F&&F.bindVertexArrayOES(null)},getRenderTarget:function(L){var F=this.renderTargets;if(L>this.maxDimension)return this.targetIndex=F.length-3,F[this.targetIndex];var z=3*(o(L,this.frameInc,0,!0)-1);return this.targetIndex=z,F[z]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});T.exports=I},32302:(T,A,i)=>{var m=i(83419),x=i(92503),h=new m({initialize:function(l,s,o,f,a,c,p,d,v){void 0===f&&(f=1),void 0===a&&(a=0),void 0===c&&(c=!0),void 0===p&&(p=!1),void 0===d&&(d=!0),void 0===v&&(v=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=a,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=v,this.resize(s,o),p?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,l){if((u=Math.round(u*this.scale))<=0&&(u=1),(l=Math.round(l*this.scale))<=0&&(l=1),this.autoResize&&(u!==this.width||l!==this.height)){var s=this.renderer;s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.texture=s.createTextureFromSource(null,u,l,this.minFilter,this.forceClamp),this.framebuffer=s.createFramebuffer(u,l,this.texture,this.hasDepthBuffer),this.width=u,this.height=l}return this},willResize:function(u,l){return(u=Math.round(u*this.scale))<=0&&(u=1),(l=Math.round(l*this.scale))<=0&&(l=1),u!==this.width||l!==this.height},bind:function(u,l,s){void 0===u&&(u=!1);var o=this.renderer;if(u&&o.flush(),l&&s&&this.resize(l,s),o.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}o.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(){var u=this.renderer,l=u.gl;u.pushFramebuffer(this.framebuffer),l.disable(l.SCISSOR_TEST),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),u.popFramebuffer(),u.resetScissor()},unbind:function(u){void 0===u&&(u=!1);var l=this.renderer;return u&&l.flush(),l.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(x.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});T.exports=h},70554:T=>{T.exports={getTintFromFloats:function(A,i,m,x){return((255*x&255)<<24|(255*A&255)<<16|(255*i&255)<<8|255*m&255)>>>0},getTintAppendFloatAlpha:function(A,i){return((255*i&255)<<24|A)>>>0},getTintAppendFloatAlphaAndSwap:function(A,i){return((255*i&255)<<24|(255&A)<<16|(A>>8&255)<<8|A>>16&255)>>>0},getFloatsFromUintRGB:function(A){return[(A>>16&255)/255,(A>>8&255)/255,(255&A)/255]},checkShaderMax:function(A,i){var m=Math.min(16,A.getParameter(A.MAX_TEXTURE_IMAGE_UNITS));return i&&-1!==i?Math.min(m,i):m},parseFragmentShaderMaxTextures:function(A,i){if(!A)return"";for(var m="",x=0;x<i;x++)x>0&&(m+="\n\telse "),x<i-1&&(m+="if (outTexId < "+x+".5)"),m+="\n\t{",m+="\n\t\ttexture = texture2D(uMainSampler["+x+"], outTexCoord);",m+="\n\t}";return(A=A.replace(/%count%/gi,i.toString())).replace(/%forloop%/gi,m)},setGlowQuality:function(A,i,m,x){return void 0===m&&(m=i.config.glowFXQuality),void 0===x&&(x=i.config.glowFXDistance),(A=A.replace(/__SIZE__/gi,(1/m/x).toFixed(7))).replace(/__DIST__/gi,x.toFixed(0)+".0")}}},29100:(T,A,i)=>{var m=i(83419),x=i(62644),h=i(50792),u=i(77085),l=i(95540),s=i(37867),o=i(92503),f=i(32302),a=i(70554),c=i(38683),p=new m({Extends:h,initialize:function(v){h.call(this);var y=v.game,S=y.renderer,b=S.gl;this.name=l(v,"name","WebGLPipeline"),this.game=y,this.renderer=S,this.gl=b,this.view=y.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=l(v,"topology",b.TRIANGLES),this.active=!0,this.forceZero=l(v,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=v,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(v,"resizeUniform","")},boot:function(){var d,v=this.gl,y=this.config,S=this.renderer;this.isPostFX||(this.projectionMatrix=(new s).identity());var b=this.renderTargets,C=l(y,"renderTarget",!1);"boolean"==typeof C&&C&&(C=1);var M=S.width,w=S.height;if("number"==typeof C)for(d=0;d<C;d++)b.push(new f(S,M,w,1,0,!0));else if(Array.isArray(C))for(d=0;d<C.length;d++){var R=l(C[d],"scale",1),I=l(C[d],"minFilter",0),L=l(C[d],"autoClear",1),F=l(C[d],"autoResize",!1),G=l(C[d],"width",null),z=l(C[d],"height",G);b.push(G?new f(S,G,z,1,I,L,F):new f(S,M,w,R,I,L,F))}b.length&&(this.currentRenderTarget=b[0]),this.setShadersFromConfig(y);var B=this.shaders,V=0;for(d=0;d<B.length;d++)B[d].vertexSize>V&&(V=B[d].vertexSize);var Y=l(y,"batchSize",S.config.batchSize);this.vertexCapacity=6*Y;var $=new ArrayBuffer(this.vertexCapacity*V);this.vertexData=$,this.bytes=new Uint8Array($),this.vertexViewF32=new Float32Array($),this.vertexViewU32=new Uint32Array($);var J=l(y,"vertices",null);for(J?(this.vertexViewF32.set(J),this.vertexBuffer=S.createVertexBuffer($,v.STATIC_DRAW)):this.vertexBuffer=S.createVertexBuffer($.byteLength,v.DYNAMIC_DRAW),this.setVertexBuffer(),d=B.length-1;d>=0;d--)B[d].rebind();this.hasBooted=!0,S.on(o.RESIZE,this.resize,this),S.on(o.PRE_RENDER,this.onPreRender,this),S.on(o.RENDER,this.onRender,this),S.on(o.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,v,y){return d===this.currentShader&&this.renderer.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(y)&&!v&&(v=!0),d.bind(v,!1),this.currentShader=d),this},getShaderByName:function(d){for(var v=this.shaders,y=0;y<v.length;y++)if(v[y].name===d)return v[y]},setShadersFromConfig:function(d){var v,y=this.shaders,S=this.renderer;for(v=0;v<y.length;v++)y[v].destroy();var b="vertShader",C="fragShader",M="attributes",w=l(d,b,null),R=a.parseFragmentShaderMaxTextures(l(d,C,null),S.maxTextures),I=l(d,M,null),L=l(d,"shaders",[]),F=L.length;if(0===F)w&&R&&(this.shaders=[new c(this,"default",w,R,x(I))]);else{var G=[];for(v=0;v<F;v++){var B,V,Y,$,z=L[v];if("string"==typeof z?(B="default",V=w,Y=a.parseFragmentShaderMaxTextures(z,S.maxTextures),$=I):(B=l(z,"name","default"),V=l(z,b,w),Y=a.parseFragmentShaderMaxTextures(l(z,C,R),S.maxTextures),$=l(z,M,I)),"default"===B){var W=Y.split("\n")[0].trim();W.indexOf("#define SHADER_NAME")>-1&&(B=W.substring(20))}V&&Y&&G.push(new c(this,B,V,Y,x($)))}this.shaders=G}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var v=this.currentBatch;v&&(v.texture.push(d),v.unit++,v.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var v=this.currentBatch,y=v.texture.indexOf(d);return-1===y?v.texture.length===this.renderer.maxTextures?this.createBatch(d):(v.unit++,v.maxUnit++,v.texture.push(d),this.currentUnit=v.unit,this.currentTexture=d,v.unit):(this.currentUnit=y,this.currentTexture=d,y)},setGameObject:function(d,v){return void 0===v&&(v=d.frame),this.pushBatch(v.source.glTexture)},shouldFlush:function(d){return void 0===d&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,v){(d!==this.width||v!==this.height)&&this.flush(),this.width=d,this.height=v;for(var y=this.renderTargets,S=0;S<y.length;S++)y[S].resize(d,v);return this.setProjectionMatrix(d,v),this.resizeUniform&&this.set2f(this.resizeUniform,d,v),this.emit(u.RESIZE,d,v,this),this.onResize(d,v),this},setProjectionMatrix:function(d,v){var y=this.projectionMatrix;if(!y)return this;this.projectionWidth=d,this.projectionHeight=v,y.ortho(0,d,v,0,-1e3,1e3);for(var S=this.shaders,b="uProjectionMatrix",C=0;C<S.length;C++){var M=S[C];M.hasUniform(b)&&(M.resetUniform(b),M.setMatrix4fv(b,!1,y.val,M))}return this},flipProjectionMatrix:function(d){void 0===d&&(d=!0);var v=this.projectionMatrix;if(!v)return this;var y=this.projectionWidth,S=this.projectionHeight;d?v.ortho(0,y,0,S,-1e3,1e3):v.ortho(0,y,S,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,v.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,v=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==v)&&this.setProjectionMatrix(d,v)}},bind:function(d){if(void 0===d&&(d=this.currentShader),this.glReset)return this.rebind(d);var v=!1,y=this.gl;return y.getParameter(y.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(y.bindBuffer(y.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,v=!0),d.bind(v),this.currentShader=d,this.activeTextures.length=0,this.emit(u.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var v=this.shaders,y=v.length-1;y>=0;y--){var S=v[y].rebind();(!d||S===d)&&(this.currentShader=S)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,v=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,v&&this.setVertexBuffer();for(var y=0;y<d.length;y++){var S=d[y];S.syncUniforms(),v&&S.rebind()}},setVertexBuffer:function(d){return void 0===d&&(d=this.vertexBuffer),d!==this.activeBuffer&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0)},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(void 0===d&&(d=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var v=this.gl,y=this.vertexCount,S=this.currentShader.vertexSize,b=this.topology;if(this.active){this.setVertexBuffer(),y===this.vertexCapacity?v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.DYNAMIC_DRAW):v.bufferSubData(v.ARRAY_BUFFER,0,this.bytes.subarray(0,y*S));var C,M,w,R=this.batch,I=this.activeTextures;if(this.forceZero)for(I[0]||v.activeTexture(v.TEXTURE0),C=0;C<R.length;C++)I[0]!==(w=(M=R[C]).texture[0])&&(v.bindTexture(v.TEXTURE_2D,w.webGLTexture),I[0]=w),v.drawArrays(b,M.start,M.count);else for(C=0;C<R.length;C++){M=R[C];for(var L=0;L<=M.maxUnit;L++)I[L]!==(w=M.texture[L])&&(v.activeTexture(v.TEXTURE0+L),v.bindTexture(v.TEXTURE_2D,w.webGLTexture),I[L]=w);v.drawArrays(b,M.start,M.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,v,y,S,b,C,M){var w=this.vertexViewF32,R=this.vertexViewU32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++I]=d,w[++I]=v,w[++I]=y,w[++I]=S,w[++I]=b,w[++I]=C,R[++I]=M,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,v,y,S,b,C,M,w,R,I,L,F,G,z,B,V,Y,$,J,W){void 0===W&&(W=this.currentUnit);var k=!1;this.shouldFlush(6)&&(this.flush(),k=!0),this.currentBatch||(W=this.setTexture2D(J));var N=this.vertexViewF32,H=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++X]=v,N[++X]=y,N[++X]=I,N[++X]=L,N[++X]=W,N[++X]=$,H[++X]=z,N[++X]=S,N[++X]=b,N[++X]=I,N[++X]=G,N[++X]=W,N[++X]=$,H[++X]=V,N[++X]=C,N[++X]=M,N[++X]=F,N[++X]=G,N[++X]=W,N[++X]=$,H[++X]=Y,N[++X]=v,N[++X]=y,N[++X]=I,N[++X]=L,N[++X]=W,N[++X]=$,H[++X]=z,N[++X]=C,N[++X]=M,N[++X]=F,N[++X]=G,N[++X]=W,N[++X]=$,H[++X]=Y,N[++X]=w,N[++X]=R,N[++X]=F,N[++X]=L,N[++X]=W,N[++X]=$,H[++X]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),k},batchTri:function(d,v,y,S,b,C,M,w,R,I,L,F,G,z,B,V,Y){void 0===Y&&(Y=this.currentUnit);var $=!1;this.shouldFlush(3)&&(this.flush(),$=!0),this.currentBatch||(Y=this.setTexture2D(V));var J=this.vertexViewF32,W=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++k]=v,J[++k]=y,J[++k]=w,J[++k]=R,J[++k]=Y,J[++k]=B,W[++k]=F,J[++k]=S,J[++k]=b,J[++k]=w,J[++k]=L,J[++k]=Y,J[++k]=B,W[++k]=G,J[++k]=C,J[++k]=M,J[++k]=I,J[++k]=L,J[++k]=Y,J[++k]=B,W[++k]=z,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),$},drawFillRect:function(d,v,y,S,b,C,M,w){void 0===M&&(M=this.renderer.whiteTexture),void 0===w&&(w=!0),d=Math.floor(d),v=Math.floor(v);var R=Math.floor(d+y),I=Math.floor(v+S),L=this.setTexture2D(M),F=a.getTintAppendFloatAlphaAndSwap(b,C),z=0,V=1;w&&(z=1,V=0),this.batchQuad(null,d,v,d,I,R,I,R,v,0,z,1,V,F,F,F,F,0,M,L)},setTexture2D:function(d){return void 0===d&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,v){void 0===v&&(v=0);var y=this.gl;return y.activeTexture(y.TEXTURE0+v),y.bindTexture(y.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,v){return this.bindTexture(d.texture,v)},setTime:function(d,v){return this.set1f(d,this.game.loop.getDuration(),v),this},setBoolean:function(d,v,y){return void 0===y&&(y=this.currentShader),y.setBoolean(d,v),this},set1f:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set1f(d,v),this},set2f:function(d,v,y,S){return void 0===S&&(S=this.currentShader),S.set2f(d,v,y),this},set3f:function(d,v,y,S,b){return void 0===b&&(b=this.currentShader),b.set3f(d,v,y,S),this},set4f:function(d,v,y,S,b,C){return void 0===C&&(C=this.currentShader),C.set4f(d,v,y,S,b),this},set1fv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set1fv(d,v),this},set2fv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set2fv(d,v),this},set3fv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set3fv(d,v),this},set4fv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set4fv(d,v),this},set1iv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set1iv(d,v),this},set2iv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set2iv(d,v),this},set3iv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set3iv(d,v),this},set4iv:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set4iv(d,v),this},set1i:function(d,v,y){return void 0===y&&(y=this.currentShader),y.set1i(d,v),this},set2i:function(d,v,y,S){return void 0===S&&(S=this.currentShader),S.set2i(d,v,y),this},set3i:function(d,v,y,S,b){return void 0===b&&(b=this.currentShader),b.set3i(d,v,y,S),this},set4i:function(d,v,y,S,b,C){return void 0===C&&(C=this.currentShader),C.set4i(d,v,y,S,b),this},setMatrix2fv:function(d,v,y,S){return void 0===S&&(S=this.currentShader),S.setMatrix2fv(d,v,y),this},setMatrix3fv:function(d,v,y,S){return void 0===S&&(S=this.currentShader),S.setMatrix3fv(d,v,y),this},setMatrix4fv:function(d,v,y,S){return void 0===S&&(S=this.currentShader),S.setMatrix4fv(d,v,y),this},destroy:function(){this.emit(u.DESTROY,this);var d,v=this.shaders;for(d=0;d<v.length;d++)v[d].destroy();var y=this.renderTargets;for(d=0;d<y.length;d++)y[d].destroy();var S=this.renderer;return S.deleteBuffer(this.vertexBuffer),S.off(o.RESIZE,this.resize,this),S.off(o.PRE_RENDER,this.onPreRender,this),S.off(o.RENDER,this.onRender,this),S.off(o.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});T.exports=p},74797:(T,A,i)=>{var m=i(95428),x=i(72905),h=i(19715),u=i(83419),l=i(8054),s=i(50792),o=i(92503),f=i(50030),a=i(37867),c=i(29747),p=i(7530),d=i(32302),v=i(97480),y=i(69442),S=i(70554),b=i(88815),C=i(26128),M=i(1482),w=i(82751),R=i(84387),I=i(93567),L=i(57183),z=new u({Extends:s,initialize:function(V){s.call(this);var Y=V.config;this.config={clearBeforeRender:Y.clearBeforeRender,antialias:Y.antialias,backgroundColor:Y.backgroundColor,contextCreation:{alpha:Y.transparent,desynchronized:Y.desynchronized,depth:!0,antialias:Y.antialiasGL,premultipliedAlpha:Y.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:Y.failIfMajorPerformanceCaveat,powerPreference:Y.powerPreference,preserveDrawingBuffer:Y.preserveDrawingBuffer,willReadFrequently:!1},roundPixels:Y.roundPixels,maxTextures:Y.maxTextures,maxTextureSize:Y.maxTextureSize,batchSize:Y.batchSize,maxLights:Y.maxLights,mipmapFilter:Y.mipmapFilter},this.game=V,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=V.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=c,this.contextRestoredHandler=c,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var V,Y=this.game,$=this.canvas,J=B.backgroundColor;if(!(V=Y.config.context?Y.config.context:$.getContext("webgl",B.contextCreation)||$.getContext("experimental-webgl",B.contextCreation))||V.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=V;var W=this,k=function(){var X=V.getSupportedExtensions();W.supportedExtensions=X;var K="ANGLE_instanced_arrays";W.instancedArraysExtension=X.indexOf(K)>-1?V.getExtension(K):null;var Q="OES_vertex_array_object";W.vaoExtension=X.indexOf(Q)>-1?V.getExtension(Q):null};k(),this.contextLostHandler=function(X){W.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.emit(o.LOSE_WEBGL,W),X.preventDefault()},$.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(X){if(V.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{W.currentProgram=null,W.currentFramebuffer=null,W.setBlendMode(l.BlendModes.NORMAL),V.disable(V.BLEND),V.disable(V.DEPTH_TEST),V.enable(V.CULL_FACE),W.compression=W.getCompressedTextures();var K=function(Q){Q.createResource()};m(W.glTextureWrappers,K),m(W.glBufferWrappers,K),m(W.glFramebufferWrappers,K),m(W.glProgramWrappers,K),m(W.glAttribLocationWrappers,K),m(W.glUniformLocationWrappers,K),W.createTemporaryTextures(),W.pipelines.restoreContext(),W.resize(W.game.scale.baseSize.width,W.game.scale.baseSize.height),k(),W.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),W.emit(o.RESTORE_WEBGL,W),X.preventDefault()}},$.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),Y.context=V;for(var N=0;N<=27;N++)this.blendModes.push({func:[V.ONE,V.ONE_MINUS_SRC_ALPHA],equation:V.FUNC_ADD});return this.blendModes[1].func=[V.ONE,V.DST_ALPHA],this.blendModes[2].func=[V.DST_COLOR,V.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[V.ONE,V.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[V.ZERO,V.ONE_MINUS_SRC_ALPHA],equation:V.FUNC_REVERSE_SUBTRACT},this.glFormats=[V.BYTE,V.SHORT,V.UNSIGNED_BYTE,V.UNSIGNED_SHORT,V.FLOAT],this.glFuncMap={mat2:{func:V.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:V.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:V.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:V.uniform1f,length:1},"1fv":{func:V.uniform1fv,length:1},"1i":{func:V.uniform1i,length:1},"1iv":{func:V.uniform1iv,length:1},"2f":{func:V.uniform2f,length:2},"2fv":{func:V.uniform2fv,length:1},"2i":{func:V.uniform2i,length:2},"2iv":{func:V.uniform2iv,length:1},"3f":{func:V.uniform3f,length:3},"3fv":{func:V.uniform3fv,length:1},"3i":{func:V.uniform3i,length:3},"3iv":{func:V.uniform3iv,length:1},"4f":{func:V.uniform4f,length:4},"4fv":{func:V.uniform4fv,length:1},"4i":{func:V.uniform4i,length:4},"4iv":{func:V.uniform4iv,length:1}},(!B.maxTextures||-1===B.maxTextures)&&(B.maxTextures=V.getParameter(V.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=V.getParameter(V.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),V.disable(V.DEPTH_TEST),V.disable(V.CULL_FACE),V.enable(V.BLEND),V.clearColor(J.redGL,J.greenGL,J.blueGL,J.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(B.mipmapFilter)&&(this.mipmapFilter=V[B.mipmapFilter]),this.maxTextures=S.checkShaderMax(V,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=(new a).identity(),Y.textures.once(y.READY,this.boot,this),this},boot:function(){var B=this.game,V=this.pipelines,Y=B.scale.baseSize,$=Y.width,J=Y.height;this.width=$,this.height=J,this.isBooted=!0,this.renderTarget=new d(this,$,J,1,0,!0,!0),this.maskTarget=new d(this,$,J,1,0,!0,!0),this.maskSource=new d(this,$,J,1,0,!0,!0);var W=B.config;V.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,null),k.enable(k.SCISSOR_TEST),B.scale.on(v.RESIZE,this.onResize,this),this.resize($,J)},createTemporaryTextures:function(){for(var B=this.gl,V=0;V<this.maxTextures;V++){var Y=B.createTexture();B.activeTexture(B.TEXTURE0+V),B.bindTexture(B.TEXTURE_2D,Y),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(V)}},captureFrame:function(B,V){void 0===B&&(B=!1),void 0===V&&(V=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,V,Y){void 0===B&&(B=0),void 0===V&&(V=!1),void 0===Y&&(Y=!1)},stopCapture:function(){},onCapture:function(B){},onResize:function(B,V){(V.width!==this.width||V.height!==this.height)&&this.resize(V.width,V.height)},beginCapture:function(B,V){void 0===B&&(B=this.width),void 0===V&&(V=this.height),this.renderTarget.bind(!0,B,V),this.setProjectionMatrix(B,V)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,V){var Y=this.gl;return this.width=B,this.height=V,this.setProjectionMatrix(B,V),Y.viewport(0,0,B,V),this.drawingBufferHeight=Y.drawingBufferHeight,Y.scissor(0,Y.drawingBufferHeight-V,B,V),this.defaultScissor[2]=B,this.defaultScissor[3]=V,this.emit(o.RESIZE,B,V),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",V="WEBKIT_"+B,$=function(W,k){var N=W.getExtension(B+k)||W.getExtension(V+k)||W.getExtension("EXT_texture_compression_"+k);if(N){var H={};for(var X in N)H[N[X]]=X;return H}},J=this.gl;return{ETC:$(J,"etc"),ETC1:$(J,"etc1"),ATC:$(J,"atc"),ASTC:$(J,"astc"),BPTC:$(J,"bptc"),RGTC:$(J,"rgtc"),PVRTC:$(J,"pvrtc"),S3TC:$(J,"s3tc"),S3TCSRGB:$(J,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,V){var Y=this.compression[B.toUpperCase()];if(V in Y)return Y[V]},supportsCompressedTexture:function(B,V){var Y=this.compression[B.toUpperCase()];return!!Y&&(!V||V in Y)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,V){return(B!==this.projectionWidth||V!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=V,this.projectionMatrix.ortho(0,B,V,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(B)},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,V,Y,$,J){void 0===J&&(J=this.drawingBufferHeight);var k=[B,V,Y,$];return this.scissorStack.push(k),this.setScissor(B,V,Y,$,J),this.currentScissor=k,k},setScissor:function(B,V,Y,$,J){void 0===J&&(J=this.drawingBufferHeight);var W=this.gl,k=this.currentScissor,N=Y>0&&$>0;k&&N&&(N=k[0]!==B||k[1]!==V||k[2]!==Y||k[3]!==$),N&&(this.flush(),W.scissor(B,J-V-$,Y,$))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var V=this.currentScissor;if(V){var J=V[2],W=V[3];J>0&&W>0&&B.scissor(V[0],this.drawingBufferHeight-V[1]-W,J,W)}},popScissor:function(){var B=this.scissorStack;B.pop();var V=B[B.length-1];V&&this.setScissor(V[0],V[1],V[2],V[3]),this.currentScissor=V},hasActiveStencilMask:function(){var B=this.currentMask.mask,V=this.currentCameraMask.mask;return B&&B.isStencil||V&&V.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,V){void 0===V&&(V=!1);var Y=this.gl,$=this.blendModes[B];return!!(V||B!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B)&&(this.flush(),Y.enable(Y.BLEND),Y.blendEquation($.equation),$.func.length>2?Y.blendFuncSeparate($.func[0],$.func[1],$.func[2],$.func[3]):Y.blendFunc($.func[0],$.func[1]),this.currentBlendMode=B,!0)},addBlendMode:function(B,V){return this.blendModes.push({func:B,equation:V})-1},updateBlendMode:function(B,V,Y){return this.blendModes[B]&&(this.blendModes[B].func=V,Y&&(this.blendModes[B].equation=Y)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,V,Y,$,J){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,V,Y,$,J))},setFramebuffer:function(B,V,Y,$,J){if(void 0===V&&(V=!1),void 0===Y&&(Y=!0),void 0===$&&($=null),void 0===J&&(J=!1),B===this.currentFramebuffer)return this;var W=this.gl,k=this.width,N=this.height;return B&&B.renderTexture&&Y?(k=B.renderTexture.width,N=B.renderTexture.height):this.flush(),W.bindFramebuffer(W.FRAMEBUFFER,B?B.webGLFramebuffer:null),Y&&W.viewport(0,0,k,N),$&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,$.webGLTexture,0),J&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),V&&(B?(this.drawingBufferHeight=N,this.pushScissor(0,0,k,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,V){void 0===B&&(B=!1),void 0===V&&(V=!0);var Y=this.fboStack;Y.pop();var $=Y[Y.length-1];return $||($=null),this.setFramebuffer($,B,V),$},restoreFramebuffer:function(B,V){void 0===B&&(B=!1),void 0===V&&(V=!0);var Y=this.fboStack,$=Y[Y.length-1];$||($=null),this.currentFramebuffer=null,this.setFramebuffer($,B,V)},setProgram:function(B){return B!==this.currentProgram&&(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,V,Y,$,J){void 0===J&&(J=!1);var W=this.gl,k=W.NEAREST,N=W.NEAREST,H=W.CLAMP_TO_EDGE,K=f(V=B?B.width:V,Y=B?B.height:Y);if(K&&!J&&(H=W.REPEAT),$===l.ScaleModes.LINEAR&&this.config.antialias){var Q=B&&B.compressed;k=this.mipmapFilter&&(!Q&&K||Q&&B.mipmaps.length>1)?this.mipmapFilter:W.LINEAR,N=W.LINEAR}return B||"number"!=typeof V||"number"!=typeof Y?this.createTexture2D(0,k,N,H,H,W.RGBA,B):this.createTexture2D(0,k,N,H,H,W.RGBA,null,V,Y)},createTexture2D:function(B,V,Y,$,J,W,k,N,H,X,K,Q){"number"!=typeof N&&(N=k?k.width:1),"number"!=typeof H&&(H=k?k.height:1);var q=new w(this.gl,B,V,Y,$,J,W,k,N,H,X,K,Q);return this.glTextureWrappers.push(q),q},createFramebuffer:function(B,V,Y,$){this.currentFramebuffer=null;var J=new R(this.gl,B,V,Y,$);return this.glFramebufferWrappers.push(J),J},beginBitmapMask:function(B,V){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=V))},drawBitmapMask:function(B,V,Y){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,V),this.maskSource.unbind(!0),this.maskTarget.unbind();var $=this.gl,J=this.getCurrentStencilMask();J?($.enable($.STENCIL_TEST),J.mask.applyStencil(this,J.camera,!0)):this.currentMask.mask=null,this.pipelines.set(Y),$.activeTexture($.TEXTURE0),$.bindTexture($.TEXTURE_2D,this.maskTarget.texture.webGLTexture),$.activeTexture($.TEXTURE1),$.bindTexture($.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,V){var Y=new M(this.gl,B,V);return this.glProgramWrappers.push(Y),Y},createVertexBuffer:function(B,V){var Y=this.gl,$=new C(Y,B,Y.ARRAY_BUFFER,V);return this.glBufferWrappers.push($),$},createAttribLocation:function(B,V){var Y=new I(this.gl,B,V);return this.glAttribLocationWrappers.push(Y),Y},createUniformLocation:function(B,V){var Y=new L(this.gl,B,V);return this.glUniformLocationWrappers.push(Y),Y},createIndexBuffer:function(B,V){var Y=this.gl,$=new C(Y,B,Y.ELEMENT_ARRAY_BUFFER,V);return this.glBufferWrappers.push($),$},deleteTexture:function(B){if(B)return x(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(x(this.fboStack,B),x(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(x(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(x(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(x(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(x(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var V=B.x,Y=B.y,$=B.width,J=B.height,W=B.backgroundColor;B.emit(h.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(V,Y,$,J),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),W.alphaGL>0&&this.pipelines.setMulti().drawFillRect(V,Y,$,J,S.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)},getCurrentStencilMask:function(){var B=null,V=this.maskStack,Y=this.currentCameraMask;return V.length>0?B=V[V.length-1]:Y.mask&&Y.mask.isStencil&&(B=Y),B},postRenderCamera:function(B){var V=B.flashEffect,Y=B.fadeEffect;if(V.isRunning||Y.isRunning||Y.isComplete){var $=this.pipelines.setMulti();V.postRenderWebGL($,S.getTintFromFloats),Y.postRenderWebGL($,S.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(h.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.config.clearBeforeRender){var V=this.config.backgroundColor;B.clearColor(V.redGL,V.greenGL,V.blueGL,V.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(o.PRE_RENDER)}},render:function(B,V,Y){if(!this.contextLost){var $=V.length;if(this.emit(o.RENDER,B,Y),this.preRenderCamera(Y),0===$)return this.setBlendMode(l.BlendModes.NORMAL),void this.postRenderCamera(Y);this.currentType="";for(var J=this.currentMask,W=0;W<$;W++){this.finalType=W===$-1;var k=V[W],N=k.mask;(J=this.currentMask).mask&&J.mask!==N&&J.mask.postRenderWebGL(this,J.camera),N&&J.mask!==N&&N.preRenderWebGL(this,k,Y),k.blendMode!==this.currentBlendMode&&this.setBlendMode(k.blendMode);var H=k.type;H!==this.currentType&&(this.newType=!0,this.currentType=H),this.nextTypeMatch=!this.finalType&&V[W+1].type===this.currentType,k.renderWebGL(this,k,Y),this.newType=!1}(J=this.currentMask).mask&&J.mask.postRenderWebGL(this,J.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(Y)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(o.POST_RENDER);var B=this.snapshotState;B.callback&&(b(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,V=this.getCurrentStencilMask();if(V){var Y=V.mask;B.enable(B.STENCIL_TEST),B.stencilFunc(Y.invertAlpha?B.NOTEQUAL:B.EQUAL,Y.level,255)}},snapshot:function(B,V,Y){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,V,Y)},snapshotArea:function(B,V,Y,$,J,W,k){var N=this.snapshotState;return N.callback=J,N.type=W,N.encoder=k,N.getPixel=!1,N.x=B,N.y=V,N.width=Y,N.height=$,this},snapshotPixel:function(B,V,Y){return this.snapshotArea(B,V,1,1,Y),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,V,Y,$,J,W,k,N,H,X,K){void 0===J&&(J=!1),void 0===W&&(W=0),void 0===k&&(k=0),void 0===N&&(N=V),void 0===H&&(H=Y),"pixel"===X&&(J=!0,X="image/png");var Q=this.currentFramebuffer;this.snapshotArea(W,k,N,H,$,X,K);var q=this.snapshotState;return q.getPixel=J,q.isFramebuffer=!0,q.bufferWidth=V,q.bufferHeight=Y,q.width=Math.min(q.width,V),q.height=Math.min(q.height,Y),this.setFramebuffer(B),b(this.gl,q),this.setFramebuffer(Q),q.callback=null,q.isFramebuffer=!1,this},canvasToTexture:function(B,V,Y,$){void 0===Y&&(Y=!1),void 0===$&&($=!1);var J=this.gl,W=J.NEAREST,k=J.NEAREST,N=B.width,H=B.height,X=J.CLAMP_TO_EDGE,K=f(N,H);return!Y&&K&&(X=J.REPEAT),this.config.antialias&&(W=K&&this.mipmapFilter?this.mipmapFilter:J.LINEAR,k=J.LINEAR),V?(V.update(B,N,H,$,X,X,W,k,V.format),V):this.createTexture2D(0,W,k,X,X,J.RGBA,B,N,H,!0,!1,$)},createCanvasTexture:function(B,V,Y){return void 0===V&&(V=!1),void 0===Y&&(Y=!1),this.canvasToTexture(B,null,V,Y)},updateCanvasTexture:function(B,V,Y,$){return void 0===Y&&(Y=!1),void 0===$&&($=!1),this.canvasToTexture(B,V,$,Y)},videoToTexture:function(B,V,Y,$){void 0===Y&&(Y=!1),void 0===$&&($=!1);var J=this.gl,W=J.NEAREST,k=J.NEAREST,N=B.videoWidth,H=B.videoHeight,X=J.CLAMP_TO_EDGE,K=f(N,H);return!Y&&K&&(X=J.REPEAT),this.config.antialias&&(W=K&&this.mipmapFilter?this.mipmapFilter:J.LINEAR,k=J.LINEAR),V?(V.update(B,N,H,$,X,X,W,k,V.format),V):this.createTexture2D(0,W,k,X,X,J.RGBA,B,N,H,!0,!0,$)},createVideoTexture:function(B,V,Y){return void 0===V&&(V=!1),void 0===Y&&(Y=!1),this.videoToTexture(B,null,V,Y)},updateVideoTexture:function(B,V,Y,$){return void 0===Y&&(Y=!1),void 0===$&&($=!1),this.videoToTexture(B,V,$,Y)},createUint8ArrayTexture:function(B,V,Y){var $=this.gl,J=$.NEAREST,W=$.NEAREST,k=$.CLAMP_TO_EDGE;return f(V,Y)&&(k=$.REPEAT),this.createTexture2D(0,J,W,k,k,$.RGBA,B,V,Y)},setTextureFilter:function(B,V){var Y=this.gl,$=0===V?Y.LINEAR:Y.NEAREST;Y.activeTexture(Y.TEXTURE0);var J=Y.getParameter(Y.TEXTURE_BINDING_2D);return Y.bindTexture(Y.TEXTURE_2D,B.webGLTexture),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,$),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,$),B.minFilter=$,B.magFilter=$,J&&Y.bindTexture(Y.TEXTURE_2D,J),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(V){V.destroy()};m(this.glAttribLocationWrappers,B),m(this.glBufferWrappers,B),m(this.glFramebufferWrappers,B),m(this.glProgramWrappers,B),m(this.glTextureWrappers,B),m(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});T.exports=z},38683:(T,A,i)=>{var m=i(83419),x=i(95428),h=i(95540),u=i(14500),l=new m({initialize:function(o,f,a,c,p){this.pipeline=o,this.name=f,this.renderer=o.renderer,this.gl=this.renderer.gl,this.fragSrc=c,this.vertSrc=a,this.program=this.renderer.createProgram(a,c),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(s){var o=0,f=0,a=[];this.vertexComponentCount=0;for(var c=0;c<s.length;c++){var p=s[c],d=p.name,v=h(p,"size",1),y=h(p,"type",u.FLOAT),b=y.size;a.push({name:d,size:v,type:y.enum,normalized:!!p.normalized,offset:f,enabled:!1,location:-1}),4===b?o+=v:o++,f+=v*b}this.vertexSize=f,this.vertexComponentCount=o,this.attributes=a},bind:function(s,o){return void 0===s&&(s=!1),void 0===o&&(o=!1),o&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){void 0===s&&(s=!1);for(var o=this.gl,f=this.renderer,a=this.vertexSize,c=this.attributes,p=this.program,d=0;d<c.length;d++){var v=c[d],y=v.size,S=v.type,b=v.offset,C=v.enabled,M=v.location,w=!!v.normalized;if(s){-1!==M&&f.deleteAttribLocation(M);var R=this.renderer.createAttribLocation(p,v.name);R.webGLAttribLocation>=0?(o.enableVertexAttribArray(R.webGLAttribLocation),o.vertexAttribPointer(R.webGLAttribLocation,y,S,w,a,b),v.enabled=!0,v.location=R):-1!==R.webGLAttribLocation&&o.disableVertexAttribArray(R.webGLAttribLocation)}else C?o.vertexAttribPointer(M.webGLAttribLocation,y,S,w,a,b):!C&&-1!==M&&M.webGLAttribLocation>-1&&(o.disableVertexAttribArray(M.webGLAttribLocation),v.location=-1)}return this},createUniforms:function(){var a,c,p,s=this.gl,o=this.program,f=this.uniforms,d=s.getProgramParameter(o.webGLProgram,s.ACTIVE_UNIFORMS);for(a=0;a<d;a++){var v=s.getActiveUniform(o.webGLProgram,a);if(v){null!==(p=this.renderer.createUniformLocation(o,c=v.name))&&(f[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var y=c.indexOf("[");y>0&&(c=c.substr(0,y),f.hasOwnProperty(c)||null!==(p=this.renderer.createUniformLocation(o,c))&&(f[c]={name:c,location:p,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var s=this.gl;for(var o in this.renderer.setProgram(this.program),this.uniforms){var f=this.uniforms[o];f.setter&&f.setter.call(s,f.location.webGLUniformLocation,f.value1,f.value2,f.value3,f.value4)}},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var o=this.uniforms[s];return o&&(o.value1=null,o.value2=null,o.value3=null,o.value4=null),this},setUniform1:function(s,o,f,a){var c=this.uniforms[o];return c?((a||c.value1!==f)&&(c.setter||(c.setter=s),c.value1=f,this.renderer.setProgram(this.program),s.call(this.gl,c.location.webGLUniformLocation,f),this.pipeline.currentShader=this),this):this},setUniform2:function(s,o,f,a,c){var p=this.uniforms[o];return p?((c||p.value1!==f||p.value2!==a)&&(p.setter||(p.setter=s),p.value1=f,p.value2=a,this.renderer.setProgram(this.program),s.call(this.gl,p.location.webGLUniformLocation,f,a),this.pipeline.currentShader=this),this):this},setUniform3:function(s,o,f,a,c,p){var d=this.uniforms[o];return d?((p||d.value1!==f||d.value2!==a||d.value3!==c)&&(d.setter||(d.setter=s),d.value1=f,d.value2=a,d.value3=c,this.renderer.setProgram(this.program),s.call(this.gl,d.location.webGLUniformLocation,f,a,c),this.pipeline.currentShader=this),this):this},setUniform4:function(s,o,f,a,c,p,d){var v=this.uniforms[o];return v?((d||v.value1!==f||v.value2!==a||v.value3!==c||v.value4!==p)&&(v.setter||(v.setter=s),v.value1=f,v.value2=a,v.value3=c,v.value4=p,this.renderer.setProgram(this.program),s.call(this.gl,v.location.webGLUniformLocation,f,a,c,p),this.pipeline.currentShader=this),this):this},setBoolean:function(s,o){return this.setUniform1(this.gl.uniform1i,s,Number(o))},set1f:function(s,o){return this.setUniform1(this.gl.uniform1f,s,o)},set2f:function(s,o,f){return this.setUniform2(this.gl.uniform2f,s,o,f)},set3f:function(s,o,f,a){return this.setUniform3(this.gl.uniform3f,s,o,f,a)},set4f:function(s,o,f,a,c){return this.setUniform4(this.gl.uniform4f,s,o,f,a,c)},set1fv:function(s,o){return this.setUniform1(this.gl.uniform1fv,s,o,!0)},set2fv:function(s,o){return this.setUniform1(this.gl.uniform2fv,s,o,!0)},set3fv:function(s,o){return this.setUniform1(this.gl.uniform3fv,s,o,!0)},set4fv:function(s,o){return this.setUniform1(this.gl.uniform4fv,s,o,!0)},set1iv:function(s,o){return this.setUniform1(this.gl.uniform1iv,s,o,!0)},set2iv:function(s,o){return this.setUniform1(this.gl.uniform2iv,s,o,!0)},set3iv:function(s,o){return this.setUniform1(this.gl.uniform3iv,s,o,!0)},set4iv:function(s,o){return this.setUniform1(this.gl.uniform4iv,s,o,!0)},set1i:function(s,o){return this.setUniform1(this.gl.uniform1i,s,o)},set2i:function(s,o,f){return this.setUniform2(this.gl.uniform2i,s,o,f)},set3i:function(s,o,f,a){return this.setUniform3(this.gl.uniform3i,s,o,f,a)},set4i:function(s,o,f,a,c){return this.setUniform4(this.gl.uniform4i,s,o,f,a,c)},setMatrix2fv:function(s,o,f){return this.setUniform2(this.gl.uniformMatrix2fv,s,o,f,!0)},setMatrix3fv:function(s,o,f){return this.setUniform2(this.gl.uniformMatrix3fv,s,o,f,!0)},setMatrix4fv:function(s,o,f){return this.setUniform2(this.gl.uniformMatrix4fv,s,o,f,!0)},createProgram:function(s,o){return void 0===s&&(s=this.vertSrc),void 0===o&&(o=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=o,this.program=this.renderer.createProgram(s,o),this.createUniforms(),this.rebind()},destroy:function(){var s=this.renderer;x(this.uniforms,function(o){s.deleteUniformLocation(o.location)}),this.uniforms=null,x(this.attributes,function(o){s.deleteAttribLocation(o.location)}),this.attributes=null,s.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});T.exports=l},14500:T=>{T.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(T,A,i)=>{var m=i(14500),x=i(79291),h={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};h=x(!1,h,m),T.exports=h},31302:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(78908),u=i(85191),l=i(14500),s=i(29100),o=new m({Extends:s,initialize:function(a){a.fragShader=x(a,"fragShader",h),a.vertShader=x(a,"vertShader",u),a.batchSize=x(a,"batchSize",1),a.vertices=x(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=x(a,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),s.call(this,a)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,a){s.prototype.resize.call(this,f,a),this.set2f("uResolution",f,a)},beginMask:function(f,a,c){this.renderer.beginBitmapMask(f,c)},endMask:function(f,a,c){var p=this.gl,v=f.bitmapMask;v&&p&&(this.renderer.drawBitmapMask(v,a,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),p.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});T.exports=o},92651:(T,A,i)=>{var m=i(83419),x=i(58918),h=i(14811),u=i(95540),l=i(43558),s=i(89350),o=i(70554),f=new m({Extends:l,initialize:function(c){c.shaders=[o.setGlowQuality(s.FXGlowFrag,c.game),s.FXShadowFrag,s.FXPixelateFrag,s.FXVignetteFrag,s.FXShineFrag,s.FXBlurLowFrag,s.FXBlurMedFrag,s.FXBlurHighFrag,s.FXGradientFrag,s.FXBloomFrag,s.ColorMatrixFrag,s.FXCircleFrag,s.FXBarrelFrag,s.FXDisplacementFrag,s.FXWipeFrag,s.FXBokehFrag],l.call(this,c);var p=this.game;this.glow=new x.Glow(p),this.shadow=new x.Shadow(p),this.pixelate=new x.Pixelate(p),this.vignette=new x.Vignette(p),this.shine=new x.Shine(p),this.gradient=new x.Gradient(p),this.circle=new x.Circle(p),this.barrel=new x.Barrel(p),this.wipe=new x.Wipe(p),this.bokeh=new x.Bokeh(p);var d=[];d[h.GLOW]=this.onGlow,d[h.SHADOW]=this.onShadow,d[h.PIXELATE]=this.onPixelate,d[h.VIGNETTE]=this.onVignette,d[h.SHINE]=this.onShine,d[h.BLUR]=this.onBlur,d[h.GRADIENT]=this.onGradient,d[h.BLOOM]=this.onBloom,d[h.COLOR_MATRIX]=this.onColorMatrix,d[h.CIRCLE]=this.onCircle,d[h.BARREL]=this.onBarrel,d[h.DISPLACEMENT]=this.onDisplacement,d[h.WIPE]=this.onWipe,d[h.BOKEH]=this.onBokeh,this.fxHandlers=d},onDraw:function(a,c,p){this.source=a,this.target=c,this.swap=p;var d=a.width,v=a.height,y=this.tempSprite,S=this.fxHandlers;if(y&&y.preFX)for(var b=y.preFX.list,C=0;C<b.length;C++){var M=b[C];M.active&&S[M.type].call(this,M,d,v)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,c=this.target;this.copy(a,c),this.source=c,this.target=a},onGlow:function(a,c,p){var d=this.shaders[h.GLOW];this.setShader(d),this.glow.onPreRender(a,d,c,p),this.runDraw()},onShadow:function(a){var c=this.shaders[h.SHADOW];this.setShader(c),this.shadow.onPreRender(a,c),this.runDraw()},onPixelate:function(a,c,p){var d=this.shaders[h.PIXELATE];this.setShader(d),this.pixelate.onPreRender(a,d,c,p),this.runDraw()},onVignette:function(a){var c=this.shaders[h.VIGNETTE];this.setShader(c),this.vignette.onPreRender(a,c),this.runDraw()},onShine:function(a,c,p){var d=this.shaders[h.SHINE];this.setShader(d),this.shine.onPreRender(a,d,c,p),this.runDraw()},onBlur:function(a,c,p){var d=u(a,"quality");this.setShader(this.shaders[h.BLUR+d]),this.set1i("uMainSampler",0),this.set2f("resolution",c,p),this.set1f("strength",u(a,"strength")),this.set3fv("color",u(a,"glcolor"));for(var y=u(a,"x"),S=u(a,"y"),b=u(a,"steps"),C=0;C<b;C++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,S),this.runDraw()},onGradient:function(a){var c=this.shaders[h.GRADIENT];this.setShader(c),this.gradient.onPreRender(a,c),this.runDraw()},onBloom:function(a,c,p){var d=this.shaders[h.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",u(a,"blurStrength")),this.set3fv("color",u(a,"glcolor"));for(var v=2/c*u(a,"offsetX"),y=2/p*u(a,"offsetY"),S=u(a,"steps"),b=0;b<S;b++)this.set2f("offset",v,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,c,p){var d=this.shaders[h.CIRCLE];this.setShader(d),this.circle.onPreRender(a,d,c,p),this.runDraw()},onBarrel:function(a){var c=this.shaders[h.BARREL];this.setShader(c),this.barrel.onPreRender(a,c),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[h.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var c=this.shaders[h.WIPE];this.setShader(c),this.wipe.onPreRender(a,c),this.runDraw()},onBokeh:function(a,c,p){var d=this.shaders[h.BOKEH];this.setShader(d),this.bokeh.onPreRender(a,d,c,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});T.exports=f},96569:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(31063),u=i(57516),l=i(61340),s=i(26099),o=i(29100),f=new m({Extends:u,initialize:function(c){var p=x(c,"fragShader",h);c.fragShader=p.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),u.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.lightsActive=!0,this.tempVec2=new s,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){o.prototype.boot.call(this)},onRender:function(a,c){var p=a.sys.lights;if(this.lightsActive=!1,p&&p.active){var d=p.getLights(c),v=d.length;this.lightsActive=!0;var y,b=this.renderer.height,C=c.matrix,M=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",v),y=0;y<v;y++){var w=d[y].light,R=w.color,I="uLights["+y+"].";C.transformPoint(w.x,w.y,M),this.set2f(I+"position",M.x-c.scrollX*w.scrollFactorX*c.zoom,b-(M.y-c.scrollY*w.scrollFactorY*c.zoom)),this.set3f(I+"color",R.r,R.g,R.b),this.set1f(I+"intensity",w.intensity),this.set1f(I+"radius",w.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(a){var p=-a,d=Math.cos(p),v=Math.sin(p);c[1]=v,c[3]=-v,c[0]=c[4]=d}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=a}},setTexture2D:function(a,c){void 0===a&&(a=this.renderer.whiteTexture);var d=this.getNormalMap(c);this.isNewNormalMap(a,d)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(d),this.currentNormalMap=d);var v=0;return c&&c.parentContainer?v=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:c&&(v=c.rotation),this.setNormalMapRotation(v),0},setGameObject:function(a,c){void 0===c&&(c=a.frame);var p=c.glTexture,d=this.getNormalMap(a);if(this.isNewNormalMap(p,d)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(d),this.currentNormalMap=d),a.parentContainer){var v=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(v.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return 0},isNewNormalMap:function(a,c){return this.currentTexture!==a||this.currentNormalMap!==c},getNormalMap:function(a){var c;return a?(a.displayTexture?c=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?c=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(c=Array.isArray(a.tileset)?a.tileset[0].image.dataSource[0]:a.tileset.image.dataSource[0]),c?c.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(a,c,p){this.lightsActive&&u.prototype.batchSprite.call(this,a,c,p)},batchTexture:function(a,c,p,d,v,y,S,b,C,M,w,R,I,L,F,G,z,B,V,Y,$,J,W,k,N,H,X,K,Q,q,_,nt){this.lightsActive&&u.prototype.batchTexture.call(this,a,c,p,d,v,y,S,b,C,M,w,R,I,L,F,G,z,B,V,Y,$,J,W,k,N,H,X,K,Q,q,_,nt)},batchTextureFrame:function(a,c,p,d,v,y,S){this.lightsActive&&u.prototype.batchTextureFrame.call(this,a,c,p,d,v,y,S)}});T.exports=f},56527:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(57516),u=i(45561),l=i(60722),s=i(14500),o=i(29100),f=new m({Extends:h,initialize:function(c){c.fragShader=x(c,"fragShader",u),c.vertShader=x(c,"vertShader",l),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:s.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,c.resizeUniform="uResolution",h.call(this,c)},boot:function(){o.prototype.boot.call(this);var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels)}});T.exports=f},57516:(T,A,i)=>{var m=i(83419),x=i(94811),h=i(95540),u=i(98840),l=i(44667),s=i(61340),o=i(70554),f=i(14500),a=i(29100),c=new m({Extends:a,initialize:function(d){var v=d.game.renderer,y=h(d,"fragShader",u);d.fragShader=o.parseFragmentShaderMaxTextures(y,v.maxTextures),d.vertShader=h(d,"vertShader",l),d.attributes=h(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",a.call(this,d),this._tempMatrix1=new s,this._tempMatrix2=new s,this._tempMatrix3=new s,this.calcMatrix=new s,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)},batchSprite:function(p,d,v){this.manager.set(this,p);var y=this._tempMatrix1,S=this._tempMatrix2,b=this._tempMatrix3,C=p.frame,M=C.glTexture,w=C.u0,R=C.v0,I=C.u1,L=C.v1,F=C.x,G=C.y,z=C.cutWidth,B=C.cutHeight,V=C.customPivot,Y=p.displayOriginX,$=p.displayOriginY,J=-Y+F,W=-$+G;if(p.isCropped){var k=p._crop;(k.flipX!==p.flipX||k.flipY!==p.flipY)&&C.updateCropUVs(k,p.flipX,p.flipY),w=k.u0,R=k.v0,I=k.u1,L=k.v1,z=k.width,B=k.height,J=-Y+(F=k.x),W=-$+(G=k.y)}var N=1,H=1;p.flipX&&(V||(J+=2*Y-C.realWidth),N=-1),p.flipY&&(V||(W+=2*$-C.realHeight),H=-1);var X=p.x,K=p.y;S.applyITRS(X,K,p.rotation,p.scaleX*N,p.scaleY*H),y.copyFrom(d.matrix),v?(y.multiplyWithOffset(v,-d.scrollX*p.scrollFactorX,-d.scrollY*p.scrollFactorY),S.e=X,S.f=K):(S.e-=d.scrollX*p.scrollFactorX,S.f-=d.scrollY*p.scrollFactorY),y.multiply(S,b);var Q=b.setQuad(J,W,J+z,W+B),q=o.getTintAppendFloatAlpha,_=d.alpha,nt=q(p.tintTopLeft,_*p._alphaTL),st=q(p.tintTopRight,_*p._alphaTR),at=q(p.tintBottomLeft,_*p._alphaBL),lt=q(p.tintBottomRight,_*p._alphaBR);this.shouldFlush(6)&&this.flush();var ht=this.setGameObject(p,C);this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",d.roundPixels),this.batchQuad(p,Q[0],Q[1],Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],w,R,I,L,nt,st,at,lt,p.tintFill,M,ht),this.manager.postBatch(p)},batchTexture:function(p,d,v,y,S,b,C,M,w,R,I,L,F,G,z,B,V,Y,$,J,W,k,N,H,X,K,Q,q,_,nt,st,at,lt){void 0===lt&&(lt=!1),this.manager.set(this,p);var ht=this._tempMatrix1,ut=this._tempMatrix2,mt=this._tempMatrix3,Mt=Y/v+Q,Et=$/y+q,At=(Y+J)/v+Q,vt=($+W)/y+q,St=C,xt=M,zt=-B,Ht=-V;if(p.isCropped){var fe=p._crop,me=fe.width,_t=fe.height;St=me,xt=_t,C=me,M=_t;var jt=Y=fe.x,Me=$=fe.y;L&&(jt=J-fe.x-me),F&&(Me=W-fe.y-_t),Mt=jt/v+Q,Et=Me/y+q,At=(jt+me)/v+Q,vt=(Me+_t)/y+q,zt=-B+Y,Ht=-V+$}L&&(St*=-1,zt+=C),(F^=!st&&d.isRenderTexture?1:0)&&(xt*=-1,Ht+=M),ut.applyITRS(S,b,I,w,R),ht.copyFrom(_.matrix),nt?(ht.multiplyWithOffset(nt,-_.scrollX*G,-_.scrollY*z),ut.e=S,ut.f=b):(ut.e-=_.scrollX*G,ut.f-=_.scrollY*z),ht.multiply(ut,mt);var te=mt.setQuad(zt,Ht,zt+St,Ht+xt);null==at&&(at=this.setTexture2D(d)),p&&!lt&&this.manager.preBatch(p),this.currentShader.set1i("uRoundPixels",_.roundPixels),this.batchQuad(p,te[0],te[1],te[2],te[3],te[4],te[5],te[6],te[7],Mt,Et,At,vt,k,N,H,X,K,d,at),p&&!lt&&this.manager.postBatch(p)},batchTextureFrame:function(p,d,v,y,S,b,C){this.manager.set(this);var M=this._tempMatrix1.copyFrom(b),w=this._tempMatrix2;C?M.multiply(C,w):w=M;var R=w.setQuad(d,v,d+p.width,v+p.height),I=this.setTexture2D(p.source.glTexture);y=o.getTintAppendFloatAlpha(y,S),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],p.u0,p.v0,p.u1,p.v1,y,y,y,y,0,p.glTexture,I)},batchFillRect:function(p,d,v,y,S,b){this.renderer.pipelines.set(this);var C=this.calcMatrix;b&&b.multiply(S,C);var M=C.setQuad(p,d,p+v,d+y),w=this.fillTint;this.batchQuad(null,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],0,0,1,1,w.TL,w.TR,w.BL,w.BR,2)},batchFillTriangle:function(p,d,v,y,S,b,C,M){this.renderer.pipelines.set(this);var w=this.calcMatrix;M&&M.multiply(C,w);var R=w.getX(p,d),I=w.getY(p,d),L=w.getX(v,y),F=w.getY(v,y),G=w.getX(S,b),z=w.getY(S,b),B=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,R,I,L,F,G,z,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(p,d,v,y,S,b,C,M,w){var R=this.tempTriangle;R[0].x=p,R[0].y=d,R[0].width=C,R[1].x=v,R[1].y=y,R[1].width=C,R[2].x=S,R[2].y=b,R[2].width=C,R[3].x=p,R[3].y=d,R[3].width=C,this.batchStrokePath(R,C,!1,M,w)},batchFillPath:function(p,d,v){this.renderer.pipelines.set(this);var y=this.calcMatrix;v&&v.multiply(d,y);for(var C,M,S=p.length,b=this.polygonCache,w=this.fillTint.TL,R=this.fillTint.TR,I=this.fillTint.BL,L=0;L<S;++L)b.push((M=p[L]).x,M.y);S=(C=x(b)).length,this.currentShader.set1i("uRoundPixels",!1);for(var F=0;F<S;F+=3){var G=2*C[F+0],z=2*C[F+1],B=2*C[F+2],V=b[G+0],Y=b[G+1],$=b[z+0],J=b[z+1],W=b[B+0],k=b[B+1],N=y.getX(V,Y),H=y.getY(V,Y),X=y.getX($,J),K=y.getY($,J),Q=y.getX(W,k),q=y.getY(W,k);this.batchTri(null,N,H,X,K,Q,q,0,0,1,1,w,R,I,2)}b.length=0},batchStrokePath:function(p,d,v,y,S){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var b=p.length-1,C=0;C<b;C++){var M=p[C],w=p[C+1];this.batchLine(M.x,M.y,w.x,w.y,M.width/2,w.width/2,d,C,!v&&C===b-1,y,S)}},batchLine:function(p,d,v,y,S,b,C,M,w,R,I){this.renderer.pipelines.set(this);var L=this.calcMatrix;I&&I.multiply(R,L);var F=v-p,G=y-d,z=Math.sqrt(F*F+G*G);if(0!==z){var B=S*(y-d)/z,V=S*(p-v)/z,Y=b*(y-d)/z,$=b*(p-v)/z,J=v-Y,W=y-$,k=p-B,N=d-V,H=v+Y,X=y+$,K=p+B,Q=d+V,q=L.getX(J,W),_=L.getY(J,W),nt=L.getX(k,N),st=L.getY(k,N),at=L.getX(H,X),lt=L.getY(H,X),ht=L.getX(K,Q),ut=L.getY(K,Q),mt=this.strokeTint,Mt=mt.TL,Et=mt.TR,At=mt.BL,vt=mt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,ht,ut,nt,st,q,_,at,lt,0,0,1,1,Mt,Et,At,vt,2),!(C<=2)){var St=this.prevQuad,xt=this.firstQuad;M>0&&St[4]?this.batchQuad(null,ht,ut,nt,st,St[0],St[1],St[2],St[3],0,0,1,1,Mt,Et,At,vt,2):(xt[0]=ht,xt[1]=ut,xt[2]=nt,xt[3]=st,xt[4]=1),w&&xt[4]?this.batchQuad(null,q,_,at,lt,xt[0],xt[1],xt[2],xt[3],0,0,1,1,Mt,Et,At,vt,2):(St[0]=q,St[1]=_,St[2]=at,St[3]=lt,St[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});T.exports=c},43439:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(4127),u=i(89924),l=i(29100),s=new m({Extends:l,initialize:function(f){f.vertShader=x(f,"vertShader",u),f.fragShader=x(f,"fragShader",h),f.attributes=x(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,f)},onRender:function(o,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(o,f,a,c,p,d,v,y,S,b,C,M){var w=o.color,R=o.intensity,I=o.radius,L=o.attenuation,F=w.r*R,G=w.g*R,z=w.b*R,B=f.alpha*o.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,c,C,M,I,L,F,G,z,B),this.batchLightVert(p,d,C,M,I,L,F,G,z,B),this.batchLightVert(v,y,C,M,I,L,F,G,z,B),this.batchLightVert(a,c,C,M,I,L,F,G,z,B),this.batchLightVert(v,y,C,M,I,L,F,G,z,B),this.batchLightVert(S,b,C,M,I,L,F,G,z,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(o,f,a,c,p,d,v,y,S,b){var C=this.vertexViewF32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++M]=o,C[++M]=f,C[++M]=a,C[++M]=c,C[++M]=p,C[++M]=d,C[++M]=v,C[++M]=y,C[++M]=S,C[++M]=b,this.vertexCount++}});T.exports=s},84057:(T,A,i)=>{var m=i(83419),x=i(89422),h=i(95540),u=i(27681),l=i(49627),s=i(29100),o=new m({Extends:s,initialize:function(a){a.renderTarget=h(a,"renderTarget",1),a.fragShader=h(a,"fragShader",u),a.vertShader=h(a,"vertShader",l),a.attributes=h(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],s.call(this,a),this.isPostFX=!0,this.colorMatrix=new x,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){s.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2;var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels);for(var c=this.renderTargets,p=0;p<c.length;p++)c[p].autoResize=!0},postBatch:function(f){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return void 0!==f?f:this.controller?this.controller:this},copySprite:function(f,a,c){void 0===c&&(c=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,f.texture.webGLTexture);var d=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,a.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),c&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,d))},copyFrame:function(f,a,c,p,d){this.manager.copyFrame(f,a,c,p,d)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,a,c){this.manager.drawFrame(f,a,c,this.colorMatrix)},blendFrames:function(f,a,c,p,d){this.manager.blendFrames(f,a,c,p,d)},blendFramesAdditive:function(f,a,c,p,d){this.manager.blendFramesAdditive(f,a,c,p,d)},clearFrame:function(f,a){this.manager.clearFrame(f,a)},blitFrame:function(f,a,c,p,d,v){this.manager.blitFrame(f,a,c,p,d,v)},copyFrameRect:function(f,a,c,p,d,v,y,S){this.manager.copyFrameRect(f,a,c,p,d,v,y,S)},bindAndDraw:function(f,a,c,p,d){void 0===c&&(c=!0),void 0===p&&(p=!0);var v=this.gl,y=this.renderer;this.bind(d),this.set1i("uMainSampler",0),a?(v.viewport(0,0,a.width,a.height),v.bindFramebuffer(v.FRAMEBUFFER,a.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,a.texture.webGLTexture,0),c&&(v.clearColor(0,0,0,p?0:1),v.clear(v.COLOR_BUFFER_BIT))):(y.popFramebuffer(!1,!1),y.currentFramebuffer||v.viewport(0,0,y.width,y.height)),y.restoreStencilMask(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,f.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),a&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,y.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),s.prototype.destroy.call(this),this}});T.exports=o},43558:(T,A,i)=>{var m=i(10312),x=i(67502),h=i(83419),u=i(96293),l=i(95540),s=i(57516),o=i(27681),f=i(87841),a=i(32302),c=i(45561),p=i(60722),d=i(29100),v=new h({Extends:s,initialize:function(S){var b=l(S,"fragShader",o),C=l(S,"vertShader",p),M=l(S,"drawShader",o),w=[{name:"DrawSprite",fragShader:c,vertShader:p},{name:"CopySprite",fragShader:b,vertShader:C},{name:"DrawGame",fragShader:M,vertShader:p},{name:"ColorMatrix",fragShader:u}],R=l(S,"shaders",[]);S.shaders=w.concat(R),S.vertShader||(S.vertShader=C),S.batchSize=1,s.call(this,S),this.isPreFX=!0,this.customMainSampler=null,this.spriteBounds=new f,this.targetBounds=new f,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var y=this.shaders,S=this.renderer;this.drawSpriteShader=y[0],this.copyShader=y[1],this.gameShader=y[2],this.colorMatrixShader=y[3],this.fsTarget=new a(S,S.width,S.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var b=new ArrayBuffer(168);this.quadVertexData=b,this.quadVertexViewF32=new Float32Array(b),this.quadVertexBuffer=S.createVertexBuffer(b,this.gl.STATIC_DRAW),this.onResize(S.width,S.height),this.currentShader=this.copyShader,this.set2f("uResolution",S.width,S.height),this.set1i("uRoundPixels",S.config.roundPixels)},onResize:function(y,S){var b=this.quadVertexViewF32;b[1]=S,b[22]=S,b[14]=y,b[28]=y,b[35]=y,b[36]=S},batchQuad:function(y,S,b,C,M,w,R,I,L,F,G,z,B,V,Y,$,J,W,k){var N=Math.min(S,C,w,I),H=Math.min(b,M,R,L),Q=Math.max(S,C,w,I)-N,q=Math.max(b,M,R,L)-H,_=this.spriteBounds.setTo(N,H,Q,q),nt=y?y.preFX.padding:0,lt=Math.abs(Math.max(Q+2*nt,q+2*nt)),ht=this.manager.getRenderTarget(lt),ut=this.targetBounds.setTo(0,0,ht.width,ht.height);x(ut,_.centerX,_.centerY),this.tempSprite=y;var mt=this.gl,Mt=this.renderer;Mt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Mt.width,Mt.height),this.set1i("uRoundPixels",Mt.config.roundPixels),this.flipProjectionMatrix(!0),y&&(this.onDrawSprite(y,ht),y.preFX.onFX(this));var Et=this.fsTarget;return this.flush(),mt.viewport(0,0,Mt.width,Mt.height),mt.bindFramebuffer(mt.FRAMEBUFFER,Et.framebuffer.webGLFramebuffer),mt.framebufferTexture2D(mt.FRAMEBUFFER,mt.COLOR_ATTACHMENT0,mt.TEXTURE_2D,Et.texture.webGLTexture,0),mt.clearColor(0,0,0,0),mt.clear(mt.COLOR_BUFFER_BIT),this.setTexture2D(k),this.batchVert(S,b,F,G,0,W,V),this.batchVert(C,M,F,B,0,W,$),this.batchVert(w,R,z,B,0,W,J),this.batchVert(S,b,F,G,0,W,V),this.batchVert(w,R,z,B,0,W,J),this.batchVert(I,L,z,G,0,W,Y),this.flush(),this.flipProjectionMatrix(!1),mt.activeTexture(mt.TEXTURE0),mt.bindTexture(mt.TEXTURE_2D,ht.texture.webGLTexture),mt.copyTexSubImage2D(mt.TEXTURE_2D,0,0,0,ut.x,ut.y,ut.width,ut.height),mt.bindFramebuffer(mt.FRAMEBUFFER,null),mt.bindTexture(mt.TEXTURE_2D,null),this.onBatch(y),this.currentShader=this.copyShader,this.onDraw(ht,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(y,S,b,C,M,w,R){void 0===b&&(b=!0),void 0===C&&(C=!0),void 0===M&&(M=!1),void 0===R&&(R=this.copyShader);var I=this.gl,L=this.tempSprite;w&&(R=this.colorMatrixShader),this.currentShader=R;var F=this.setVertexBuffer(this.quadVertexBuffer);R.bind(F,!1);var G=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",G.width,G.height),this.set1i("uRoundPixels",G.config.roundPixels),L.preFX.onFXCopy(this),this.onCopySprite(y,S,L),w&&(this.set1fv("uColorMatrix",w.getData()),this.set1f("uAlpha",w.alpha)),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,y.texture.webGLTexture),y.height>S.height?(I.viewport(0,0,y.width,y.height),this.setTargetUVs(y,S)):(I.viewport(0,S.height-y.height,y.width,y.height),this.resetUVs()),I.bindFramebuffer(I.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,S.texture.webGLTexture,0),b&&(I.clearColor(0,0,0,+!C),I.clear(I.COLOR_BUFFER_BIT)),M){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}I.bufferData(I.ARRAY_BUFFER,this.quadVertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),M&&this.renderer.setBlendMode(B),I.bindFramebuffer(I.FRAMEBUFFER,null)},copy:function(y,S){var b=this.gl;this.set1i("uMainSampler",0),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,y.texture.webGLTexture),b.viewport(0,0,y.width,y.height),this.setUVs(0,0,0,1,1,1,1,0),b.bindFramebuffer(b.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,S.texture.webGLTexture,0),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.bufferData(b.ARRAY_BUFFER,this.quadVertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),b.bindFramebuffer(b.FRAMEBUFFER,null)},blendFrames:function(y,S,b,C,M){this.manager.blendFrames(y,S,b,C,M)},blendFramesAdditive:function(y,S,b,C,M){this.manager.blendFramesAdditive(y,S,b,C,M)},drawToGame:function(y){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(y)},copyToGame:function(y){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(y)},bindAndDraw:function(y){var S=this.gl,b=this.renderer;this.set1i("uMainSampler",0),this.setTexture2D(this.customMainSampler?this.customMainSampler:y.texture);var C=this._tempMatrix1.loadIdentity(),M=this.targetBounds.x,w=this.targetBounds.y,R=M+y.width,I=w+y.height,L=C.getX(M,w),F=C.getX(M,I),G=C.getX(R,I),z=C.getX(R,w),B=C.getY(M,w),V=C.getY(M,I),Y=C.getY(R,I),$=C.getY(R,w),J=16777215;this.batchVert(L,B,0,0,0,0,J),this.batchVert(F,V,0,1,0,0,J),this.batchVert(G,Y,1,1,0,0,J),this.batchVert(L,B,0,0,0,0,J),this.batchVert(G,Y,1,1,0,0,J),this.batchVert(z,$,1,0,0,0,J),b.restoreFramebuffer(!1,!0),b.currentFramebuffer||S.viewport(0,0,b.width,b.height),b.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(y){this.drawToGame(y)},setUVs:function(y,S,b,C,M,w,R,I){var L=this.quadVertexViewF32;L[2]=y,L[3]=S,L[9]=b,L[10]=C,L[16]=M,L[17]=w,L[23]=y,L[24]=S,L[30]=M,L[31]=w,L[37]=R,L[38]=I},setTargetUVs:function(y,S){var b=S.height/y.height;this.setUVs(0,b=b>.5?.5-(b-.5):.5-b+.5,0,1+b,1,1+b,1,b)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,s.prototype.destroy.call(this),this}});T.exports=v},81041:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(57516),u=new m({Extends:h,initialize:function(s){s.topology=5,s.batchSize=x(s,"batchSize",256),h.call(this,s)}});T.exports=u},12385:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(57516),u=i(45561),l=i(60722),s=i(29100),o=new m({Extends:h,initialize:function(a){a.fragShader=x(a,"fragShader",u),a.vertShader=x(a,"vertShader",l),a.forceZero=!0,h.call(this,a)},boot:function(){s.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height),this.set1i("uRoundPixels",f.config.roundPixels)}});T.exports=o},7589:(T,A,i)=>{var m=i(35407),x=i(10312),h=i(83419),u=i(89422),l=i(96293),s=i(36682),o=i(95540),f=i(48247),a=i(49627),c=i(29100),p=new h({Extends:c,initialize:function(v){v.renderTarget=o(v,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),v.vertShader=o(v,"vertShader",a),v.shaders=o(v,"shaders",[{name:"Copy",fragShader:s},{name:"AddBlend",fragShader:m},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:l}]),v.attributes=o(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),v.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],v.batchSize=1,c.call(this,v),this.colorMatrix=new u},boot:function(){c.prototype.boot.call(this);var d=this.shaders,v=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=v[0],this.fullFrame2=v[1],this.halfFrame1=v[2],this.halfFrame2=v[3]},copyFrame:function(d,v,y,S,b){void 0===y&&(y=1),void 0===S&&(S=!0),void 0===b&&(b=!0);var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),v?(C.viewport(0,0,v.width,v.height),C.bindFramebuffer(C.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,v.texture.webGLTexture,0)):C.viewport(0,0,d.width,d.height),S&&(C.clearColor(0,0,0,b?0:1),C.clear(C.COLOR_BUFFER_BIT)),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blitFrame:function(d,v,y,S,b,C,M){void 0===y&&(y=1),void 0===S&&(S=!0),void 0===b&&(b=!0),void 0===C&&(C=!1),void 0===M&&(M=!1);var w=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,d.texture.webGLTexture),d.height>v.height?(w.viewport(0,0,d.width,d.height),this.setTargetUVs(d,v)):w.viewport(0,v.height-d.height,d.width,d.height),w.bindFramebuffer(w.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,v.texture.webGLTexture,0),S&&(w.clearColor(0,0,0,b?0:1),w.clear(w.COLOR_BUFFER_BIT)),C){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}M&&this.flipY(),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),C&&this.renderer.setBlendMode(I),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,v,y,S,b,C,M,w){void 0===M&&(M=!0),void 0===w&&(w=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,d.texture.webGLTexture,0),M&&(R.clearColor(0,0,0,w?0:1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,v.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,y,S,b,C),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(d){var v=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,d.texture.webGLTexture),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6)},drawFrame:function(d,v,y,S){void 0===y&&(y=!0),void 0===S&&(S=this.colorMatrix);var b=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",S.getData()),this.set1f("uAlpha",S.alpha),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,d.texture.webGLTexture),v?(b.viewport(0,0,v.width,v.height),b.bindFramebuffer(b.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,v.texture.webGLTexture,0)):b.viewport(0,0,d.width,d.height),b.clearColor(0,0,0,y?0:1),b.clear(b.COLOR_BUFFER_BIT),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},blendFrames:function(d,v,y,S,b,C){void 0===S&&(S=1),void 0===b&&(b=!0),void 0===C&&(C=this.linearShader);var M=this.gl;this.setShader(C),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",S),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,d.texture.webGLTexture),M.activeTexture(M.TEXTURE1),M.bindTexture(M.TEXTURE_2D,v.texture.webGLTexture),y?(M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0),M.viewport(0,0,y.width,y.height)):M.viewport(0,0,d.width,d.height),M.clearColor(0,0,0,b?0:1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFramesAdditive:function(d,v,y,S,b){this.blendFrames(d,v,y,S,b,this.addShader)},clearFrame:function(d,v){void 0===v&&(v=!0);var y=this.gl;y.viewport(0,0,d.width,d.height),y.bindFramebuffer(y.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),y.clearColor(0,0,0,v?0:1),y.clear(y.COLOR_BUFFER_BIT),y.bindFramebuffer(y.FRAMEBUFFER,this.renderer.currentFramebuffer.webGLFramebuffer)},setUVs:function(d,v,y,S,b,C,M,w){var R=this.vertexViewF32;R[2]=d,R[3]=v,R[6]=y,R[7]=S,R[10]=b,R[11]=C,R[14]=d,R[15]=v,R[18]=b,R[19]=C,R[22]=M,R[23]=w},setTargetUVs:function(d,v){var y=v.height/d.height;this.setUVs(0,y=y>.5?.5-(y-.5):.5-y+.5,0,1+y,1,1+y,1,y)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});T.exports=p},36060:T=>{T.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:T=>{T.exports="pipelineafterflush"},36712:T=>{T.exports="pipelinebeforeflush"},40285:T=>{T.exports="pipelinebind"},65918:T=>{T.exports="pipelineboot"},92852:T=>{T.exports="pipelinedestroy"},56072:T=>{T.exports="pipelinerebind"},57566:T=>{T.exports="pipelineresize"},77085:(T,A,i)=>{T.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(T,A,i)=>{var m=i(83419),x=i(99155),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.amount=1},onPreRender:function(l,s){l=this.getController(l),this.set1f("amount",l.amount,s)}});T.exports=u},67329:(T,A,i)=>{var m=i(83419),x=i(24400),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var s=this.getController(),o=this.fullFrame1,f=this.fullFrame2;this.copyFrame(l,f);for(var a=2/l.width*s.offsetX,c=2/l.height*s.offsetY,p=0;p<s.steps;p++)this.set2f("offset",a,0),this.copySprite(l,o),this.set2f("offset",0,c),this.copySprite(o,l);this.blendFrames(f,l,o,s.strength),this.copyToGame(o)}});T.exports=u},8861:(T,A,i)=>{var m=i(83419),x=i(41514),h=i(51078),u=i(94328),l=i(84057),s=new m({Extends:l,initialize:function(f){l.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:h},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(o){var f=this.getController(),a=this.gl,c=this.fullFrame1,p=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.shaders[f.quality]),a.activeTexture(a.TEXTURE0),a.viewport(0,0,o.width,o.height),this.set1i("uMainSampler",0),this.set2f("resolution",o.width,o.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var d=0;d<f.steps;d++)this.set2f("offset",f.x,0),this.copySprite(o,c),this.set2f("offset",0,f.y),this.copySprite(c,o);a.bindFramebuffer(a.FRAMEBUFFER,p),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(o)}});T.exports=s},51051:(T,A,i)=>{var m=i(83419),x=i(90610),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,s,o,f){l=this.getController(l),this.set1f("radius",l.radius,s),this.set1f("amount",l.amount,s),this.set1f("contrast",l.contrast,s),this.set1f("strength",l.strength,s),this.set2f("blur",l.blurX,l.blurY,s),this.setBoolean("isTiltShift",l.isTiltShift,s),o&&f&&this.set2f("resolution",o,f,s)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});T.exports=u},89428:(T,A,i)=>{var m=i(83419),x=i(91899),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,s,o,f){l=this.getController(l),this.set1f("scale",l.scale,s),this.set1f("feather",l.feather,s),this.set1f("thickness",l.thickness,s),this.set3fv("color",l.glcolor,s),this.set4fv("backgroundColor",l.glcolor2,s),o&&f&&this.set2f("resolution",o,f,s)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});T.exports=u},88904:(T,A,i)=>{var m=i(83419),x=i(84057),h=new m({Extends:x,initialize:function(l){x.call(this,{game:l})},onDraw:function(u){var l=this.fullFrame1;this.controller?this.manager.drawFrame(u,l,!0,this.controller):this.drawFrame(u,l),this.copyToGame(l)}});T.exports=h},63563:(T,A,i)=>{var m=i(83419),x=i(47838),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.x=.005,this.y=.005},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var s=this.game.textures.getFrame(l);s&&(this.glTexture=s.glTexture)},onDraw:function(l){var s=this.getController(),o=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.copySprite(l,o),this.copyToGame(o)}});T.exports=u},94045:(T,A,i)=>{var m=i(83419),x=i(95540),h=i(98656),u=i(84057),l=i(70554),s=new m({Extends:u,initialize:function(f,a){var c=x(a,"quality",.1),p=x(a,"distance",10);u.call(this,{game:f,fragShader:l.setGlowQuality(h,f,c,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(o,f,a,c){o=this.getController(o),this.set1f("outerStrength",o.outerStrength,f),this.set1f("innerStrength",o.innerStrength,f),this.set4fv("glowColor",o.glcolor,f),this.setBoolean("knockout",o.knockout,f),a&&c&&this.set2f("resolution",a,c,f)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});T.exports=s},74088:(T,A,i)=>{var m=i(83419),x=i(70463),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,s){l=this.getController(l),this.set1f("alpha",l.alpha,s),this.set1i("size",l.size,s),this.set3fv("color1",l.glcolor1,s),this.set3fv("color2",l.glcolor2,s),this.set2f("positionFrom",l.fromX,l.fromY,s),this.set2f("positionTo",l.toX,l.toY,s)}});T.exports=u},99636:(T,A,i)=>{var m=i(83419),x=i(50831),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.amount=1},onPreRender:function(l,s,o,f){l=this.getController(l),this.set1f("amount",l.amount,s),o&&f&&this.set2f("resolution",o,f,s)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});T.exports=u},34700:(T,A,i)=>{var m=i(83419),x=i(92595),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,s){var o=(l=this.getController(l)).samples;this.set1i("samples",o,s),this.set1f("intensity",l.intensity,s),this.set1f("decay",l.decay,s),this.set1f("power",l.power/o,s),this.set2f("lightPosition",l.x,l.y,s),this.set4fv("color",l.glcolor,s)}});T.exports=u},91157:(T,A,i)=>{var m=i(83419),x=i(72464),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,s,o,f){l=this.getController(l),this.setTime("time",s),this.set1f("speed",l.speed,s),this.set1f("lineWidth",l.lineWidth,s),this.set1f("gradient",l.gradient,s),this.setBoolean("reveal",l.reveal,s),o&&f&&this.set2f("resolution",o,f,s)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});T.exports=u},27797:(T,A,i)=>{var m=i(83419),x=i(39249),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,s){l=this.getController(l),this.set1f("radius",l.radius,s),this.set1f("strength",l.strength,s),this.set2f("position",l.x,l.y,s)}});T.exports=u},67603:(T,A,i)=>{var m=i(83419),x=i(2878),h=i(84057),u=new m({Extends:h,initialize:function(s){h.call(this,{game:s,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,s){l=this.getController(l),this.set4f("config",l.progress,l.wipeWidth,l.direction,l.axis,s),this.setBoolean("reveal",l.reveal,s)}});T.exports=u},58918:(T,A,i)=>{var m={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};T.exports=m},96615:(T,A,i)=>{var m=i(36060),x=i(79291),h={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};h=x(!1,h,m),T.exports=h},35407:T=>{T.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:T=>{T.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:T=>{T.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:T=>{T.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:T=>{T.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:T=>{T.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:T=>{T.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:T=>{T.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:T=>{T.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:T=>{T.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:T=>{T.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:T=>{T.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:T=>{T.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:T=>{T.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:T=>{T.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:T=>{T.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:T=>{T.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:T=>{T.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:T=>{T.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:T=>{T.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:T=>{T.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:T=>{T.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:T=>{T.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:T=>{T.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:T=>{T.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:T=>{T.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:T=>{T.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:T=>{T.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:T=>{T.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:T=>{T.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:T=>{T.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:T=>{T.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:T=>{T.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:T=>{T.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(T,A,i)=>{T.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s){this.webGLAttribLocation=-1,this.gl=u,this.program=l,this.name=s,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var h=this.gl;h.isContextLost()||(this.webGLAttribLocation=h.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});T.exports=x},26128:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=l,this.bufferType=s,this.bufferUsage=o,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var h=this.gl;if(!h.isContextLost()){var u=this.bufferType,l=h.createBuffer();this.webGLBuffer=l,h.bindBuffer(u,this.webGLBuffer),h.bufferData(u,this.initialDataOrSize,this.bufferUsage),h.bindBuffer(u,null)}}},destroy:function(){var h=this.gl;h.isContextLost()||h.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});T.exports=x},84387:(T,A,i)=>{var m=i(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},h=new m({initialize:function(l,s,o,f,a){this.webGLFramebuffer=null,this.gl=l,this.width=s,this.height=o,this.renderTexture=f,this.addDepthStencilBuffer=!!a,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var s,l=this.renderTexture,o=u.createFramebuffer();if(this.webGLFramebuffer=o,u.bindFramebuffer(u.FRAMEBUFFER,o),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l.webGLTexture,0),(s=u.checkFramebufferStatus(u.FRAMEBUFFER))!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[s]||s));if(this.addDepthStencilBuffer){var f=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,f),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,f)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var l=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==l&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(l));var s=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==s&&u.deleteRenderbuffer(s),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});T.exports=h},1482:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s){this.webGLProgram=null,this.gl=u,this.vertexSource=l,this.fragmentSource=s,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var u=h.createProgram(),l=h.createShader(h.VERTEX_SHADER),s=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(l,this.vertexSource),h.shaderSource(s,this.fragmentSource),h.compileShader(l),h.compileShader(s);var o="Shader failed:\n";if(!h.getShaderParameter(l,h.COMPILE_STATUS))throw new Error("Vertex "+o+h.getShaderInfoLog(l));if(!h.getShaderParameter(s,h.COMPILE_STATUS))throw new Error("Fragment "+o+h.getShaderInfoLog(s));if(h.attachShader(u,l),h.attachShader(u,s),h.linkProgram(u),!h.getProgramParameter(u,h.LINK_STATUS))throw new Error("Link "+o+h.getProgramInfoLog(u));h.useProgram(u),this.webGLProgram=u}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});T.exports=x},82751:(T,A,i)=>{var m=i(83419),x=i(50030),h=new m({initialize:function(l,s,o,f,a,c,p,d,v,y,S,b,C){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=s,this.minFilter=o,this.magFilter=f,this.wrapT=a,this.wrapS=c,this.format=p,this.pixels=d,this.width=v,this.height=y,this.pma=S??!0,this.forceSize=!!b,this.flipY=!!C,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof h)return void(this.webGLTexture=this.pixels.webGLTexture);var l=u.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(u,l,s,o,f,a,c,p,d){0!==l&&0!==s&&(this.pixels=u,this.width=l,this.height=s,this.flipY=o,this.wrapS=f,this.wrapT=a,this.minFilter=c,this.magFilter=p,this.format=d,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var l=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var s=this.pixels,o=this.mipLevel,f=this.width,a=this.height,c=this.format,p=!1;if(null==s)u.texImage2D(u.TEXTURE_2D,o,c,f,a,0,c,u.UNSIGNED_BYTE,null),p=x(f,a);else if(s.compressed){f=s.width,a=s.height,p=s.generateMipmap;for(var d=0;d<s.mipmaps.length;d++)u.compressedTexImage2D(u.TEXTURE_2D,d,s.internalFormat,s.mipmaps[d].width,s.mipmaps[d].height,0,s.mipmaps[d].data)}else s instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,o,c,f,a,0,c,u.UNSIGNED_BYTE,s),p=x(f,a)):(this.forceSize||(f=s.width,a=s.height),u.texImage2D(u.TEXTURE_2D,o,c,c,u.UNSIGNED_BYTE,s),p=x(f,a));p&&u.generateMipmap(u.TEXTURE_2D),u.bindTexture(u.TEXTURE_2D,l||null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof h||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});T.exports=h},57183:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s){this.webGLUniformLocation=null,this.gl=u,this.program=l,this.name=s,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var h=this.gl;h.isContextLost()||(this.webGLUniformLocation=h.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});T.exports=x},9503:(T,A,i)=>{var m={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};T.exports=m},76531:(T,A,i)=>{var m=i(13560),x=i(83419),h=i(50792),u=i(97480),l=i(8443),s=i(57811),o=i(74403),f=i(45818),a=i(29747),c=i(87841),p=i(86555),d=i(56583),v=i(26099),y=i(38058),S=new x({Extends:h,initialize:function(C){h.call(this),this.game=C,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=m.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=m.CENTER.NO_CENTER,this.orientation=m.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},boot:function(){var b=this.game;this.canvas=b.canvas,this.fullscreen=b.device.fullscreen,this.scaleMode!==m.SCALE_MODE.RESIZE&&this.scaleMode!==m.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===m.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),b.events.on(l.PRE_STEP,this.step,this),b.events.once(l.READY,this.refresh,this),b.events.once(l.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(b){this.getParent(b),this.getParentBounds();var C=b.width,M=b.height,w=b.scaleMode,R=b.zoom,I=b.autoRound;if("string"==typeof C)if("%"!==C.substr(-1))C=parseInt(C,10);else{var L=this.parentSize.width;0===L&&(L=window.innerWidth);var F=parseInt(C,10)/100;C=Math.floor(L*F)}if("string"==typeof M)if("%"!==M.substr(-1))M=parseInt(M,10);else{var G=this.parentSize.height;0===G&&(G=window.innerHeight);var z=parseInt(M,10)/100;M=Math.floor(G*z)}this.scaleMode=w,this.autoRound=I,this.autoCenter=b.autoCenter,this.resizeInterval=b.resizeInterval,I&&(C=Math.floor(C),M=Math.floor(M)),this.gameSize.setSize(C,M),R===m.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,1!==R&&(this._resetZoom=!0),this.baseSize.setSize(C,M),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),b.minWidth>0&&this.displaySize.setMin(b.minWidth*R,b.minHeight*R),b.maxWidth>0&&this.displaySize.setMax(b.maxWidth*R,b.maxHeight*R),this.displaySize.setSize(C,M),(b.snapWidth>0||b.snapHeight>0)&&this.displaySize.setSnap(b.snapWidth,b.snapHeight),this.orientation=f(C,M)},getParent:function(b){var C=b.parent;if(null!==C){if(this.parent=o(C),this.parentIsWindow=this.parent===document.body,b.expandParent&&b.scaleMode!==m.SCALE_MODE.NONE){var M=this.parent.getBoundingClientRect();(this.parentIsWindow||0===M.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",M=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===M.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}b.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=o(b.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var b=this.parentSize,C=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(C.height=s(!0));var M=C.width,w=C.height;if(b.width!==M||b.height!==w)return b.setSize(M,w),!0;if(this.canvas){var R=this.canvasBounds,I=this.canvas.getBoundingClientRect();if(I.x!==R.x||I.y!==R.y)return!0}return!1},lockOrientation:function(b){var C=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!C&&C.call(screen,b)},setParentSize:function(b,C){return this.parentSize.setSize(b,C),this.refresh()},setGameSize:function(b,C){var M=this.autoRound;M&&(b=Math.floor(b),C=Math.floor(C));var w=this.width,R=this.height;return this.gameSize.resize(b,C),this.baseSize.resize(b,C),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(b/C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(w,R)},resize:function(b,C){var M=this.zoom,w=this.autoRound;w&&(b=Math.floor(b),C=Math.floor(C));var R=this.width,I=this.height;this.gameSize.resize(b,C),this.baseSize.resize(b,C),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(b*M,C*M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=b*M,G=C*M;return w&&(F=Math.floor(F),G=Math.floor(G)),(F!==b||G!==C)&&(L.width=F+"px",L.height=G+"px"),this.refresh(R,I)},setZoom:function(b){return this.zoom=b,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(b,C){return void 0===b&&(b=0),void 0===C&&(C=b),this.displaySize.setSnap(b,C),this.refresh()},refresh:function(b,C){void 0===b&&(b=this.width),void 0===C&&(C=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var M=this.game.domContainer;if(M){this.baseSize.setCSS(M);var w=this.canvas.style,R=M.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=w.marginLeft,R.marginTop=w.marginTop}return this.emit(u.RESIZE,this.gameSize,this.baseSize,this.displaySize,b,C),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var b=f(this.width,this.height);b!==this.orientation&&(this.orientation=b,this.emit(u.ORIENTATION_CHANGE,b))}},updateScale:function(){var w,R,b=this.canvas.style,I=this.zoom,L=this.autoRound;if(this.scaleMode===m.SCALE_MODE.NONE)this.displaySize.setSize(this.gameSize.width*I,this.gameSize.height*I),w=this.displaySize.width,R=this.displaySize.height,L&&(w=Math.floor(w),R=Math.floor(R)),this._resetZoom&&(b.width=w+"px",b.height=R+"px",this._resetZoom=!1);else if(this.scaleMode===m.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),w=this.displaySize.width,R=this.displaySize.height,L&&(w=Math.floor(w),R=Math.floor(R)),this.canvas.width=w,this.canvas.height=R;else if(this.scaleMode===m.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),w=this.displaySize.width,R=this.displaySize.height,L&&(w=Math.floor(w),R=Math.floor(R)),b.width=w+"px",b.height=R+"px";var F=this.parentSize.width/this.gameSize.width,G=this.parentSize.height/this.gameSize.height;F<G?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/F):this.baseSize.setSize(this.displaySize.width/G,this.gameSize.height),w=this.baseSize.width,R=this.baseSize.height,L&&(w=Math.floor(w),R=Math.floor(R)),this.canvas.width=w,this.canvas.height=R}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),w=this.displaySize.width,R=this.displaySize.height,L&&(w=Math.floor(w),R=Math.floor(R)),b.width=w+"px",b.height=R+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var b=d(this.parentSize.width,this.gameSize.width,0,!0),C=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(b,C),1)},updateCenter:function(){var b=this.autoCenter;if(b!==m.CENTER.NO_CENTER){var C=this.canvas,M=C.style,w=C.getBoundingClientRect(),I=w.height,L=Math.floor((this.parentSize.width-w.width)/2),F=Math.floor((this.parentSize.height-I)/2);b===m.CENTER.CENTER_HORIZONTALLY?F=0:b===m.CENTER.CENTER_VERTICALLY&&(L=0),M.marginLeft=L+"px",M.marginTop=F+"px"}},updateBounds:function(){var b=this.canvasBounds,C=this.canvas.getBoundingClientRect();b.x=C.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),b.y=C.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),b.width=C.width,b.height=C.height},transformX:function(b){return(b-this.canvasBounds.left)*this.displayScale.x},transformY:function(b){return(b-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(b){void 0===b&&(b={navigationUI:"hide"});var C=this.fullscreen;if(C.available){if(!C.active){this.getFullscreenTarget()[C.request](C.keyboard?Element.ALLOW_KEYBOARD_INPUT:b)}}else this.emit(u.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(u.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(b){this.removeFullscreenTarget(),this.emit(u.FULLSCREEN_FAILED,b)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var b=document.createElement("div");b.style.margin="0",b.style.padding="0",b.style.width="100%",b.style.height="100%",this.fullscreenTarget=b,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var b=this.fullscreenTarget;if(b&&b.parentNode){var C=b.parentNode;C.insertBefore(this.canvas,b),C.removeChild(b)}}},stopFullscreen:function(){var b=this.fullscreen;if(!b.available)return this.emit(u.FULLSCREEN_UNSUPPORTED),!1;b.active&&document[b.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(u.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(b){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(b)},startListeners:function(){var b=this,C=this.domlisteners;C.orientationChange=function(){b.updateBounds(),b._checkOrientation=!0,b.dirty=!0,b.refresh()},C.windowResize=function(){b.updateBounds(),b.dirty=!0},window.addEventListener("orientationchange",C.orientationChange,!1),window.addEventListener("resize",C.windowResize,!1),this.fullscreen.available&&(C.fullScreenChange=function(w){return b.onFullScreenChange(w)},C.fullScreenError=function(w){return b.onFullScreenError(w)},["webkit","moz",""].forEach(function(w){document.addEventListener(w+"fullscreenchange",C.fullScreenChange,!1),document.addEventListener(w+"fullscreenerror",C.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",C.fullScreenChange,!1),document.addEventListener("MSFullscreenError",C.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(b,C){b instanceof y||(C=b,b=void 0),void 0===C&&(C=new c);var M=this.baseSize,w=this.parentSize,R=this.canvasBounds,I=this.displayScale;return C.setTo(R.x>=0?0:-R.x*I.x,R.y>=0?0:-R.y*I.y,w.width>=R.width?M.width:M.width-(R.width-w.width)*I.x,w.height>=R.height?M.height:M.height-(R.height-w.height)*I.y),b&&(C.width/=b.zoomX,C.height/=b.zoomY,C.centerX=b.centerX+b.scrollX,C.centerY=b.centerY+b.scrollY),C},step:function(b,C){this.parent&&(this._lastCheck+=C,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var b=this.domlisteners;window.removeEventListener("orientationchange",b.orientationChange,!1),window.removeEventListener("resize",b.windowResize,!1),["webkit","moz",""].forEach(function(M){document.removeEventListener(M+"fullscreenchange",b.fullScreenChange,!1),document.removeEventListener(M+"fullscreenerror",b.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",b.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",b.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===m.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===m.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});T.exports=S},64743:T=>{T.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:T=>{T.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:T=>{T.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:T=>{T.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(T,A,i)=>{var m={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};T.exports=m},56139:T=>{T.exports="enterfullscreen"},2336:T=>{T.exports="fullscreenfailed"},47412:T=>{T.exports="fullscreenunsupported"},51452:T=>{T.exports="leavefullscreen"},20666:T=>{T.exports="orientationchange"},47945:T=>{T.exports="resize"},97480:(T,A,i)=>{T.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(T,A,i)=>{var m=i(79291),x=i(13560),h={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};h=m(!1,h,x.CENTER),h=m(!1,h,x.ORIENTATION),h=m(!1,h,x.SCALE_MODE),h=m(!1,h,x.ZOOM),T.exports=h},27397:(T,A,i)=>{var m=i(95540),x=i(35355);T.exports=function(u){var l=u.game.config.defaultPhysicsSystem,s=m(u.settings,"physics",!1);if(l||s){var o=[];if(l&&o.push(x(l+"Physics")),s)for(var f in s)f=x(f.concat("Physics")),-1===o.indexOf(f)&&o.push(f);return o}}},52106:(T,A,i)=>{var m=i(95540);T.exports=function(h){var u=h.plugins.getDefaultScenePlugins(),l=m(h.settings,"plugins",!1);return Array.isArray(l)?l:u||[]}},87033:T=>{T.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(T,A,i)=>{var m=i(83419),x=i(2368),h=new m({initialize:function(l){this.sys=new x(this,l)},update:function(){}});T.exports=h},60903:(T,A,i)=>{var m=i(83419),x=i(89993),h=i(44594),u=i(8443),l=i(35154),s=i(54899),o=i(29747),f=i(97482),a=i(2368),c=new m({initialize:function(d,v){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,v){Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++)this._pending.push({key:"default",scene:v[y],autoStart:0===y,data:{}})}d.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var p,d,v,y;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new f),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this),p=0;p<this._pending.length;p++){var S;v=(d=this._pending[p]).key,(y=d.scene)instanceof f?S=this.createSceneFromInstance(v,y):"object"==typeof y?S=this.createSceneFromObject(v,y):"function"==typeof y&&(S=this.createSceneFromFunction(v,y)),this.keys[v=S.sys.settings.key]=S,this.scenes.push(S),this._data[v]&&(S.sys.settings.data=this._data[v].data,this._data[v].autoStart&&(d.autoStart=!0)),(d.autoStart||S.sys.settings.active)&&this._start.push(v)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)this.start(d=this._start[p]);this._start.length=0}},processQueue:function(){var p=this._pending.length;if(0!==p||0!==this._queue.length){var v,y;if(p){for(v=0;v<p;v++)this.add((y=this._pending[v]).key,y.scene,y.autoStart,y.data);for(v=0;v<this._start.length;v++)this.start(y=this._start[v]);this._start.length=0,this._pending.length=0}for(v=0;v<this._queue.length;v++)this[(y=this._queue[v]).op](y.keyA,y.keyB);this._queue.length=0}},add:function(p,d,v,y){return void 0===v&&(v=!1),void 0===y&&(y={}),this.isProcessing||!this.isBooted?(this._pending.push({key:p,scene:d,autoStart:v,data:y}),this.isBooted||(this._data[p]={data:y}),null):(p=this.getKey(p,d),d instanceof f?S=this.createSceneFromInstance(p,d):"object"==typeof d?(d.key=p,S=this.createSceneFromObject(p,d)):"function"==typeof d&&(S=this.createSceneFromFunction(p,d)),S.sys.settings.data=y,this.keys[p=S.sys.settings.key]=S,this.scenes.push(S),(v||S.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),S);var S},remove:function(p){if(this.isProcessing)this._queue.push({op:"remove",keyA:p,keyB:null});else{var d=this.getScene(p);if(!d||d.sys.isTransitioning())return this;var v=this.scenes.indexOf(d),y=d.sys.settings.key;v>-1&&(delete this.keys[y],this.scenes.splice(v,1),this._start.indexOf(y)>-1&&(v=this._start.indexOf(y),this._start.splice(v,1)),d.sys.destroy())}return this},bootScene:function(p){var y,d=p.sys,v=d.settings;d.sceneUpdate=o,p.init&&(p.init.call(p,v.data),v.status=x.INIT,v.isTransition&&d.events.emit(h.TRANSITION_INIT,v.transitionFrom,v.transitionDuration)),d.load&&(y=d.load).reset(),y&&p.preload?(p.preload.call(p),v.status=x.LOADING,y.once(s.COMPLETE,this.loadComplete,this),y.start()):this.create(p)},loadComplete:function(p){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,d){this.processQueue(),this.isProcessing=!0;for(var v=this.scenes.length-1;v>=0;v--){var y=this.scenes[v].sys;y.settings.status>x.START&&y.settings.status<=x.RUNNING&&y.step(p,d),y.scenePlugin&&y.scenePlugin._target&&y.scenePlugin.step(p,d)}},render:function(p){for(var d=0;d<this.scenes.length;d++){var v=this.scenes[d].sys;v.settings.visible&&v.settings.status>=x.LOADING&&v.settings.status<x.SLEEPING&&v.render(p)}this.isProcessing=!1},create:function(p){var d=p.sys,v=d.settings;p.create&&(v.status=x.CREATING,p.create.call(p,v.data),v.status===x.DESTROYED)||(v.isTransition&&d.events.emit(h.TRANSITION_START,v.transitionFrom,v.transitionDuration),p.update&&(d.sceneUpdate=p.update),v.status=x.RUNNING,d.events.emit(h.CREATE,p))},createSceneFromFunction:function(p,d){var v=new d;if(v instanceof f){var y=v.sys.settings.key;if(""!==y&&(p=y),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return this.createSceneFromInstance(p,v)}return v.sys=new a(v),v.sys.settings.key=p,v.sys.init(this.game),v},createSceneFromInstance:function(p,d){return""===d.sys.settings.key&&(d.sys.settings.key=p),d.sys.init(this.game),d},createSceneFromObject:function(p,d){var v=new f(d),y=v.sys.settings.key;""!==y?p=y:v.sys.settings.key=p,v.sys.init(this.game);for(var S=["init","preload","create","update","render"],b=0;b<S.length;b++){var C=l(d,S[b],null);C&&(v[S[b]]=C)}if(d.hasOwnProperty("extend"))for(var M in d.extend)if(d.extend.hasOwnProperty(M)){var w=d.extend[M];"data"===M&&v.hasOwnProperty("data")&&"object"==typeof w?v.data.merge(w):"sys"!==M&&(v[M]=w)}return v},getKey:function(p,d){if(p||(p="default"),"function"==typeof d)return p;if(d instanceof f?p=d.sys.settings.key:"object"==typeof d&&d.hasOwnProperty("key")&&(p=d.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add a Scene with duplicate key: "+p);return p},getScenes:function(p,d){void 0===p&&(p=!0),void 0===d&&(d=!1);for(var v=[],y=this.scenes,S=0;S<y.length;S++){var b=y[S];b&&(!p||p&&b.sys.isActive())&&v.push(b)}return d?v.reverse():v},getScene:function(p){if("string"==typeof p){if(this.keys[p])return this.keys[p]}else for(var d=0;d<this.scenes.length;d++)if(p===this.scenes[d])return p;return null},isActive:function(p){var d=this.getScene(p);return d?d.sys.isActive():null},isPaused:function(p){var d=this.getScene(p);return d?d.sys.isPaused():null},isVisible:function(p){var d=this.getScene(p);return d?d.sys.isVisible():null},isSleeping:function(p){var d=this.getScene(p);return d?d.sys.isSleeping():null},pause:function(p,d){var v=this.getScene(p);return v&&v.sys.pause(d),this},resume:function(p,d){var v=this.getScene(p);return v&&v.sys.resume(d),this},sleep:function(p,d){var v=this.getScene(p);return v&&!v.sys.isTransitioning()&&v.sys.sleep(d),this},wake:function(p,d){var v=this.getScene(p);return v&&v.sys.wake(d),this},run:function(p,d){var v=this.getScene(p);if(!v){for(var y=0;y<this._pending.length;y++)if(this._pending[y].key===p){this.queueOp("start",p,d);break}return this}v.sys.isSleeping()?v.sys.wake(d):v.sys.isPaused()?v.sys.resume(d):this.start(p,d)},start:function(p,d){if(!this.isBooted)return this._data[p]={autoStart:!0,data:d},this;var v=this.getScene(p);if(!v)return console.warn("Scene not found for key: "+p),this;var b,y=v.sys,S=y.settings.status;if(S>=x.START&&S<=x.CREATING)return this;if(S>=x.RUNNING&&S<=x.SLEEPING)y.shutdown(),y.sceneUpdate=o,y.start(d);else if(y.sceneUpdate=o,y.start(d),y.load&&(b=y.load),b&&y.settings.hasOwnProperty("pack")&&(b.reset(),b.addPack({payload:y.settings.pack})))return y.settings.status=x.LOADING,b.once(s.COMPLETE,this.payloadComplete,this),b.start(),this;return this.bootScene(v),this},stop:function(p,d){var v=this.getScene(p);if(v&&!v.sys.isTransitioning()&&v.sys.settings.status!==x.SHUTDOWN){var y=v.sys.load;y&&(y.off(s.COMPLETE,this.loadComplete,this),y.off(s.COMPLETE,this.payloadComplete,this)),v.sys.shutdown(d)}return this},switch:function(p,d){var v=this.getScene(p),y=this.getScene(d);return v&&y&&v!==y&&(this.sleep(p),this.isSleeping(d)?this.wake(d):this.start(d)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var d=this.getScene(p);return this.scenes.indexOf(d)},bringToTop:function(p){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:p,keyB:null});else{var d=this.getIndex(p);if(-1!==d&&d<this.scenes.length){var v=this.getScene(p);this.scenes.splice(d,1),this.scenes.push(v)}}return this},sendToBack:function(p){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:p,keyB:null});else{var d=this.getIndex(p);if(-1!==d&&d>0){var v=this.getScene(p);this.scenes.splice(d,1),this.scenes.unshift(v)}}return this},moveDown:function(p){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:p,keyB:null});else{var d=this.getIndex(p);if(d>0){var v=d-1,y=this.getScene(p),S=this.getAt(v);this.scenes[d]=S,this.scenes[v]=y}}return this},moveUp:function(p){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:p,keyB:null});else{var d=this.getIndex(p);if(d<this.scenes.length-1){var v=d+1,y=this.getScene(p),S=this.getAt(v);this.scenes[d]=S,this.scenes[v]=y}}return this},moveAbove:function(p,d){if(p===d)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:p,keyB:d});else{var v=this.getIndex(p),y=this.getIndex(d);if(-1!==v&&-1!==y&&y<v){var S=this.getAt(y);this.scenes.splice(y,1),this.scenes.splice(v+(y>v),0,S)}}return this},moveBelow:function(p,d){if(p===d)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:p,keyB:d});else{var v=this.getIndex(p),y=this.getIndex(d);if(-1!==v&&-1!==y&&y>v){var S=this.getAt(y);this.scenes.splice(y,1),0===v?this.scenes.unshift(S):this.scenes.splice(v-(y<v),0,S)}}return this},queueOp:function(p,d,v){return this._queue.push({op:p,keyA:d,keyB:v}),this},swapPosition:function(p,d){if(p===d)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:p,keyB:d});else{var v=this.getIndex(p),y=this.getIndex(d);if(v!==y&&-1!==v&&-1!==y){var S=this.getAt(v);this.scenes[v]=this.scenes[y],this.scenes[y]=S}}return this},dump:function(){for(var p=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],v=0;v<this.scenes.length;v++){var y=this.scenes[v].sys,S=!y.settings.visible||y.settings.status!==x.RUNNING&&y.settings.status!==x.PAUSED?"[-] ":"[*] ";p.push(S+=y.settings.key+" ("+d[y.settings.status]+")")}console.log(p.join("\n"))},destroy:function(){for(var p=0;p<this.scenes.length;p++)this.scenes[p].sys.destroy();this.systemScene.sys.destroy(),this.update=o,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});T.exports=c},52209:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(44594),u=i(95540),l=i(37277),s=new x({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},start:function(o,f){return void 0===o&&(o=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",o,f),this},restart:function(o){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,o),this},transition:function(o){void 0===o&&(o={});var f=u(o,"target",!1),a=this.manager.getScene(f);if(!f||!this.checkValidTransition(a))return!1;var c=u(o,"duration",1e3);this._elapsed=0,this._target=a,this._duration=c,this._willSleep=u(o,"sleep",!1),this._willRemove=u(o,"remove",!1);var p=u(o,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=u(o,"onUpdateScope",this.scene));var d=u(o,"allowInput",!1);this.settings.transitionAllowInput=d;var v=a.sys.settings;v.isTransition=!0,v.transitionFrom=this.scene,v.transitionDuration=c,v.transitionAllowInput=d,u(o,"moveAbove",!1)?this.manager.moveAbove(this.key,f):u(o,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),a.sys.isSleeping()?a.sys.wake(u(o,"data")):this.manager.start(f,u(o,"data"));var y=u(o,"onStart",null),S=u(o,"onStartScope",this.scene);return y&&y.call(S,this.scene,a,c),this.systems.events.emit(h.TRANSITION_OUT,a,c),!0},checkValidTransition:function(o){return!(!o||o.sys.isActive()||o.sys.isTransitioning()||o===this.scene||this.systems.isTransitioning())},step:function(o,f){this._elapsed+=f,this.transitionProgress=m(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys.settings;this._target.sys.events.emit(h.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(o,f,a,c){return this.manager.add(o,f,a,c)},launch:function(o,f){return o&&o!==this.key&&this.manager.queueOp("start",o,f),this},run:function(o,f){return o&&o!==this.key&&this.manager.queueOp("run",o,f),this},pause:function(o,f){return void 0===o&&(o=this.key),this.manager.queueOp("pause",o,f),this},resume:function(o,f){return void 0===o&&(o=this.key),this.manager.queueOp("resume",o,f),this},sleep:function(o,f){return void 0===o&&(o=this.key),this.manager.queueOp("sleep",o,f),this},wake:function(o,f){return void 0===o&&(o=this.key),this.manager.queueOp("wake",o,f),this},switch:function(o){return o!==this.key&&this.manager.queueOp("switch",this.key,o),this},stop:function(o,f){return void 0===o&&(o=this.key),this.manager.queueOp("stop",o,f),this},setActive:function(o,f,a){void 0===f&&(f=this.key);var c=this.manager.getScene(f);return c&&c.sys.setActive(o,a),this},setVisible:function(o,f){void 0===f&&(f=this.key);var a=this.manager.getScene(f);return a&&a.sys.setVisible(o),this},isSleeping:function(o){return void 0===o&&(o=this.key),this.manager.isSleeping(o)},isActive:function(o){return void 0===o&&(o=this.key),this.manager.isActive(o)},isPaused:function(o){return void 0===o&&(o=this.key),this.manager.isPaused(o)},isVisible:function(o){return void 0===o&&(o=this.key),this.manager.isVisible(o)},swapPosition:function(o,f){return void 0===f&&(f=this.key),o!==f&&this.manager.swapPosition(o,f),this},moveAbove:function(o,f){return void 0===f&&(f=this.key),o!==f&&this.manager.moveAbove(o,f),this},moveBelow:function(o,f){return void 0===f&&(f=this.key),o!==f&&this.manager.moveBelow(o,f),this},remove:function(o){return void 0===o&&(o=this.key),this.manager.remove(o),this},moveUp:function(o){return void 0===o&&(o=this.key),this.manager.moveUp(o),this},moveDown:function(o){return void 0===o&&(o=this.key),this.manager.moveDown(o),this},bringToTop:function(o){return void 0===o&&(o=this.key),this.manager.bringToTop(o),this},sendToBack:function(o){return void 0===o&&(o=this.key),this.manager.sendToBack(o),this},get:function(o){return this.manager.getScene(o)},getStatus:function(o){var f=this.manager.getScene(o);if(f)return f.sys.getStatus()},getIndex:function(o){return void 0===o&&(o=this.key),this.manager.getIndex(o)},shutdown:function(){var o=this.systems.events;o.off(h.SHUTDOWN,this.shutdown,this),o.off(h.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",s,"scenePlugin"),T.exports=s},55681:(T,A,i)=>{var m=i(89993),x=i(35154),h=i(46975),u=i(87033);T.exports={create:function(s){return"string"==typeof s?s={key:s}:void 0===s&&(s={}),{status:m.PENDING,key:x(s,"key",""),active:x(s,"active",!1),visible:x(s,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(s,"pack",!1),cameras:x(s,"cameras",null),map:x(s,"map",h(u,x(s,"mapAdd",{}))),physics:x(s,"physics",{}),loader:x(s,"loader",{}),plugins:x(s,"plugins",!1),input:x(s,"input",{})}}}},2368:(T,A,i)=>{var m=i(83419),x=i(89993),h=i(42363),u=i(44594),l=i(27397),s=i(52106),o=i(29747),f=i(55681),a=new m({initialize:function(p,d){this.scene=p,this.config=d,this.settings=f.create(d),this.sceneUpdate=o},init:function(c){this.settings.status=x.INIT,this.sceneUpdate=o,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var p=c.plugins;this.plugins=p,p.addToScene(this,h.Global,[h.CoreScene,s(this),l(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(c,p){var d=this.events;d.emit(u.PRE_UPDATE,c,p),d.emit(u.UPDATE,c,p),this.sceneUpdate.call(this.scene,c,p),d.emit(u.POST_UPDATE,c,p)},render:function(c){var p=this.displayList;p.depthSort(),this.events.emit(u.PRE_RENDER,c),this.cameras.render(c,p),this.events.emit(u.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var p=this.settings,d=this.getStatus();return d!==x.CREATING&&d!==x.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=x.PAUSED,p.active=!1,this.events.emit(u.PAUSE,this,c)),this},resume:function(c){var p=this.events,d=this.settings;return this.settings.active||(d.status=x.RUNNING,d.active=!0,p.emit(u.RESUME,this,c)),this},sleep:function(c){var p=this.settings,d=this.getStatus();return d!==x.CREATING&&d!==x.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=x.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(u.SLEEP,this,c)),this},wake:function(c){var p=this.events,d=this.settings;return d.status=x.RUNNING,d.active=!0,d.visible=!0,p.emit(u.WAKE,this,c),d.isTransition&&p.emit(u.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>x.PENDING&&c<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,p){return c?this.resume(p):this.pause(p)},start:function(c){var p=this.events,d=this.settings;c&&(d.data=c),d.status=x.START,d.active=!0,d.visible=!0,p.emit(u.START,this),p.emit(u.READY,this,c)},shutdown:function(c){var p=this.events,d=this.settings;p.off(u.TRANSITION_INIT),p.off(u.TRANSITION_START),p.off(u.TRANSITION_COMPLETE),p.off(u.TRANSITION_OUT),d.status=x.SHUTDOWN,d.active=!1,d.visible=!1,p.emit(u.SHUTDOWN,this,c)},destroy:function(){var c=this.events,p=this.settings;p.status=x.DESTROYED,p.active=!1,p.visible=!1,c.emit(u.DESTROY,this),c.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],v=0;v<d.length;v++)this[d[v]]=null}});T.exports=a},89993:T=>{T.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:T=>{T.exports="addedtoscene"},7919:T=>{T.exports="boot"},46763:T=>{T.exports="create"},11763:T=>{T.exports="destroy"},71555:T=>{T.exports="pause"},36735:T=>{T.exports="postupdate"},3809:T=>{T.exports="prerender"},90716:T=>{T.exports="preupdate"},58262:T=>{T.exports="ready"},91633:T=>{T.exports="removedfromscene"},10319:T=>{T.exports="render"},87132:T=>{T.exports="resume"},81961:T=>{T.exports="shutdown"},90194:T=>{T.exports="sleep"},6265:T=>{T.exports="start"},33178:T=>{T.exports="transitioncomplete"},43063:T=>{T.exports="transitioninit"},11259:T=>{T.exports="transitionout"},61611:T=>{T.exports="transitionstart"},45209:T=>{T.exports="transitionwake"},22966:T=>{T.exports="update"},21747:T=>{T.exports="wake"},44594:(T,A,i)=>{T.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(T,A,i)=>{var m=i(89993),x=i(79291),h={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};h=x(!1,h,m),T.exports=h},30341:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(14463),u=i(79291),l=i(29747),s=new m({Extends:x,initialize:function(f,a,c){x.call(this),this.manager=f,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(o){return!(!o||!o.name||"string"!=typeof o.name||(this.markers[o.name]?(console.error("addMarker "+o.name+" already exists in Sound"),1):(o=u(!0,{name:"",start:0,duration:this.totalDuration-(o.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},o),this.markers[o.name]=o,0)))},updateMarker:function(o){return!(!o||!o.name||"string"!=typeof o.name||(this.markers[o.name]?(this.markers[o.name]=u(!0,this.markers[o.name],o),0):(console.warn("Audio Marker: "+o.name+" missing in Sound: "+this.key),1)))},removeMarker:function(o){var f=this.markers[o];return f?(this.markers[o]=null,f):null},play:function(o,f){if(void 0===o&&(o=""),"object"==typeof o&&(f=o,o=""),"string"!=typeof o)return!1;if(o){if(!this.markers[o])return console.warn("Marker: "+o+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[o],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=u(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var a=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.stop(),this.emit(h.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});T.exports=s},85034:(T,A,i)=>{var m=i(83419),x=i(41786),h=i(50792),u=i(14463),l=i(8443),s=i(46710),o=i(58731),f=i(29747),a=i(26099),c=new m({Extends:h,initialize:function(d){h.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a,d.events.on(l.BLUR,this.onGameBlur,this),d.events.on(l.FOCUS,this.onGameFocus,this),d.events.on(l.PRE_STEP,this.update,this),d.events.once(l.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(p,d){void 0===d&&(d={});var v=this.add(p,d);for(var y in v.spritemap=this.jsonCache.get(p).spritemap,v.spritemap)if(v.spritemap.hasOwnProperty(y)){var S=x(d),b=v.spritemap[y];S.loop=!!b.hasOwnProperty("loop")&&b.loop,v.addMarker({name:y,start:b.start,duration:b.end-b.start,config:S})}return v},get:function(p){return o(this.sounds,"key",p)},getAll:function(p){return p?s(this.sounds,"key",p):s(this.sounds)},getAllPlaying:function(){return s(this.sounds,"isPlaying",!0)},play:function(p,d){var v=this.add(p);return v.once(u.COMPLETE,v.destroy,v),d?d.name?(v.addMarker(d),v.play(d.name)):v.play(d):v.play()},playAudioSprite:function(p,d,v){var y=this.addAudioSprite(p);return y.once(u.COMPLETE,y.destroy,y),y.play(d,v)},remove:function(p){var d=this.sounds.indexOf(p);return-1!==d&&(p.destroy(),this.sounds.splice(d,1),!0)},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var d=0,v=this.sounds.length-1;v>=0;v--){var y=this.sounds[v];y.key===p&&(y.destroy(),this.sounds.splice(v,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(p){var d=0;return this.getAll(p).forEach(function(v){v.stop()&&d++}),d},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(y){y.update(p,d)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,d){var v=this;this.sounds.forEach(function(y,S){y&&!y.pendingRemove&&p.call(d||v,y,S,v.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(u.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,p)}}});T.exports=c},14747:(T,A,i)=>{var m=i(33684),x=i(25960),h=i(57490);T.exports={create:function(l){var s=l.config.audio,o=l.device.audio;return s.noAudio||!o.webAudio&&!o.audioData?new x(l):o.webAudio&&!s.disableWebAudio?new h(l):new m(l)}}},19723:T=>{T.exports="complete"},98882:T=>{T.exports="decodedall"},57506:T=>{T.exports="decoded"},73146:T=>{T.exports="destroy"},11305:T=>{T.exports="detune"},40577:T=>{T.exports="detune"},30333:T=>{T.exports="mute"},20394:T=>{T.exports="rate"},21802:T=>{T.exports="volume"},1299:T=>{T.exports="looped"},99190:T=>{T.exports="loop"},97125:T=>{T.exports="mute"},89259:T=>{T.exports="pan"},79986:T=>{T.exports="pauseall"},17586:T=>{T.exports="pause"},19618:T=>{T.exports="play"},42306:T=>{T.exports="rate"},10387:T=>{T.exports="resumeall"},48959:T=>{T.exports="resume"},9960:T=>{T.exports="seek"},19180:T=>{T.exports="stopall"},98328:T=>{T.exports="stop"},50401:T=>{T.exports="unlocked"},52498:T=>{T.exports="volume"},14463:(T,A,i)=>{T.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(T,A,i)=>{var m=i(30341),x=i(83419),h=i(14463),u=i(45319),l=new x({Extends:m,initialize:function(o,f,a){if(void 0===a&&(a={}),this.tags=o.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,m.call(this,o,f,a)},play:function(s,o){return!(this.manager.isLocked(this,"play",[s,o])||!m.prototype.play.call(this,s,o)||!this.pickAndPlayAudioTag()||(this.emit(h.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!m.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(h.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!m.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(h.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!m.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(h.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),0===o?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*o,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var s=0;s<this.tags.length;s++){var o=this.tags[s];if("false"===o.dataset.used)return o.dataset.used="true",this.audio=o,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&f.push(c)},this),f.sort(function(c,p){return c.loop===p.loop?p.seek/p.duration-c.seek/c.duration:c.loop?1:-1});var a=f[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var s=this.audio.play();s&&s.catch(function(o){console.warn(o)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){m.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(s){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<s-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,s-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var o=this.currentMarker?this.currentMarker.start:0,f=o+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=f-this.manager.loopEndOffset?(this.audio.currentTime=o+Math.max(0,a-f),a=this.audio.currentTime):a<o&&(this.audio.currentTime+=o,a=this.audio.currentTime),a<this.previousTime&&this.emit(h.LOOPED,this);else if(a>=f)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(h.COMPLETE,this);this.previousTime=a}},destroy:function(){m.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){m.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(s){this.currentConfig.mute=s,!this.manager.isLocked(this,"mute",s)&&(this.updateMute(),this.emit(h.MUTE,this,s))}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.currentConfig.volume},set:function(s){this.currentConfig.volume=s,!this.manager.isLocked(this,"volume",s)&&(this.updateVolume(),this.emit(h.VOLUME,this,s))}},setVolume:function(s){return this.volume=s,this},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,!this.manager.isLocked(this,h.RATE,s)&&(this.calculateRate(),this.emit(h.RATE,this,s))}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,!this.manager.isLocked(this,h.DETUNE,s)&&(this.calculateRate(),this.emit(h.DETUNE,this,s))}},setDetune:function(s){return this.detune=s,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.isLocked(this,"seek",s)||this.startTime>0||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.isPlaying?(this.previousTime=s,this.audio.currentTime=s):this.isPaused&&(this.currentConfig.seek=s),this.emit(h.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,!this.manager.isLocked(this,"loop",s)&&(this.audio&&(this.audio.loop=s),this.emit(h.LOOP,this,s))}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.currentConfig.pan},set:function(s){this.currentConfig.pan=s,this.emit(h.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});T.exports=l},33684:(T,A,i)=>{var m=i(85034),x=i(83419),h=i(14463),u=i(64895),l=new x({Extends:m,initialize:function(o){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,m.call(this,o)},add:function(s,o){var f=new u(this,s,o);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var s=this;if(this.game.cache.audio.entries.each(function(c,p){for(var d=0;d<p.length;d++)if("true"===p[d].dataset.locked)return s.locked=!0,!1;return!0}),this.locked){var o=!1,f=function(){o=!0},a=function(){if(o)o=!1;else{document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",a);var c=[];if(s.game.cache.audio.entries.each(function(d,v){for(var y=0;y<v.length;y++){var S=v[y];"true"===S.dataset.locked&&c.push(S)}return!0}),0!==c.length){var p=c[c.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,c.forEach(function(d){d.dataset.locked="false"}),s.unlocked=!0},c.forEach(function(d){d.load()})}}};this.once(h.UNLOCKED,function(){for(this.forEachActiveSound(function(p){null===p.currentMarker&&0===p.duration&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(s){s.isPlaying&&(this.onBlurPausedSounds.push(s),s.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(s){s.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){m.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(s,o,f){return"true"===s.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:s,prop:o,value:f}),!0)},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this._mute},set:function(s){this._mute=s,this.forEachActiveSound(function(o){o.updateMute()}),this.emit(h.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this._volume},set:function(s){this._volume=s,this.forEachActiveSound(function(o){o.updateVolume()}),this.emit(h.GLOBAL_VOLUME,this,s)}}});T.exports=l},23717:(T,A,i)=>{T.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(T,A,i)=>{var m=i(30341),x=i(83419),h=i(50792),u=i(79291),l=i(29747),s=function(){return!1},o=function(){return null},f=function(){return this},a=new x({Extends:h,initialize:function(p,d,v){void 0===v&&(v={}),h.call(this),this.manager=p,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:s,updateMarker:s,removeMarker:o,play:s,pause:s,resume:s,stop:s,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:o,resetConfig:o,update:l,calculateRate:o,destroy:function(){m.prototype.destroy.call(this)}});T.exports=a},25960:(T,A,i)=>{var m=i(85034),x=i(83419),h=i(50792),u=i(4603),l=i(29747),s=new x({Extends:h,initialize:function(f){h.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(o,f){var a=new u(this,o,f);return this.sounds.push(a),a},addAudioSprite:function(o,f){var a=this.add(o,f);return a.spritemap={},a},get:function(o){return m.prototype.get.call(this,o)},getAll:function(o){return m.prototype.getAll.call(this,o)},play:function(o,f){return!1},playAudioSprite:function(o,f,a){return!1},remove:function(o){return m.prototype.remove.call(this,o)},removeAll:function(){return m.prototype.removeAll.call(this)},removeByKey:function(o){return m.prototype.removeByKey.call(this,o)},stopByKey:function(o){return m.prototype.stopByKey.call(this,o)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(o,f){m.prototype.forEachActiveSound.call(this,o,f)},destroy:function(){m.prototype.destroy.call(this)}});T.exports=s},71741:(T,A,i)=>{var m=i(30341),x=i(83419),h=i(14463),u=i(95540),l=new x({Extends:m,initialize:function(o,f,a){if(void 0===a&&(a={}),this.audioBuffer=o.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=o.context.createGain(),this.volumeNode=o.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),o.context.createPanner&&(this.spatialNode=o.context.createPanner(),this.volumeNode.connect(this.spatialNode)),o.context.createStereoPanner?(this.pannerNode=o.context.createStereoPanner(),o.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(o.destination)):o.context.createPanner?this.spatialNode.connect(o.destination):this.volumeNode.connect(o.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,m.call(this,o,f,a)},play:function(s,o){return!!m.prototype.play.call(this,s,o)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(h.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!m.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(h.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!m.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(h.RESUME,this),0))},stop:function(){return!!m.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(h.STOP,this),!0)},createAndStartBufferSource:function(){var s=this.currentConfig.seek,f=this.manager.context.currentTime+this.currentConfig.delay,a=(this.currentMarker?this.currentMarker.start:0)+s,c=this.duration-s;this.playTime=f-s,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,a),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var s=this.getLoopTime(),o=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=s,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,s),Math.max(0,o),Math.max(0,f))},createBufferSource:function(){var s=this,o=this.manager.context.createBufferSource();return o.buffer=this.audioBuffer,o.connect(this.muteNode),o.onended=function(f){f.target===s.source&&(s.currentConfig.loop?s.hasLooped=!0:s.hasEnded=!0)},o},stopAndRemoveBufferSource:function(){if(this.source){var s=this.source;this.source=null,s.stop(),s.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var s=this.currentConfig.source;if(s&&this.manager.context.createPanner){var o=this.spatialNode;o.panningModel=u(s,"panningModel","equalpower"),o.distanceModel=u(s,"distanceModel","inverse"),o.orientationX.value=u(s,"orientationX",0),o.orientationY.value=u(s,"orientationY",0),o.orientationZ.value=u(s,"orientationZ",-1),o.refDistance=u(s,"refDistance",1),o.maxDistance=u(s,"maxDistance",1e4),o.rolloffFactor=u(s,"rolloffFactor",1),o.coneInnerAngle=u(s,"coneInnerAngle",360),o.coneOuterAngle=u(s,"coneOuterAngle",0),o.coneOuterGain=u(s,"coneOuterGain",0),this.spatialSource=u(s,"follow",null),this.spatialSource||(o.positionX.value=u(s,"x",0),o.positionY.value=u(s,"y",0),o.positionZ.value=u(s,"z",0))}m.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(s){this.spatialNode&&(this.spatialNode.positionX.value=s)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(s){this.spatialNode&&(this.spatialNode.positionY.value=s)}},update:function(){if(this.isPlaying&&this.spatialSource){var s=u(this.spatialSource,"x",null),o=u(this.spatialSource,"y",null);s&&s!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=s),o&&o!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=o)}this.hasEnded?(m.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(h.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(h.LOOPED,this))},destroy:function(){this.pendingRemove||(m.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){m.prototype.calculateRate.call(this);var s=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,s),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,s)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var s=0,o=0;o<this.rateUpdates.length;o++)s+=((o<this.rateUpdates.length-1?this.rateUpdates[o+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[o].time)*this.rateUpdates[o].rate;return s},getLoopTime:function(){for(var s=0,o=0;o<this.rateUpdates.length-1;o++)s+=(this.rateUpdates[o+1].time-this.rateUpdates[o].time)*this.rateUpdates[o].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-s)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,this.calculateRate(),this.emit(h.RATE,this,s)}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,this.calculateRate(),this.emit(h.DETUNE,this,s)}},setDetune:function(s){return this.detune=s,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(s){this.currentConfig.mute=s,this.muteNode.gain.setValueAtTime(s?0:1,0),this.emit(h.MUTE,this,s)}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(s){this.currentConfig.volume=s,this.volumeNode.gain.setValueAtTime(s,0),this.emit(h.VOLUME,this,s)}},setVolume:function(s){return this.volume=s,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.currentConfig.seek=s,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(h.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),s&&this.createAndStartLoopBufferSource()),this.emit(h.LOOP,this,s)}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(s){this.currentConfig.pan=s,this.pannerNode&&this.pannerNode.pan.setValueAtTime(s,this.manager.context.currentTime),this.emit(h.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});T.exports=l},57490:(T,A,i)=>{var m=i(53134),x=i(85034),h=i(83419),u=i(14463),l=i(8443),s=i(71741),o=i(95540),f=new h({Extends:x,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),x.call(this,c),this.locked&&c.isBooted?this.unlock():c.events.once(l.BOOT,this.unlock,this)},createAudioContext:function(a){var c=a.config.audio;return c.context?(c.context.resume(),c.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,c){var p=new s(this,a,c);return this.sounds.push(p),p},decodeAudio:function(a,c){var p;p=Array.isArray(a)?a:[{key:a,data:c}];for(var d=this.game.cache.audio,v=p.length,y=0;y<p.length;y++){var S=p[y],b=S.key,C=S.data;"string"==typeof C&&(C=m(C));var M=function(R,I){d.add(R,I),this.emit(u.DECODED,R),0==--v&&this.emit(u.DECODED_ALL)}.bind(this,b),w=function(R,I){console.error("Error decoding audio: "+R+" - ",I?I.message:""),0==--v&&this.emit(u.DECODED_ALL)}.bind(this,b);this.context.decodeAudioData(C,M,w)}},setListenerPosition:function(a,c){return void 0===a&&(a=this.game.scale.width/2),void 0===c&&(c=this.game.scale.height/2),this.listenerPosition.set(a,c),this},unlock:function(){var a=this,c=document.body,p=function d(){if(a.context&&c){var v=c.removeEventListener.bind(c);a.context.resume().then(function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d),a.unlocked=!0},function(){v("touchstart",d),v("touchend",d),v("click",d),v("keydown",d)})}};c&&(c.addEventListener("touchstart",p,!1),c.addEventListener("touchend",p,!1),c.addEventListener("click",p,!1),c.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&("suspended"===a.state||"interrupted"===a.state)&&a.resume()},update:function(a,c){var p=this.context.listener;if(p&&void 0!==p.positionX){var d=o(this.listenerPosition,"x",null),v=o(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=p.positionX.value=d),v&&v!==this._spatialy&&(this._spatialy=p.positionY.value=v)}x.prototype.update.call(this,a,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}x.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(u.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(u.GLOBAL_VOLUME,this,a)}}});T.exports=f},73162:(T,A,i)=>{var m=i(37105),x=i(83419),h=i(29747),u=i(19186),l=new x({initialize:function(o){this.parent=o,this.list=[],this.position=0,this.addCallback=h,this.removeCallback=h,this._sortKey=""},add:function(s,o){return o?m.Add(this.list,s):m.Add(this.list,s,0,this.addCallback,this)},addAt:function(s,o,f){return f?m.AddAt(this.list,s,o):m.AddAt(this.list,s,o,0,this.addCallback,this)},getAt:function(s){return this.list[s]},getIndex:function(s){return this.list.indexOf(s)},sort:function(s,o){return s?(void 0===o&&(o=function(f,a){return f[s]-a[s]}),u(this.list,o),this):this},getByName:function(s){return m.GetFirst(this.list,"name",s)},getRandom:function(s,o){return m.GetRandom(this.list,s,o)},getFirst:function(s,o,f,a){return m.GetFirst(this.list,s,o,f,a)},getAll:function(s,o,f,a){return m.GetAll(this.list,s,o,f,a)},count:function(s,o){return m.CountAllMatching(this.list,s,o)},swap:function(s,o){m.Swap(this.list,s,o)},moveTo:function(s,o){return m.MoveTo(this.list,s,o)},moveAbove:function(s,o){return m.MoveAbove(this.list,s,o)},moveBelow:function(s,o){return m.MoveBelow(this.list,s,o)},remove:function(s,o){return o?m.Remove(this.list,s):m.Remove(this.list,s,this.removeCallback,this)},removeAt:function(s,o){return o?m.RemoveAt(this.list,s):m.RemoveAt(this.list,s,this.removeCallback,this)},removeBetween:function(s,o,f){return f?m.RemoveBetween(this.list,s,o):m.RemoveBetween(this.list,s,o,this.removeCallback,this)},removeAll:function(s){for(var o=this.list.length;o--;)this.remove(this.list[o],s);return this},bringToTop:function(s){return m.BringToTop(this.list,s)},sendToBack:function(s){return m.SendToBack(this.list,s)},moveUp:function(s){return m.MoveUp(this.list,s),s},moveDown:function(s){return m.MoveDown(this.list,s),s},reverse:function(){return this.list.reverse(),this},shuffle:function(){return m.Shuffle(this.list),this},replace:function(s,o){return m.Replace(this.list,s,o)},exists:function(s){return this.list.indexOf(s)>-1},setAll:function(s,o,f,a){return m.SetAll(this.list,s,o,f,a),this},each:function(s,o){for(var f=[null],a=2;a<arguments.length;a++)f.push(arguments[a]);for(a=0;a<this.list.length;a++)f[0]=this.list[a],s.apply(o,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});T.exports=l},90330:(T,A,i)=>{var x=new(i(83419))({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(h){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.set(h[u][0],h[u][1]);return this},set:function(h,u){return this.has(h)||this.size++,this.entries[h]=u,this},get:function(h){if(this.has(h))return this.entries[h]},getArray:function(){var h=[],u=this.entries;for(var l in u)h.push(u[l]);return h},has:function(h){return this.entries.hasOwnProperty(h)},delete:function(h){return this.has(h)&&(delete this.entries[h],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(h){delete this.entries[h]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var h=[],u=this.entries;for(var l in u)h.push(u[l]);return h},dump:function(){var h=this.entries;for(var u in console.group("Map"),h)console.log(u,h[u]);console.groupEnd()},each:function(h){var u=this.entries;for(var l in u)if(!1===h(l,u[l]))break;return this},contains:function(h){var u=this.entries;for(var l in u)if(u[l]===h)return!0;return!1},merge:function(h,u){void 0===u&&(u=!1);var l=this.entries,s=h.entries;for(var o in s)l.hasOwnProperty(o)&&u?l[o]=s[o]:this.set(o,s[o]);return this}});T.exports=x},25774:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(82348),u=new m({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var s=this._pending,o=s.indexOf(l);-1!==o&&s.splice(o,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,s=this._destroy,o=l.length;o--;)s.push(l[o]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var o,f,l=this._destroy,s=this._active;for(o=0;o<l.length;o++){var a=s.indexOf(f=l[o]);-1!==a&&(s.splice(a,1),this.emit(h.PROCESS_QUEUE_REMOVE,f))}for(l.length=0,l=this._pending,o=0;o<l.length;o++)f=l[o],(!this.checkQueue||this.checkQueue&&-1===s.indexOf(f))&&(s.push(f),this.emit(h.PROCESS_QUEUE_ADD,f));return l.length=0,this._toProcess=0,s},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});T.exports=u},59542:(T,A,i)=>{var m=i(43886);function x(C){if(!(this instanceof x))return new x(C,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,C||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function h(C,M,w){if(!w)return M.indexOf(C);for(var R=0;R<M.length;R++)if(w(C,M[R]))return R;return-1}function u(C,M){l(C,0,C.children.length,M,C)}function l(C,M,w,R,I){I||(I=S(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var F,L=M;L<w;L++)F=C.children[L],s(I,C.leaf?R(F):F);return I}function s(C,M){return C.minX=Math.min(C.minX,M.minX),C.minY=Math.min(C.minY,M.minY),C.maxX=Math.max(C.maxX,M.maxX),C.maxY=Math.max(C.maxY,M.maxY),C}function o(C,M){return C.minX-M.minX}function f(C,M){return C.minY-M.minY}function a(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function c(C){return C.maxX-C.minX+(C.maxY-C.minY)}function p(C,M){return(Math.max(M.maxX,C.maxX)-Math.min(M.minX,C.minX))*(Math.max(M.maxY,C.maxY)-Math.min(M.minY,C.minY))}function d(C,M){var w=Math.max(C.minX,M.minX),R=Math.max(C.minY,M.minY),I=Math.min(C.maxX,M.maxX),L=Math.min(C.maxY,M.maxY);return Math.max(0,I-w)*Math.max(0,L-R)}function v(C,M){return C.minX<=M.minX&&C.minY<=M.minY&&M.maxX<=C.maxX&&M.maxY<=C.maxY}function y(C,M){return M.minX<=C.maxX&&M.minY<=C.maxY&&M.maxX>=C.minX&&M.maxY>=C.minY}function S(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(C,M,w,R,I){for(var F,L=[M,w];L.length;)!((w=L.pop())-(M=L.pop())<=R)&&(F=M+Math.ceil((w-M)/R/2)*R,m(C,F,M,w,I),L.push(M,F,F,w))}x.prototype={all:function(){return this._all(this.data,[])},search:function(C){var M=this.data,w=[],R=this.toBBox;if(!y(C,M))return w;for(var L,F,G,z,I=[];M;){for(L=0,F=M.children.length;L<F;L++)G=M.children[L],y(C,z=M.leaf?R(G):G)&&(M.leaf?w.push(G):v(C,z)?this._all(G,w):I.push(G));M=I.pop()}return w},collides:function(C){var M=this.data,w=this.toBBox;if(!y(C,M))return!1;for(var I,L,F,G,R=[];M;){for(I=0,L=M.children.length;I<L;I++)if(F=M.children[I],y(C,G=M.leaf?w(F):F)){if(M.leaf||v(C,G))return!0;R.push(F)}M=R.pop()}return!1},load:function(C){if(!C||!C.length)return this;if(C.length<this._minEntries){for(var M=0,w=C.length;M<w;M++)this.insert(C[M]);return this}var R=this._build(C.slice(),0,C.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var I=this.data;this.data=R,R=I}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},insert:function(C){return C&&this._insert(C,this.data.height-1),this},clear:function(){return this.data=S([]),this},remove:function(C,M){if(!C)return this;for(var F,G,z,B,w=this.data,R=this.toBBox(C),I=[],L=[];w||I.length;){if(w||(w=I.pop(),G=I[I.length-1],F=L.pop(),B=!0),w.leaf&&-1!==(z=h(C,w.children,M)))return w.children.splice(z,1),I.push(w),this._condense(I),this;B||w.leaf||!v(w,R)?G?(F++,w=G.children[F],B=!1):w=null:(I.push(w),L.push(F),F=0,G=w,w=w.children[0])}return this},toBBox:function(C){return C},compareMinX:o,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(C){return this.data=C,this},_all:function(C,M){for(var w=[];C;)C.leaf?M.push.apply(M,C.children):w.push.apply(w,C.children),C=w.pop();return M},_build:function(C,M,w,R){var F,I=w-M+1,L=this._maxEntries;if(I<=L)return u(F=S(C.slice(M,w+1)),this.toBBox),F;R||(R=Math.ceil(Math.log(I)/Math.log(L)),L=Math.ceil(I/Math.pow(L,R-1))),(F=S([])).leaf=!1,F.height=R;var B,V,Y,$,G=Math.ceil(I/L),z=G*Math.ceil(Math.sqrt(L));for(b(C,M,w,z,this.compareMinX),B=M;B<=w;B+=z)for(b(C,B,Y=Math.min(B+z-1,w),G,this.compareMinY),V=B;V<=Y;V+=G)$=Math.min(V+G-1,Y),F.children.push(this._build(C,V,$,R-1));return u(F,this.toBBox),F},_chooseSubtree:function(C,M,w,R){for(var I,L,F,G,z,B,V,Y;R.push(M),!M.leaf&&R.length-1!==w;){for(V=Y=1/0,I=0,L=M.children.length;I<L;I++)z=a(F=M.children[I]),(B=p(C,F)-z)<Y?(Y=B,V=z<V?z:V,G=F):B===Y&&z<V&&(V=z,G=F);M=G||M.children[0]}return M},_insert:function(C,M,w){var I=w?C:(0,this.toBBox)(C),L=[],F=this._chooseSubtree(I,this.data,M,L);for(F.children.push(C),s(F,I);M>=0&&L[M].children.length>this._maxEntries;)this._split(L,M),M--;this._adjustParentBBoxes(I,L,M)},_split:function(C,M){var w=C[M],R=w.children.length,I=this._minEntries;this._chooseSplitAxis(w,I,R);var L=this._chooseSplitIndex(w,I,R),F=S(w.children.splice(L,w.children.length-L));F.height=w.height,F.leaf=w.leaf,u(w,this.toBBox),u(F,this.toBBox),M?C[M-1].children.push(F):this._splitRoot(w,F)},_splitRoot:function(C,M){this.data=S([C,M]),this.data.height=C.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(C,M,w){var R,I,L,F,G,z,B,V;for(z=B=1/0,R=M;R<=w-M;R++)F=d(I=l(C,0,R,this.toBBox),L=l(C,R,w,this.toBBox)),G=a(I)+a(L),F<z?(z=F,V=R,B=G<B?G:B):F===z&&G<B&&(B=G,V=R);return V},_chooseSplitAxis:function(C,M,w){var R=C.leaf?this.compareMinX:o,I=C.leaf?this.compareMinY:f;this._allDistMargin(C,M,w,R)<this._allDistMargin(C,M,w,I)&&C.children.sort(R)},_allDistMargin:function(C,M,w,R){C.children.sort(R);var z,B,I=this.toBBox,L=l(C,0,M,I),F=l(C,w-M,w,I),G=c(L)+c(F);for(z=M;z<w-M;z++)B=C.children[z],s(L,C.leaf?I(B):B),G+=c(L);for(z=w-M-1;z>=M;z--)B=C.children[z],s(F,C.leaf?I(B):B),G+=c(F);return G},_adjustParentBBoxes:function(C,M,w){for(var R=w;R>=0;R--)s(M[R],C)},_condense:function(C){for(var w,M=C.length-1;M>=0;M--)0===C[M].children.length?M>0?(w=C[M-1].children).splice(w.indexOf(C[M]),1):this.clear():u(C[M],this.toBBox)},compareMinX:function(C,M){return C.left-M.left},compareMinY:function(C,M){return C.top-M.top},toBBox:function(C){return{minX:C.left,minY:C.top,maxX:C.right,maxY:C.bottom}}},T.exports=x},35072:(T,A,i)=>{var x=new(i(83419))({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var l=0;l<u.length;l++)this.set(u[l])},set:function(h){return-1===this.entries.indexOf(h)&&this.entries.push(h),this},get:function(h,u){for(var l=0;l<this.entries.length;l++){var s=this.entries[l];if(s[h]===u)return s}},getArray:function(){return this.entries.slice(0)},delete:function(h){var u=this.entries.indexOf(h);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var h=0;h<this.entries.length;h++)console.log(this.entries[h]);console.groupEnd()},each:function(h,u){var l,s=this.entries.slice(),o=s.length;if(u)for(l=0;l<o&&!1!==h.call(u,s[l],l);l++);else for(l=0;l<o&&!1!==h(s[l],l);l++);return this},iterate:function(h,u){var l,s=this.entries.length;if(u)for(l=0;l<s&&!1!==h.call(u,this.entries[l],l);l++);else for(l=0;l<s&&!1!==h(this.entries[l],l);l++);return this},iterateLocal:function(h){var u,l=[];for(u=1;u<arguments.length;u++)l.push(arguments[u]);var s=this.entries.length;for(u=0;u<s;u++){var o=this.entries[u];o[h].apply(o,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(h){return this.entries.indexOf(h)>-1},union:function(h){var u=new x;return h.entries.forEach(function(l){u.set(l)}),this.entries.forEach(function(l){u.set(l)}),u},intersect:function(h){var u=new x;return this.entries.forEach(function(l){h.contains(l)&&u.set(l)}),u},difference:function(h){var u=new x;return this.entries.forEach(function(l){h.contains(l)||u.set(l)}),u},size:{get:function(){return this.entries.length},set:function(h){return h<this.entries.length?this.entries.length=h:this.entries.length}}});T.exports=x},86555:(T,A,i)=>{var m=i(45319),x=i(83419),h=i(56583),u=i(26099),l=new x({initialize:function(o,f,a,c){void 0===o&&(o=0),void 0===f&&(f=o),void 0===a&&(a=0),void 0===c&&(c=null),this._width=o,this._height=f,this._parent=c,this.aspectMode=a,this.aspectRatio=0===f?1:o/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(s){return void 0===s&&(s=0),this.aspectMode=s,this.setSize(this._width,this._height)},setSnap:function(s,o){return void 0===s&&(s=0),void 0===o&&(o=s),this.snapTo.set(s,o),this.setSize(this._width,this._height)},setParent:function(s){return this._parent=s,this.setSize(this._width,this._height)},setMin:function(s,o){return void 0===s&&(s=0),void 0===o&&(o=s),this.minWidth=m(s,0,this.maxWidth),this.minHeight=m(o,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(s,o){return void 0===s&&(s=Number.MAX_VALUE),void 0===o&&(o=s),this.maxWidth=m(s,this.minWidth,Number.MAX_VALUE),this.maxHeight=m(o,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(s,o){switch(void 0===s&&(s=0),void 0===o&&(o=s),this.aspectMode){case l.NONE:this._width=this.getNewWidth(h(s,this.snapTo.x)),this._height=this.getNewHeight(h(o,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(h(s,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(h(o,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(s,o,!0);break;case l.ENVELOP:this.constrain(s,o,!1)}return this},setAspectRatio:function(s){return this.aspectRatio=s,this.setSize(this._width,this._height)},resize:function(s,o){return this._width=this.getNewWidth(h(s,this.snapTo.x)),this._height=this.getNewHeight(h(o,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(s,o){return void 0===o&&(o=!0),s=m(s,this.minWidth,this.maxWidth),o&&this._parent&&s>this._parent.width&&(s=Math.max(this.minWidth,this._parent.width)),s},getNewHeight:function(s,o){return void 0===o&&(o=!0),s=m(s,this.minHeight,this.maxHeight),o&&this._parent&&s>this._parent.height&&(s=Math.max(this.minHeight,this._parent.height)),s},constrain:function(s,o,f){void 0===s&&(s=0),void 0===o&&(o=s),void 0===f&&(f=!0),s=this.getNewWidth(s),o=this.getNewHeight(o);var a=this.snapTo,c=0===o?1:s/o;return f&&this.aspectRatio>c||!f&&this.aspectRatio<c?(o=(s=h(s,a.x))/this.aspectRatio,a.y>0&&(s=(o=h(o,a.y))*this.aspectRatio)):(f&&this.aspectRatio<c||!f&&this.aspectRatio>c)&&(s=(o=h(o,a.y))*this.aspectRatio,a.x>0&&(o=(s=h(s,a.x))*(1/this.aspectRatio))),this._width=s,this._height=o,this},fitTo:function(s,o){return this.constrain(s,o,!0)},envelop:function(s,o){return this.constrain(s,o,!1)},setWidth:function(s){return this.setSize(s,this._height)},setHeight:function(s){return this.setSize(this._width,s)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(s){s&&s.style&&(s.style.width=this._width+"px",s.style.height=this._height+"px")},copy:function(s){return s.setAspectMode(this.aspectMode),s.aspectRatio=this.aspectRatio,s.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(s){this.setSize(s,this._height)}},height:{get:function(){return this._height},set:function(s){this.setSize(this._width,s)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,T.exports=l},15238:T=>{T.exports="add"},56187:T=>{T.exports="remove"},82348:(T,A,i)=>{T.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(T,A,i)=>{T.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(T,A,i)=>{var m=i(83419),x=i(45319),h=i(40987),u=i(8054),l=i(50030),s=i(79237),o=new m({Extends:s,initialize:function(a,c,p,d,v){s.call(this,a,c,p,d,v),this.add("__BASE",0,0,0,d,v),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=v,this.imageData=this.context.getImageData(0,0,d,v),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(f,a,c,p){return void 0===p&&(p=!0),this.context.drawImage(c,f,a),p&&this.update(),this},drawFrame:function(f,a,c,p,d){void 0===c&&(c=0),void 0===p&&(p=0),void 0===d&&(d=!0);var v=this.manager.getFrame(f,a);if(v){var y=v.canvasData,S=v.cutWidth,b=v.cutHeight,C=v.source.resolution;this.context.drawImage(v.source.image,y.x,y.y,S,b,c,p,S/C,b/C),d&&this.update()}return this},setPixel:function(f,a,c,p,d,v){if(void 0===v&&(v=255),f=Math.abs(Math.floor(f)),a=Math.abs(Math.floor(a)),this.getIndex(f,a)>-1){var S=this.context.getImageData(f,a,1,1);S.data[0]=c,S.data[1]=p,S.data[2]=d,S.data[3]=v,this.context.putImageData(S,f,a)}return this},putData:function(f,a,c,p,d,v,y){return void 0===p&&(p=0),void 0===d&&(d=0),void 0===v&&(v=f.width),void 0===y&&(y=f.height),this.context.putImageData(f,a,c,p,d,v,y),this},getData:function(f,a,c,p){return f=x(Math.floor(f),0,this.width-1),a=x(Math.floor(a),0,this.height-1),c=x(c,1,this.width-f),p=x(p,1,this.height-a),this.context.getImageData(f,a,c,p)},getPixel:function(f,a,c){c||(c=new h);var p=this.getIndex(f,a);if(p>-1){var d=this.data;c.setTo(d[p+0],d[p+1],d[p+2],d[p+3])}return c},getPixels:function(f,a,c,p){void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=this.width),void 0===p&&(p=c),f=Math.abs(Math.round(f)),a=Math.abs(Math.round(a));for(var d=x(f,0,this.width),v=x(f+c,0,this.width),y=x(a,0,this.height),S=x(a+p,0,this.height),b=new h,C=[],M=y;M<S;M++){for(var w=[],R=d;R<v;R++)b=this.getPixel(R,M,b),w.push({x:R,y:M,color:b.color,alpha:b.alphaGL});C.push(w)}return C},getIndex:function(f,a){return f=Math.abs(Math.round(f)),a=Math.abs(Math.round(a)),f<this.width&&a<this.height?4*(f+a*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,a,c,p,d){return void 0===f&&(f=0),void 0===a&&(a=0),void 0===c&&(c=this.width),void 0===p&&(p=this.height),void 0===d&&(d=!0),this.context.clearRect(f,a,c,p),d&&this.update(),this},setSize:function(f,a){return void 0===a&&(a=f),(f!==this.width||a!==this.height)&&(this.canvas.width=f,this.canvas.height=a,this._source.width=f,this._source.height=a,this._source.isPowerOf2=l(f,a),this.frames.__BASE.setSize(f,a,0,0),this.width=f,this.height=a,this.refresh()),this},destroy:function(){s.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});T.exports=o},81320:(T,A,i)=>{var m=i(10312),x=i(71911),h=i(27919),u=i(83419),l=i(8054),s=i(4327),o=i(95540),f=i(36060),a=i(32302),c=i(79237),p=i(70554),d=new u({Extends:c,initialize:function(y,S,b,C){void 0===b&&(b=256),void 0===C&&(C=256),this.type="DynamicTexture";var M=y.game.renderer,w=M&&M.type===l.CANVAS,R=w?h.create2D(this,b,C):[this];c.call(this,y,S,R,b,C),this.add("__BASE",0,0,0,b,C),this.renderer=M,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?R:null,this.context=w?R.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,b,C).setScene(y.game.scene.systemScene,!1),this.renderTarget=w?null:new a(M,b,C,1,0,!1,!0,!0,!1),this.pipeline=w?null:M.pipelines.get(f.SINGLE_PIPELINE),this.setSize(b,C)},setSize:function(v,y){void 0===y&&(y=v);var S=this.get(),b=S.source;if(v!==this.width||y!==this.height){this.canvas&&(this.canvas.width=v,this.canvas.height=y);var C=this.renderTarget;C&&(C.willResize(v,y)&&C.resize(v,y),C.texture!==b.glTexture&&this.renderer.deleteTexture(b.glTexture),this.setFromRenderTarget()),this.camera.setSize(v,y),b.width=v,b.height=y,S.setSize(v,y),this.width=v,this.height=y}else{var M=this.getSourceImage();S.cutX+v>M.width&&(v=M.width-S.cutX),S.cutY+y>M.height&&(y=M.height-S.cutY),S.setSize(v,y,S.cutX,S.cutY)}return this},setFromRenderTarget:function(){var y=this.get().source,S=this.renderTarget;return y.isRenderTexture=!0,y.isGLTexture=!0,y.glTexture=S.texture,this},setIsSpriteTexture:function(v){return this.isSpriteTexture=v,this},fill:function(v,y,S,b,C,M){var R=this.renderer;void 0===y&&(y=1),void 0===S&&(S=0),void 0===b&&(b=0),void 0===C&&(C=this.width),void 0===M&&(M=this.height);var I=v>>16&255,L=v>>8&255,F=255&v,G=this.renderTarget;if(this.camera.preRender(),G){G.bind(!0);var z=this.pipeline.manager.set(this.pipeline),B=R.width/G.width,V=R.height/G.height;z.drawFillRect(S*B,(G.height-(b+M))*V,C*B,M*V,p.getTintFromFloats(F/255,L/255,I/255,1),y),G.unbind(!0)}else{var $=this.context;R.setContext($),$.globalCompositeOperation="source-over",$.fillStyle="rgba("+I+","+L+","+F+","+y+")",$.fillRect(S,b,C,M),R.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var v=this.context,y=this.renderTarget;y?y.clear():v&&(v.save(),v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,this.width,this.height),v.restore()),this.dirty=!1}return this},stamp:function(v,y,S,b,C){void 0===S&&(S=0),void 0===b&&(b=0);var M=o(C,"alpha",1),w=o(C,"tint",16777215),R=o(C,"angle",0),I=o(C,"rotation",0),L=o(C,"scale",1),F=o(C,"scaleX",L),G=o(C,"scaleY",L),z=o(C,"originX",.5),B=o(C,"originY",.5),V=o(C,"blendMode",0),Y=o(C,"erase",!1),$=o(C,"skipBatch",!1),J=this.manager.resetStamp(M,w);return J.setAngle(0),0!==R?J.setAngle(R):0!==I&&J.setRotation(I),J.setScale(F,G),J.setTexture(v,y),J.setOrigin(z,B),J.setBlendMode(V),Y&&(this._eraseMode=!0),$?this.batchGameObject(J,S,b):this.draw(J,S,b),Y&&(this._eraseMode=!1),this},erase:function(v,y,S){return this._eraseMode=!0,this.draw(v,y,S),this._eraseMode=!1,this},draw:function(v,y,S,b,C){return this.beginDraw(),this.batchDraw(v,y,S,b,C),this.endDraw(),this},drawFrame:function(v,y,S,b,C,M){return this.beginDraw(),this.batchDrawFrame(v,y,S,b,C,M),this.endDraw(),this},repeat:function(v,y,S,b,C,M,w,R,I){if(void 0===S&&(S=0),void 0===b&&(b=0),void 0===C&&(C=this.width),void 0===M&&(M=this.height),void 0===w&&(w=1),void 0===R&&(R=16777215),void 0===I&&(I=!1),!(y=v instanceof s?v:this.manager.getFrame(v,y)))return this;var L=this.manager.resetStamp(w,R);L.setFrame(y),L.setOrigin(0);var F=y.width,G=y.height;C=Math.floor(C),M=Math.floor(M);var z=Math.ceil(C/F),B=Math.ceil(M/G),V=z*F-C,Y=B*G-M;V>0&&(V=F-V),Y>0&&(Y=G-Y),S<0&&(z+=Math.ceil(Math.abs(S)/F)),b<0&&(B+=Math.ceil(Math.abs(b)/G));var $=S,J=b,W=!1,k=this.manager.stampCrop.setTo(0,0,F,G);I||this.beginDraw();for(var N=0;N<B;N++)if(J+G<0)J+=G;else{for(var H=0;H<z;H++)W=!1,$+F<0||($<0&&(W=!0,k.width=F+$,k.x=F-k.width),J<0&&(W=!0,k.height=G+J,k.y=G-k.height),V>0&&H===z-1&&(W=!0,k.width=V),Y>0&&N===B-1&&(W=!0,k.height=Y),W&&L.setCrop(k),this.batchGameObject(L,$,J),L.isCropped=!1,k.setTo(0,0,F,G)),$+=F;$=S,J+=G}return I||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var y=this.renderer,S=this.renderTarget;this.camera.preRender(),S?y.beginCapture(S.width,S.height):y.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(v,y,S,b,C){return Array.isArray(v)||(v=[v]),this.batchList(v,y,S,b,C),this},batchDrawFrame:function(v,y,S,b,C,M){void 0===S&&(S=0),void 0===b&&(b=0),void 0===C&&(C=1),void 0===M&&(M=16777215);var w=this.manager.getFrame(v,y);return w&&(this.renderTarget?this.pipeline.batchTextureFrame(w,S,b,M,C,this.camera.matrix,null):this.batchTextureFrame(w,S,b,C,M)),this},endDraw:function(v){if(void 0===v&&(v=this._eraseMode),this.isDrawing){var y=this.renderer,S=this.renderTarget;if(S){var b=y.endCapture();y.pipelines.setUtility().blitFrame(b,S,1,!1,!1,v,this.isSpriteTexture),y.resetScissor(),y.resetViewport()}else y.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(v,y,S,b,C){var M=v.length;if(0!==M)for(var w=0;w<M;w++){var R=v[w];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,y,S):R.isParent||R.list?this.batchGroup(R.getChildren(),y,S):"string"==typeof R?this.batchTextureFrameKey(R,null,y,S,b,C):R instanceof s?this.batchTextureFrame(R,y,S,b,C):Array.isArray(R)&&this.batchList(R,y,S,b,C))}},batchGroup:function(v,y,S){void 0===y&&(y=0),void 0===S&&(S=0);for(var b=0;b<v.length;b++){var C=v[b];C.willRender(this.camera)&&this.batchGameObject(C,C.x+y,C.y+S)}},batchGameObject:function(v,y,S){void 0===y&&(y=v.x),void 0===S&&(S=v.y);var b=v.x,C=v.y,M=this.camera,w=this.renderer,R=this._eraseMode,I=v.mask;if(v.setPosition(y,S),this.canvas){if(R){var L=v.blendMode;v.blendMode=m.ERASE}I&&I.preRenderCanvas(w,v,M),v.renderCanvas(w,v,M,null),I&&I.postRenderCanvas(w,v,M),R&&(v.blendMode=L)}else w&&(I&&I.preRenderWebGL(w,v,M),R||w.setBlendMode(v.blendMode),v.renderWebGL(w,v,M),I&&I.postRenderWebGL(w,M,this.renderTarget));v.setPosition(b,C)},batchTextureFrameKey:function(v,y,S,b,C,M){var w=this.manager.getFrame(v,y);w&&this.batchTextureFrame(w,S,b,C,M)},batchTextureFrame:function(v,y,S,b,C){void 0===y&&(y=0),void 0===S&&(S=0),void 0===b&&(b=1),void 0===C&&(C=16777215);var M=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(v,y,S,C,b,M,null);else{var R=this.context,I=v.canvasData,L=v.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=b,M.setToContext(R),I.width>0&&I.height>0&&R.drawImage(L,I.x,I.y,I.width,I.height,y,S,I.width,I.height),R.restore()}},snapshotArea:function(v,y,S,b,C,M,w){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,C,!1,v,y,S,b,M,w):this.renderer.snapshotCanvas(this.canvas,C,!1,v,y,S,b,M,w),this},snapshot:function(v,y,S){return this.snapshotArea(0,0,this.width,this.height,v,y,S)},snapshotPixel:function(v,y,S){return this.snapshotArea(v,y,1,1,S,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(v,y,S,b){var C=this.manager.resetStamp();C.setTexture(this),C.setOrigin(0),C.renderWebGL(v,C,S,b)},renderCanvas:function(){},destroy:function(){var v=this.manager.stamp;v&&v.texture===this&&this.manager.resetStamp(),c.prototype.destroy.call(this),h.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});T.exports=d},4327:(T,A,i)=>{var m=i(83419),x=i(45319),h=i(79291),u=new m({initialize:function(s,o,f,a,c,p,d){this.texture=s,this.name=o,this.source=s.source[f],this.sourceIndex=f,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,d,a,c)},setSize:function(l,s,o,f){void 0===o&&(o=0),void 0===f&&(f=0),this.cutX=o,this.cutY=f,this.cutWidth=l,this.cutHeight=s,this.width=l,this.height=s,this.halfWidth=Math.floor(.5*l),this.halfHeight=Math.floor(.5*s),this.centerX=Math.floor(l/2),this.centerY=Math.floor(s/2);var a=this.data,c=a.cut;c.x=o,c.y=f,c.w=l,c.h=s,c.r=o+l,c.b=f+s,a.sourceSize.w=l,a.sourceSize.h=s,a.spriteSourceSize.w=l,a.spriteSourceSize.h=s,a.radius=.5*Math.sqrt(l*l+s*s);var p=a.drawImage;return p.x=o,p.y=f,p.width=l,p.height=s,this.updateUVs()},setTrim:function(l,s,o,f,a,c){var p=this.data,d=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=l,p.sourceSize.h=s,d.x=o,d.y=f,d.w=a,d.h=c,d.r=o+a,d.b=f+c,this.x=o,this.y=f,this.width=a,this.height=c,this.halfWidth=.5*a,this.halfHeight=.5*c,this.centerX=Math.floor(a/2),this.centerY=Math.floor(c/2),this.updateUVs()},setScale9:function(l,s,o,f){var a=this.data;return a.scale9=!0,a.is3Slice=0===s&&f===this.height,a.scale9Borders.x=l,a.scale9Borders.y=s,a.scale9Borders.w=o,a.scale9Borders.h=f,this},setCropUVs:function(l,s,o,f,a,c,p){var d=this.cutX,v=this.cutY,y=this.cutWidth,S=this.cutHeight,b=this.realWidth,C=this.realHeight,M=d+(s=x(s,0,b)),w=v+(o=x(o,0,C)),R=f=x(f,0,b-s),I=a=x(a,0,C-o),L=this.data;if(L.trim){var F=L.spriteSourceSize,G=s+(f=x(f,0,y-s)),z=o+(a=x(a,0,S-o));if(F.r<s||F.b<o||F.x>G||F.y>z)M=0,w=0,R=0,I=0;else{var V=Math.max(F.x,s),Y=Math.max(F.y,o),$=Math.min(F.r,G)-V,J=Math.min(F.b,z)-Y;R=$,I=J,M=c?d+(y-(V-F.x)-$):d+(V-F.x),w=p?v+(S-(Y-F.y)-J):v+(Y-F.y),s=V,o=Y,f=$,a=J}}else c&&(M=d+(y-s-f)),p&&(w=v+(S-o-a));var W=this.source.width,k=this.source.height;return l.u0=Math.max(0,M/W),l.v0=Math.max(0,w/k),l.u1=Math.min(1,(M+R)/W),l.v1=Math.min(1,(w+I)/k),l.x=s,l.y=o,l.cx=M,l.cy=w,l.cw=R,l.ch=I,l.width=f,l.height=a,l.flipX=c,l.flipY=p,l},updateCropUVs:function(l,s,o){return this.setCropUVs(l,l.x,l.y,l.width,l.height,s,o)},setUVs:function(l,s,o,f,a,c){var p=this.data.drawImage;return p.width=l,p.height=s,this.u0=o,this.v0=f,this.u1=a,this.v1=c,this},updateUVs:function(){var l=this.cutX,s=this.cutY,o=this.cutWidth,f=this.cutHeight,a=this.data.drawImage;a.width=o,a.height=f;var c=this.source.width,p=this.source.height;return this.u0=l/c,this.v0=s/p,this.u1=(l+o)/c,this.v1=(s+f)/p,this},updateUVsInverted:function(){var l=this.source.width,s=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/s,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/s,this},clone:function(){var l=new u(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=h(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});T.exports=u},79237:(T,A,i)=>{var m=i(83419),x=i(4327),h=i(11876),u='Texture "%s" has no frame "%s"',l=new m({initialize:function(o,f,a,c,p){Array.isArray(a)||(a=[a]),this.manager=o,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<a.length;d++)this.source.push(new h(this,a[d],c,p))},add:function(s,o,f,a,c,p){if(this.has(s))return null;var d=new x(this,s,o,f,a,c,p);return this.frames[s]=d,"__BASE"===this.firstFrame&&(this.firstFrame=s),this.frameTotal++,d},remove:function(s){return!!this.has(s)&&(this.get(s).destroy(),delete this.frames[s],!0)},has:function(s){return this.frames.hasOwnProperty(s)},get:function(s){s||(s=this.firstFrame);var o=this.frames[s];return o||(console.warn(u,this.key,s),o=this.frames[this.firstFrame]),o},getTextureSourceIndex:function(s){for(var o=0;o<this.source.length;o++)if(this.source[o]===s)return o;return-1},getFramesFromTextureSource:function(s,o){void 0===o&&(o=!1);var f=[];for(var a in this.frames)if("__BASE"!==a||o){var c=this.frames[a];c.sourceIndex===s&&f.push(c)}return f},getFrameBounds:function(s){void 0===s&&(s=0);for(var o=this.getFramesFromTextureSource(s),f=1/0,a=1/0,c=0,p=0,d=0;d<o.length;d++){var v=o[d];v.cutX<f&&(f=v.cutX),v.cutY<a&&(a=v.cutY),v.cutX+v.cutWidth>c&&(c=v.cutX+v.cutWidth),v.cutY+v.cutHeight>p&&(p=v.cutY+v.cutHeight)}return{x:f,y:a,width:c-f,height:p-a}},getFrameNames:function(s){void 0===s&&(s=!1);var o=Object.keys(this.frames);if(!s){var f=o.indexOf("__BASE");-1!==f&&o.splice(f,1)}return o},getSourceImage:function(s){(null==s||1===this.frameTotal)&&(s="__BASE");var o=this.frames[s];return o?o.source.image:(console.warn(u,this.key,s),this.frames.__BASE.source.image)},getDataSourceImage:function(s){(null==s||1===this.frameTotal)&&(s="__BASE");var f,o=this.frames[s];return o?f=o.sourceIndex:(console.warn(u,this.key,s),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++){var f=this.source[o];this.dataSource.push(new h(this,s[o],f.width,f.height))}},setFilter:function(s){var o;for(o=0;o<this.source.length;o++)this.source[o].setFilter(s);for(o=0;o<this.dataSource.length;o++)this.dataSource[o].setFilter(s)},destroy:function(){var s,o=this.source,f=this.dataSource;for(s=0;s<o.length;s++)o[s]&&o[s].destroy();for(s=0;s<f.length;s++)f[s]&&f[s].destroy();for(var a in this.frames){var c=this.frames[a];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});T.exports=l},17130:(T,A,i)=>{var m=i(27919),x=i(57382),h=i(83419),u=i(40987),l=i(8054),s=i(81320),o=i(50792),f=i(69442),a=i(4327),c=i(8443),p=i(99584),d=i(35154),v=i(88571),y=i(41212),S=i(61309),b=i(87841),C=i(79237),M=new h({Extends:o,initialize:function(R){o.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=m.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stampCrop=new b,this.silentWarnings=!1,R.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var w=this.game.config;this.addBase64("__DEFAULT",w.defaultImage),this.addBase64("__MISSING",w.missingImage),this.addBase64("__WHITE",w.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(c.DESTROY,this.destroy,this),this.game.events.once(c.SYSTEM_READY,function(R){this.stamp=new v(R).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY))},checkKey:function(w){return!this.exists(w)||(this.silentWarnings||console.error("Texture key already in use: "+w),!1)},remove:function(w){if("string"==typeof w){if(!this.exists(w))return this.silentWarnings||console.warn("No texture found matching key: "+w),this;w=this.get(w)}var R=w.key;return this.list.hasOwnProperty(R)&&(w.destroy(),this.emit(f.REMOVE,R),this.emit(f.REMOVE_KEY+R)),this},removeKey:function(w){return this.list.hasOwnProperty(w)&&delete this.list[w],this},addBase64:function(w,R){if(this.checkKey(w)){var I=this,L=new Image;L.onerror=function(){I.emit(f.ERROR,w)},L.onload=function(){var F=I.create(w,L);S.Image(F,0),I.emit(f.ADD,w,F),I.emit(f.ADD_KEY+w,F),I.emit(f.LOAD,w,F)},L.src=R}return this},getBase64:function(w,R,I,L){void 0===I&&(I="image/png"),void 0===L&&(L=.92);var F="",G=this.getFrame(w,R);if(G&&(G.source.isRenderTexture||G.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(G){var z=G.canvasData,B=m.create2D(this,z.width,z.height),V=B.getContext("2d",{willReadFrequently:!0});z.width>0&&z.height>0&&V.drawImage(G.source.image,z.x,z.y,z.width,z.height,0,0,z.width,z.height),F=B.toDataURL(I,L),m.remove(B)}return F},addImage:function(w,R,I){var L=null;return this.checkKey(w)&&(L=this.create(w,R),S.Image(L,0),I&&L.setDataSource(I),this.emit(f.ADD,w,L),this.emit(f.ADD_KEY+w,L)),L},addGLTexture:function(w,R){var I=null;if(this.checkKey(w)){var L=R.width,F=R.height;(I=this.create(w,R,L,F)).add("__BASE",0,0,0,L,F),this.emit(f.ADD,w,I),this.emit(f.ADD_KEY+w,I)}return I},addCompressedTexture:function(w,R,I){var L=null;if(this.checkKey(w)){if((L=this.create(w,R)).add("__BASE",0,0,0,R.width,R.height),I){var F=function(z,B,V){Array.isArray(V.textures)||Array.isArray(V.frames)?S.JSONArray(z,B,V):S.JSONHash(z,B,V)};if(Array.isArray(I))for(var G=0;G<I.length;G++)F(L,G,I[G]);else F(L,0,I)}this.emit(f.ADD,w,L),this.emit(f.ADD_KEY+w,L)}return L},addRenderTexture:function(w,R){var I=null;return this.checkKey(w)&&((I=this.create(w,R)).add("__BASE",0,0,0,R.width,R.height),this.emit(f.ADD,w,I),this.emit(f.ADD_KEY+w,I)),I},generate:function(w,R){if(this.checkKey(w)){var I=m.create(this,1,1);return R.canvas=I,p(R),this.addCanvas(w,I)}return null},createCanvas:function(w,R,I){if(void 0===R&&(R=256),void 0===I&&(I=256),this.checkKey(w)){var L=m.create(this,R,I,l.CANVAS,!0);return this.addCanvas(w,L)}return null},addCanvas:function(w,R,I){void 0===I&&(I=!1);var L=null;return I?L=new x(this,w,R,R.width,R.height):this.checkKey(w)&&(L=new x(this,w,R,R.width,R.height),this.list[w]=L,this.emit(f.ADD,w,L),this.emit(f.ADD_KEY+w,L)),L},addDynamicTexture:function(w,R,I){var L=null;return"string"!=typeof w||this.exists(w)?w=(L=w).key:L=new s(this,w,R,I),this.checkKey(w)?(this.list[w]=L,this.emit(f.ADD,w,L),this.emit(f.ADD_KEY+w,L)):L=null,L},addAtlas:function(w,R,I,L){return Array.isArray(I.textures)||Array.isArray(I.frames)?this.addAtlasJSONArray(w,R,I,L):this.addAtlasJSONHash(w,R,I,L)},addAtlasJSONArray:function(w,R,I,L){var F=null;if(R instanceof C?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F){if(Array.isArray(I))for(var G=1===I.length,z=0;z<F.source.length;z++)S.JSONArray(F,z,G?I[0]:I[z]);else S.JSONArray(F,0,I);L&&F.setDataSource(L),this.emit(f.ADD,w,F),this.emit(f.ADD_KEY+w,F)}return F},addAtlasJSONHash:function(w,R,I,L){var F=null;if(R instanceof C?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F){if(Array.isArray(I))for(var G=0;G<I.length;G++)S.JSONHash(F,G,I[G]);else S.JSONHash(F,0,I);L&&F.setDataSource(L),this.emit(f.ADD,w,F),this.emit(f.ADD_KEY+w,F)}return F},addAtlasXML:function(w,R,I,L){var F=null;return R instanceof C?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F&&(S.AtlasXML(F,0,I),L&&F.setDataSource(L),this.emit(f.ADD,w,F),this.emit(f.ADD_KEY+w,F)),F},addUnityAtlas:function(w,R,I,L){var F=null;return R instanceof C?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F&&(S.UnityYAML(F,0,I),L&&F.setDataSource(L),this.emit(f.ADD,w,F),this.emit(f.ADD_KEY+w,F)),F},addSpriteSheet:function(w,R,I,L){var F=null;return R instanceof C?(w=R.key,F=R):this.checkKey(w)&&(F=this.create(w,R)),F&&(S.SpriteSheet(F,0,0,0,F.source[0].width,F.source[0].height,I),L&&F.setDataSource(L),this.emit(f.ADD,w,F),this.emit(f.ADD_KEY+w,F)),F},addSpriteSheetFromAtlas:function(w,R){if(!this.checkKey(w))return null;var I=d(R,"atlas",null),L=d(R,"frame",null);if(I&&L){var G=this.get(I).get(L);if(G){var z=G.source.image;z||(z=G.source.glTexture);var B=this.create(w,z);return G.trimmed?S.SpriteSheetFromAtlas(B,G,R):S.SpriteSheet(B,0,G.cutX,G.cutY,G.cutWidth,G.cutHeight,R),this.emit(f.ADD,w,B),this.emit(f.ADD_KEY+w,B),B}}},addUint8Array:function(w,R,I,L){if(!this.checkKey(w)||R.length/4!=I*L)return null;var F=this.create(w,R,I,L);return F.add("__BASE",0,0,0,I,L),this.emit(f.ADD,w,F),this.emit(f.ADD_KEY+w,F),F},create:function(w,R,I,L){var F=null;return this.checkKey(w)&&(F=new C(this,w,R,I,L),this.list[w]=F),F},exists:function(w){return this.list.hasOwnProperty(w)},get:function(w){return void 0===w&&(w="__DEFAULT"),this.list[w]?this.list[w]:w instanceof C?w:w instanceof a?w.texture:this.list.__MISSING},cloneFrame:function(w,R){if(this.list[w])return this.list[w].get(R).clone()},getFrame:function(w,R){if(this.list[w])return this.list[w].get(R)},parseFrame:function(w){if(w)return"string"==typeof w?this.getFrame(w):Array.isArray(w)&&2===w.length?this.getFrame(w[0],w[1]):y(w)?this.getFrame(w.key,w.frame):w instanceof C?w.get():w instanceof a?w:void 0},getTextureKeys:function(){var w=[];for(var R in this.list)"__DEFAULT"!==R&&"__MISSING"!==R&&"__WHITE"!==R&&"__NORMAL"!==R&&w.push(R);return w},getPixel:function(w,R,I,L){var F=this.getFrame(I,L);if(F){w-=F.x,R-=F.y;var G=F.data.cut;if(R+=G.y,(w+=G.x)>=G.x&&w<G.r&&R>=G.y&&R<G.b){var z=this._tempContext;z.clearRect(0,0,1,1),z.drawImage(F.source.image,w,R,1,1,0,0,1,1);var B=z.getImageData(0,0,1,1);return new u(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(w,R,I,L){var F=this.getFrame(I,L);if(F){w-=F.x,R-=F.y;var G=F.data.cut;if(R+=G.y,(w+=G.x)>=G.x&&w<G.r&&R>=G.y&&R<G.b){var z=this._tempContext;return z.clearRect(0,0,1,1),z.drawImage(F.source.image,w,R,1,1,0,0,1,1),z.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(w,R,I){return this.list[R]&&(w.texture=this.list[R],w.frame=w.texture.get(I)),w},renameTexture:function(w,R){var I=this.get(w);return!(!I||w===R||(I.key=R,this.list[R]=I,delete this.list[w],0))},each:function(w,R){for(var I=[null],L=1;L<arguments.length;L++)I.push(arguments[L]);for(var F in this.list)I[0]=this.list[F],w.apply(R,I)},resetStamp:function(w,R){void 0===w&&(w=1),void 0===R&&(R=16777215);var I=this.stamp;return I.setCrop(),I.setPosition(0),I.setAngle(0),I.setScale(1),I.setAlpha(w),I.setTint(R),I.setTexture("__WHITE"),I},destroy:function(){for(var w in this.list)this.list[w].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,m.remove(this._tempCanvas)}});T.exports=M},11876:(T,A,i)=>{var m=i(27919),x=i(83419),h=i(50030),u=i(29795),l=i(82751),s=new x({initialize:function(f,a,c,p,d){void 0===d&&(d=!1);var v=f.manager.game;this.renderer=v.renderer,this.texture=f,this.source=a,this.image=a.compressed?null:a,this.compressionAlgorithm=a.compressed?a.format:null,this.resolution=1,this.width=c||a.naturalWidth||a.videoWidth||a.width||0,this.height=p||a.naturalHeight||a.videoHeight||a.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=a instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&a instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===a.type||"DynamicTexture"===a.type,this.isGLTexture=a instanceof l,this.isPowerOf2=h(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(v)},init:function(o){var f=this.renderer;if(f){var a=this.source;if(f.gl){var c=this.image,p=this.flipY,d=this.width,v=this.height,y=this.scaleMode;this.glTexture=this.isCanvas?f.createCanvasTexture(c,!1,p):this.isVideo?f.createVideoTexture(c,!1,p):this.isRenderTexture?f.createTextureFromSource(null,d,v,y):this.isGLTexture?a:this.compressionAlgorithm?f.createTextureFromSource(a,void 0,void 0,y):a instanceof Uint8Array?f.createUint8ArrayTexture(a,d,v,y):f.createTextureFromSource(c,d,v,y)}else this.isRenderTexture&&(this.image=a.canvas)}o.config.antialias||this.setFilter(1)},setFilter:function(o){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,o),this.scaleMode=o},setFlipY:function(o){return void 0===o&&(o=!0),o===this.flipY||(this.flipY=o,this.update()),this},update:function(){var o=this.renderer,f=this.image,a=this.flipY,c=o.gl;c&&this.isCanvas?o.updateCanvasTexture(f,this.glTexture,a):c&&this.isVideo&&o.updateVideoTexture(f,this.glTexture,a)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&m.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});T.exports=s},19673:T=>{T.exports={LINEAR:0,NEAREST:1}},44538:T=>{T.exports="addtexture"},63486:T=>{T.exports="addtexture-"},94851:T=>{T.exports="onerror"},29099:T=>{T.exports="onload"},8678:T=>{T.exports="ready"},86415:T=>{T.exports="removetexture"},30879:T=>{T.exports="removetexture-"},69442:(T,A,i)=>{T.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(T,A,i)=>{var m=i(79291),x=i(19673),h={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:x,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};h=m(!1,h,x),T.exports=h},89905:T=>{T.exports=function(i,m,x){if(x.getElementsByTagName("TextureAtlas")){var h=i.source[m];i.add("__BASE",m,0,0,h.width,h.height);for(var l,u=x.getElementsByTagName("SubTexture"),s=0;s<u.length;s++){var o=u[s].attributes,f=o.name.value,a=parseInt(o.x.value,10),c=parseInt(o.y.value,10),p=parseInt(o.width.value,10),d=parseInt(o.height.value,10);if(l=i.add(f,m,a,c,p,d),o.frameX){var v=Math.abs(parseInt(o.frameX.value,10)),y=Math.abs(parseInt(o.frameY.value,10)),S=parseInt(o.frameWidth.value,10),b=parseInt(o.frameHeight.value,10);l.setTrim(p,d,v,y,S,b)}}return i}console.warn("Invalid Texture Atlas XML given")}},72893:T=>{T.exports=function(i,m){var x=i.source[m];return i.add("__BASE",m,0,0,x.width,x.height),i}},4832:T=>{T.exports=function(i,m){var x=i.source[m];return i.add("__BASE",m,0,0,x.width,x.height),i}},78566:(T,A,i)=>{var m=i(41786);T.exports=function(h,u,l){if(l.frames||l.textures){var s=h.source[u];h.add("__BASE",u,0,0,s.width,s.height);for(var f,o=Array.isArray(l.textures)?l.textures[u].frames:l.frames,a=0;a<o.length;a++){var c=o[a];if(f=h.add(c.filename,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h)){c.trimmed&&f.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=c.anchor||c.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),c.scale9Borders&&f.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),f.customData=m(c)}else console.warn("Invalid atlas json, frame already exists: "+c.filename)}for(var d in l)"frames"!==d&&(h.customData[d]=Array.isArray(l[d])?l[d].slice(0):l[d]);return h}console.warn("Invalid Texture Atlas JSON Array")}},39711:(T,A,i)=>{var m=i(41786);T.exports=function(h,u,l){if(l.frames){var s=h.source[u];h.add("__BASE",u,0,0,s.width,s.height);var f,o=l.frames;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];if(!(f=h.add(a,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h))){console.warn("Invalid atlas json, frame already exists: "+a);continue}c.trimmed&&f.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(f.rotated=!0,f.updateUVsInverted());var p=c.anchor||c.pivot;p&&(f.customPivot=!0,f.pivotX=p.x,f.pivotY=p.y),c.scale9Borders&&f.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),f.customData=m(c)}for(var d in l)"frames"!==d&&(h.customData[d]=Array.isArray(l[d])?l[d].slice(0):l[d]);return h}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},31403:T=>{T.exports=function(i){var x,m=[171,75,84,88,32,49,49,187,13,10,26,10],h=new Uint8Array(i,0,12);for(x=0;x<h.length;x++)if(h[x]!==m[x])return void console.warn("KTXParser - Invalid file format");var u=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(i,12,13*u),s=67305985===l.getUint32(0,!0);if(0===l.getUint32(1*u,s)){var f=l.getUint32(4*u,s),a=l.getUint32(6*u,s),c=l.getUint32(7*u,s),p=Math.max(1,l.getUint32(11*u,s)),d=l.getUint32(12*u,s),v=new Array(p),y=64+d,S=a,b=c;for(x=0;x<p;x++){var C=new Int32Array(i,y,1)[0];y+=4,v[x]={data:new Uint8Array(i,y,C),width:S,height:b},S=Math.max(1,S>>1),b=Math.max(1,b>>1),y+=C}return{mipmaps:v,width:a,height:c,internalFormat:f,compressed:!0,generateMipmap:!1}}console.warn("KTXParser - Only compressed formats supported")}},82038:T=>{function A(R,I,L,F,G,z,B){return void 0===B&&(B=16),Math.floor((R+L)/G)*Math.floor((I+F)/z)*B}function i(R,I){return(R=Math.max(R,16))*(I=Math.max(I,8))/4}function m(R,I){return(R=Math.max(R,8))*(I=Math.max(I,8))/2}function x(R,I){return Math.ceil(R/4)*Math.ceil(I/4)*16}function h(R,I){return A(R,I,3,3,4,4,8)}function u(R,I){return A(R,I,3,3,4,4)}var M={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:m,glFormat:[35840]},3:{sizeFunc:m,glFormat:[35842]},6:{sizeFunc:h,glFormat:[36196]},7:{sizeFunc:h,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:h,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:h,glFormat:[37494,37495]},25:{sizeFunc:h,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:function l(R,I){return A(R,I,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function s(R,I){return A(R,I,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function o(R,I){return A(R,I,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function f(R,I){return A(R,I,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function a(R,I){return A(R,I,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function c(R,I){return A(R,I,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function p(R,I){return A(R,I,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function d(R,I){return A(R,I,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function v(R,I){return A(R,I,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function y(R,I){return A(R,I,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function S(R,I){return A(R,I,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function b(R,I){return A(R,I,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function C(R,I){return A(R,I,11,11,12,12)},glFormat:[37821,37853]}};T.exports=function(R){for(var I=new Uint32Array(R,0,13),G=55727696===I[0]?I[2]:I[3],B=M[G].glFormat[I[4]],V=M[G].sizeFunc,Y=I[11],$=I[7],J=I[6],k=new Uint8Array(R,52+I[12]),N=new Array(Y),H=0,X=$,K=J,Q=0;Q<Y;Q++){var q=V(X,K);N[Q]={data:new Uint8Array(k.buffer,k.byteOffset+H,q),width:X,height:K},X=Math.max(1,X>>1),K=Math.max(1,K>>1),H+=q}return{mipmaps:N,width:$,height:J,internalFormat:B,compressed:!0,generateMipmap:!1}}},75549:(T,A,i)=>{var m=i(95540);T.exports=function(h,u,l,s,o,f,a){var c=m(a,"frameWidth",null),p=m(a,"frameHeight",c);if(null===c)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=h.source[u];h.add("__BASE",u,0,0,d.width,d.height);var v=m(a,"startFrame",0),y=m(a,"endFrame",-1),S=m(a,"margin",0),b=m(a,"spacing",0),w=Math.floor((o-S+b)/(c+b))*Math.floor((f-S+b)/(p+b));0===w&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",h.key),(v>w||v<-w)&&(v=0),v<0&&(v=w+v),(-1===y||y>w||y<v)&&(y=w);for(var R=S,I=S,L=0,F=0,G=0,z=0;z<w;z++){L=0,F=0;var B=R+c,V=I+p;B>o&&(L=B-o),V>f&&(F=V-f),z>=v&&z<=y&&(h.add(G,u,l+R,s+I,c-L,p-F),G++),(R+=c+b)+c>o&&(R=S,I+=p+b)}return h}},47534:(T,A,i)=>{var m=i(95540);T.exports=function(h,u,l){var s=m(l,"frameWidth",null),o=m(l,"frameHeight",s);if(!s)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=h.source[0];h.add("__BASE",0,0,0,f.width,f.height);var a=m(l,"startFrame",0),c=m(l,"endFrame",-1),p=m(l,"margin",0),d=m(l,"spacing",0),v=u.cutX,y=u.cutY,S=u.cutWidth,b=u.cutHeight,C=u.realWidth,M=u.realHeight,w=Math.floor((C-p+d)/(s+d)),R=Math.floor((M-p+d)/(o+d)),I=w*R,L=u.x,F=s-L,G=s-(C-S-L),z=u.y,B=o-z,V=o-(M-b-z);(a>I||a<-I)&&(a=0),a<0&&(a=I+a),-1!==c&&(I=a+(c+1));for(var Y,$=p,J=p,W=0,N=0;N<R;N++){for(var H=0===N,X=N===R-1,K=0;K<w;K++){var Q=0===K,q=K===w-1;if(Y=h.add(W,0,v+$,y+J,s,o),Q||H||q||X){var _=Q?L:0,nt=H?z:0,st=0,at=0;Q&&(st+=s-F),q&&(st+=s-G),H&&(at+=o-B),X&&(at+=o-V);var lt=s-st,ht=o-at;Y.cutWidth=lt,Y.cutHeight=ht,Y.setTrim(s,o,_,nt,lt,ht)}$+=d,$+=Q?F:q?G:s,W++}$=p,J+=d,J+=H?B:X?V:o}return h}},86147:T=>{var A=0,i=function(x,h,u,l){x.add(u,h,l.x,A-l.y-l.height,l.width,l.height)};T.exports=function(x,h,u){var l=x.source[h];x.add("__BASE",h,0,0,l.width,l.height),A=l.height;for(var s=u.split("\n"),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",a="",c={x:0,y:0,width:0,height:0},p=0;p<s.length;p++){var d=s[p].match(o);if(d){var y=d[2],S=d[3];if("- "===d[1]&&(a!==f&&(i(x,h,a,c),f=a),c={x:0,y:0,width:0,height:0}),"name"===y){a=S;continue}switch(y){case"x":case"y":case"width":case"height":c[y]=parseInt(S,10)}}}return a!==f&&i(x,h,a,c),x}},55222:(T,A,i)=>{var m=i(50030);function h(f){for(var a=f.mipmaps,c=0;c<a.length;c++){var p=a[c].width,d=a[c].height;if((p<<c)%4!=0||(d<<c)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+c+" is "+p+"x"+d),!1}return!0}function u(){return!0}function l(f){var c=f.mipmaps[0];return!!m(c.width,c.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+c.width+"x"+c.height),!1)}function s(f){var c=f.mipmaps[0];return c.width%4==0&&c.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+c.width+"x"+c.height+" pixels"),!1)}var o={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:h,36493:h,36494:h,36495:h,36283:h,36284:h,36285:h,36286:h,35840:l,35841:l,35842:l,35843:l,33776:h,33777:h,33778:h,33779:h,35916:s,35917:s,35918:s,35919:s};T.exports=function(f){for(var a=f.mipmaps,c=1;c<a.length;c++){var p=a[c].width,d=a[c].height;if(!m(p,d))return console.warn("Mip level "+c+" is not a power-of-two size: "+p+"x"+d),!1}var v=o[f.internalFormat];return v?v(f):(console.warn("No format checker found for internal format "+f.internalFormat+". Assuming valid."),!0)}},61309:(T,A,i)=>{T.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:T=>{T.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(T,A,i)=>{var x=new(i(83419))({initialize:function(u,l,s,o,f,a,c){(void 0===s||s<=0)&&(s=32),(void 0===o||o<=0)&&(o=32),void 0===f&&(f=0),void 0===a&&(a=0),this.name=u,this.firstgid=0|l,this.imageWidth=0|s,this.imageHeight=0|o,this.imageMargin=0|f,this.imageSpacing=0|a,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},addImage:function(h,u){return this.images.push({gid:h,image:u}),this.total++,this}});T.exports=x},27462:(T,A,i)=>{var x=new(i(83419))({initialize:function(u){if(this.gids=[],void 0!==u)for(var l=0;l<u.length;++l)for(var s=u[l],o=0;o<s.total;++o)this.gids[s.firstgid+o]=s;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(h){this.gids=h?this._gids:void 0}},getTypeIncludingTile:function(h){if(void 0!==h.type&&""!==h.type)return h.type;if(this.gids&&void 0!==h.gid){var u=this.gids[h.gid];if(u){var l=u.getTileData(h.gid);if(l)return l.type}}},setTextureAndFrame:function(h,u,l,s){if(null===u&&this.gids&&void 0!==s.gid){var o=this.gids[s.gid];o&&(null===u&&void 0!==o.image&&(u=o.image.key),null===l&&(l=s.gid-o.firstgid),h.scene.textures.getFrame(u,l)||(u=null,l=null))}h.setTexture(u,l)},setPropertiesFromTiledObject:function(h,u){if(void 0!==this.gids&&void 0!==u.gid){var l=this.gids[u.gid];void 0!==l&&this.setFromJSON(h,l.getTileProperties(u.gid))}this.setFromJSON(h,u.properties)},setFromJSON:function(h,u){if(u){if(Array.isArray(u)){for(var l=0;l<u.length;l++){var s=u[l];void 0!==h[s.name]?h[s.name]=s.value:h.setData(s.name,s.value)}return}for(var o in u)void 0!==h[o]?h[o]=u[o]:h.setData(o,u[o])}}});T.exports=x},31989:(T,A,i)=>{var m=i(80341),x=i(87010),h=i(46177),u=i(49075);T.exports=function(s,o,f,a,c,p,d,v){void 0===f&&(f=32),void 0===a&&(a=32),void 0===c&&(c=10),void 0===p&&(p=10),void 0===v&&(v=!1);var y=null;if(Array.isArray(d))y=h(void 0!==o?o:"map",m.ARRAY_2D,d,f,a,v);else if(void 0!==o){var b=s.cache.tilemap.get(o);b?y=h(o,b.format,b.data,f,a,v):console.warn("No map data found for key "+o)}return null===y&&(y=new x({tileWidth:f,tileHeight:a,width:c,height:p})),new u(s,y)}},23029:(T,A,i)=>{var m=i(83419),x=i(31401),h=i(91907),u=i(62644),l=i(93232),s=new m({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(f,a,c,p,d,v,y,S){this.layer=f,this.index=a,this.x=c,this.y=p,this.width=d,this.height=v,this.baseWidth=void 0!==y?y:d,this.baseHeight=void 0!==S?S:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(o,f){return!(o<this.pixelX||f<this.pixelY||o>this.right||f>this.bottom)},copy:function(o){return this.index=o.index,this.alpha=o.alpha,this.properties=u(o.properties),this.visible=o.visible,this.setFlip(o.flipX,o.flipY),this.tint=o.tint,this.rotation=o.rotation,this.collideUp=o.collideUp,this.collideDown=o.collideDown,this.collideLeft=o.collideLeft,this.collideRight=o.collideRight,this.collisionCallback=o.collisionCallback,this.collisionCallbackContext=o.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(o){var f=this.tilemapLayer;return f?f.tileToWorldXY(this.x,this.y,void 0,o).x:this.x*this.baseWidth},getRight:function(o){var f=this.tilemapLayer;return f?this.getLeft(o)+this.width*f.scaleX:this.getLeft(o)+this.width},getTop:function(o){var f=this.tilemapLayer;return f?f.tileToWorldXY(this.x,this.y,void 0,o).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(o){var f=this.tilemapLayer;return f?this.getTop(o)+this.height*f.scaleY:this.getTop(o)+this.height},getBounds:function(o,f){return void 0===f&&(f=new l),f.x=this.getLeft(o),f.y=this.getTop(o),f.width=this.getRight(o)-f.x,f.height=this.getBottom(o)-f.y,f},getCenterX:function(o){return(this.getLeft(o)+this.getRight(o))/2},getCenterY:function(o){return(this.getTop(o)+this.getBottom(o))/2},intersects:function(o,f,a,c){return!(a<=this.pixelX||c<=this.pixelY||o>=this.right||f>=this.bottom)},isInteresting:function(o,f){return o&&f?this.canCollide||this.hasInterestingFace:o?this.collides:!!f&&this.hasInterestingFace},resetCollision:function(o){return void 0===o&&(o=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,o&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(o,f,a,c,p){return void 0===f&&(f=o),void 0===a&&(a=o),void 0===c&&(c=o),void 0===p&&(p=!0),this.collideLeft=o,this.collideRight=f,this.collideUp=a,this.collideDown=c,this.faceLeft=o,this.faceRight=f,this.faceTop=a,this.faceBottom=c,p&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(o,f){return null===o?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=o,this.collisionCallbackContext=f),this},setSize:function(o,f,a,c){return void 0!==o&&(this.width=o),void 0!==f&&(this.height=f),void 0!==a&&(this.baseWidth=a),void 0!==c&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var o=this.layer.orientation;if(o===h.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(o===h.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(o===h.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(o===h.HEXAGONAL){var d,f=this.layer.staggerAxis,a=this.layer.staggerIndex,c=this.layer.hexSideLength;"y"===f?(d=(this.baseHeight-c)/2+c,this.pixelX="odd"===a?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):"x"===f&&(this.pixelX=this.x*((this.baseWidth-c)/2+c),this.pixelY="odd"===a?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var o=this.layer.tilemapLayer;if(o){var f=o.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var o=this.tilemapLayer;return o?o.tilemap:null}}});T.exports=s},49075:(T,A,i)=>{var m=i(84101),x=i(83419),h=i(39506),u=i(80341),l=i(95540),s=i(14977),o=i(27462),f=i(91907),a=i(36305),c=i(19133),p=i(68287),d=i(23029),v=i(81086),y=i(20442),S=i(33629),b=new x({initialize:function(M,w){this.scene=M,this.tileWidth=w.tileWidth,this.tileHeight=w.tileHeight,this.width=w.width,this.height=w.height,this.orientation=w.orientation,this.renderOrder=w.renderOrder,this.format=w.format,this.version=w.version,this.properties=w.properties,this.widthInPixels=w.widthInPixels,this.heightInPixels=w.heightInPixels,this.imageCollections=w.imageCollections,this.images=w.images,this.layers=w.layers,this.tiles=w.tiles,this.tilesets=w.tilesets,this.objects=w.objects,this.currentLayerIndex=0,this.hexSideLength=w.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:v.GetWorldToTileXYFunction(R),WorldToTileX:v.GetWorldToTileXFunction(R),WorldToTileY:v.GetWorldToTileYFunction(R),TileToWorldXY:v.GetTileToWorldXYFunction(R),TileToWorldX:v.GetTileToWorldXFunction(R),TileToWorldY:v.GetTileToWorldYFunction(R),GetTileCorners:v.GetTileCornersFunction(R)}},setRenderOrder:function(C){var M=["right-down","left-down","right-up","left-up"];return"number"==typeof C&&(C=M[C]),M.indexOf(C)>-1&&(this.renderOrder=C),this},addTilesetImage:function(C,M,w,R,I,L,F,G){if(void 0===C)return null;null==M&&(M=C);var z=this.scene.sys.textures;if(!z.exists(M))return console.warn('Texture key "%s" not found',M),null;var B=z.get(M),V=this.getTilesetIndex(C);if(null===V&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',C,this.tilesets),null;var Y=this.tilesets[V];return Y?(Y.setTileSize(w,R),Y.setSpacing(I,L),Y.setImage(B),Y):(void 0===w&&(w=this.tileWidth),void 0===R&&(R=this.tileHeight),void 0===I&&(I=0),void 0===L&&(L=0),void 0===F&&(F=0),void 0===G&&(G={x:0,y:0}),(Y=new S(C,F,w,R,I,L,void 0,void 0,G)).setImage(B),this.tilesets.push(Y),this.tiles=m(this),Y)},copy:function(C,M,w,R,I,L,F,G){return null!==(G=this.getLayer(G))?(v.Copy(C,M,w,R,I,L,F,G),this):null},createBlankLayer:function(C,M,w,R,I,L,F,G){if(void 0===w&&(w=0),void 0===R&&(R=0),void 0===I&&(I=this.width),void 0===L&&(L=this.height),void 0===F&&(F=this.tileWidth),void 0===G&&(G=this.tileHeight),null!==this.getLayerIndex(C))return console.warn("Invalid Tilemap Layer ID: "+C),null;for(var V,B=new s({name:C,tileWidth:F,tileHeight:G,width:I,height:L,orientation:this.orientation}),Y=0;Y<L;Y++){V=[];for(var $=0;$<I;$++)V.push(new d(B,-1,$,Y,F,G,this.tileWidth,this.tileHeight));B.data.push(V)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var J=new y(this.scene,this,this.currentLayerIndex,M,w,R);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(C,M,w,R){var I=this.getLayerIndex(C);if(null===I)return console.warn("Invalid Tilemap Layer ID: "+C),"string"==typeof C&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[I];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+C),null;this.currentLayerIndex=I,void 0===w&&(w=L.x),void 0===R&&(R=L.y);var F=new y(this.scene,this,I,M,w,R);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(C,M,w){void 0===w&&(w=!0);var R=[],I=this.getObjectLayer(C);if(!I)return console.warn("createFromObjects: Invalid objectLayerName given: "+C),R;var L=new o(w?this.tilesets:void 0);Array.isArray(M)||(M=[M]);for(var F=I.objects,G=0;G<M.length;G++){var z=M[G],B=l(z,"id",null),V=l(z,"gid",null),Y=l(z,"name",null),$=l(z,"type",null);L.enabled=!l(z,"ignoreTileset",null);for(var J,W=[],k=0;k<F.length;k++)J=F[k],(null===B&&null===V&&null===Y&&null===$||null!==B&&J.id===B||null!==V&&J.gid===V||null!==Y&&J.name===Y||null!==$&&L.getTypeIncludingTile(J)===$)&&W.push(J);for(var N=l(z,"classType",p),H=l(z,"scene",this.scene),X=l(z,"container",null),K=l(z,"key",null),Q=l(z,"frame",null),q=0;q<W.length;q++){J=W[q];var _=new N(H);if(_.setName(J.name),_.setPosition(J.x,J.y),L.setTextureAndFrame(_,K,Q,J),J.width&&(_.displayWidth=J.width),J.height&&(_.displayHeight=J.height),this.orientation===f.ISOMETRIC){var st={x:_.x-_.y,y:(_.x+_.y)/(this.tileWidth/this.tileHeight)};_.x=st.x,_.y=st.y}var at={x:_.originX*J.width,y:(_.originY-(J.gid?1:0))*J.height};if(J.rotation){var lt=h(J.rotation);a(at,lt),_.rotation=lt}_.x+=at.x,_.y+=at.y,(void 0!==J.flippedHorizontal||void 0!==J.flippedVertical)&&_.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(_.visible=!1),L.setPropertiesFromTiledObject(_,J),X?X.add(_):H.add.existing(_),R.push(_)}}return R},createFromTiles:function(C,M,w,R,I,L){return null===(L=this.getLayer(L))?null:v.CreateFromTiles(C,M,w,R,I,L)},fill:function(C,M,w,R,I,L,F){return void 0===L&&(L=!0),null===(F=this.getLayer(F))?null:(v.Fill(C,M,w,R,I,L,F),this)},filterObjects:function(C,M,w){if("string"==typeof C){var R=C;if(!(C=this.getObjectLayer(C)))return console.warn("No object layer found with the name: "+R),null}return C.objects.filter(M,w)},filterTiles:function(C,M,w,R,I,L,F,G){return null===(G=this.getLayer(G))?null:v.FilterTiles(C,M,w,R,I,L,F,G)},findByIndex:function(C,M,w,R){return null===(R=this.getLayer(R))?null:v.FindByIndex(C,M,w,R)},findObject:function(C,M,w){if("string"==typeof C){var R=C;if(!(C=this.getObjectLayer(C)))return console.warn("No object layer found with the name: "+R),null}return C.objects.find(M,w)||null},findTile:function(C,M,w,R,I,L,F,G){return null===(G=this.getLayer(G))?null:v.FindTile(C,M,w,R,I,L,F,G)},forEachTile:function(C,M,w,R,I,L,F,G){return null===(G=this.getLayer(G))?null:(v.ForEachTile(C,M,w,R,I,L,F,G),this)},getImageIndex:function(C){return this.getIndex(this.images,C)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(C){return C.name}):[]},getIndex:function(C,M){for(var w=0;w<C.length;w++)if(C[w].name===M)return w;return null},getLayer:function(C){var M=this.getLayerIndex(C);return null!==M?this.layers[M]:null},getObjectLayer:function(C){var M=this.getIndex(this.objects,C);return null!==M?this.objects[M]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(C){return C.name}):[]},getLayerIndex:function(C){return void 0===C?this.currentLayerIndex:"string"==typeof C?this.getLayerIndexByName(C):"number"==typeof C&&C<this.layers.length?C:C instanceof y&&C.tilemap===this?C.layerIndex:null},getLayerIndexByName:function(C){return this.getIndex(this.layers,C)},getTileAt:function(C,M,w,R){return null===(R=this.getLayer(R))?null:v.GetTileAt(C,M,w,R)},getTileAtWorldXY:function(C,M,w,R,I){return null===(I=this.getLayer(I))?null:v.GetTileAtWorldXY(C,M,w,R,I)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(C){return C.name}):[]},getTilesWithin:function(C,M,w,R,I,L){return null===(L=this.getLayer(L))?null:v.GetTilesWithin(C,M,w,R,I,L)},getTilesWithinShape:function(C,M,w,R){return null===(R=this.getLayer(R))?null:v.GetTilesWithinShape(C,M,w,R)},getTilesWithinWorldXY:function(C,M,w,R,I,L,F){return null===(F=this.getLayer(F))?null:v.GetTilesWithinWorldXY(C,M,w,R,I,L,F)},getTileset:function(C){var M=this.getIndex(this.tilesets,C);return null!==M?this.tilesets[M]:null},getTilesetIndex:function(C){return this.getIndex(this.tilesets,C)},hasTileAt:function(C,M,w){return null===(w=this.getLayer(w))?null:v.HasTileAt(C,M,w)},hasTileAtWorldXY:function(C,M,w,R){return null===(R=this.getLayer(R))?null:v.HasTileAtWorldXY(C,M,w,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(C){this.setLayer(C)}},putTileAt:function(C,M,w,R,I){return void 0===R&&(R=!0),null===(I=this.getLayer(I))?null:v.PutTileAt(C,M,w,R,I)},putTileAtWorldXY:function(C,M,w,R,I,L){return void 0===R&&(R=!0),null===(L=this.getLayer(L))?null:v.PutTileAtWorldXY(C,M,w,R,I,L)},putTilesAt:function(C,M,w,R,I){return void 0===R&&(R=!0),null===(I=this.getLayer(I))?null:(v.PutTilesAt(C,M,w,R,I),this)},randomize:function(C,M,w,R,I,L){return null===(L=this.getLayer(L))?null:(v.Randomize(C,M,w,R,I,L),this)},calculateFacesAt:function(C,M,w){return null===(w=this.getLayer(w))?null:(v.CalculateFacesAt(C,M,w),this)},calculateFacesWithin:function(C,M,w,R,I){return null===(I=this.getLayer(I))?null:(v.CalculateFacesWithin(C,M,w,R,I),this)},removeLayer:function(C){var M=this.getLayerIndex(C);if(null!==M){c(this.layers,M);for(var w=M;w<this.layers.length;w++)this.layers[w].tilemapLayer&&this.layers[w].tilemapLayer.layerIndex--;return this.currentLayerIndex===M&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(C){var M=this.getLayerIndex(C);return null!==M?((C=this.layers[M]).tilemapLayer.destroy(),c(this.layers,M),this.currentLayerIndex===M&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var C=this.layers,M=0;M<C.length;M++)C[M].tilemapLayer&&C[M].tilemapLayer.destroy(!1);return C.length=0,this.currentLayerIndex=0,this},removeTile:function(C,M,w){void 0===M&&(M=-1),void 0===w&&(w=!0);var R=[];Array.isArray(C)||(C=[C]);for(var I=0;I<C.length;I++){var L=C[I];R.push(this.removeTileAt(L.x,L.y,!0,w,L.tilemapLayer)),M>-1&&this.putTileAt(M,L.x,L.y,w,L.tilemapLayer)}return R},removeTileAt:function(C,M,w,R,I){return void 0===w&&(w=!0),void 0===R&&(R=!0),null===(I=this.getLayer(I))?null:v.RemoveTileAt(C,M,w,R,I)},removeTileAtWorldXY:function(C,M,w,R,I,L){return void 0===w&&(w=!0),void 0===R&&(R=!0),null===(L=this.getLayer(L))?null:v.RemoveTileAtWorldXY(C,M,w,R,I,L)},renderDebug:function(C,M,w){return null===(w=this.getLayer(w))?null:(this.orientation===f.ORTHOGONAL&&v.RenderDebug(C,M,w),this)},renderDebugFull:function(C,M){for(var w=this.layers,R=0;R<w.length;R++)v.RenderDebug(C,M,w[R]);return this},replaceByIndex:function(C,M,w,R,I,L,F){return null===(F=this.getLayer(F))?null:(v.ReplaceByIndex(C,M,w,R,I,L,F),this)},setCollision:function(C,M,w,R,I){return void 0===M&&(M=!0),void 0===w&&(w=!0),void 0===I&&(I=!0),null===(R=this.getLayer(R))?null:(v.SetCollision(C,M,w,R,I),this)},setCollisionBetween:function(C,M,w,R,I){return void 0===w&&(w=!0),void 0===R&&(R=!0),null===(I=this.getLayer(I))?null:(v.SetCollisionBetween(C,M,w,R,I),this)},setCollisionByProperty:function(C,M,w,R){return void 0===M&&(M=!0),void 0===w&&(w=!0),null===(R=this.getLayer(R))?null:(v.SetCollisionByProperty(C,M,w,R),this)},setCollisionByExclusion:function(C,M,w,R){return void 0===M&&(M=!0),void 0===w&&(w=!0),null===(R=this.getLayer(R))?null:(v.SetCollisionByExclusion(C,M,w,R),this)},setCollisionFromCollisionGroup:function(C,M,w){return void 0===C&&(C=!0),void 0===M&&(M=!0),null===(w=this.getLayer(w))?null:(v.SetCollisionFromCollisionGroup(C,M,w),this)},setTileIndexCallback:function(C,M,w,R){return null===(R=this.getLayer(R))?null:(v.SetTileIndexCallback(C,M,w,R),this)},setTileLocationCallback:function(C,M,w,R,I,L,F){return null===(F=this.getLayer(F))?null:(v.SetTileLocationCallback(C,M,w,R,I,L,F),this)},setLayer:function(C){var M=this.getLayerIndex(C);return null!==M&&(this.currentLayerIndex=M),this},setBaseTileSize:function(C,M){this.tileWidth=C,this.tileHeight=M,this.widthInPixels=this.width*C,this.heightInPixels=this.height*M;for(var w=0;w<this.layers.length;w++){this.layers[w].baseTileWidth=C,this.layers[w].baseTileHeight=M;for(var R=this.layers[w].data,I=this.layers[w].width,L=this.layers[w].height,F=0;F<L;F++)for(var G=0;G<I;G++){var z=R[F][G];null!==z&&z.setSize(void 0,void 0,C,M)}}return this},setLayerTileSize:function(C,M,w){if(null===(w=this.getLayer(w)))return this;w.tileWidth=C,w.tileHeight=M;for(var R=w.data,I=w.width,L=w.height,F=0;F<L;F++)for(var G=0;G<I;G++){var z=R[F][G];null!==z&&z.setSize(C,M)}return this},shuffle:function(C,M,w,R,I){return null===(I=this.getLayer(I))?null:(v.Shuffle(C,M,w,R,I),this)},swapByIndex:function(C,M,w,R,I,L,F){return null===(F=this.getLayer(F))?null:(v.SwapByIndex(C,M,w,R,I,L,F),this)},tileToWorldX:function(C,M,w){return null===(w=this.getLayer(w))?null:this._convert.TileToWorldX(C,M,w)},tileToWorldY:function(C,M,w){return null===(w=this.getLayer(w))?null:this._convert.TileToWorldY(C,M,w)},tileToWorldXY:function(C,M,w,R,I){return null===(I=this.getLayer(I))?null:this._convert.TileToWorldXY(C,M,w,R,I)},getTileCorners:function(C,M,w,R){return null===(R=this.getLayer(R))?null:this._convert.GetTileCorners(C,M,w,R)},weightedRandomize:function(C,M,w,R,I,L){return null===(L=this.getLayer(L))?null:(v.WeightedRandomize(M,w,R,I,C,L),this)},worldToTileX:function(C,M,w,R){return null===(R=this.getLayer(R))?null:this._convert.WorldToTileX(C,M,w,R)},worldToTileY:function(C,M,w,R){return null===(R=this.getLayer(R))?null:this._convert.WorldToTileY(C,M,w,R)},worldToTileXY:function(C,M,w,R,I,L){return null===(L=this.getLayer(L))?null:this._convert.WorldToTileXY(C,M,w,R,I,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});T.exports=b},45939:(T,A,i)=>{var m=i(44603),x=i(31989);m.register("tilemap",function(h){var u=void 0!==h?h:{};return x(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})},46029:(T,A,i)=>{var m=i(39429),x=i(31989);m.register("tilemap",function(h,u,l,s,o,f,a){return null===h&&(h=void 0),null===u&&(u=void 0),null===l&&(l=void 0),null===s&&(s=void 0),null===o&&(o=void 0),x(this.scene,h,u,l,s,o,f,a)})},20442:(T,A,i)=>{var m=i(83419),x=i(78389),h=i(31401),u=i(95643),l=i(81086),s=i(19218),o=i(26099),f=new m({Extends:u,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,x,s],initialize:function(c,p,d,v,y,S){u.call(this,c,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=d,this.layer=p.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new o,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(v),this.setAlpha(this.layer.alpha),this.setPosition(y,S),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(a){var c=[],p=[],d=this.tilemap;Array.isArray(a)||(a=[a]);for(var v=0;v<a.length;v++){var y=a[v];if("string"==typeof y&&(y=d.getTileset(y)),y){p.push(y);for(var S=y.firstgid,b=0;b<y.total;b++)c[S+b]=y}}this.gidMap=c,this.tileset=p},setRenderOrder:function(a){return"string"==typeof a&&(a=["right-down","left-down","right-up","left-up"].indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,c){return l.CalculateFacesAt(a,c,this.layer),this},calculateFacesWithin:function(a,c,p,d){return l.CalculateFacesWithin(a,c,p,d,this.layer),this},createFromTiles:function(a,c,p,d,v){return l.CreateFromTiles(a,c,p,d,v,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,c,p,d,v,y,S){return l.Copy(a,c,p,d,v,y,S,this.layer),this},fill:function(a,c,p,d,v,y){return l.Fill(a,c,p,d,v,y,this.layer),this},filterTiles:function(a,c,p,d,v,y,S){return l.FilterTiles(a,c,p,d,v,y,S,this.layer)},findByIndex:function(a,c,p){return l.FindByIndex(a,c,p,this.layer)},findTile:function(a,c,p,d,v,y,S){return l.FindTile(a,c,p,d,v,y,S,this.layer)},forEachTile:function(a,c,p,d,v,y,S){return l.ForEachTile(a,c,p,d,v,y,S,this.layer),this},setTint:function(a,c,p,d,v,y){return void 0===a&&(a=16777215),this.forEachTile(function(b){b.tint=a,b.tintFill=!1},this,c,p,d,v,y)},setTintFill:function(a,c,p,d,v,y){return void 0===a&&(a=16777215),this.forEachTile(function(b){b.tint=a,b.tintFill=!0},this,c,p,d,v,y)},getTileAt:function(a,c,p){return l.GetTileAt(a,c,p,this.layer)},getTileAtWorldXY:function(a,c,p,d){return l.GetTileAtWorldXY(a,c,p,d,this.layer)},getIsoTileAtWorldXY:function(a,c,p,d,v){void 0===p&&(p=!0);var y=this.tempVec;return l.IsometricWorldToTileXY(a,c,!0,y,v,this.layer,p),this.getTileAt(y.x,y.y,d)},getTilesWithin:function(a,c,p,d,v){return l.GetTilesWithin(a,c,p,d,v,this.layer)},getTilesWithinShape:function(a,c,p){return l.GetTilesWithinShape(a,c,p,this.layer)},getTilesWithinWorldXY:function(a,c,p,d,v,y){return l.GetTilesWithinWorldXY(a,c,p,d,v,y,this.layer)},hasTileAt:function(a,c){return l.HasTileAt(a,c,this.layer)},hasTileAtWorldXY:function(a,c,p){return l.HasTileAtWorldXY(a,c,p,this.layer)},putTileAt:function(a,c,p,d){return l.PutTileAt(a,c,p,d,this.layer)},putTileAtWorldXY:function(a,c,p,d,v){return l.PutTileAtWorldXY(a,c,p,d,v,this.layer)},putTilesAt:function(a,c,p,d){return l.PutTilesAt(a,c,p,d,this.layer),this},randomize:function(a,c,p,d,v){return l.Randomize(a,c,p,d,v,this.layer),this},removeTileAt:function(a,c,p,d){return l.RemoveTileAt(a,c,p,d,this.layer)},removeTileAtWorldXY:function(a,c,p,d,v){return l.RemoveTileAtWorldXY(a,c,p,d,v,this.layer)},renderDebug:function(a,c){return l.RenderDebug(a,c,this.layer),this},replaceByIndex:function(a,c,p,d,v,y){return l.ReplaceByIndex(a,c,p,d,v,y,this.layer),this},setSkipCull:function(a){return void 0===a&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,c){return void 0===a&&(a=1),void 0===c&&(c=1),this.cullPaddingX=a,this.cullPaddingY=c,this},setCollision:function(a,c,p,d){return l.SetCollision(a,c,p,this.layer,d),this},setCollisionBetween:function(a,c,p,d){return l.SetCollisionBetween(a,c,p,d,this.layer),this},setCollisionByProperty:function(a,c,p){return l.SetCollisionByProperty(a,c,p,this.layer),this},setCollisionByExclusion:function(a,c,p){return l.SetCollisionByExclusion(a,c,p,this.layer),this},setCollisionFromCollisionGroup:function(a,c){return l.SetCollisionFromCollisionGroup(a,c,this.layer),this},setTileIndexCallback:function(a,c,p){return l.SetTileIndexCallback(a,c,p,this.layer),this},setTileLocationCallback:function(a,c,p,d,v,y){return l.SetTileLocationCallback(a,c,p,d,v,y,this.layer),this},shuffle:function(a,c,p,d){return l.Shuffle(a,c,p,d,this.layer),this},swapByIndex:function(a,c,p,d,v,y){return l.SwapByIndex(a,c,p,d,v,y,this.layer),this},tileToWorldX:function(a,c){return this.tilemap.tileToWorldX(a,c,this)},tileToWorldY:function(a,c){return this.tilemap.tileToWorldY(a,c,this)},tileToWorldXY:function(a,c,p,d){return this.tilemap.tileToWorldXY(a,c,p,d,this)},getTileCorners:function(a,c,p){return this.tilemap.getTileCorners(a,c,p,this)},weightedRandomize:function(a,c,p,d,v){return l.WeightedRandomize(c,p,d,v,a,this.layer),this},worldToTileX:function(a,c,p){return this.tilemap.worldToTileX(a,c,p,this)},worldToTileY:function(a,c,p){return this.tilemap.worldToTileY(a,c,p,this)},worldToTileXY:function(a,c,p,d,v){return this.tilemap.worldToTileXY(a,c,p,d,v,this)},destroy:function(a){void 0===a&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});T.exports=f},16153:(T,A,i)=>{var m=i(61340),x=new m,h=new m,u=new m;T.exports=function(s,o,f,a){var c=o.cull(f),p=c.length,d=f.alpha*o.alpha;if(!(0===p||d<=0)){var v=x,y=h,S=u;y.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),v.copyFrom(f.matrix);var b=s.currentContext,C=o.gidMap;b.save(),a?(v.multiplyWithOffset(a,-f.scrollX*o.scrollFactorX,-f.scrollY*o.scrollFactorY),y.e=o.x,y.f=o.y,v.multiply(y,S),S.copyToContext(b)):(y.e-=f.scrollX*o.scrollFactorX,y.f-=f.scrollY*o.scrollFactorY,y.copyToContext(b)),(!s.antialias||o.scaleX>1||o.scaleY>1)&&(b.imageSmoothingEnabled=!1);for(var M=0;M<p;M++){var w=c[M],R=C[w.index];if(R){var I=R.image.getSourceImage(),L=R.getTileTextureCoordinates(w.index),F=R.tileWidth,G=R.tileHeight;if(null!==L&&0!==F&&0!==G){var z=.5*F,B=.5*G;L.x+=R.tileOffset.x,L.y+=R.tileOffset.y,b.save(),b.translate(w.pixelX+z,w.pixelY+B),0!==w.rotation&&b.rotate(w.rotation),(w.flipX||w.flipY)&&b.scale(w.flipX?-1:1,w.flipY?-1:1),b.globalAlpha=d*w.alpha,b.drawImage(I,L.x,L.y,F,G,-z,-B,F,G),b.restore()}}}b.restore()}}},19218:(T,A,i)=>{var x,h;i(29747),x=i(99558),h=i(16153),T.exports={renderWebGL:x,renderCanvas:h}},99558:(T,A,i)=>{var m=i(70554);T.exports=function(h,u,l){var s=u.cull(l),o=s.length,f=l.alpha*u.alpha;if(!(0===o||f<=0)){var a=u.gidMap,c=h.pipelines.set(u.pipeline,u),p=m.getTintAppendFloatAlpha,d=u.scrollFactorX,v=u.scrollFactorY,y=u.x,S=u.y,b=u.scaleX,C=u.scaleY;h.pipelines.preBatch(u);for(var M=0;M<o;M++){var w=s[M],R=a[w.index];if(R){var I=R.getTileTextureCoordinates(w.index),L=R.tileWidth,F=R.tileHeight;if(I&&0!==L&&0!==F){var G=.5*L,z=.5*F,B=R.glTexture,V=c.setTexture2D(B,u),Y=L,$=F,J=I.x,W=I.y,k=R.tileOffset.x,N=R.tileOffset.y,H=p(w.tint,f*w.alpha);c.batchTexture(u,B,B.width,B.height,y+w.pixelX*b+(G*b-k),S+w.pixelY*C+(z*C-N),L,F,b,C,w.rotation,w.flipX,w.flipY,d,v,G,z,J,W,Y,$,H,H,H,H,w.tintFill,0,0,l,null,!0,V,!0)}}}h.pipelines.postBatch(u)}}},33629:(T,A,i)=>{var m=i(83419),x=i(26099),h=new m({initialize:function(l,s,o,f,a,c,p,d,v){(void 0===o||o<=0)&&(o=32),(void 0===f||f<=0)&&(f=32),void 0===a&&(a=0),void 0===c&&(c=0),void 0===p&&(p={}),void 0===d&&(d={}),this.name=l,this.firstgid=s,this.tileWidth=o,this.tileHeight=f,this.tileMargin=a,this.tileSpacing=c,this.tileProperties=p,this.tileData=d,this.tileOffset=new x,void 0!==v&&this.tileOffset.set(v.x,v.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var l=this.getTileData(u);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){this.image=u;var l=u.get(),s=u.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>s.width||l.height>s.height?this.updateTileData(l.width,l.height):this.updateTileData(s.width,s.height,s.x,s.y),this},setTileSize:function(u,l){return void 0!==u&&(this.tileWidth=u),void 0!==l&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,l){return void 0!==u&&(this.tileMargin=u),void 0!==l&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,l,s,o){void 0===s&&(s=0),void 0===o&&(o=0);var f=(l-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(u-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(f%1!=0||a%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),f=Math.floor(f),a=Math.floor(a),this.rows=f,this.columns=a,this.total=f*a,this.texCoordinates.length=0;for(var c=this.tileMargin+s,p=this.tileMargin+o,d=0;d<this.rows;d++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:c,y:p}),c+=this.tileWidth+this.tileSpacing;c=this.tileMargin+s,p+=this.tileHeight+this.tileSpacing}return this}});T.exports=h},72023:(T,A,i)=>{var m=i(7423);T.exports=function(h,u,l){var s=m(h,u,!0,l),o=m(h,u-1,!0,l),f=m(h,u+1,!0,l),a=m(h-1,u,!0,l),c=m(h+1,u,!0,l),p=s&&s.collides;return p&&(s.faceTop=!0,s.faceBottom=!0,s.faceLeft=!0,s.faceRight=!0),o&&o.collides&&(p&&(s.faceTop=!1),o.faceBottom=!p),f&&f.collides&&(p&&(s.faceBottom=!1),f.faceTop=!p),a&&a.collides&&(p&&(s.faceLeft=!1),a.faceRight=!p),c&&c.collides&&(p&&(s.faceRight=!1),c.faceLeft=!p),s&&!s.collides&&s.resetFaces(),s}},42573:(T,A,i)=>{var m=i(7423),x=i(7386);T.exports=function(u,l,s,o,f){for(var a=null,c=null,p=null,d=null,v=x(u,l,s,o,null,f),y=0;y<v.length;y++){var S=v[y];S&&(S.collides?(a=m(S.x,S.y-1,!0,f),c=m(S.x,S.y+1,!0,f),p=m(S.x-1,S.y,!0,f),d=m(S.x+1,S.y,!0,f),S.faceTop=!(a&&a.collides),S.faceBottom=!(c&&c.collides),S.faceLeft=!(p&&p.collides),S.faceRight=!(d&&d.collides)):S.resetFaces())}}},33528:(T,A,i)=>{var x=new(i(26099));T.exports=function(u,l,s,o){var f=s.tilemapLayer,a=f.cullPaddingX,c=f.cullPaddingY,p=f.tilemap.tileToWorldXY(u,l,x,o,f);return p.x>o.worldView.x+f.scaleX*s.tileWidth*(-a-.5)&&p.x<o.worldView.right+f.scaleX*s.tileWidth*(a-.5)&&p.y>o.worldView.y+f.scaleY*s.tileHeight*(-c-1)&&p.y<o.worldView.bottom+f.scaleY*s.tileHeight*(c-.5)}},1785:(T,A,i)=>{var m=i(42573),x=i(7386),h=i(62991),u=i(23029);T.exports=function(s,o,f,a,c,p,d,v){void 0===d&&(d=!0);var y=x(s,o,f,a,null,v),S=[];y.forEach(function(L){var F=new u(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);F.copy(L),S.push(F)});for(var b=c-s,C=p-o,M=0;M<S.length;M++){var w=S[M],R=w.x+b,I=w.y+C;h(R,I,v)&&v.data[I][R]&&(w.x=R,w.y=I,w.updatePixelXY(),v.data[I][R]=w)}d&&m(c-1,p-1,f+2,a+2,v),y.length=0,S.length=0}},78419:(T,A,i)=>{var m=i(62644),x=i(7386),h=i(27987);T.exports=function(l,s,o,f,a,c){o||(o={}),Array.isArray(l)||(l=[l]);var p=c.tilemapLayer;f||(f=p.scene),a||(a=f.cameras.main);var b,d=c.width,v=c.height,y=x(0,0,d,v,null,c),S=[],C=function(I,L,F){for(var G=0;G<F.length;G++){var z=F[G];I.hasOwnProperty(z)||(I[z]=L[z])}};for(b=0;b<y.length;b++){var M=y[b],w=m(o);if(-1!==l.indexOf(M.index)){var R=p.tileToWorldXY(M.x,M.y,void 0,a,c);w.x=R.x,w.y=R.y,C(w,M,["rotation","flipX","flipY","alpha","visible","tint"]),w.hasOwnProperty("origin")||(w.x+=.5*M.width,w.y+=.5*M.height),w.hasOwnProperty("useSpriteSheet")&&(w.key=M.tileset.image,w.frame=M.index-1),S.push(f.make.sprite(w))}}if(Array.isArray(s))for(b=0;b<l.length;b++)h(l[b],s[b],0,0,d,v,c);else if(null!==s)for(b=0;b<l.length;b++)h(l[b],s,0,0,d,v,c);return S}},19545:(T,A,i)=>{var m=i(87841),x=i(63448),h=i(56583),u=new m;T.exports=function(s,o){var f=s.tilemapLayer.tilemap,a=s.tilemapLayer,c=Math.floor(f.tileWidth*a.scaleX),p=Math.floor(f.tileHeight*a.scaleY),d=h(o.worldView.x-a.x,c,0,!0)-a.cullPaddingX,v=x(o.worldView.right-a.x,c,0,!0)+a.cullPaddingX,y=h(o.worldView.y-a.y,p,0,!0)-a.cullPaddingY,S=x(o.worldView.bottom-a.y,p,0,!0)+a.cullPaddingY;return u.setTo(d,y,v-d,S-y)}},30003:(T,A,i)=>{var m=i(19545),x=i(32483);T.exports=function(u,l,s,o){void 0===s&&(s=[]),void 0===o&&(o=0),s.length=0;var f=u.tilemapLayer,a=m(u,l);return(f.skipCull||1!==f.scrollFactorX||1!==f.scrollFactorY)&&(a.left=0,a.right=u.width,a.top=0,a.bottom=u.height),x(u,a,o,s),s}},35137:(T,A,i)=>{var m=i(7386),x=i(42573),h=i(20576);T.exports=function(l,s,o,f,a,c,p){for(var d=-1!==p.collideIndexes.indexOf(l),v=m(s,o,f,a,null,p),y=0;y<v.length;y++)v[y].index=l,h(v[y],d);c&&x(s-1,o-1,f+2,a+2,p)}},40253:(T,A,i)=>{var m=i(7386);T.exports=function(h,u,l,s,o,f,a,c){return m(l,s,o,f,a,c).filter(h,u)}},52692:T=>{T.exports=function(i,m,x,h){void 0===m&&(m=0),void 0===x&&(x=!1);var l,s,o,u=0;if(x){for(s=h.height-1;s>=0;s--)for(l=h.width-1;l>=0;l--)if((o=h.data[s][l])&&o.index===i){if(u===m)return o;u+=1}}else for(s=0;s<h.height;s++)for(l=0;l<h.width;l++)if((o=h.data[s][l])&&o.index===i){if(u===m)return o;u+=1}return null}},66151:(T,A,i)=>{var m=i(7386);T.exports=function(h,u,l,s,o,f,a,c){return m(l,s,o,f,a,c).find(h,u)||null}},97560:(T,A,i)=>{var m=i(7386);T.exports=function(h,u,l,s,o,f,a,c){m(l,s,o,f,a,c).forEach(h,u)}},43305:(T,A,i)=>{var m=i(91907),x=i(30003),h=i(9474),u=i(14018),l=i(29747),s=i(54503);T.exports=function(f){return f===m.ORTHOGONAL?x:f===m.HEXAGONAL?h:f===m.STAGGERED?s:f===m.ISOMETRIC?u:l}},7423:(T,A,i)=>{var m=i(62991);T.exports=function(h,u,l,s){if(void 0===l&&(l=!1),m(h,u,s)){var o=s.data[u][h]||null;return o?-1===o.index?l?o:null:o:null}return null}},60540:(T,A,i)=>{var m=i(7423),h=new(i(26099));T.exports=function(l,s,o,f,a){return a.tilemapLayer.worldToTileXY(l,s,!0,h,f),m(h.x,h.y,o,a)}},55826:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s){var o=s.baseTileWidth,f=s.baseTileHeight,a=s.tilemapLayer,c=0,p=0;a&&(l||(l=a.scene.cameras.main),c=a.x+l.scrollX*(1-a.scrollFactorX),p=a.y+l.scrollY*(1-a.scrollFactorY),o*=a.scaleX,f*=a.scaleY);var d=c+h*o,v=p+u*f;return[new m(d,v),new m(d+o,v),new m(d+o,v+f),new m(d,v+f)]}},11758:(T,A,i)=>{var m=i(91907),x=i(27229),h=i(29747),u=i(55826);T.exports=function(s){return s===m.ORTHOGONAL?u:s===m.ISOMETRIC?h:s===m.HEXAGONAL?x:h}},39167:(T,A,i)=>{var m=i(91907),x=i(29747),h=i(97281);T.exports=function(l){return l===m.ORTHOGONAL?h:x}},62e3:(T,A,i)=>{var m=i(91907),x=i(19951),h=i(14127),u=i(29747),l=i(97202),s=i(70326);T.exports=function(f){return f===m.ORTHOGONAL?s:f===m.ISOMETRIC?h:f===m.HEXAGONAL?x:f===m.STAGGERED?l:u}},5984:(T,A,i)=>{var m=i(91907),x=i(29747),h=i(28054),u=i(29650);T.exports=function(s){return s===m.ORTHOGONAL?u:s===m.STAGGERED?h:x}},7386:(T,A,i)=>{var m=i(95540);T.exports=function(h,u,l,s,o,f){void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=f.width),void 0===s&&(s=f.height),o||(o={});var a=m(o,"isNotEmpty",!1),c=m(o,"isColliding",!1),p=m(o,"hasInterestingFace",!1);h<0&&(l+=h,h=0),u<0&&(s+=u,u=0),h+l>f.width&&(l=Math.max(f.width-h,0)),u+s>f.height&&(s=Math.max(f.height-u,0));for(var d=[],v=u;v<u+s;v++)for(var y=h;y<h+l;y++){var S=f.data[v][y];if(null!==S){if(a&&-1===S.index||c&&!S.collides||p&&!S.hasInterestingFace)continue;d.push(S)}}return d}},91141:(T,A,i)=>{var m=i(55738),x=i(7386),h=i(91865),u=i(29747),l=i(26099),s=function(p,d){return h.RectangleToTriangle(d,p)},o=new l,f=new l,a=new l;T.exports=function(p,d,v,y){if(void 0===p)return[];var S=u;p instanceof m.Circle?S=h.CircleToRectangle:p instanceof m.Rectangle?S=h.RectangleToRectangle:p instanceof m.Triangle?S=s:p instanceof m.Line&&(S=h.LineToRectangle),y.tilemapLayer.worldToTileXY(p.left,p.top,!0,f,v);var b=f.x,C=f.y;y.tilemapLayer.worldToTileXY(p.right,p.bottom,!1,a,v);var M=Math.ceil(a.x),w=Math.ceil(a.y),R=Math.max(M-b,1),I=Math.max(w-C,1),L=x(b,C,R,I,d,y),F=y.tileWidth,G=y.tileHeight;y.tilemapLayer&&(F*=y.tilemapLayer.scaleX,G*=y.tilemapLayer.scaleY);for(var z=[],B=new m.Rectangle(0,0,F,G),V=0;V<L.length;V++){var Y=L[V];y.tilemapLayer.tileToWorldXY(Y.x,Y.y,o,v),B.x=o.x,B.y=o.y,S(p,B)&&z.push(Y)}return z}},96523:(T,A,i)=>{var m=i(7386),x=i(26099),h=new x,u=new x;T.exports=function(s,o,f,a,c,p,d){var v=d.tilemapLayer.tilemap._convert.WorldToTileXY;v(s,o,!0,h,p,d);var y=h.x,S=h.y;v(s+f,o+a,!1,u,p,d);var b=Math.ceil(u.x),C=Math.ceil(u.y);return m(y,S,b-y,C-S,c,d)}},96113:(T,A,i)=>{var m=i(91907),x=i(20242),h=i(10095);T.exports=function(l){return l===m.ORTHOGONAL?h:x}},16926:(T,A,i)=>{var m=i(91907),x=i(86625),h=i(96897),u=i(29747),l=i(15108),s=i(85896);T.exports=function(f){return f===m.ORTHOGONAL?s:f===m.ISOMETRIC?h:f===m.HEXAGONAL?x:f===m.STAGGERED?l:u}},55762:(T,A,i)=>{var m=i(91907),x=i(20242),h=i(51900),u=i(63288);T.exports=function(s){return s===m.ORTHOGONAL?u:s===m.STAGGERED?h:x}},45091:(T,A,i)=>{var m=i(62991);T.exports=function(h,u,l){if(m(h,u,l)){var s=l.data[u][h];return null!==s&&s.index>-1}return!1}},24152:(T,A,i)=>{var m=i(45091),h=new(i(26099));T.exports=function(l,s,o,f){return f.tilemapLayer.worldToTileXY(l,s,!0,h,o),m(h.x,h.y,f)}},90454:(T,A,i)=>{var m=i(63448),x=i(56583);T.exports=function(u,l){var p,d,v,y,s=u.tilemapLayer.tilemap,o=u.tilemapLayer,f=Math.floor(s.tileWidth*o.scaleX),a=Math.floor(s.tileHeight*o.scaleY),c=u.hexSideLength;if("y"===u.staggerAxis){var S=(a-c)/2+c;p=x(l.worldView.x-o.x,f,0,!0)-o.cullPaddingX,d=m(l.worldView.right-o.x,f,0,!0)+o.cullPaddingX,v=x(l.worldView.y-o.y,S,0,!0)-o.cullPaddingY,y=m(l.worldView.bottom-o.y,S,0,!0)+o.cullPaddingY}else{var b=(f-c)/2+c;p=x(l.worldView.x-o.x,b,0,!0)-o.cullPaddingX,d=m(l.worldView.right-o.x,b,0,!0)+o.cullPaddingX,v=x(l.worldView.y-o.y,a,0,!0)-o.cullPaddingY,y=m(l.worldView.bottom-o.y,a,0,!0)+o.cullPaddingY}return{left:p,right:d,top:v,bottom:y}}},9474:(T,A,i)=>{var m=i(90454),x=i(32483);T.exports=function(u,l,s,o){void 0===s&&(s=[]),void 0===o&&(o=0),s.length=0;var f=u.tilemapLayer,a=m(u,l);return f.skipCull&&1===f.scrollFactorX&&1===f.scrollFactorY&&(a.left=0,a.right=u.width,a.top=0,a.bottom=u.height),x(u,a,o,s),s}},27229:(T,A,i)=>{var m=i(19951),x=i(26099),h=new x;T.exports=function(l,s,o,f){var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(a*=p.scaleX,c*=p.scaleY);var S,b,d=m(l,s,h,o,f),v=[],y=.5773502691896257;"y"===f.staggerAxis?(S=y*a,b=c/2):(S=a/2,b=y*c);for(var C=0;C<6;C++){var M=2*Math.PI*(.5-C)/6;v.push(new x(d.x+S*Math.cos(M),d.y+b*Math.sin(M)))}return v}},19951:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o){l||(l=new m);var f=o.baseTileWidth,a=o.baseTileHeight,c=o.tilemapLayer,p=0,d=0;c&&(s||(s=c.scene.cameras.main),p=c.x+s.scrollX*(1-c.scrollFactorX),d=c.y+s.scrollY*(1-c.scrollFactorY),f*=c.scaleX,a*=c.scaleY);var S,b,v=f/2,y=a/2;return"y"===o.staggerAxis?(S=p+f*h+f,b=d+1.5*u*y+y,u%2==0&&("odd"===this.staggerIndex?S-=v:S+=v)):"x"===this.staggerAxis&&"odd"===this.staggerIndex&&(S=p+1.5*h*v+v,b=d+a*h+a,h%2==0&&("odd"===this.staggerIndex?b-=y:b+=y)),l.set(S,b)}},86625:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o,f){s||(s=new m);var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(o||(o=p.scene.cameras.main),h-=p.x+o.scrollX*(1-p.scrollFactorX),u-=p.y+o.scrollY*(1-p.scrollFactorY),a*=p.scaleX,c*=p.scaleY);var M,w,R,I,L,d=.5773502691896257,v=-.3333333333333333,S=.6666666666666666,b=a/2,C=c/2;"y"===f.staggerAxis?(R=d*(M=(h-b)/(d*a))+v*(w=(u-C)/C),I=0*M+S*w):(R=v*(M=(h-b)/b)+d*(w=(u-C)/(d*c)),I=S*M+0*w),L=-R-I;var F=Math.round(R),G=Math.round(I),z=Math.round(L),B=Math.abs(F-R),V=Math.abs(G-I),Y=Math.abs(z-L);return B>V&&B>Y?F=-G-z:V>Y&&(G=-F-z),s.set("odd"===f.staggerIndex?G%2==0?G/2+F:G/2+F-.5:G%2==0?G/2+F:G/2+F+.5,G)}},62991:T=>{T.exports=function(i,m,x){return i>=0&&i<x.width&&m>=0&&m<x.height}},14018:(T,A,i)=>{var m=i(33528);T.exports=function(h,u,l,s){void 0===l&&(l=[]),void 0===s&&(s=0),l.length=0;var b,C,M,o=h.tilemapLayer,f=h.data,a=h.width,c=h.height,p=o.skipCull,v=a,S=c;if(0===s)for(C=0;C<S;C++)for(b=0;b<v;b++)(M=f[C][b])&&-1!==M.index&&M.visible&&0!==M.alpha&&(!p&&!m(b,C,h,u)||l.push(M));else if(1===s)for(C=0;C<S;C++)for(b=v;b>=0;b--)(M=f[C][b])&&-1!==M.index&&M.visible&&0!==M.alpha&&(!p&&!m(b,C,h,u)||l.push(M));else if(2===s)for(C=S;C>=0;C--)for(b=0;b<v;b++)(M=f[C][b])&&-1!==M.index&&M.visible&&0!==M.alpha&&(!p&&!m(b,C,h,u)||l.push(M));else if(3===s)for(C=S;C>=0;C--)for(b=v;b>=0;b--)(M=f[C][b])&&-1!==M.index&&M.visible&&0!==M.alpha&&(!p&&!m(b,C,h,u)||l.push(M));return o.tilesDrawn=l.length,o.tilesTotal=a*c,l}},14127:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o){l||(l=new m);var f=o.baseTileWidth,a=o.baseTileHeight,c=o.tilemapLayer,p=0,d=0;return c&&(s||(s=c.scene.cameras.main),p=c.x+s.scrollX*(1-c.scrollFactorX),f*=c.scaleX,d=c.y+s.scrollY*(1-c.scrollFactorY),a*=c.scaleY),l.set(p+f/2*(h-u),d+(h+u)*(a/2))}},96897:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o,f,a){s||(s=new m);var c=f.baseTileWidth,p=f.baseTileHeight,d=f.tilemapLayer;d&&(o||(o=d.scene.cameras.main),u-=d.y+o.scrollY*(1-d.scrollFactorY),p*=d.scaleY,h-=d.x+o.scrollX*(1-d.scrollFactorX),c*=d.scaleX);var v=c/2,y=p/2;a||(u-=p);var S=.5*((h-=v)/v+u/y),b=.5*(-h/v+u/y);return l&&(S=Math.floor(S),b=Math.floor(b)),s.set(S,b)}},71558:(T,A,i)=>{var m=i(23029),x=i(62991),h=i(72023),u=i(20576);T.exports=function(s,o,f,a,c){if(void 0===a&&(a=!0),!x(o,f,c))return null;var p,d=c.data[f][o],v=d&&d.collides;s instanceof m?(null===c.data[f][o]&&(c.data[f][o]=new m(c,s.index,o,f,c.tileWidth,c.tileHeight)),c.data[f][o].copy(s)):(p=s,null===c.data[f][o]?c.data[f][o]=new m(c,p,o,f,c.tileWidth,c.tileHeight):c.data[f][o].index=p);var y=c.data[f][o],S=-1!==c.collideIndexes.indexOf(y.index);if(-1===(p=s instanceof m?s.index:s))y.width=c.tileWidth,y.height=c.tileHeight;else{var b=c.tilemapLayer.tilemap,w=b.tilesets[b.tiles[p][2]];y.width=w.tileWidth,y.height=w.tileHeight}return u(y,S),a&&v!==y.collides&&h(o,f,c),y}},26303:(T,A,i)=>{var m=i(71558),h=new(i(26099));T.exports=function(l,s,o,f,a,c){return c.tilemapLayer.worldToTileXY(s,o,!0,h,a,c),m(l,h.x,h.y,f,c)}},14051:(T,A,i)=>{var m=i(42573),x=i(71558);T.exports=function(u,l,s,o,f){if(void 0===o&&(o=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var a=u.length,c=u[0].length,p=0;p<a;p++)for(var d=0;d<c;d++)x(u[p][d],l+d,s+p,!1,f);o&&m(l-1,s-1,c+2,a+2,f)}},77389:(T,A,i)=>{var m=i(7386),x=i(26546);T.exports=function(u,l,s,o,f,a){var c,p=m(u,l,s,o,{},a);if(!f)for(f=[],c=0;c<p.length;c++)-1===f.indexOf(p[c].index)&&f.push(p[c].index);for(c=0;c<p.length;c++)p[c].index=x(f)}},63557:(T,A,i)=>{var m=i(23029),x=i(62991),h=i(72023);T.exports=function(l,s,o,f,a){if(void 0===o&&(o=!0),void 0===f&&(f=!0),!x(l,s,a))return null;var c=a.data[s][l];return c?(a.data[s][l]=o?null:new m(a,-1,l,s,a.tileWidth,a.tileHeight),f&&c&&c.collides&&h(l,s,a),c):null}},94178:(T,A,i)=>{var m=i(63557),h=new(i(26099));T.exports=function(l,s,o,f,a,c){return c.tilemapLayer.worldToTileXY(l,s,!0,h,a,c),m(h.x,h.y,o,f,c)}},15533:(T,A,i)=>{var m=i(7386),x=i(3956),h=new x(105,210,231,150),u=new x(243,134,48,200),l=new x(40,39,37,150);T.exports=function(o,f,a){void 0===f&&(f={});var c=void 0!==f.tileColor?f.tileColor:h,p=void 0!==f.collidingTileColor?f.collidingTileColor:u,d=void 0!==f.faceColor?f.faceColor:l,v=m(0,0,a.width,a.height,null,a);o.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),o.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var y=0;y<v.length;y++){var S=v[y],b=S.width,C=S.height,M=S.pixelX,w=S.pixelY,R=S.collides?p:c;null!==R&&(o.fillStyle(R.color,R.alpha/255),o.fillRect(M,w,b,C)),M+=1,w+=1,b-=2,C-=2,null!==d&&(o.lineStyle(1,d.color,d.alpha/255),S.faceTop&&o.lineBetween(M,w,M+b,w),S.faceRight&&o.lineBetween(M+b,w,M+b,w+C),S.faceBottom&&o.lineBetween(M,w+C,M+b,w+C),S.faceLeft&&o.lineBetween(M,w,M,w+C))}}},27987:(T,A,i)=>{var m=i(7386);T.exports=function(h,u,l,s,o,f,a){for(var c=m(l,s,o,f,null,a),p=0;p<c.length;p++)c[p]&&c[p].index===h&&(c[p].index=u)}},32483:T=>{T.exports=function(i,m,x,h){var d,v,y,u=i.data,l=i.width,s=i.height,o=i.tilemapLayer,f=Math.max(0,m.left),a=Math.min(l,m.right),c=Math.max(0,m.top),p=Math.min(s,m.bottom);if(0===x)for(v=c;v<p;v++)for(d=f;u[v]&&d<a;d++)(y=u[v][d])&&-1!==y.index&&y.visible&&0!==y.alpha&&h.push(y);else if(1===x)for(v=c;v<p;v++)for(d=a;u[v]&&d>=f;d--)(y=u[v][d])&&-1!==y.index&&y.visible&&0!==y.alpha&&h.push(y);else if(2===x)for(v=p;v>=c;v--)for(d=f;u[v]&&d<a;d++)(y=u[v][d])&&-1!==y.index&&y.visible&&0!==y.alpha&&h.push(y);else if(3===x)for(v=p;v>=c;v--)for(d=a;u[v]&&d>=f;d--)(y=u[v][d])&&-1!==y.index&&y.visible&&0!==y.alpha&&h.push(y);return o.tilesDrawn=h.length,o.tilesTotal=l*s,h}},57068:(T,A,i)=>{var m=i(20576),x=i(42573),h=i(9589);T.exports=function(l,s,o,f,a){void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),Array.isArray(l)||(l=[l]);for(var c=0;c<l.length;c++)h(l[c],s,f);if(a)for(var p=0;p<f.height;p++)for(var d=0;d<f.width;d++){var v=f.data[p][d];v&&-1!==l.indexOf(v.index)&&m(v,s)}o&&x(0,0,f.width,f.height,f)}},37266:(T,A,i)=>{var m=i(20576),x=i(42573),h=i(9589);T.exports=function(l,s,o,f,a,c){if(void 0===o&&(o=!0),void 0===f&&(f=!0),void 0===c&&(c=!0),!(l>s)){for(var p=l;p<=s;p++)h(p,o,a);if(c)for(var d=0;d<a.height;d++)for(var v=0;v<a.width;v++){var y=a.data[d][v];y&&y.index>=l&&y.index<=s&&m(y,o)}f&&x(0,0,a.width,a.height,a)}}},75661:(T,A,i)=>{var m=i(20576),x=i(42573),h=i(9589);T.exports=function(l,s,o,f){void 0===s&&(s=!0),void 0===o&&(o=!0),Array.isArray(l)||(l=[l]);for(var a=0;a<f.height;a++)for(var c=0;c<f.width;c++){var p=f.data[a][c];p&&-1===l.indexOf(p.index)&&(m(p,s),h(p.index,s,f))}o&&x(0,0,f.width,f.height,f)}},64740:(T,A,i)=>{var m=i(20576),x=i(42573),h=i(97022);T.exports=function(l,s,o,f){void 0===s&&(s=!0),void 0===o&&(o=!0);for(var a=0;a<f.height;a++)for(var c=0;c<f.width;c++){var p=f.data[a][c];if(p)for(var d in l)if(h(p.properties,d)){var v=l[d];Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++)p.properties[d]===v[y]&&m(p,s)}}o&&x(0,0,f.width,f.height,f)}},63307:(T,A,i)=>{var m=i(20576),x=i(42573);T.exports=function(u,l,s){void 0===u&&(u=!0),void 0===l&&(l=!0);for(var o=0;o<s.height;o++)for(var f=0;f<s.width;f++){var a=s.data[o][f];if(a){var c=a.getCollisionGroup();c&&c.objects&&c.objects.length>0&&m(a,u)}}l&&x(0,0,s.width,s.height,s)}},9589:T=>{T.exports=function(i,m,x){var h=x.collideIndexes.indexOf(i);m&&-1===h?x.collideIndexes.push(i):!m&&-1!==h&&x.collideIndexes.splice(h,1)}},20576:T=>{T.exports=function(i,m){m?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)}},79583:T=>{T.exports=function(i,m,x,h){if("number"==typeof i)h.callbacks[i]=null!==m?{callback:m,callbackContext:x}:void 0;else for(var u=0,l=i.length;u<l;u++)h.callbacks[i[u]]=null!==m?{callback:m,callbackContext:x}:void 0}},93254:(T,A,i)=>{var m=i(7386);T.exports=function(h,u,l,s,o,f,a){for(var c=m(h,u,l,s,null,a),p=0;p<c.length;p++)c[p].setCollisionCallback(o,f)}},32903:(T,A,i)=>{var m=i(7386),x=i(33680);T.exports=function(u,l,s,o,f){var a=m(u,l,s,o,null,f),c=a.map(function(d){return d.index});x(c);for(var p=0;p<a.length;p++)a[p].index=c[p]}},61325:(T,A,i)=>{var m=i(63448),x=i(56583);T.exports=function(u,l){var s=u.tilemapLayer.tilemap,o=u.tilemapLayer,f=Math.floor(s.tileWidth*o.scaleX),a=Math.floor(s.tileHeight*o.scaleY);return{left:x(l.worldView.x-o.x,f,0,!0)-o.cullPaddingX,right:m(l.worldView.right-o.x,f,0,!0)+o.cullPaddingX,top:x(l.worldView.y-o.y,a/2,0,!0)-o.cullPaddingY,bottom:m(l.worldView.bottom-o.y,a/2,0,!0)+o.cullPaddingY}}},54503:(T,A,i)=>{var m=i(61325),x=i(32483);T.exports=function(u,l,s,o){void 0===s&&(s=[]),void 0===o&&(o=0),s.length=0;var f=u.tilemapLayer,a=m(u,l);return f.skipCull&&1===f.scrollFactorX&&1===f.scrollFactorY&&(a.left=0,a.right=u.width,a.top=0,a.bottom=u.height),x(u,a,o,s),s}},97202:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o){l||(l=new m);var f=o.baseTileWidth,a=o.baseTileHeight,c=o.tilemapLayer,p=0,d=0;return c&&(s||(s=c.scene.cameras.main),p=c.x+s.scrollX*(1-c.scrollFactorX),f*=c.scaleX,d=c.y+s.scrollY*(1-c.scrollFactorY),a*=c.scaleY),l.set(p+h*f+u%2*(f/2),d+u*(a/2))}},28054:T=>{T.exports=function(i,m,x){var h=x.baseTileHeight,u=x.tilemapLayer,l=0;return u&&(void 0===m&&(m=u.scene.cameras.main),l=u.y+m.scrollY*(1-u.scrollFactorY),h*=u.scaleY),l+i*(h/2)+h}},15108:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o,f){s||(s=new m);var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(o||(o=p.scene.cameras.main),u-=p.y+o.scrollY*(1-p.scrollFactorY),c*=p.scaleY,h-=p.x+o.scrollX*(1-p.scrollFactorX),a*=p.scaleX);var d=l?Math.floor(u/(c/2)):u/(c/2),v=l?Math.floor((h+d%2*.5*a)/a):(h+d%2*.5*a)/a;return s.set(v,d)}},51900:T=>{T.exports=function(i,m,x,h){var u=h.baseTileHeight,l=h.tilemapLayer;return l&&(x||(x=l.scene.cameras.main),i-=l.y+x.scrollY*(1-l.scrollFactorY),u*=l.scaleY),m?Math.floor(i/(u/2)):i/(u/2)}},86560:(T,A,i)=>{var m=i(7386);T.exports=function(h,u,l,s,o,f,a){for(var c=m(l,s,o,f,null,a),p=0;p<c.length;p++)c[p]&&(c[p].index===h?c[p].index=u:c[p].index===u&&(c[p].index=h))}},97281:T=>{T.exports=function(i,m,x){var h=x.baseTileWidth,u=x.tilemapLayer,l=0;return u&&(m||(m=u.scene.cameras.main),l=u.x+m.scrollX*(1-u.scrollFactorX),h*=u.scaleX),l+i*h}},70326:(T,A,i)=>{var m=i(97281),x=i(29650),h=i(26099);T.exports=function(l,s,o,f,a){return o||(o=new h(0,0)),o.x=m(l,f,a),o.y=x(s,f,a),o}},29650:T=>{T.exports=function(i,m,x){var h=x.baseTileHeight,u=x.tilemapLayer,l=0;return u&&(m||(m=u.scene.cameras.main),l=u.y+m.scrollY*(1-u.scrollFactorY),h*=u.scaleY),l+i*h}},77366:(T,A,i)=>{var m=i(7386),x=i(75508);T.exports=function(u,l,s,o,f,a){if(f){var c,p=m(u,l,s,o,null,a),d=0;for(c=0;c<f.length;c++)d+=f[c].weight;if(!(d<=0))for(c=0;c<p.length;c++){for(var v=x.RND.frac()*d,y=0,S=-1,b=0;b<f.length;b++)if(v<=(y+=f[b].weight)){var C=f[b].index;S=Array.isArray(C)?C[Math.floor(x.RND.frac()*C.length)]:C;break}p[c].index=S}}}},10095:(T,A,i)=>{var m=i(85896),h=new(i(26099));T.exports=function(l,s,o,f){return m(l,0,s,h,o,f),h.x}},85896:(T,A,i)=>{var m=i(26099);T.exports=function(h,u,l,s,o,f){void 0===l&&(l=!0),s||(s=new m);var a=f.baseTileWidth,c=f.baseTileHeight,p=f.tilemapLayer;p&&(o||(o=p.scene.cameras.main),h-=p.x+o.scrollX*(1-p.scrollFactorX),u-=p.y+o.scrollY*(1-p.scrollFactorY),a*=p.scaleX,c*=p.scaleY);var d=h/a,v=u/c;return l&&(d=Math.floor(d),v=Math.floor(v)),s.set(d,v)}},63288:(T,A,i)=>{var m=i(85896),h=new(i(26099));T.exports=function(l,s,o,f){return m(0,l,s,h,o,f),h.y}},81086:(T,A,i)=>{T.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:T=>{T.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(T,A,i)=>{var m={ORIENTATION:i(91907)};T.exports=m},62501:(T,A,i)=>{var m=i(79291),x=i(21829),h={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};h=m(!1,h,x.ORIENTATION),T.exports=h},14977:(T,A,i)=>{var m=i(83419),x=i(91907),h=i(95540),u=new m({initialize:function(s){void 0===s&&(s={}),this.name=h(s,"name","layer"),this.id=h(s,"id",0),this.x=h(s,"x",0),this.y=h(s,"y",0),this.width=h(s,"width",0),this.height=h(s,"height",0),this.tileWidth=h(s,"tileWidth",0),this.tileHeight=h(s,"tileHeight",0),this.baseTileWidth=h(s,"baseTileWidth",this.tileWidth),this.baseTileHeight=h(s,"baseTileHeight",this.tileHeight),this.orientation=h(s,"orientation",x.ORTHOGONAL),this.widthInPixels=h(s,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=h(s,"heightInPixels",this.height*this.baseTileHeight),this.alpha=h(s,"alpha",1),this.visible=h(s,"visible",!0),this.properties=h(s,"properties",[]),this.indexes=h(s,"indexes",[]),this.collideIndexes=h(s,"collideIndexes",[]),this.callbacks=h(s,"callbacks",[]),this.bodies=h(s,"bodies",[]),this.data=h(s,"data",[]),this.tilemapLayer=h(s,"tilemapLayer",null),this.hexSideLength=h(s,"hexSideLength",0),this.staggerAxis=h(s,"staggerAxis","y"),this.staggerIndex=h(s,"staggerIndex","odd")}});T.exports=u},87010:(T,A,i)=>{var m=i(83419),x=i(91907),h=i(95540),u=new m({initialize:function(s){void 0===s&&(s={}),this.name=h(s,"name","map"),this.width=h(s,"width",0),this.height=h(s,"height",0),this.infinite=h(s,"infinite",!1),this.tileWidth=h(s,"tileWidth",0),this.tileHeight=h(s,"tileHeight",0),this.widthInPixels=h(s,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=h(s,"heightInPixels",this.height*this.tileHeight),this.format=h(s,"format",null),this.orientation=h(s,"orientation",x.ORTHOGONAL),this.renderOrder=h(s,"renderOrder","right-down"),this.version=h(s,"version","1"),this.properties=h(s,"properties",{}),this.layers=h(s,"layers",[]),this.images=h(s,"images",[]),this.objects=h(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=h(s,"collision",{}),this.tilesets=h(s,"tilesets",[]),this.imageCollections=h(s,"imageCollections",[]),this.tiles=h(s,"tiles",[]),this.hexSideLength=h(s,"hexSideLength",0),this.staggerAxis=h(s,"staggerAxis","y"),this.staggerIndex=h(s,"staggerIndex","odd")}});T.exports=u},48700:(T,A,i)=>{var m=i(83419),x=i(95540),h=new m({initialize:function(l){void 0===l&&(l={}),this.name=x(l,"name","object layer"),this.id=x(l,"id",0),this.opacity=x(l,"opacity",1),this.properties=x(l,"properties",{}),this.propertyTypes=x(l,"propertytypes",{}),this.type=x(l,"type","objectgroup"),this.visible=x(l,"visible",!0),this.objects=x(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});T.exports=h},6641:(T,A,i)=>{var m=i(91907);T.exports=function(h){return"isometric"===(h=h.toLowerCase())?m.ISOMETRIC:"staggered"===h?m.STAGGERED:"hexagonal"===h?m.HEXAGONAL:m.ORTHOGONAL}},46177:(T,A,i)=>{var m=i(80341),x=i(2342),h=i(82593),u=i(46594),l=i(87021);T.exports=function(o,f,a,c,p,d){var v;switch(f){case m.ARRAY_2D:v=x(o,a,c,p,d);break;case m.CSV:v=h(o,a,c,p,d);break;case m.TILED_JSON:v=u(o,a,d);break;case m.WELTMEISTER:v=l(o,a,d);break;default:console.warn("Unrecognized tilemap data format: "+f),v=null}return v}},2342:(T,A,i)=>{var m=i(80341),x=i(14977),h=i(87010),u=i(23029);T.exports=function(s,o,f,a,c){for(var p=new x({tileWidth:f,tileHeight:a}),d=new h({name:s,tileWidth:f,tileHeight:a,format:m.ARRAY_2D,layers:[p]}),v=[],y=o.length,S=0,b=0;b<o.length;b++){v[b]=[];for(var C=o[b],M=0;M<C.length;M++){var w=parseInt(C[M],10);v[b][M]=isNaN(w)||-1===w?c?null:new u(p,-1,M,b,f,a):new u(p,w,M,b,f,a)}0===S&&(S=C.length)}return d.width=p.width=S,d.height=p.height=y,d.widthInPixels=p.widthInPixels=S*f,d.heightInPixels=p.heightInPixels=y*a,p.data=v,d}},82593:(T,A,i)=>{var m=i(80341),x=i(2342);T.exports=function(u,l,s,o,f){var a=l.trim().split("\n").map(function(p){return p.split(",")}),c=x(u,a,s,o,f);return c.format=m.CSV,c}},6656:(T,A,i)=>{var m=i(14977),x=i(23029);T.exports=function(u,l){for(var s=[],o=0;o<u.layer.length;o++){for(var f=u.layer[o],a=new m({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:1===f.visible}),c=[],p=[],d=0;d<f.data.length;d++){for(var v=0;v<f.data[d].length;v++){var S,y=f.data[d][v]-1;S=y>-1?new x(a,y,v,d,f.tilesize,f.tilesize):l?null:new x(a,-1,v,d,f.tilesize,f.tilesize),c.push(S)}p.push(c),c=[]}a.data=p,s.push(a)}return s}},96483:(T,A,i)=>{var m=i(33629);T.exports=function(h){for(var u=[],l=[],s=0;s<h.layer.length;s++){var o=h.layer[s],f=o.tilesetName;""!==f&&-1===l.indexOf(f)&&(l.push(f),u.push(new m(f,0,o.tilesize,o.tilesize,0,0)))}return u}},87021:(T,A,i)=>{var m=i(80341),x=i(87010),h=i(6656),u=i(96483);T.exports=function(s,o,f){if(0===o.layer.length)return console.warn("No layers found in the Weltmeister map: "+s),null;for(var a=0,c=0,p=0;p<o.layer.length;p++)o.layer[p].width>a&&(a=o.layer[p].width),o.layer[p].height>c&&(c=o.layer[p].height);var d=new x({width:a,height:c,name:s,tileWidth:o.layer[0].tilesize,tileHeight:o.layer[0].tilesize,format:m.WELTMEISTER});return d.layers=h(o,f),d.tilesets=u(o),d}},52833:(T,A,i)=>{T.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(T,A,i)=>{T.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(T,A,i)=>{var m=i(79291);T.exports=function(h){for(var u,l,o,f,a=0;a<h.layers.length;a++){u=h.layers[a],o=null;for(var c=0;c<u.data.length;c++){f=u.data[c];for(var p=0;p<f.length;p++)!(null===(l=f[p])||l.index<0)&&(l.width=(o=h.tilesets[h.tiles[l.index][2]]).tileWidth,l.height=o.tileHeight,o.tileProperties&&o.tileProperties[l.index-o.firstgid]&&(l.properties=m(l.properties,o.tileProperties[l.index-o.firstgid])))}}}},41868:T=>{T.exports=function(i){for(var m=window.atob(i),x=m.length,h=new Array(x/4),u=0;u<x;u+=4)h[u/4]=(m.charCodeAt(u)|m.charCodeAt(u+1)<<8|m.charCodeAt(u+2)<<16|m.charCodeAt(u+3)<<24)>>>0;return h}},84101:(T,A,i)=>{var m=i(33629);T.exports=function(h){var u,l,s=[];for(u=0;u<h.imageCollections.length;u++)for(var o=h.imageCollections[u],f=o.images,a=0;a<f.length;a++){var c=f[a];(l=new m(c.image,c.gid,o.imageWidth,o.imageHeight,0,0)).updateTileData(o.imageWidth,o.imageHeight),h.tilesets.push(l)}for(u=0;u<h.tilesets.length;u++)for(var p=(l=h.tilesets[u]).tileMargin,d=l.tileMargin,v=0,y=0,S=0,b=l.firstgid;b<l.firstgid+l.total&&(s[b]=[p,d,u],p+=l.tileWidth+l.tileSpacing,++v!==l.total&&(++y!==l.columns||(p=l.tileMargin,d+=l.tileHeight+l.tileSpacing,y=0,++S!==l.rows)));b++);return s}},79677:(T,A,i)=>{var m=i(95540);T.exports=function(h,u,l){if(!u)return{i:0,layers:h.layers,name:"",opacity:1,visible:!0,x:0,y:0};var s=u.x+m(u,"startx",0)*h.tilewidth+m(u,"offsetx",0),o=u.y+m(u,"starty",0)*h.tileheight+m(u,"offsety",0);return{i:0,layers:u.layers,name:l.name+u.name+"/",opacity:l.opacity*u.opacity,visible:l.visible&&u.visible,x:l.x+s,y:l.y+o}}},29920:T=>{var A=2147483648,i=1073741824,m=536870912;T.exports=function(h){var u=!!(h&A),l=!!(h&i),s=!!(h&m);h&=~(A|i|m);var o=0,f=!1;return u&&l&&s?(o=Math.PI/2,f=!0):u&&l&&!s?(o=Math.PI,f=!1):u&&!l&&s?(o=Math.PI/2,f=!1):!u||l||s?!u&&l&&s?(o=3*Math.PI/2,f=!1):u||!l||s?u||l||!s?!u&&!l&&!s&&(o=0,f=!1):(o=3*Math.PI/2,f=!0):(o=Math.PI,f=!0):(o=0,f=!0),{gid:h,flippedHorizontal:u,flippedVertical:l,flippedAntiDiagonal:s,rotation:o,flipped:f}}},12635:(T,A,i)=>{var m=i(95540),x=i(79677);T.exports=function(u){for(var l=[],s=[],o=x(u);o.i<o.layers.length||s.length>0;)if(o.i>=o.layers.length){if(s.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=s.pop()}else{var f=o.layers[o.i];if(o.i++,"imagelayer"===f.type){var c=m(f,"offsetx",0)+m(f,"startx",0),p=m(f,"offsety",0)+m(f,"starty",0);l.push({name:o.name+f.name,image:f.image,x:o.x+c+f.x,y:o.y+p+f.y,alpha:o.opacity*f.opacity,visible:o.visible&&f.visible,properties:m(f,"properties",{})})}else if("group"===f.type){var a=x(u,f,o);s.push(o),o=a}}return l}},46594:(T,A,i)=>{var m=i(51233),x=i(84101),h=i(91907),u=i(62644),l=i(80341),s=i(6641),o=i(87010),f=i(12635),a=i(22611),c=i(28200),p=i(24619);T.exports=function(v,y,S){var b=u(y),C=new o({width:b.width,height:b.height,name:v,tileWidth:b.tilewidth,tileHeight:b.tileheight,orientation:s(b.orientation),format:l.TILED_JSON,version:b.version,properties:b.properties,renderOrder:b.renderorder,infinite:b.infinite});C.orientation===h.HEXAGONAL&&(C.hexSideLength=b.hexsidelength,C.staggerAxis=b.staggeraxis,C.staggerIndex=b.staggerindex),C.layers=c(b,S),C.images=f(b);var M=p(b);return C.tilesets=M.tilesets,C.imageCollections=M.imageCollections,C.objects=a(b),C.tiles=x(C),m(C),C}},52205:(T,A,i)=>{var m=i(18254),x=i(29920),h=function(s){return{x:s.x,y:s.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"];T.exports=function(s,o,f){void 0===o&&(o=0),void 0===f&&(f=0);var a=m(s,u);if(a.x+=o,a.y+=f,s.gid){var c=x(s.gid);a.gid=c.gid,a.flippedHorizontal=c.flippedHorizontal,a.flippedVertical=c.flippedVertical,a.flippedAntiDiagonal=c.flippedAntiDiagonal}else s.polyline?a.polyline=s.polyline.map(h):s.polygon?a.polygon=s.polygon.map(h):s.ellipse?a.ellipse=s.ellipse:s.text?a.text=s.text:s.point?a.point=!0:a.rectangle=!0;return a}},22611:(T,A,i)=>{var m=i(95540),x=i(52205),h=i(48700),u=i(79677);T.exports=function(s){for(var o=[],f=[],a=u(s);a.i<a.layers.length||f.length>0;)if(a.i>=a.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=f.pop()}else{var c=a.layers[a.i];if(a.i++,c.opacity*=a.opacity,c.visible=a.visible&&c.visible,"objectgroup"===c.type){c.name=a.name+c.name;for(var d=a.x+m(c,"startx",0)+m(c,"offsetx",0),v=a.y+m(c,"starty",0)+m(c,"offsety",0),y=[],S=0;S<c.objects.length;S++){var b=x(c.objects[S],d,v);y.push(b)}var C=new h(c);C.objects=y,o.push(C)}else if("group"===c.type){var p=u(s,c,a);f.push(a),a=p}}return o}},28200:(T,A,i)=>{var m=i(41868),x=i(91907),h=i(79677),u=i(6641),l=i(95540),s=i(14977),o=i(29920),f=i(23029);T.exports=function(c,p){for(var d=l(c,"infinite",!1),v=[],y=[],S=h(c);S.i<S.layers.length||y.length>0;)if(S.i>=S.layers.length){if(y.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}S=y.pop()}else{var b=S.layers[S.i];if(S.i++,"tilelayer"===b.type)if(b.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+b.name+"'");else{if(b.encoding&&"base64"===b.encoding){if(b.chunks)for(var M=0;M<b.chunks.length;M++)b.chunks[M].data=m(b.chunks[M].data);b.data&&(b.data=m(b.data)),delete b.encoding}var w,R,I,L,F=[],G=0;if(d){var z=l(b,"startx",0)+b.x,B=l(b,"starty",0)+b.y;(w=new s({name:S.name+b.name,id:b.id,x:S.x+l(b,"offsetx",0)+z*c.tilewidth,y:S.y+l(b,"offsety",0)+B*c.tileheight,width:b.width,height:b.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:S.opacity*b.opacity,visible:S.visible&&b.visible,properties:l(b,"properties",[]),orientation:u(c.orientation)})).orientation===x.HEXAGONAL&&(w.hexSideLength=c.hexsidelength,w.staggerAxis=c.staggeraxis,w.staggerIndex=c.staggerindex);for(var V=0;V<b.height;V++){F[V]=[null];for(var Y=0;Y<b.width;Y++)F[V][Y]=null}for(V=0,_=b.chunks.length;V<_;V++)for(var $=b.chunks[V],J=$.x-z,W=$.y-B,k=0,N=0,H=$.data.length;N<H;N++){var X=G+J,K=k+W;(R=o($.data[N])).gid>0?((I=new f(w,R.gid,X,K,c.tilewidth,c.tileheight)).rotation=R.rotation,I.flipX=R.flipped,F[K][X]=I):(L=p?null:new f(w,-1,X,K,c.tilewidth,c.tileheight),F[K][X]=L),++G===$.width&&(k++,G=0)}}else{(w=new s({name:S.name+b.name,id:b.id,x:S.x+l(b,"offsetx",0)+b.x,y:S.y+l(b,"offsety",0)+b.y,width:b.width,height:b.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:S.opacity*b.opacity,visible:S.visible&&b.visible,properties:l(b,"properties",[]),orientation:u(c.orientation)})).orientation===x.HEXAGONAL&&(w.hexSideLength=c.hexsidelength,w.staggerAxis=c.staggeraxis,w.staggerIndex=c.staggerindex);for(var Q=[],q=0,_=b.data.length;q<_;q++)(R=o(b.data[q])).gid>0?((I=new f(w,R.gid,G,F.length,c.tilewidth,c.tileheight)).rotation=R.rotation,I.flipX=R.flipped,Q.push(I)):(L=p?null:new f(w,-1,G,F.length,c.tilewidth,c.tileheight),Q.push(L)),++G===b.width&&(F.push(Q),G=0,Q=[])}w.data=F,v.push(w)}else if("group"===b.type){var C=h(c,b,S);y.push(S),S=C}}return v}},24619:(T,A,i)=>{var m=i(33629),x=i(16536),h=i(52205),u=i(57880);T.exports=function(s){for(var c,o=[],f=[],a=null,p=0;p<s.tilesets.length;p++){var d=s.tilesets[p];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var v=new m(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(s.version>1){var y=void 0,S=void 0;if(Array.isArray(d.tiles)){y=y||{},S=S||{};for(var b=0;b<d.tiles.length;b++){var C=d.tiles[b];if(C.properties){var M={};C.properties.forEach(function(V){M[V.name]=V.value}),S[C.id]=M}if(C.objectgroup&&((y[C.id]||(y[C.id]={})).objectgroup=C.objectgroup,C.objectgroup.objects)){var w=C.objectgroup.objects.map(function(V){return h(V)});y[C.id].objectgroup.objects=w}C.animation&&((y[C.id]||(y[C.id]={})).animation=C.animation),C.type&&((y[C.id]||(y[C.id]={})).type=C.type)}}Array.isArray(d.wangsets)&&(S=S||{},u(d.wangsets,y=y||{})),y&&(v.tileData=y,v.tileProperties=S)}else if(d.tileproperties&&(v.tileProperties=d.tileproperties),d.tiles)for(c in v.tileData=d.tiles,v.tileData){var R=v.tileData[c].objectgroup;if(R&&R.objects){var I=R.objects.map(function(V){return h(V)});v.tileData[c].objectgroup.objects=I}}v.updateTileData(d.imagewidth,d.imageheight),o.push(v)}else{var L=new x(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),F=0;for(b=0;b<d.tiles.length;b++){var G=(C=d.tiles[b]).image,z=parseInt(C.id,10);L.addImage(d.firstgid+z,G),F=Math.max(z,F)}L.maxId=F,f.push(L)}a&&(a.lastgid=d.firstgid-1),a=d}return{tilesets:o,imageCollections:f}}},57880:T=>{T.exports=function(i,m){for(var x=0;x<i.length;x++){var h=i[x],u=x;if(h.name&&""!==h.name&&(u=h.name),Array.isArray(h.wangtiles)&&h.wangtiles.length>0){var o,f,a,l={},s={};if(Array.isArray(h.edgecolors))for(o=0;o<h.edgecolors.length;o++)a=1+o,""!==(f=h.edgecolors[o]).name&&(l[a]=f.name);if(Array.isArray(h.cornercolors))for(o=0;o<h.cornercolors.length;o++)a=1+o,""!==(f=h.cornercolors[o]).name&&(s[a]=f.name);if(Array.isArray(h.colors))for(o=0;o<h.colors.length;o++)a=1+o,""!==(f=h.colors[o]).name&&(l[a]=s[a]=f.name);for(var c=[l,s,l,s,l,s,l,s],p=0;p<h.wangtiles.length;p++){var d=h.wangtiles[p],v=m[d.tileid]||(m[d.tileid]={});v=v.wangid||(v.wangid={});for(var y=[],S=0;S<Math.min(c.length,d.wangid.length);S++)if(0!==(f=d.wangid[S])){var b=c[S][f];y.push(void 0===b?f:b)}else y.push(void 0);v[u]=y}}}}},96761:(T,A,i)=>{T.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(T,A,i)=>{var m=i(83419),x=i(37277),h=i(44594),u=i(94880),l=i(72905),s=new m({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var o=this.systems.events;o.on(h.PRE_UPDATE,this.preUpdate,this),o.on(h.UPDATE,this.update,this),o.once(h.SHUTDOWN,this.shutdown,this)},addEvent:function(o){var f;return o instanceof u?(this.removeEvent(f=o),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=-1===f.repeat||f.loop?999999999999:f.repeat):f=new u(o),this._pendingInsertion.push(f),f},delayedCall:function(o,f,a,c){return this.addEvent({delay:o,callback:f,args:a,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var a=o[f];l(this._pendingRemoval,a),l(this._pendingInsertion,a),l(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var o=this._pendingRemoval.length,f=this._pendingInsertion.length;if(0!==o||0!==f){var a,c;for(a=0;a<o;a++){var p=this._active.indexOf(c=this._pendingRemoval[a]);p>-1&&this._active.splice(p,1),c.destroy()}for(a=0;a<f;a++)this._active.push(c=this._pendingInsertion[a]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(o,f){if(this.now=o,!this.paused){f*=this.timeScale;for(var a=0;a<this._active.length;a++){var c=this._active[a];if(!c.paused&&(c.elapsed+=f*c.timeScale,c.elapsed>=c.delay)){var p=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,p>=c.delay)for(;p>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),p-=c.delay,c.repeatCount--;c.elapsed=p,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var o;for(o=0;o<this._pendingInsertion.length;o++)this._pendingInsertion[o].destroy();for(o=0;o<this._active.length;o++)this._active[o].destroy();for(o=0;o<this._pendingRemoval.length;o++)this._pendingRemoval[o].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(h.PRE_UPDATE,this.preUpdate,this),f.off(h.UPDATE,this.update,this),f.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",s,"time"),T.exports=s},96120:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(39429),u=i(95540),l=i(44594),s=i(89809),o=new m({Extends:x,initialize:function(a,c){x.call(this),this.scene=a,this.systems=a.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(l.PRE_UPDATE,this.preUpdate,this),p.on(l.UPDATE,this.update,this),p.once(l.SHUTDOWN,this.destroy,this),c&&this.add(c)},preUpdate:function(f,a){this.paused||(this.elapsed+=a)},update:function(){if(!this.paused&&!this.complete){var f,d,a=this.events,c=!1,p=this.systems;for(f=0;f<a.length;f++){var v=a[f];if(!v.complete&&v.time<=this.elapsed){if(v.complete=!0,this.totalComplete++,d=v.target?v.target:this,v.if&&!v.if.call(d,v))continue;if(v.once&&(c=!0),v.set&&v.target)for(var y in v.set)v.target[y]=v.set[y];this.iteration&&v.repeat++,v.loop&&v.repeat&&v.loop.call(d),v.tween&&p.tweens.add(v.tween),v.sound&&("string"==typeof v.sound?p.sound.play(v.sound):p.sound.play(v.sound.key,v.sound.config)),v.event&&this.emit(v.event,d),v.run&&v.run.call(d),v.stop&&this.stop()}}if(c)for(f=0;f<a.length;f++)a[f].complete&&a[f].once&&(a.splice(f,1),f--);this.totalComplete>=a.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(s.COMPLETE,this)}},play:function(f){return void 0===f&&(f=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,f&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(f){return(void 0===f||!0===f)&&(f=-1),!1===f&&(f=0),this.loop=f,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(f){void 0===f&&(f=!1),this.elapsed=0,f||(this.iteration=0);for(var a=0;a<this.events.length;a++)this.events[a].complete=!1,f||(this.events[a].repeat=0);return this.play(!1)},add:function(f){Array.isArray(f)||(f=[f]);var a=this.events,c=0;a.length>0&&(c=a[a.length-1].time);for(var p=0;p<f.length;p++){var d=f[p],v=u(d,"at",0),y=u(d,"in",null);null!==y&&(v=this.elapsed+y);var S=u(d,"from",null);null!==S&&(v=c+S),a.push({complete:!1,time:v,repeat:0,if:u(d,"if",null),run:u(d,"run",null),loop:u(d,"loop",null),event:u(d,"event",null),target:u(d,"target",null),set:u(d,"set",null),tween:u(d,"tween",null),sound:u(d,"sound",null),once:u(d,"once",!1),stop:u(d,"stop",!1)}),c=v}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var f=this.systems.events;f.off(l.PRE_UPDATE,this.preUpdate,this),f.off(l.UPDATE,this.update,this),f.off(l.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});h.register("timeline",function(f){return new o(this.scene,f)}),T.exports=o},94880:(T,A,i)=>{var m=i(83419),x=i(95540),h=new m({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(u){if(this.delay=x(u,"delay",0),this.repeat=x(u,"repeat",0),this.loop=x(u,"loop",!1),this.callback=x(u,"callback",void 0),this.callbackScope=x(u,"callbackScope",this),this.args=x(u,"args",[]),this.timeScale=x(u,"timeScale",1),this.startAt=x(u,"startAt",0),this.paused=x(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(u){void 0===u&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});T.exports=h},35945:T=>{T.exports="complete"},89809:(T,A,i)=>{T.exports={COMPLETE:i(35945)}},90291:(T,A,i)=>{T.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(T,A,i)=>{var m=i(72905),x=i(83419),h=i(43491),u=i(88032),l=i(37277),s=i(44594),o=i(93109),f=i(86081),a=i(8357),c=i(43960),p=i(26012),d=new x({initialize:function(y){this.scene=y,this.events=y.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(s.UPDATE,this.update,this),this.events.once(s.SHUTDOWN,this.shutdown,this)},create:function(v){Array.isArray(v)||(v=[v]);for(var y=[],S=0;S<v.length;S++){var b=v[S];b instanceof f||b instanceof c?y.push(b):Array.isArray(b.tweens)?y.push(p(this,b)):y.push(a(this,b))}return 1===y.length?y[0]:y},add:function(v){var y=v,S=this.tweens;return y instanceof f||y instanceof c||(y=Array.isArray(y.tweens)?p(this,y):a(this,y)),S.push(y.reset()),y},addMultiple:function(v){for(var y,S=[],b=this.tweens,C=0;C<v.length;C++)(y=v[C])instanceof f||y instanceof c||(y=Array.isArray(y.tweens)?p(this,y):a(this,y)),b.push(y.reset()),S.push(y);return S},chain:function(v){var y=p(this,v);return this.tweens.push(y.init()),y},getChainedTweens:function(v){return v.getChainedTweens()},has:function(v){return this.tweens.indexOf(v)>-1},existing:function(v){return this.has(v)||this.tweens.push(v.reset()),this},addCounter:function(v){var y=u(this,v);return this.tweens.push(y.reset()),y},stagger:function(v,y){return o(v,y)},setLagSmooth:function(v,y){return void 0===v&&(v=1/1e-8),void 0===y&&(y=0),this.maxLag=v,this.lagSkip=Math.min(y,this.maxLag),this},setFps:function(v){return void 0===v&&(v=240),this.gap=1e3/v,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(v){var y=Date.now()-this.prevTime;y>this.maxLag&&(this.startTime+=y-this.lagSkip),this.prevTime+=y;var S=this.prevTime-this.startTime,b=S-this.nextTime,C=S-1e3*this.time;return b>0||v?(this.time=S/=1e3,this.nextTime+=b+(b>=this.gap?4:this.gap-b)):C=0,C},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(v){void 0===v&&(v=!1);var y=this.getDelta(v);if(!(y<=0)){this.processing=!0;var S,b,C=[],M=this.tweens;for(S=0;S<M.length;S++)(b=M[S]).update(y)&&C.push(b);var w=C.length;if(w&&M.length>0){for(S=0;S<w;S++){var R=M.indexOf(b=C[S]);R>-1&&(b.isPendingRemove()||b.isDestroyed())&&(M.splice(R,1),b.destroy())}C.length=0}this.processing=!1}},remove:function(v){return this.processing?v.setPendingRemoveState():(m(this.tweens,v),v.setRemovedState()),this},reset:function(v){return this.existing(v),v.seek(),v.setActiveState(),this},makeActive:function(v){return this.existing(v),v.setActiveState(),this},each:function(v,y){var S,b=[null];for(S=1;S<arguments.length;S++)b.push(arguments[S]);return this.tweens.forEach(function(C){b[0]=C,v.apply(y,b)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(v){for(var y=[],S=this.tweens,b=(v=Array.isArray(v)?h(v):[v]).length,C=0;C<S.length;C++)for(var M=S[C],w=0;w<b;w++)!M.isDestroyed()&&M.hasTarget(v[w])&&y.push(M);return y},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(v){return this.timeScale=v,this},isTweening:function(v){for(var S,y=this.tweens,b=0;b<y.length;b++)if((S=y[b]).isPlaying()&&S.hasTarget(v))return!0;return!1},killAll:function(){for(var v=this.processing?this.getTweens():this.tweens,y=0;y<v.length;y++)v[y].destroy();return this.processing||(v.length=0),this},killTweensOf:function(v){for(var y=this.getTweensOf(v),S=0;S<y.length;S++)y[S].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(s.UPDATE,this.update,this),this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",d,"tweens"),T.exports=d},57355:T=>{T.exports=function(i,m,x){return i&&i.hasOwnProperty(m)?i[m]:x}},6113:(T,A,i)=>{var m=i(62640),x=i(35355);T.exports=function(u,l){var s=m.Power0;if("string"==typeof u)if(m.hasOwnProperty(u))s=m[u];else{var o="";if(u.indexOf(".")){var f=(o=u.substring(u.indexOf(".")+1)).toLowerCase();"in"===f?o="easeIn":"out"===f?o="easeOut":"inout"===f&&(o="easeInOut")}u=x(u.substring(0,u.indexOf(".")+1)+o),m.hasOwnProperty(u)&&(s=m[u])}else"function"==typeof u&&(s=u);if(!l)return s;var a=l.slice(0);return a.unshift(0),function(c){return a[0]=c,s.apply(this,a)}}},91389:(T,A,i)=>{var m=i(89318),x=i(77259),u={bezier:m,catmull:x,catmullrom:x,linear:i(28392)};T.exports=function(s){if(null===s)return null;var o=u.linear;return"string"==typeof s?u.hasOwnProperty(s)&&(o=u[s]):"function"==typeof s&&(o=s),o}},55292:T=>{T.exports=function(i,m,x){return i.hasOwnProperty(m)?"function"==typeof i[m]?function(l,s,o,f,a,c){return i[m](l,s,o,f,a,c)}:function(){return i[m]}:"function"==typeof x?x:function(){return x}}},82985:(T,A,i)=>{var m=i(81076);T.exports=function(h){var u,l=[];if(h.hasOwnProperty("props"))for(u in h.props)"_"!==u.substring(0,1)&&l.push({key:u,value:h.props[u]});else for(u in h)-1===m.indexOf(u)&&"_"!==u.substring(0,1)&&l.push({key:u,value:h[u]});return l}},62329:(T,A,i)=>{var m=i(35154);T.exports=function(h){var u=m(h,"targets",null);return null===u||("function"==typeof u&&(u=u.call()),Array.isArray(u)||(u=[u])),u}},17777:(T,A,i)=>{var m=i(30976),x=i(99472);function h(f){return!!f.getActive&&"function"==typeof f.getActive}function u(f){return!!f.getStart&&"function"==typeof f.getStart}function l(f){return!!f.getEnd&&"function"==typeof f.getEnd}var o=function(f,a){var c,p=function($,J,W){return W},d=function($,J,W){return W},v=null,y=typeof a;if("number"===y)p=function(){return a};else if(Array.isArray(a))d=function(){return a[0]},p=function(){return a[a.length-1]};else if("string"===y){var S=a.toLowerCase(),b="random"===S.substring(0,6),C="int"===S.substring(0,3);if(b||C){var M=S.indexOf("("),w=S.indexOf(")"),R=S.indexOf(",");if(!(M&&w&&R))throw new Error("invalid random() format");var I=parseFloat(S.substring(M+1,R)),L=parseFloat(S.substring(R+1,w));p=b?function(){return x(I,L)}:function(){return m(I,L)}}else{S=S[0];var F=parseFloat(a.substr(2));switch(S){case"+":p=function($,J,W){return W+F};break;case"-":p=function($,J,W){return W-F};break;case"*":p=function($,J,W){return W*F};break;case"/":p=function($,J,W){return W/F};break;default:p=function(){return parseFloat(a)}}}}else if("function"===y)p=a;else if("object"===y)if(function s(f){return u(f)||l(f)||h(f)}(a))h(a)&&(v=a.getActive),l(a)&&(p=a.getEnd),u(a)&&(d=a.getStart);else if(a.hasOwnProperty("value"))c=o(f,a.value);else{var G=a.hasOwnProperty("to"),z=a.hasOwnProperty("from"),B=a.hasOwnProperty("start");if(G&&(z||B)){if(c=o(f,a.to),B){var V=o(f,a.start);c.getActive=V.getEnd}if(z){var Y=o(f,a.from);c.getStart=Y.getEnd}}}return c||(c={getActive:v,getEnd:p,getStart:d}),c};T.exports=o},88032:(T,A,i)=>{var m=i(70402),x=i(69902),h=i(23568),u=i(57355),l=i(6113),s=i(55292),o=i(35154),f=i(17777),a=i(269),c=i(86081);T.exports=function(d,v,y){if(v instanceof c)return v.parent=d,v;y=void 0===y?x:a(x,y);var S=o(v,"from",0),b=o(v,"to",1),C=[{value:S}],M=o(v,"delay",y.delay),w=o(v,"easeParams",y.easeParams),R=o(v,"ease",y.ease),I=f("value",b),L=new c(d,C),F=L.add(0,"value",I.getEnd,I.getStart,I.getActive,l(o(v,"ease",R),o(v,"easeParams",w)),s(v,"delay",M),o(v,"duration",y.duration),u(v,"yoyo",y.yoyo),o(v,"hold",y.hold),o(v,"repeat",y.repeat),o(v,"repeatDelay",y.repeatDelay),!1,!1);F.start=S,F.current=S,L.completeDelay=h(v,"completeDelay",0),L.loop=Math.round(h(v,"loop",0)),L.loopDelay=Math.round(h(v,"loopDelay",0)),L.paused=u(v,"paused",!1),L.persist=u(v,"persist",!1),L.callbackScope=o(v,"callbackScope",L);for(var G=m.TYPES,z=0;z<G.length;z++){var B=G[z],V=o(v,B,!1);if(V){var Y=o(v,B+"Params",[]);L.setCallback(B,V,Y)}}return L}},93109:(T,A,i)=>{var m=i(6113),x=i(35154),h=i(36383);T.exports=function(l,s){void 0===s&&(s={});var f=x(s,"start",0),a=x(s,"ease",null),c=x(s,"grid",null),p=x(s,"from",0),d="first"===p,v="center"===p,y="last"===p,S="number"==typeof p,b=Array.isArray(l),C=parseFloat(b?l[0]:l),M=b?parseFloat(l[1]):0,w=Math.max(C,M);if(b&&(f+=C),c){var R=c[0],I=c[1],L=0,F=0,G=0,z=0,B=[];y?(L=R-1,F=I-1):S?(L=p%R,F=Math.floor(p/R)):v&&(L=(R-1)/2,F=(I-1)/2);for(var V=h.MIN_SAFE_INTEGER,Y=0;Y<I;Y++){B[Y]=[];for(var $=0;$<R;$++){G=L-$,z=F-Y;var J=Math.sqrt(G*G+z*z);J>V&&(V=J),B[Y][$]=J}}}var W=a?m(a):null;return c?function(k,N,H,X){var _,K=0,Q=X%R,q=Math.floor(X/R);if(Q>=0&&Q<R&&q>=0&&q<I&&(K=B[q][Q]),b){var nt=M-C;_=W?K/V*nt*W(K/V):K/V*nt}else _=W?K*C*W(K/V):K*C;return _+f}:function(k,N,H,X,K){var Q,q,_;return K--,d?Q=X:v?Q=Math.abs(K/2-X):y?Q=K-X:S&&(Q=Math.abs(p-X)),b?(_=v?(M-C)/K*(2*Q):(M-C)/K*Q,q=W?_*W(Q/K):_):q=W?K*w*W(Q/K):Q*C,q+f}}},8357:(T,A,i)=>{var m=i(70402),x=i(69902),h=i(23568),u=i(57355),l=i(6113),s=i(91389),o=i(55292),f=i(82985),a=i(62329),c=i(35154),p=i(17777),d=i(269),v=i(86081);T.exports=function(S,b,C){if(b instanceof v)return b.parent=S,b;C=void 0===C?x:d(x,C);var M=a(b);!M&&C.targets&&(M=C.targets);for(var w=f(b),R=c(b,"delay",C.delay),I=c(b,"duration",C.duration),L=c(b,"easeParams",C.easeParams),F=c(b,"ease",C.ease),G=c(b,"hold",C.hold),z=c(b,"repeat",C.repeat),B=c(b,"repeatDelay",C.repeatDelay),V=u(b,"yoyo",C.yoyo),Y=u(b,"flipX",C.flipX),$=u(b,"flipY",C.flipY),J=c(b,"interpolation",C.interpolation),W=function(at,lt,ht,ut){if("texture"===ht){var mt=ut,Mt=void 0;Array.isArray(ut)?(mt=ut[0],Mt=ut[1]):ut.hasOwnProperty("value")?(mt=ut.value,Array.isArray(ut.value)?(mt=ut.value[0],Mt=ut.value[1]):"string"==typeof ut.value&&(mt=ut.value)):"string"==typeof ut&&(mt=ut),at.addFrame(lt,mt,Mt,o(ut,"delay",R),c(ut,"duration",I),c(ut,"hold",G),c(ut,"repeat",z),c(ut,"repeatDelay",B),u(ut,"flipX",Y),u(ut,"flipY",$))}else{var Et=p(ht,ut),At=s(c(ut,"interpolation",J));at.add(lt,ht,Et.getEnd,Et.getStart,Et.getActive,l(c(ut,"ease",F),c(ut,"easeParams",L)),o(ut,"delay",R),c(ut,"duration",I),u(ut,"yoyo",V),c(ut,"hold",G),c(ut,"repeat",z),c(ut,"repeatDelay",B),u(ut,"flipX",Y),u(ut,"flipY",$),At,At?ut:null)}},k=new v(S,M),N=0;N<w.length;N++)for(var H=w[N].key,X=w[N].value,K=0;K<M.length;K++)"scale"!==H||M[K].hasOwnProperty("scale")?W(k,K,H,X):(W(k,K,"scaleX",X),W(k,K,"scaleY",X));k.completeDelay=h(b,"completeDelay",0),k.loop=Math.round(h(b,"loop",0)),k.loopDelay=Math.round(h(b,"loopDelay",0)),k.paused=u(b,"paused",!1),k.persist=u(b,"persist",!1),k.callbackScope=c(b,"callbackScope",k);for(var Q=m.TYPES,q=0;q<Q.length;q++){var _=Q[q],nt=c(b,_,!1);if(nt){var st=c(b,_+"Params",[]);k.setCallback(_,nt,st)}}return k}},26012:(T,A,i)=>{var m=i(70402),x=i(23568),h=i(57355),u=i(62329),l=i(35154),s=i(8357),o=i(43960);T.exports=function(a,c){if(c instanceof o)return c.parent=a,c;var p=new o(a);p.startDelay=l(c,"delay",0),p.completeDelay=x(c,"completeDelay",0),p.loop=Math.round(x(c,"loop",l(c,"repeat",0))),p.loopDelay=Math.round(x(c,"loopDelay",l(c,"repeatDelay",0))),p.paused=h(c,"paused",!1),p.persist=h(c,"persist",!1),p.callbackScope=l(c,"callbackScope",p);var d,v=m.TYPES;for(d=0;d<v.length;d++){var y=v[d],S=l(c,y,!1);if(S){var b=l(c,y+"Params",[]);p.setCallback(y,S,b)}}var C=l(c,"tweens",null);if(Array.isArray(C)){var M=[],w=u(c),R=void 0;for(w&&(R={targets:w}),d=0;d<C.length;d++)M.push(s(p,C[d],R));p.add(M)}return p}},30231:(T,A,i)=>{T.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:T=>{T.exports="active"},98540:T=>{T.exports="complete"},67233:T=>{T.exports="loop"},2859:T=>{T.exports="pause"},98336:T=>{T.exports="repeat"},25764:T=>{T.exports="resume"},32193:T=>{T.exports="start"},84371:T=>{T.exports="stop"},70766:T=>{T.exports="update"},55659:T=>{T.exports="yoyo"},842:(T,A,i)=>{T.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(T,A,i)=>{var m={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};T.exports=m},70402:(T,A,i)=>{var m=i(83419),x=i(50792),h=i(842),u=i(86353),l=new m({Extends:x,initialize:function(o){x.call(this),this.parent=o,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.persist=!1},setTimeScale:function(s){return this.timeScale=s,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(h.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(h.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(h.TWEEN_COMPLETE,"onComplete")},complete:function(s){return void 0===s&&(s=0),s?(this.setCompleteDelayState(),this.countdown=s):this.onCompleteHandler(),this},completeAfterLoop:function(s){return void 0===s&&(s=0),this.loopCounter>s&&(this.loopCounter=s),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(h.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(s){this.countdown-=s,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(s){return this.countdown-=s,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(h.TWEEN_START,"onStart"),s=0),s},updateCompleteDelay:function(s){this.countdown-=s,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(s,o,f){return void 0===f&&(f=[]),this.callbacks.hasOwnProperty(s)&&(this.callbacks[s]={func:o,params:f}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(s){s.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],T.exports=l},95042:(T,A,i)=>{var m=i(83419),x=i(842),h=i(86353),u=new m({initialize:function(s,o,f,a,c,p,d,v,y,S){this.tween=s,this.targetIndex=o,this.duration=a,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=c,this.hold=p,this.repeat=d,this.repeatDelay=v,this.repeatCounter=0,this.flipX=y,this.flipY=S,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){void 0===l&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=h.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=h.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=h.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=h.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=h.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=h.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=h.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=h.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===h.CREATED},isDelayed:function(){return this.state===h.DELAY},isPendingRender:function(){return this.state===h.PENDING_RENDER},isPlayingForward:function(){return this.state===h.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===h.PLAYING_BACKWARD},isHolding:function(){return this.state===h.HOLD_DELAY},isRepeating:function(){return this.state===h.REPEAT_DELAY},isComplete:function(){return this.state===h.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,s=l.totalTargets,o=this.targetIndex,f=l.targets[o],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,a,0,o,s,l),this.repeatCounter=-1===this.repeat?h.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var p=c+this.repeatDelay;this.totalDuration=this.delay+c,-1===this.repeat?(this.totalDuration+=p*h.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,s,o){var f=this.tween,a=f.totalTargets,c=this.targetIndex,p=f.targets[c],d=this.key,v="texture"!==d;if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),v&&(s||o)&&(this.start=this.getStartValue(p,d,this.start,c,a,f)),o)return this.setPlayingBackwardState(),void this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");this.repeatCounter--,v&&(this.end=this.getEndValue(p,d,this.start,c,a,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,v&&(this.current=this.start,p[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});T.exports=u},69902:T=>{T.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:T=>{T.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(T,A,i)=>{var m=i(70402),x=i(83419),h=i(842),u=i(44603),l=i(39429),s=i(36383),o=i(86353),f=i(48177),a=i(42220),c=new x({Extends:m,initialize:function(d,v){m.call(this,d),this.targets=v,this.totalTargets=v.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(p,d,v,y,S,b,C,M,w,R,I,L,F,G,z,B){var V=new f(this,p,d,v,y,S,b,C,M,w,R,I,L,F,G,z,B);return this.totalData=this.data.push(V),V},addFrame:function(p,d,v,y,S,b,C,M,w,R){var I=new a(this,p,d,v,y,S,b,C,M,w,R);return this.totalData=this.data.push(I),I},getValue:function(p){void 0===p&&(p=0);var d=null;return this.data&&(d=this.data[p].current),d},hasTarget:function(p){return this.targets&&-1!==this.targets.indexOf(p)},updateTo:function(p,d,v){if(void 0===v&&(v=!1),"texture"!==p)for(var y=0;y<this.totalData;y++){var S=this.data[y];S.key===p&&(S.isPlayingForward()||S.isPlayingBackward())&&(S.end=d,v&&(S.start=S.current))}return this},restart:function(){switch(this.state){case o.REMOVED:case o.FINISHED:this.seek(),this.parent.makeActive(this);break;case o.PENDING:case o.PENDING_REMOVE:this.parent.reset(this);break;case o.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,m.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,d,v){if(void 0===p&&(p=0),void 0===d&&(d=16.6),void 0===v&&(v=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;v||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive");var y=this.paused;if(this.paused=!1,p>0){for(var S=Math.floor(p/d),b=p-S*d,C=0;C<S;C++)this.update(d);b>0&&this.update(b)}return this.paused=y,this.isSeeking=!1,this},initTweenData:function(p){void 0===p&&(p=!1),this.duration=0,this.startDelay=s.MAX_SAFE_INTEGER;for(var d=this.data,v=0;v<this.totalData;v++)d[v].reset(p);this.duration=Math.max(this.duration,.01);var y=this.duration,S=this.completeDelay,b=this.loopCounter;this.totalDuration=b>0?y+S+(y+this.loopDelay)*b:y+S},reset:function(p){return void 0===p&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=o.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),p=0));var d=!1;if(this.isActive())for(var v=this.data,y=0;y<this.totalData;y++)v[y].update(p)&&(d=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var S=this.isPendingRemove();return S&&this.persist&&(this.setFinishedState(),S=!1),S},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,d){if(!this.isSeeking){this.emit(p,this,this.targets);var v=this.callbacks[d];v&&v.func.apply(this.callbackScope,[this,this.targets].concat(v.params))}},destroy:function(){m.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(p){return this.scene.sys.tweens.add(p)}),u.register("tween",function(p){return this.scene.sys.tweens.create(p)}),T.exports=c},43960:(T,A,i)=>{var m=i(72905),x=i(70402),h=i(83419),u=i(842),l=i(44603),s=i(39429),o=i(86353),f=new h({Extends:x,initialize:function(c){x.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?o.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(u.TWEEN_ACTIVE,"onActive"),this},add:function(a){var c=this.parent.create(a);Array.isArray(c)||(c=[c]);for(var p=this.data,d=0;d<c.length;d++){var v=c[d];v.parent=this,p.push(v.reset())}return this.totalData=p.length,this},remove:function(a){return m(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var c=this.data,p=0;p<this.totalData;p++)if(c[p].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,c=this.totalData,p=0;p<c;p++)a[p].reset(!1);this.currentIndex=0,this.currentTween=a[0]},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;a*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(a):this.isCompleteDelayed()?this.updateCompleteDelay(a):this.isStartDelayed()&&(a=this.updateStartCountdown(a));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),(c=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(u.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(a,c){this.emit(a,this);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});s.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),l.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),T.exports=f},48177:(T,A,i)=>{var m=i(95042),x=i(45319),h=i(83419),u=i(842),l=new h({Extends:m,initialize:function(o,f,a,c,p,d,v,y,S,b,C,M,w,R,I,L,F){m.call(this,o,f,y,S,b,C,M,w,R,I),this.key=a,this.getActiveValue=d,this.getEndValue=c,this.getStartValue=p,this.ease=v,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=F},reset:function(s){m.prototype.reset.call(this);var o=this.tween.targets[this.targetIndex],f=this.key;s&&(o[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(o[f]=this.getActiveValue(o,f,0))},update:function(s){var o=this.tween,f=o.totalTargets,a=this.targetIndex,c=o.targets[a],p=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=s,this.elapsed<=0&&(this.elapsed=0,s=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,p,c[p],a,f,o),this.end=this.getEndValue(c,p,this.start,a,f,o),this.current=this.start,c[p]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),v=this.isPlayingBackward();if(d||v){var y=this.elapsed,S=this.duration,b=0,C=!1;(y+=s)>=S?(b=y-S,y=S,C=!0):y<0&&(y=0);var M=x(y/S,0,1);if(this.elapsed=y,this.progress=M,this.previous=this.current,C)d?(this.current=this.end,c[p]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(b)):(this.current=this.start,c[p]=this.start,this.setStateFromStart(b));else{d||(M=1-M);var w=this.ease(M);this.current=this.interpolation?this.interpolation(this.interpolationData,w):this.start+(this.end-this.start)*w,c[p]=this.current}this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(s,o){var f=this.tween;if(!f.isSeeking){var a=f.targets[this.targetIndex],c=this.key,p=this.current,d=this.previous;f.emit(s,f,c,a,p,d);var v=f.callbacks[o];v&&v.func.apply(f.callbackScope,[f,a,c,p,d].concat(v.params))}},destroy:function(){m.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});T.exports=l},42220:(T,A,i)=>{var m=i(95042),x=i(45319),h=i(83419),u=i(842),l=new h({Extends:m,initialize:function(o,f,a,c,p,d,v,y,S,b,C){m.call(this,o,f,p,d,!1,v,y,S,b,C),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=c,this.yoyo=0!==y},reset:function(s){m.prototype.reset.call(this);var o=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=o.texture.key,this.startFrame=o.frame.name),s&&o.setTexture(this.startTexture,this.startFrame)},update:function(s){var a=this.tween.targets[this.targetIndex];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=s,this.elapsed<=0&&(this.elapsed=0,s=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var d=this.elapsed,v=this.duration,y=0,S=!1;(d+=s)>=v?(y=d-v,d=v,S=!0):d<0&&(d=0);var b=x(d/v,0,1);this.elapsed=d,this.progress=b,S&&(c?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(y))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(s,o){var f=this.tween;if(!f.isSeeking){var a=f.targets[this.targetIndex],c=this.key;f.emit(s,f,c,a);var p=f.callbacks[o];p&&p.func.apply(f.callbackScope,[f,a,c].concat(p.params))}},destroy:function(){m.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});T.exports=l},86353:T=>{T.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:T=>{function i(l,s,o){var f=o?l[s]:Object.getOwnPropertyDescriptor(l,s);return!o&&f.value&&"object"==typeof f.value&&(f=f.value),!(!f||!function A(l){return!!l.get&&"function"==typeof l.get||!!l.set&&"function"==typeof l.set}(f))&&(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f)}function m(l,s){var o=Object.getOwnPropertyDescriptor(l,s);return!!o&&(o.value&&"object"==typeof o.value&&(o=o.value),!1===o.configurable)}function x(l,s,o,f){for(var a in s)if(s.hasOwnProperty(a)){var c=i(s,a,o);if(!1!==c){if(m((f||l).prototype,a)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,a,c)}else l.prototype[a]=s[a]}}function h(l,s){if(s){Array.isArray(s)||(s=[s]);for(var o=0;o<s.length;o++)x(l,s[o].prototype||s[o])}}function u(l){var s,o;if(l||(l={}),l.initialize){if("function"!=typeof l.initialize)throw new Error("initialize must be a function");s=l.initialize,delete l.initialize}else if(l.Extends){var f=l.Extends;s=function(){f.apply(this,arguments)}}else s=function(){};l.Extends?(s.prototype=Object.create(l.Extends.prototype),s.prototype.constructor=s,o=l.Extends,delete l.Extends):s.prototype.constructor=s;var a=null;return l.Mixins&&(a=l.Mixins,delete l.Mixins),h(s,a),x(s,l,!0,o),s}u.extend=x,u.mixin=h,u.ignoreFinals=!1,T.exports=u},29747:T=>{T.exports=function(){}},20242:T=>{T.exports=function(){return null}},71146:T=>{T.exports=function(i,m,x,h,u){if(void 0===u&&(u=i),x>0){var l=x-i.length;if(l<=0)return null}if(!Array.isArray(m))return-1===i.indexOf(m)?(i.push(m),h&&h.call(u,m),m):null;for(var s=m.length-1;s>=0;)-1!==i.indexOf(m[s])&&m.splice(s,1),s--;if(0===(s=m.length))return null;x>0&&s>l&&(m.splice(l),s=l);for(var o=0;o<s;o++){var f=m[o];i.push(f),h&&h.call(u,f)}return m}},51067:T=>{T.exports=function(i,m,x,h,u,l){if(void 0===x&&(x=0),void 0===l&&(l=i),h>0){var s=h-i.length;if(s<=0)return null}if(!Array.isArray(m))return-1===i.indexOf(m)?(i.splice(x,0,m),u&&u.call(l,m),m):null;for(var o=m.length-1;o>=0;)-1!==i.indexOf(m[o])&&m.pop(),o--;if(0===(o=m.length))return null;h>0&&o>s&&(m.splice(s),o=s);for(var f=o-1;f>=0;f--){var a=m[f];i.splice(x,0,a),u&&u.call(l,a)}return m}},66905:T=>{T.exports=function(i,m){var x=i.indexOf(m);return-1!==x&&x<i.length&&(i.splice(x,1),i.push(m)),m}},21612:(T,A,i)=>{var m=i(82011);T.exports=function(h,u,l,s,o){void 0===s&&(s=0),void 0===o&&(o=h.length);var f=0;if(m(h,s,o))for(var a=s;a<o;a++)h[a][u]===l&&f++;return f}},95428:T=>{T.exports=function(i,m,x){var h,u=[null];for(h=3;h<arguments.length;h++)u.push(arguments[h]);for(h=0;h<i.length;h++)u[0]=i[h],m.apply(x,u);return i}},36914:(T,A,i)=>{var m=i(82011);T.exports=function(h,u,l,s,o){if(void 0===s&&(s=0),void 0===o&&(o=h.length),m(h,s,o)){var f,a=[null];for(f=5;f<arguments.length;f++)a.push(arguments[f]);for(f=s;f<o;f++)a[0]=h[f],u.apply(l,a)}return h}},81957:T=>{T.exports=function(i,m,x){if(!m.length)return NaN;if(1===m.length)return m[0];var u,l,h=1;if(x){if(i<m[0][x])return m[0];for(;m[h][x]<i;)h++}else for(;m[h]<i;)h++;return h>m.length&&(h=m.length),x?(l=m[h][x])-i<=i-(u=m[h-1][x])?m[h]:m[h-1]:(l=m[h])-i<=i-(u=m[h-1])?l:u}},43491:T=>{var A=function(i,m){void 0===m&&(m=[]);for(var x=0;x<i.length;x++)Array.isArray(i[x])?A(i[x],m):m.push(i[x]);return m};T.exports=A},46710:(T,A,i)=>{var m=i(82011);T.exports=function(h,u,l,s,o){void 0===s&&(s=0),void 0===o&&(o=h.length);var f=[];if(m(h,s,o))for(var a=s;a<o;a++){var c=h[a];(!u||u&&void 0===l&&c.hasOwnProperty(u)||u&&void 0!==l&&c[u]===l)&&f.push(c)}return f}},58731:(T,A,i)=>{var m=i(82011);T.exports=function(h,u,l,s,o){if(void 0===s&&(s=0),void 0===o&&(o=h.length),m(h,s,o))for(var f=s;f<o;f++){var a=h[f];if(!u||u&&void 0===l&&a.hasOwnProperty(u)||u&&void 0!==l&&a[u]===l)return a}return null}},26546:T=>{T.exports=function(i,m,x){void 0===m&&(m=0),void 0===x&&(x=i.length);var h=m+Math.floor(Math.random()*x);return void 0===i[h]?null:i[h]}},85835:T=>{T.exports=function(i,m,x){if(m===x)return i;var h=i.indexOf(m),u=i.indexOf(x);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return h>u||(i.splice(h,1),u===i.length-1?i.push(m):i.splice(u,0,m)),i}},83371:T=>{T.exports=function(i,m,x){if(m===x)return i;var h=i.indexOf(m),u=i.indexOf(x);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return h<u||(i.splice(h,1),0===u?i.unshift(m):i.splice(u,0,m)),i}},70864:T=>{T.exports=function(i,m){var x=i.indexOf(m);if(x>0){var h=i[x-1],u=i.indexOf(h);i[x]=h,i[u]=m}return i}},69693:T=>{T.exports=function(i,m,x){var h=i.indexOf(m);if(-1===h||x<0||x>=i.length)throw new Error("Supplied index out of bounds");return h!==x&&(i.splice(h,1),i.splice(x,0,m)),m}},40853:T=>{T.exports=function(i,m){var x=i.indexOf(m);if(-1!==x&&x<i.length-1){var h=i[x+1],u=i.indexOf(h);i[x]=h,i[u]=m}return i}},20283:T=>{T.exports=function(i,m,x,h){var l,u=[],s=!1;if((x||h)&&(s=!0,x||(x=""),h||(h="")),m<i)for(l=i;l>=m;l--)u.push(s?x+l.toString()+h:l);else for(l=i;l<=m;l++)u.push(s?x+l.toString()+h:l);return u}},593:(T,A,i)=>{var m=i(2284);T.exports=function(h,u,l){void 0===h&&(h=0),void 0===u&&(u=null),void 0===l&&(l=1),null===u&&(u=h,h=0);for(var s=[],o=Math.max(m((u-h)/(l||1)),0),f=0;f<o;f++)s.push(h),h+=l;return s}},43886:T=>{function A(x,h,u){var l=x[h];x[h]=x[u],x[u]=l}function i(x,h){return x<h?-1:x>h?1:0}var m=function(x,h,u,l,s){for(void 0===u&&(u=0),void 0===l&&(l=x.length-1),void 0===s&&(s=i);l>u;){if(l-u>600){var o=l-u+1,f=h-u+1,a=Math.log(o),c=.5*Math.exp(2*a/3),p=.5*Math.sqrt(a*c*(o-c)/o)*(f-o/2<0?-1:1),d=Math.max(u,Math.floor(h-f*c/o+p)),v=Math.min(l,Math.floor(h+(o-f)*c/o+p));m(x,h,d,v,s)}var y=x[h],S=u,b=l;for(A(x,u,h),s(x[l],y)>0&&A(x,u,l);S<b;){for(A(x,S,b),S++,b--;s(x[S],y)<0;)S++;for(;s(x[b],y)>0;)b--}0===s(x[u],y)?A(x,u,b):A(x,++b,l),b<=h&&(u=b+1),h<=b&&(l=b-1)}};T.exports=m},88492:(T,A,i)=>{var m=i(35154),x=i(33680),h=function(l,s,o){for(var f=[],a=0;a<l.length;a++)for(var c=0;c<s.length;c++)for(var p=0;p<o;p++)f.push({a:l[a],b:s[c]});return f};T.exports=function(l,s,o){var f=m(o,"max",0),a=m(o,"qty",1),c=m(o,"random",!1),p=m(o,"randomB",!1),d=m(o,"repeat",0),v=m(o,"yoyo",!1),y=[];if(p&&x(s),-1===d)if(0===f)d=0;else{var S=l.length*s.length*a;v&&(S*=2),d=Math.ceil(f/S)}for(var b=0;b<=d;b++){var C=h(l,s,a);c&&x(C),y=y.concat(C),v&&(C.reverse(),y=y.concat(C))}return f&&y.splice(f),y}},72905:(T,A,i)=>{var m=i(19133);T.exports=function(h,u,l,s){var o;if(void 0===s&&(s=h),!Array.isArray(u))return-1!==(o=h.indexOf(u))?(m(h,o),l&&l.call(s,u),u):null;for(var f=u.length-1,a=[];f>=0;){var c=u[f];-1!==(o=h.indexOf(c))&&(m(h,o),a.push(c),l&&l.call(s,c)),f--}return a}},60248:(T,A,i)=>{var m=i(19133);T.exports=function(h,u,l,s){if(void 0===s&&(s=h),u<0||u>h.length-1)throw new Error("Index out of bounds");var o=m(h,u);return l&&l.call(s,o),o}},81409:(T,A,i)=>{var m=i(82011);T.exports=function(h,u,l,s,o){if(void 0===u&&(u=0),void 0===l&&(l=h.length),void 0===o&&(o=h),m(h,u,l)){var a=h.splice(u,l-u);if(s)for(var c=0;c<a.length;c++)s.call(o,a[c]);return a}return[]}},31856:(T,A,i)=>{var m=i(19133);T.exports=function(h,u,l){void 0===u&&(u=0),void 0===l&&(l=h.length);var s=u+Math.floor(Math.random()*l);return m(h,s)}},42169:T=>{T.exports=function(i,m,x){var h=i.indexOf(m),u=i.indexOf(x);return-1!==h&&-1===u&&(i[h]=x,!0)}},86003:T=>{T.exports=function(i,m){void 0===m&&(m=1);for(var x=null,h=0;h<m;h++)x=i.shift(),i.push(x);return x}},49498:T=>{T.exports=function(i,m){void 0===m&&(m=1);for(var x=null,h=0;h<m;h++)x=i.pop(),i.unshift(x);return x}},82011:T=>{T.exports=function(i,m,x,h){var u=i.length;if(m<0||m>u||m>=x||x>u){if(h)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:T=>{T.exports=function(i,m){var x=i.indexOf(m);return-1!==x&&x>0&&(i.splice(x,1),i.unshift(m)),m}},17810:(T,A,i)=>{var m=i(82011);T.exports=function(h,u,l,s,o){if(void 0===s&&(s=0),void 0===o&&(o=h.length),m(h,s,o))for(var f=s;f<o;f++){var a=h[f];a.hasOwnProperty(u)&&(a[u]=l)}return h}},33680:T=>{T.exports=function(i){for(var m=i.length-1;m>0;m--){var x=Math.floor(Math.random()*(m+1)),h=i[m];i[m]=i[x],i[x]=h}return i}},90126:T=>{T.exports=function(i){var m=/\D/g;return i.sort(function(x,h){return parseInt(x.replace(m,""),10)-parseInt(h.replace(m,""),10)}),i}},19133:T=>{T.exports=function(i,m){if(!(m>=i.length)){for(var x=i.length-1,h=i[m],u=m;u<x;u++)i[u]=i[u+1];return i.length=x,h}}},19186:(T,A,i)=>{var m=i(82264);function x(s,o){return String(s).localeCompare(o)}function u(s,o,f,a){var v,y,S,b,C,c=s.length,p=0,d=2*f;for(v=0;v<c;v+=d)for(S=(y=v+f)+f,y>c&&(y=c),S>c&&(S=c),b=v,C=y;;)if(b<y&&C<S)o(s[b],s[C])<=0?a[p++]=s[b++]:a[p++]=s[C++];else if(b<y)a[p++]=s[b++];else{if(!(C<S))break;a[p++]=s[C++]}}T.exports=function(s,o){if(void 0===o&&(o=x),!s||s.length<2)return s;if(m.features.stableSort)return s.sort(o);var f=function h(s,o){var f=s.length;if(f<=1)return s;for(var a=new Array(f),c=1;c<f;c*=2){u(s,o,c,a);var p=s;s=a,a=p}return s}(s,o);return f!==s&&u(f,null,s.length,s),s}},25630:T=>{T.exports=function(i,m,x){if(m===x)return i;var h=i.indexOf(m),u=i.indexOf(x);if(h<0||u<0)throw new Error("Supplied items must be elements of the same array");return i[h]=x,i[u]=m,i}},37105:(T,A,i)=>{T.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:T=>{T.exports=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var m=i[0].length,x=1;x<i.length;x++)if(i[x].length!==m)return!1;return!0}},63362:(T,A,i)=>{var m=i(41836),x=i(86922);T.exports=function(u){var l="";if(!x(u))return l;for(var s=0;s<u.length;s++){for(var o=0;o<u[s].length;o++){var f=u[s][o].toString();l+="undefined"!==f?m(f,2):"?",o<u[s].length-1&&(l+=" |")}if(s<u.length-1){l+="\n";for(var a=0;a<u[s].length;a++)l+="---",a<u[s].length-1&&(l+="+");l+="\n"}}return l}},92598:T=>{T.exports=function(i){return i.reverse()}},21224:T=>{T.exports=function(i){for(var m=0;m<i.length;m++)i[m].reverse();return i}},98717:(T,A,i)=>{var m=i(37829);T.exports=function(h){return m(h,180)}},44657:(T,A,i)=>{var m=i(37829);T.exports=function(h,u){void 0===u&&(u=1);for(var l=0;l<u;l++)h=m(h,90);return h}},37829:(T,A,i)=>{var m=i(86922),x=i(2429);T.exports=function(u,l){if(void 0===l&&(l=90),!m(u))return null;if("string"!=typeof l&&(l=(l%360+360)%360),90===l||-270===l||"rotateLeft"===l)(u=x(u)).reverse();else if(-90===l||270===l||"rotateRight"===l)u.reverse(),u=x(u);else if(180===Math.abs(l)||"rotate180"===l){for(var s=0;s<u.length;s++)u[s].reverse();u.reverse()}return u}},92632:(T,A,i)=>{var m=i(37829);T.exports=function(h,u){void 0===u&&(u=1);for(var l=0;l<u;l++)h=m(h,-90);return h}},69512:(T,A,i)=>{var m=i(86003),x=i(49498);T.exports=function(u,l,s){if(void 0===l&&(l=0),void 0===s&&(s=0),0!==s&&(s<0?m(u,Math.abs(s)):x(u,s)),0!==l)for(var o=0;o<u.length;o++){var f=u[o];l<0?m(f,Math.abs(l)):x(f,l)}return u}},2429:T=>{T.exports=function(i){for(var m=i.length,x=i[0].length,h=new Array(x),u=0;u<x;u++){h[u]=new Array(m);for(var l=m-1;l>-1;l--)h[u][l]=i[l][u]}return h}},54915:(T,A,i)=>{T.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:T=>{var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";T.exports=function(m,x){for(var h=new Uint8Array(m),u=h.length,l=x?"data:"+x+";base64,":"",s=0;s<u;s+=3)l+=A[h[s]>>2],l+=A[(3&h[s])<<4|h[s+1]>>4],l+=A[(15&h[s+1])<<2|h[s+2]>>6],l+=A[63&h[s+2]];return u%3==2?l=l.substring(0,l.length-1)+"=":u%3==1&&(l=l.substring(0,l.length-2)+"=="),l}},53134:T=>{for(var i=new Uint8Array(256),m=0;m<64;m++)i["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(m)]=m;T.exports=function(h){var o,f,a,c,u=(h=h.substr(h.indexOf(",")+1)).length,l=.75*u,s=0;"="===h[u-1]&&(l--,"="===h[u-2]&&l--);for(var p=new ArrayBuffer(l),d=new Uint8Array(p),v=0;v<u;v+=4)o=i[h.charCodeAt(v)],f=i[h.charCodeAt(v+1)],a=i[h.charCodeAt(v+2)],c=i[h.charCodeAt(v+3)],d[s++]=o<<2|f>>4,d[s++]=(15&f)<<4|a>>2,d[s++]=(3&a)<<6|63&c;return p}},65839:(T,A,i)=>{T.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(T,A,i)=>{T.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:T=>{T.exports=function(i){var m={};for(var x in i)m[x]=Array.isArray(i[x])?i[x].slice(0):i[x];return m}},62644:T=>{var A=function(i){var m,h;if("object"!=typeof i||null===i)return i;for(h in m=Array.isArray(i)?[]:{},i)m[h]=A(i[h]);return m};T.exports=A},79291:(T,A,i)=>{var m=i(41212),x=function(){var h,u,l,s,o,f,a=arguments[0]||{},c=1,p=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[1]||{},c=2),p===c&&(a=this,--c);c<p;c++)if(null!=(h=arguments[c]))for(u in h)l=a[u],a!==(s=h[u])&&(d&&s&&(m(s)||(o=Array.isArray(s)))?(o?(o=!1,f=l&&Array.isArray(l)?l:[]):f=l&&m(l)?l:{},a[u]=x(d,f,s)):void 0!==s&&(a[u]=s));return a};T.exports=x},23568:(T,A,i)=>{var m=i(75508),x=i(35154);T.exports=function(u,l,s){var o=x(u,l,null);if(null===o)return s;if(Array.isArray(o))return m.RND.pick(o);if("object"==typeof o){if(o.hasOwnProperty("randInt"))return m.RND.integerInRange(o.randInt[0],o.randInt[1]);if(o.hasOwnProperty("randFloat"))return m.RND.realInRange(o.randFloat[0],o.randFloat[1])}else if("function"==typeof o)return o(l);return o}},95540:T=>{T.exports=function(i,m,x){var h=typeof i;return i&&"number"!==h&&"string"!==h&&i.hasOwnProperty(m)&&void 0!==i[m]?i[m]:x}},82840:(T,A,i)=>{var m=i(35154),x=i(45319);T.exports=function(u,l,s,o,f){void 0===f&&(f=s);var a=m(u,l,f);return x(a,s,o)}},35154:T=>{T.exports=function(i,m,x,h){if(!i&&!h||"number"==typeof i)return x;if(i&&i.hasOwnProperty(m))return i[m];if(h&&h.hasOwnProperty(m))return h[m];if(-1!==m.indexOf(".")){for(var u=m.split("."),l=i,s=h,o=x,f=x,a=!0,c=!0,p=0;p<u.length;p++)l&&l.hasOwnProperty(u[p])?(o=l[u[p]],l=l[u[p]]):a=!1,s&&s.hasOwnProperty(u[p])?(f=s[u[p]],s=s[u[p]]):c=!1;return a?o:c?f:x}return x}},69036:T=>{T.exports=function(i,m){for(var x=0;x<m.length;x++)if(!i.hasOwnProperty(m[x]))return!1;return!0}},1985:T=>{T.exports=function(i,m){for(var x=0;x<m.length;x++)if(i.hasOwnProperty(m[x]))return!0;return!1}},97022:T=>{T.exports=function(i,m){return i.hasOwnProperty(m)}},41212:T=>{T.exports=function(i){if(!i||"object"!=typeof i||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0}},46975:(T,A,i)=>{var m=i(41786);T.exports=function(h,u){var l=m(h);for(var s in u)l.hasOwnProperty(s)||(l[s]=u[s]);return l}},269:(T,A,i)=>{var m=i(41786);T.exports=function(h,u){var l=m(h);for(var s in u)l.hasOwnProperty(s)&&(l[s]=u[s]);return l}},18254:(T,A,i)=>{var m=i(97022);T.exports=function(h,u){for(var l={},s=0;s<u.length;s++){var o=u[s];m(h,o)&&(l[o]=h[o])}return l}},61622:T=>{T.exports=function(i,m,x){if(!i||"number"==typeof i)return!1;if(i.hasOwnProperty(m))return i[m]=x,!0;if(-1!==m.indexOf(".")){for(var h=m.split("."),u=i,l=i,s=0;s<h.length;s++){if(!u.hasOwnProperty(h[s]))return!1;l=u,u=u[h[s]]}return l[h[h.length-1]]=x,!0}return!1}},1183:(T,A,i)=>{T.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:T=>{T.exports=function(i,m){return i.replace(/%([0-9]+)/g,function(x,h){return m[Number(h)-1]})}},41836:T=>{T.exports=function(i,m,x,h){void 0===m&&(m=0),void 0===x&&(x=" "),void 0===h&&(h=3);var u=0;if(m+1>=(i=i.toString()).length)switch(h){case 1:i=new Array(m+1-i.length).join(x)+i;break;case 3:var l=Math.ceil((u=m-i.length)/2);i=new Array(u-l+1).join(x)+i+new Array(l+1).join(x);break;default:i+=new Array(m+1-i.length).join(x)}return i}},33628:T=>{T.exports=function(i,m){return 0===m?i.slice(1):i.slice(0,m-1)+i.slice(m)}},27671:T=>{T.exports=function(i){return i.split("").reverse().join("")}},45650:T=>{T.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var m=16*Math.random()|0;return("x"===i?m:3&m|8).toString(16)})}},35355:T=>{T.exports=function(i){return i&&i[0].toUpperCase()+i.slice(1)}},31749:(T,A,i)=>{T.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},zr={};function wn(T){var A=zr[T];if(void 0!==A)return A.exports;var i=zr[T]={exports:{}};return ja[T](i,i.exports,wn),i.exports}return wn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),wn(85454)})(),ka.exports=wn()}},ka=>{ka(ka.s=580)}]);